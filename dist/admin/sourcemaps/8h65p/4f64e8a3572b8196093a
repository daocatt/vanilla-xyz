{"version":3,"sources":["webpack://vanilla-admin/./library/src/scripts/styles/styleUnit.ts","webpack://vanilla-admin/./library/src/scripts/styles/ColorsUtils.ts","webpack://vanilla-admin/./library/src/scripts/utility/appUtils.tsx","webpack://vanilla-admin/./library/src/scripts/styles/Mixins.ts","webpack://vanilla-admin/./library/src/scripts/styles/themeCache.ts","webpack://vanilla-admin/./library/src/scripts/styles/globalStyleVars.ts","webpack://vanilla-admin/./library/src/scripts/theming/getThemeVariables.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleUtils.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpers.ts","webpack://vanilla-admin/./library/src/scripts/@types/api/core.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleShim.ts","webpack://vanilla-admin/./library/src/scripts/icons/iconStyles.ts","webpack://vanilla-admin/./library/src/scripts/forms/buttonTypes.ts","webpack://vanilla-admin/./library/src/scripts/redux/ReduxActions.ts","webpack://vanilla-admin/./library/src/scripts/icons/common.tsx","webpack://vanilla-admin/./library/src/scripts/utility/idUtils.ts","webpack://vanilla-admin/./library/src/scripts/styles/Variables.ts","webpack://vanilla-admin/./library/src/scripts/forms/borderStylesCalculator.ts","webpack://vanilla-admin/./library/src/scripts/forms/formElementStyles.ts","webpack://vanilla-admin/./library/src/scripts/theming/ThemeActions.ts","webpack://vanilla-admin/./library/src/scripts/headers/titleBarStyles.ts","webpack://vanilla-admin/./library/src/scripts/forms/Button.tsx","webpack://vanilla-admin/./library/src/scripts/layout/PanelBackground.variables.ts","webpack://vanilla-admin/./library/src/scripts/layout/panelLayoutStyles.ts","webpack://vanilla-admin/./library/src/scripts/layout/types/interface.layoutTypes.ts","webpack://vanilla-admin/./library/src/scripts/modal/ModalSizes.ts","webpack://vanilla-admin/./library/src/scripts/embeddedContent/components/EmbedContent.tsx","webpack://vanilla-admin/./library/src/scripts/forms/select/overwrites.tsx","webpack://vanilla-admin/./library/src/scripts/routing/links/SmartLink.tsx","webpack://vanilla-admin/./library/src/scripts/styles/shadowHelpers.ts","webpack://vanilla-admin/./library/src/scripts/apiv2.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersBorders.ts","webpack://vanilla-admin/./library/src/scripts/embeddedContent/components/EmbedContainer.tsx","webpack://vanilla-admin/./library/src/scripts/flyouts/dropDownStyles.ts","webpack://vanilla-admin/./library/src/scripts/forms/buttonMixins.ts","webpack://vanilla-admin/./library/src/scripts/forms/ErrorMessages.tsx","webpack://vanilla-admin/./library/src/scripts/forms/InputBlockStyles.tsx","webpack://vanilla-admin/./library/src/scripts/redux/getStore.ts","webpack://vanilla-admin/./library/src/scripts/search/SearchActions.ts","webpack://vanilla-admin/./library/src/scripts/forms/inputStyles.ts","webpack://vanilla-admin/./library/src/scripts/forms/ButtonPreset.ts","webpack://vanilla-admin/./library/src/scripts/layout/Paragraph.tsx","webpack://vanilla-admin/./library/src/scripts/layout/ScreenReaderContent.tsx","webpack://vanilla-admin/./library/src/scripts/utility/componentRegistry.tsx","webpack://vanilla-admin/./library/src/scripts/search/searchConstants.ts","webpack://vanilla-admin/./library/src/scripts/styles/tagStyles.ts","webpack://vanilla-admin/./library/src/scripts/styles/metasStyles.ts","webpack://vanilla-admin/./library/src/scripts/forms/buttonStyles.ts","webpack://vanilla-admin/./library/src/scripts/headers/LogoAlignment.ts","webpack://vanilla-admin/./library/src/scripts/headers/TitleBar.variables.ts","webpack://vanilla-admin/./library/src/scripts/styles/cssUtilsTypes.ts","webpack://vanilla-admin/./library/src/scripts/forms/styleHelperButtonGenerator.ts","webpack://vanilla-admin/./library/src/scripts/styles/textUtils.ts","webpack://vanilla-admin/./library/src/scripts/search/SearchService.tsx","webpack://vanilla-admin/./library/src/scripts/loaders/loadingRectangleStyles.ts","webpack://vanilla-admin/./library/src/scripts/loaders/LoadingRectangle.tsx","webpack://vanilla-admin/./library/src/scripts/forms/checkRadioStyles.ts","webpack://vanilla-admin/./library/src/scripts/embeddedContent/IEmbedContext.tsx","webpack://vanilla-admin/./library/src/scripts/layout/ConditionalWrap.tsx","webpack://vanilla-admin/./library/src/scripts/navigation/CloseButton.tsx","webpack://vanilla-admin/./library/src/scripts/layout/frame/FrameHeader.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/components/EmbedContainerSize.tsx","webpack://vanilla-admin/./library/src/scripts/locales/localeReducer.ts","webpack://vanilla-admin/./library/src/scripts/features/notifications/NotificationsModel.ts","webpack://vanilla-admin/./library/src/scripts/features/conversations/ConversationsActions.ts","webpack://vanilla-admin/./library/src/scripts/features/conversations/ConversationsModel.ts","webpack://vanilla-admin/./library/src/scripts/features/tags/TagsAction.tsx","webpack://vanilla-admin/./library/src/scripts/features/tags/TagsReducer.tsx","webpack://vanilla-admin/./library/src/scripts/features/discussions/DiscussionActions.ts","webpack://vanilla-admin/./library/src/scripts/features/discussions/discussionModel.ts","webpack://vanilla-admin/./library/src/scripts/redux/reducerRegistry.ts","webpack://vanilla-admin/./library/src/scripts/forms/Button.variables.ts","webpack://vanilla-admin/./library/src/scripts/layout/ScrollOffsetContext.tsx","webpack://vanilla-admin/./library/src/scripts/search/searchReducer.ts","webpack://vanilla-admin/./library/src/scripts/loaders/ButtonLoader.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/components/embedStyles.ts","webpack://vanilla-admin/./library/src/scripts/forms/InputTextBlock.tsx","webpack://vanilla-admin/./library/src/scripts/layout/frame/FrameBody.tsx","webpack://vanilla-admin/./library/src/scripts/layout/frame/frameStyles.ts","webpack://vanilla-admin/./library/src/scripts/layout/frame/FrameFooter.tsx","webpack://vanilla-admin/./library/src/scripts/layout/frame/Frame.tsx","webpack://vanilla-admin/./library/src/scripts/content/userContentStyles.ts","webpack://vanilla-admin/./library/src/scripts/search/SearchContext.tsx","webpack://vanilla-admin/./library/src/scripts/animation/EntranceAnimation.tsx","webpack://vanilla-admin/./library/src/scripts/modal/ModalView.tsx","webpack://vanilla-admin/./library/src/scripts/modal/Modal.tsx","webpack://vanilla-admin/./library/src/scripts/pageViews/pageViewTracking.ts","webpack://vanilla-admin/./library/src/scripts/gdn.ts","webpack://vanilla-admin/./library/src/scripts/forms/select/tokensStyles.ts","webpack://vanilla-admin/./library/src/scripts/routing/links/LinkContextProvider.tsx","webpack://vanilla-admin/./library/src/scripts/forms/select/selectOneStyles.tsx","webpack://vanilla-admin/./library/src/scripts/icons/titleBar.tsx","webpack://vanilla-admin/./library/src/scripts/icons/searchIcons.tsx","webpack://vanilla-admin/./library/src/scripts/features/users/UserActions.ts","webpack://vanilla-admin/./library/src/scripts/features/users/userModel.ts","webpack://vanilla-admin/./library/src/scripts/content/dateTimeStyles.ts","webpack://vanilla-admin/./library/src/scripts/content/DateTime.tsx","webpack://vanilla-admin/./library/src/scripts/features/users/suggestion/UserSuggestionActions.ts","webpack://vanilla-admin/./library/src/scripts/features/notifications/NotificationsActions.ts","webpack://vanilla-admin/./library/src/scripts/icons/editorIcons.tsx","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersAnimation.ts","webpack://vanilla-admin/./library/src/scripts/embeddedContent/embedConstants.tsx","webpack://vanilla-admin/./library/src/scripts/content/Translate.tsx","webpack://vanilla-admin/./library/src/scripts/content/attachments/attachmentIconsStyles.ts","webpack://vanilla-admin/./library/src/scripts/forms/select/Tokens.tsx","webpack://vanilla-admin/./library/src/scripts/content/attachments/AttatchmentType.ts","webpack://vanilla-admin/./library/src/scripts/icons/fileTypes.tsx","webpack://vanilla-admin/./library/src/scripts/content/attachments/attachmentUtils.tsx","webpack://vanilla-admin/./library/src/scripts/loaders/loaderStyles.ts","webpack://vanilla-admin/./library/src/scripts/loaders/Loader.tsx","webpack://vanilla-admin/./library/src/scripts/features/users/suggestion/SuggestionTrie.ts","webpack://vanilla-admin/./library/src/scripts/features/users/suggestion/UserSuggestionModel.ts","webpack://vanilla-admin/./library/src/scripts/textEditor/textEditorStyles.ts","webpack://vanilla-admin/./library/src/scripts/textEditor/TextEditor.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/components/embedButtonStyles.ts","webpack://vanilla-admin/./library/src/scripts/embeddedContent/components/EmbedButton.tsx","webpack://vanilla-admin/./library/src/scripts/locales/localeActions.ts","webpack://vanilla-admin/./library/src/scripts/styles/fontFallbacks.ts","webpack://vanilla-admin/./library/src/scripts/layout/frame/frameBodyStyles.ts","webpack://vanilla-admin/./library/src/scripts/modal/modalStyles.ts","webpack://vanilla-admin/./library/src/scripts/toolTip/toolTipStyles.ts","webpack://vanilla-admin/./library/src/scripts/toolTip/ToolTip.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/components/embedDropdownStyles.ts","webpack://vanilla-admin/./library/src/scripts/embeddedContent/components/EmbedDropdown.tsx","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersTypography.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersBackgroundStyling.ts","webpack://vanilla-admin/./library/src/scripts/theming/themeReducer.ts","webpack://vanilla-admin/./library/src/scripts/utility/fileUtils.tsx","webpack://vanilla-admin/./library/src/scripts/forms/paddingOffsetFromBorderRadius.ts","webpack://vanilla-admin/./library/src/scripts/layout/types/interface.panelLayout.ts","webpack://vanilla-admin/./library/src/scripts/routing/links/backLinkStyles.ts","webpack://vanilla-admin/./library/src/scripts/forms/InputBlock.tsx","webpack://vanilla-admin/./library/src/scripts/layout/frame/frameFooterStyles.ts","webpack://vanilla-admin/./library/src/scripts/layout/frame/frameHeaderStyles.ts","webpack://vanilla-admin/./library/src/scripts/styles/animationHelpers.ts","webpack://vanilla-admin/./library/src/scripts/content/TruncatedText.tsx","webpack://vanilla-admin/./library/src/scripts/content/hashScrolling.ts","webpack://vanilla-admin/./library/src/scripts/features/search/SearchScopeContext.tsx","webpack://vanilla-admin/./library/src/scripts/forms/Checkbox.tsx","webpack://vanilla-admin/./library/src/scripts/content/code.ts","webpack://vanilla-admin/./library/src/scripts/content/spoilers.ts","webpack://vanilla-admin/./library/src/scripts/embeddedContent/BrightcoveEmbed.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/CodePenEmbed.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/components/embedErrorStyles.ts","webpack://vanilla-admin/./library/src/scripts/embeddedContent/components/EmbedRenderError.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/components/EmbedErrorBoundary.tsx","webpack://vanilla-admin/./library/src/scripts/content/attachments/attachmentStyles.ts","webpack://vanilla-admin/./library/src/scripts/content/attachments/Attachment.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/FileEmbed.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/GettyImagesEmbed.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/GiphyEmbed.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/IFrameEmbed.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/ImgurEmbed.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/InstagramEmbedPlaceholder.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/InstagramEmbed.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/components/EmbedTitle.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/LinkEmbed.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/PanoptoEmbed.tsx","webpack://vanilla-admin/./library/src/scripts/content/collapsableContentStyles.tsx","webpack://vanilla-admin/./library/src/scripts/content/CollapsableContent.tsx","webpack://vanilla-admin/./library/src/scripts/content/UserContent.tsx","webpack://vanilla-admin/./library/src/scripts/content/userLabelStyles.ts","webpack://vanilla-admin/./library/src/scripts/content/rolesStyles.ts","webpack://vanilla-admin/./library/src/scripts/content/Roles.tsx","webpack://vanilla-admin/./library/src/scripts/content/UserLabel.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/quoteEmbedStyles.ts","webpack://vanilla-admin/./library/src/scripts/embeddedContent/QuoteEmbed.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/SoundCloudEmbed.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/twitterEmbedStyles.ts","webpack://vanilla-admin/./library/src/scripts/embeddedContent/TwitterEmbed.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/VideoEmbed.tsx","webpack://vanilla-admin/./library/src/scripts/embeddedContent/embedService.tsx","webpack://vanilla-admin/./library/src/scripts/content/index.ts","webpack://vanilla-admin/./library/src/scripts/content/emoji.ts","webpack://vanilla-admin/./library/src/scripts/styles/typographyStyles.ts","webpack://vanilla-admin/./library/src/scripts/layout/Heading.tsx","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersButtons.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersColors.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersFeedback.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersSpacing.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersPositioning.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersReset.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersSpinner.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersVisibility.ts","webpack://vanilla-admin/./library/src/scripts/embeddedContent/ImageEmbed.tsx"],"names":["styleUnit","val","options","unitFunction","px","isImportant","debug","undefined","output","valIsNumeric","isNumeric","toString","trim","important","logError","JSON","stringify","ColorsUtils","Error","colorValue","makeImportant","logDebugConditionnal","stringIsLinearGradient","color","referenceColor","ensureColorHelper","r","red","b","blue","g","green","Math","sqrt","weight","c","isLightColor","props","inverse","flipWeightForDark","colorObj","isLight","darken","lighten","referenceColorValue","flipIfMax","colorLightness","lightness","weightOffset","abs","weightCurved","colorDarker","colorLighter","flip","isSaturated","desaturate","saturate","ABSOLUTE_PATH_REGEX","getMeta","key","defaultValue","gdn","meta","parts","split","haystack","part","hasOwnProperty","setMeta","value","last","pop","formatUrl","path","withDomain","test","siteRoot","startsWith","replace","window","location","origin","siteUrl","urlBase","host","assetUrl","themeAsset","themeKey","_readyHandlers","onReady","callback","push","_executeReady","Promise","resolve","handlerPromises","map","handler","exec","all","then","document","readyState","addEventListener","onContent","makeProfileUrl","username","encodeURIComponent","accessibleLabel","template","variable","sprintf","Mixins","borderType","BorderType","BORDER","border","SHADOW","shadowHelper","embed","SEPARATOR","content","display","height","width","marginLeft","borderTop","singleBorder","borderBottom","NONE","property","spacings","spacingVals","propertyLeft","propertyRight","propertyTop","propertyBottom","vertical","horizontal","top","right","bottom","left","spacing","vars","colorOut","fontSize","size","fontWeight","lineHeight","textAlign","align","textShadow","shadow","fontFamily","family","fontFamilyWithDefaults","textTransform","transform","letterSpacing","textDecoration","fontFamilies","concat","isMonospaced","monoFallbacks","fontFallbacks","font","includes","join","radius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","borderTopLeftRadius","borderStyles","globalVariables","style","Object","keys","length","detailedStyles","fallbackBorderVariables","getValueIfItExists","defaultsAll","setAllBorders","merge","allStyles","singleBorderStyle","borderTopWidth","borderTopStyle","borderTopColor","topStyles","rightStyles","borderRightWidth","borderRightStyle","borderRightColor","bottomStyles","borderBottomWidth","borderBottomStyle","borderBottomColor","leftStyles","borderLeftWidth","borderLeftStyle","borderLeftColor","image","getBackgroundImage","unsetBackground","background","backgroundColor","backgroundAttachment","attachment","backgroundPosition","position","backgroundRepeat","repeat","backgroundSize","backgroundImage","opacity","boxOptions","itemSpacingOnAllItems","globalVars","contentBox","boxHasSetPaddings","values","filter","notEmpty","hasBackground","hasFullOutline","itemSpacing","padding","boxShadow","borderRadius","clear","margin","setAllRadii","itemState","overwriteColors","disableTextDecoration","linkColors","links","colors","Variables","clickable","mergedColors","default","skipDefault","linkStyleFallbacks","hover","allStates","focus","clickFocus","keyboardFocus","active","visited","styles","specificOverwrite","defaultOverwrite","globalDefault","topRight","topLeft","bottomRight","bottomLeft","middleOfParent","shrink","percent","maxHeight","maxWidth","middleLeftOfParent","middleRightOfParent","fullSizeOfParent","srOnly","overflow","clip","middle","wrap","alignItems","justifyContent","flexWrap","spaceBetween","middleLeft","inheritHeightClass","useThemeCache","styleFactory","flexDirection","flexGrow","_themeCacheID","hashString","random","THEME_CACHE_EVENT","resetThemeCache","dispatchEvent","CustomEvent","detail","useThemeCacheID","useState","cacheID","setCacheID","useEffect","listener","e","removeEventListener","memoize","storeState","getStore","getState","status","theme","assets","cacheKey","args","result","GlobalPreset","defaultFontFamily","forcedVars","colorPrimary","makeThemeVars","variableFactory","constants","stateColorEmphasis","fullGutter","states","bgEmphasis","borderEmphasis","selected","preset","LIGHT","elementaryColors","black","almostBlack","white","transparent","rgba","initialMainColors","fg","bg","primary","primaryContrast","secondary","secondaryContrast","colorSecondary","getRatioBasedOnBackgroundDarkness","mainColors","getRatioBasedOnDarkness","generatedMainColors","statePrimary","offsetLightness","stateSecondary","mixBgAndFg","mix","messageColors","warning","state","error","confirm","deleted","forEach","body","colorHover","formElements","buttons","modals","dropDowns","gutter","half","gutterSize","quarter","lineHeights","base","condensed","code","excerpt","foundationalWidths","panelWidth","middleColumn","minimalMiddleColumnWidth","narrowContentWidth","breakPoints","twoColumns","xs","widgetInit","widget","paddingBothSides","panelInit","panel","paddedWidth","middleColumnInit","contentWidth","fontsInit0","large","medium","small","largeTitle","title","subTitle","sizeWeight","mobile","weights","normal","semiBold","bold","googleFontFamily","forceGoogleFont","customFontUrl","customFont","name","url","fallbacks","fontsInit1","families","monospace","isOpenSans","fonts","alignment","headings","capitalLetterRatio","verticalOffset","horizontalOffset","verticalOffsetForAdjacentElements","icon","sizes","xSmall","spacer","animation","defaultTiming","defaultEasing","text","sizing","smallPadding","select","borderWidth","overlay","fade","horizontalMargin","verticalMargin","highlight","contrast","overlayBg","modifyColorBasedOnLightness","dropShadow","fullPageHeadingSpacer","userContent","h1","h2","h3","h4","h5","h6","list","listDecoration","minWidth","buttonIcon","offset","buttonPreset","separator","userContentHyphenation","minimumCharactersToHyphenate","minimumCharactersBeforeBreak","minimumCharactersAfterBreak","maximumConsecutiveBrokenLines","avoidLastWordToBeBroken","hyphenationZone","contentBoxes","depth1","depth2","depth3","headingBox","mobileSpacing","descriptionSpacing","itemList","mixPrimaryAndFg","mixPrimaryAndBg","findColorMatch","hexCode","getThemeVariables","forcedVariables","isComponentThemingEnabled","data","variables","DEBUG_STYLES","Symbol","for","componentName","objects","debugName","shouldLogDebug","styleObjs","shift","subcomponentName","restObjects","obj","logWarning","logDebug","componentNames","themeVars","mergeWithGlobals","componentThemeVars","reduce","prev","curr","subElementName","declaredVars","overrides","customVars","normalizeVariables","newObj","entries","stripUndefinedKeys","rgbRegex","rgbaRegex","hslRegex","hslaRegex","hexRegex","customVariable","defaultVariable","Array","isArray","ColorHelper","colorString","throwOnFailure","stringIsHexColor","stringIsRgbColor","parseInt","rgb","stringIsRgbaColor","a","parseFloat","stringIsHslColor","h","s","l","hsl","stringIsHslaColor","hsla","colorStringToInstance","mergedValue","match","stringIsValidColor","componentThemeVariables","componentVars","subComponentStyles","getPixelNumber","fallback","parsed","Number","isNaN","importantUnit","withUnit","negativeUnit","negative","substring","LoadStatus","PublishStatus","Format","emotion","createEmotion","prepend","keyframes","cx","cssRaw","injectGlobal","css","flattenNests","original","$nest","cssRule","selector","object","media","mediaQuery","mediaQuerySections","stringMediaQuery","svgStyles","stroke","fill","strokeWidth","iconVariables","standard","fileType","newFolder","attachmentError","vanillaLogo","compact","settings","search","notifications","messages","user","userWarning","close","closeCompact","closeTiny","selectedCategory","signIn","chevronUp","plusCircle","deleteIcon","editIcon","categoryIcon","documentation","bookmarkIcon","newPostMenuIcon","typeAll","typeDiscussions","typeArticles","typeCategoriesAndGroups","typePlaces","typeFlag","chevronLeftCompact","isSmall","smallHeight","typeMember","typeIdeasIcon","typePollsIcon","typeQuestion","iconClasses","paddingRight","vanillaLogoMobile","triangeTiny","chevronLeftSmallCompact","marginRight","scale","transformOrigin","discussionIcon","globeIcon","hamburger","external","errorFgColor","warningFgColor","bookmark","normalState","loadingState","bookmarkedState","pointerEvents","itemFlyout","typeGroups","typeKnowledgeBase","ButtonTypes","ReduxActions","dispatch","api","actionCreator","apply","this","type","payload","requestType","responseType","errorType","dummyResponseType","dummyMetaType","request","createApiRequestAction","response","createApiResponseAction","createApiErrorAction","endpoint","actionCreators","params","requestPromise","get","useReduxActions","actionClass","useDispatch","actions","useMemo","apiv2","useDebugValue","bindThunkAction","asyncWorker","extra","async","started","done","failed","currentColorFill","leftChevronPath","horizontalChevronViewBox","centred","NBSP","RightChevronIcon","classes","className","classNames","xmlns","viewBox","aria-hidden","d","LeftChevronIcon","LeftChevronCompactIcon","BottomChevronIcon","rotate","CloseIcon","t","CloseCompactIcon","CloseTinyIcon","CheckIcon","points","DropDownMenuIcon","WarningIcon","warningMessage","aria-label","cy","ErrorIcon","errorMessage","fillRule","PendingIcon","role","ApproveIcon","id","CheckCompactIcon","DownTriangleIcon","rotation","deg","translate","translateY","item","SearchErrorIcon","message","AccessibleImageMenuIcon","DeleteIcon","clipRule","DiscussionIcon","DarkThemeIcon","LightThemeIcon","LoaderIcon","version","DocumentationIcon","BookmarkIcon","DEFAULT_PREFIX","idCache","uniqueIDFromPrefix","prefix","count","useUniqueID","getRequiredID","suffix","getOptionalID","EMPTY_SPACING","EMPTY_FONTS","EMPTY_BORDER","EMPTY_BACKGROUND","EMPTY_STATE_COLORS","box","needle","checkIfKeyExistsAndIsDefined","formElementsVariables","halfHeight","verticalPadding","horizontalPadding","fullBorderRadius","extraHorizontalPadding","giantInput","largeInput","errorSpacing","placeholder","disabled","buttonMarginAlignment","IIconSizes","DEFAULT","iconSize","SMALL","LARGE","root","paragraph","varsGlobal","marginBottom","paddingLeft","paddingTop","paddingBottom","actionButton","activeButton","PreviewStatusType","createAction","actionCreatorFactory","ThemeActions","revisionID","apiThunk","getAssets","forceVariablesAC","thunk","getAllThemes_ACS","themeID","putCurrentThemeACs","put","putPreviewThemeACs","deleteThemeACs","delete","patchTheme","getThemeRevisions_ACs","patchTheme_ACs","patch","useThemeActions","titleBarClasses","titleBarVariables","formElementVars","mediaQueries","flex","flexHelper","SHADOW_AS_BORDER","getBorderVars","cursor","backLinkClasses","link","swoop","amount","marginTop","swoopOffset","swoopStyles","calc","translateX","shadowAsBorder","bg1","willChange","absolutePosition","fullBleed","enabled","bgColor","bg2","container","bgContainer","boxSizing","bgImage","objectFit","bannerPadding","negativeSpacer","bar","logoOffsetDesktop","logo","offsetVertical","logoOffsetMobile","logoContainer","alignSelf","offsetRight","outline","buttonContents","button","logoFlexBasis","flexBasis","endElements","meBox","nav","navAlignment","locales","compactSearch","compactSearchResults","layoutVariables","viewWidth","extraMeBoxIcons","listStyle","topElement","localeToggle","languages","buttonResetMixin","allButtonStates","borderColor","linkButton","generateButtonClass","buttonOffset","centeredButton","searchCancel","userSelect","tabButtonActive","tabButton","dropDownContents","rightFlexBasis","flexShrink","leftFlexBasis","guest","register","resister","noState","clearButtonClass","guestButton","desktopNavWrap","addGradientsToHintOverflow","logoCenterer","logoLeftAligned","isSticky","sticky","zIndex","logoAnimationWrap","signInIconOffset","titleBarContainer","skipNav","getLogoMaxHeight","titleBarHeight","specifiedLogoHeight","heightOffset","logoFrame","mobileLogoStyles","mobileLogo","isCenter","linearGradient","quote","getButtonStyleFromBaseClass","buttonUtils","buttonUtilityClasses","buttonClasses","STANDARD","TEXT","TEXT_PRIMARY","textPrimary","ICON","ICON_COMPACT","buttonIconCompact","PRIMARY","TRANSPARENT","TRANSLUCID","translucid","TITLEBAR_LINK","CUSTOM","custom","RESET","reset","DASHBOARD_STANDARD","DASHBOARD_PRIMARY","DASHBOARD_SECONDARY","DASHBOARD_LINK","NOT_STANDARD","notStandard","Button","baseClass","legacyMode","submit","ariaLabel","ariaHidden","controls","buttonRef","restProps","componentClasses","ref","aria-controls","children","React","Component","panelBackgroundVariables","config","render","Devices","fallbackLayoutVariables","leftColumnBg","full","halfSize","quarterSize","contentSizes","narrow","noBleed","oneColumn","panelLayoutBreakPoints","panelLayoutSpacing","extraPadding","noBreadcrumbs","largePadding","withPanelBackground","setMediaQueries","useMinWidth","noBleedDown","twoColumnsDown","oneColumnDown","aboveOneColumn","LayoutTypes","THREE_COLUMNS","calculateDevice","clientWidth","XS","MOBILE","TABLET","NO_BLEED","DESKTOP","isFullWidth","currentDevice","isCompact","generatePanelLayoutClasses","main","minHeight","viewHeight","fullWidth","leftColumn","rightColumn","mainColumn","mainColumnMaxWidth","breadcrumbs","breadcrumbsContainer","layoutSpecificStyles","middleColumnMaxWidth","ModalSizes","EmbedContent","forwardRef","useEmbedContext","inEditor","isSelected","deleteSelf","descriptionID","embedContentClasses","aria-describedby","noBaseClass","EMBED_FOCUS_CLASS","tabIndex","embedActions","onClick","Control","rest","OptionLoader","SelectOption","Menu","dropDownClasses","contents","MenuList","MultiValueRemove","innerProps","selectProps","classesTokens","tokensClasses","classNamePrefix","onKeyDown","event","onTouchEnd","onMouseDown","removeIcon","NoOptionsMessage","NullComponent","isFocused","parentLabel","selectOneClasses","checkIcon","ValueContainer","DropdownIndicator","components","chevron","passthru","context","useLinkContext","prop","href","makeHref","to","isDynamicNavigation","rel","target","innerRef","makeLocationDescriptorObject","activeClassName","isForeign","sanitizeUrl","shadowVariables","makeVariables","blur","spread","widgetHover","dropDown","modal","floatingButton","shadowBaseColor","baseColor","embedHover","hasBorder","shadowColor","makeShadow","shadowOrBorderBasedOnLightness","shadowStyles","axios","create","baseURL","headers","common","transformResponse","defaults","responseData","errors","indexArrayByKey","paramsSerializer","qs","uploadFile","file","requestConfig","allowedExtensions","ext","toLowerCase","maxSize","filePieces","extension","humanSize","humanFileSize","stringTotal","unitAbbr","attachmentsString","FormData","append","post","interceptors","use","description","contentType","newError","dom","DOMParser","parseFromString","details","querySelector","innerText","footers","querySelectorAll","rayID","footer","HTMLElement","extractJsonErrorFromCFHtmlString","reject","EmbedContainer","withPadding","htmlProps","embedContainerClasses","makeRootClass","EmbedContainerSize","MEDIUM","dropDownVariables","widths","metas","sectionTitle","shadows","asModal","likeDropDownContent","items","metaItems","metaItem","section","toggleButtonIcon","buttonStates","action","actionMixin","actionActive","panelNavItems","panelFirstStyle","panelFirst","panelMobileOnly","panelLast","panelContent","sectionContents","sectionHeading","headingContentContainer","headingTitleContainer","arrow","actionIcon","backButton","noVerticalPadding","paddedFrame","check","flyoutOffset","contentOffsetCenter","contentOffsetLeft","contentOffsetRight","positioning","absolute","closeButton","itemButton","classBasedStates","appearance","buttonSizing","buttonGlobals","buttonGlobalVariables","paddingHorizontal","skipDynamicPadding","borders","paddingOffsets","paddingOffsetBasedOnBorderRadius","overflowWrap","ErrorMessages","ownID","padded","classesInputBlock","inputBlockClasses","errorsPadding","errorList","index","capitalizeFirstLetter","inputText","inputWrap","labelAndDescription","withIndicator","inputVariables","inputClasses","inputPaddingMixin","labelNote","labelText","fieldsetGroup","multiLine","resize","related","grid","checkRadioClasses","tight","store","initialActions","__ACTIONS__","middleware","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","actionSanitizer","quill","compose","applyMiddleware","initialState","force","reducer","appReducer","combineReducers","getReducers","createStore","SearchActions","inputMixin","inputVars","inputMixinVars","textInputSizingFromFixedHeight","placeholderStyles","applyInputCSSRules","cssOut","ButtonPreset","Paragraph","isError","accessibilityProps","ScreenReaderContent","Tag","tag","visibility","visuallyHidden","PureComponent","useTheme","disableComponentTheming","_components","_pageComponent","addComponent","mountOptions","getComponent","_mountComponents","parent","awaiting","parentPage","mountReact","node","getAttribute","parse","registeredComponent","innerHTML","removeAttribute","ALL_CONTENT_DOMAIN_NAME","ALLOWED_GLOBAL_SEARCH_FIELDS","MEMBERS_DOMAIN_NAME","MEMBERS_RECORD_TYPE","PLACES_DOMAIN_NAME","TagType","tagVariables","colorOverwrite","nested","tagItem","CLOUD","fontState","backgroundState","metasVariables","metaItemStyle","metasClasses","tagVars","overwrites","allLinkStates","metaContainerStyles","metaLink","metaIcon","metaLabel","whiteSpace","textOverflow","defaultTransition","metaStyle","draftStatus","noUnderline","inlineBlock","buttonVariables","iconCompact","buttonAsText","buttonAsTextPrimary","radio","pushLeft","pushRight","iconMixin","dimension","compactHeight","asTextStyles","buttonIconRightMargin","buttonIconLeftMargin","buttonLoaderClasses","flexUtils","reducedPadding","svg","spinnerLoaderAnimationProperties","buttonLabelWrapClass","LogoAlignment","colorsInit","fullHeight","swoopInit","startingOpacity","endingOpacity","clearBorder","gutterSpacing","max","buttonSize","generatedColors","focusAccessible","mobileDropDown","doubleLogoStrategy","LEFT","tablet","desktop","CENTER","breakpoints","cancelButtonInit","hoverOpacity","stateColors","ListSeparation","generateButtonStyleProperties","setZIndexOnState","stateSuffix","buttonGlobalVars","buttonDimensions","buttonTypeVars","ADVANCED","fontColor","borderVars","defaultBorder","hoverBorder","cloneDeep","activeBorder","focusBorder","focusAccessibleBorder","fontVars","WebkitFontSmoothing","verticalAlign","touchAction","extraNested","lineHeightAdjustment","nestedStyles","letterToLineHeightRatio","Position","vOffset","letterRatio","calculateOffset","isBefore","BEFORE","emptySpace","em","before","after","AFTER","SearchService","supports","_supportsExtensions","domain","filterNode","extraFilters","searchDomain","pluggableDomains","subType","subTypes","loadingRectangleVariables","makeVars","loadingAnimation","loadingRectangleClass","animationName","animationDuration","animationIterationCount","loadingSpacerClass","LoadingRectangle","LoadingSpacer","checkRadioVariables","checked","checkedHover","checkBox","disk","radioButton","isDashboard","label","labelBold","iconContainer","radioIcon","diskIcon","uncheckedStateStyles","checkedStateStyles","input","disabledInput","EmbedContext","createContext","useContext","ConditionalWrap","condition","component","componentProps","CloseButton","closeLabel","FrameHeader","backLink","backTitle","frameHeaderClasses","onBackClick","backButtonIcon","closeFrame","borderless","rootBorderLess","Heading","titleID","depth","heading","titleClass","srOnlyTitle","INITIAL_LOCALE_STATE","PENDING","localeReducer","produce","reducerWithInitialState","case","getAllLocalesACs","nextState","LOADING","SUCCESS","ERROR","NotificationsModel","notificationsByID","NotificationsActions","GET_NOTIFICATIONS_REQUEST","GET_NOTIFICATIONS_RESPONSE","notification","notificationID","GET_NOTIFICATIONS_ERROR","MARK_ALL_READ_RESPONSE","read","ConversationsActions","dispatchApi","getConversationsACs","generateApiActionCreators","GET_CONVERSATIONS_REQUEST","GET_CONVERSATIONS_RESPONSE","GET_CONVERSATIONS_ERROR","ConversationsModel","conversationsByID","conversation","conversationID","TagsAction","getTagsACs","debounce","getTagsInternal","tagsReducer","tagsByName","DiscussionActions","query","discussionID","getDiscussionByIDACs","expand","reponse","discussionsReducer","discussionsByID","dynamicReducers","registerReducer","replaceReducer","users","usersReducer","discussions","tags","conversations","themeReducer","formElVars","standardContrast","borderMixRatio","primaryPresetInit","SOLID","bgState","primaryPresetInit2","fgState","primaryPreset","OUTLINE","borderState","standardPresetInit","standardPresetInit1","standardPresetInit2","standardPreset","radioPresetInit1","radioPresetInit2","RADIO","SCROLL_OFFSET_DEFAULTS","setScrollOffset","resetScrollOffset","scrollOffset","topOffset","setTopOffset","pixels","getCalcedHashOffset","temporarilyDisabledWatching","hashOffsetRef","current","offsetClass","ScrollOffsetContext","__VANILLA_GLOBAL_SCROLL_OFFSET__","ScrollOffsetProvider","isScrolledOff","hashOffset","isWatchingEnabled","createRef","duration","setState","setTimeout","shouldWatchScroll","requestAnimationFrame","newScrolledValue","scrollY","isScrollingDown","previousScrollValue","isScrollingUp","offsetElement","getBoundingClientRect","scrollWatchingEnabled","transition","Provider","scrollHandler","useScrollOffset","DEFAULT_CORE_SEARCH_FORM","page","sort","scope","SEARCH_SCOPE_LOCAL","initialized","INITIAL_SEARCH_STATE","form","results","domainSearchResults","reinitilizeParams","searchReducer","reducerWithoutInitialState","updateSearchFormAC","needsResearch","reinitParam","types","performSearchACs","performDomainSearchACs","resetFormAC","ButtonLoader","alignLeft","buttonType","embedContainerVariables","dimensions","maxEmbedWidth","hoverFocusStates","FULL_WIDTH","InputTextBlockBaseClass","InputTextBlock","inputProps","onChange","onBlur","onFocus","inputRef","ownInputRef","classesInput","multiLineProps","blockProps","inputClassNames","InputBox","blockParams","labelID","errorID","hasErrors","describedBy","multiline","required","aria-invalid","aria-labelledby","maxLength","onKeyPress","autoComplete","FrameBody","frameBodyClasses","isSelfPadded","selfPadded","hasVerticalPadding","frameVariables","header","frameClasses","headerWrap","bodyWrap","footerWrap","overflowY","FrameFooter","frameFooterClasses","justifyRight","justifiedRight","forDashboard","validSelection","Frame","scrollable","bodyWrapClass","canGrow","TableStyle","userContentVariables","tableInit","HORIZONTAL_BORDER_STRIPED","cell","mobileBreakpoint","tables","striped","VERTICAL_BORDER_STRIPED","stripeColor","outerBorderRadius","VERTICAL_BORDER","horizontalBorders","verticalBorders","blocks","embeds","codeInline","paddingVertical","codeBlock","nestedList","ceil","userContentClasses","headingStyle","lists","listStylePosition","paragraphSpacing","linkStyle","codeStyles","overflowX","wordWrap","spoilersAndQuotes","blockQuoteVars","blockQuoteVariables","blockquotes","borderLeft","borderRight","outerBorderMixin","tableOuterRadiusQuery","tableMobileQuery","wordBreak","SearchContext","getFilterComponentsForDomain","updateForm","resetForm","searchInDomain","getDomains","getCurrentDomain","getDefaultFormValues","useSearchForm","FromDirection","EntranceAnimation","_props","firstItemProps","lastItemProps","isEntered","asElement","delay","fromDirection","halfDirection","targetTransform","divProps","onDestroyed","useTransitionConfig","transitions","useTransition","AnimatedComponent","animated","div","i","isFirst","isLast","xPercent","yPercent","startOpacity","startTransform","endTransform","startX","endX","startY","endY","offsetPercent","BOTTOM","TOP","RIGHT","tension","friction","clamp","trail","from","enter","leave","ModalView","isVisible","isAnimatingOut","setIsAnimatingOut","lastVisible","useLastValue","useLayoutEffect","handleDestroy","useCallback","ownRef","useRef","modalRef","modalClasses","scroll","XL","contentTransition","FULL_SCREEN","MODAL_AS_DROP_DOWN","MODAL_AS_SIDE_PANEL_RIGHT","MODAL_AS_SIDE_PANEL_RIGHT_LARGE","MODAL_AS_SIDE_PANEL_LEFT","overlayScrim","isActive","overlayContent","onOverlayClick","aria-modal","isFullScreen","isSidePanelRight","isSidePanelRightLarge","isSidePanelLeft","isDropDown","isXL","isLarge","isMedium","isShadowed","onModalClick","memo","MODAL_CONTAINER_ID","Modal","wasDestroyed","pageContainer","getPageContainer","setCloseFocusElement","focusInitialElement","setAttribute","stack","handleDocumentEscapePress","closeFocusElement","shiftKey","keyCode","handleShiftTab","handleTab","topModal","preventDefault","stopPropagation","isWholePage","exitHandler","mountPortal","handleDestroyed","handleTabbing","handleModalClick","handleScrimClick","selfRef","afterContent","prevProps","prevState","elementToFocusOnExit","onMountIn","getElementById","focusElement","elementToFocus","tabHandler","getInitial","activeElement","documentElement","nextElement","getNext","previousElement","TabHandler","EVENT_NAME","onPageView","eventListener","history","usePageChangeListener","previousPath","setPreviousPath","initPageViewTracking","pathname","listen","permissions","translations","makeAccessiblePopup","$popupEl","sender","attr","$","each","find","tagName","getAll","element","tokensVariables","token","clearIcon","defaultMakeHref","stringUrl","createPath","LinkContext","linkContexts","pushSmartLocation","LinkContextProvider","useHistory","urlFormatter","URL","isCurrentPage","matchesContext","initial","newHref","appRelativeLink","selectOneVariables","checkBoxAfterInput","UserIconTypes","SearchIcon","TypeAllIcon","TypeQuestionIcon","COUNT_CACHE_PERIOD","UserActions","getMeACs","getPermissionsACs","currentTime","Date","getTime","lastRequested","countInformation","getCountsACs","userID","getUserACs","bindDispatch","clearInviteUsersAC","groupID","userIDs","emails","inviteUsersACs","IDs","updateInviteeIDsAC","updateInviteeEmailsAC","emailsString","updateInviteeEmailsStringAC","invitees","updateInviteesAC","suggestionReducer","UserSuggestionModel","INITIAL_USERS_STATE","counts","suggestions","usersByID","usersInvitationsByID","GUEST_USER_ID","isUserGuest","countUnreadNotifications","mapUsersStoreState","currentUser","useUsersState","useSelector","usePermissions","getPermissions","DateFormats","dateTimeVariables","month","day","dateTimeClasses","compactVars","compactRoot","compactDay","compactMonth","DateTime","dateTime","timestamp","titleTime","humanTime","mode","interval","setInterval","forceUpdate","clearInterval","toLocaleString","getJSLocaleKey","year","weekday","hour","minute","timeZone","timezone","EXTENDED","inputMoment","moment","seconds","diff","asSeconds","COMPACT","isSame","format","toDate","UserSuggestionActions","setActiveAC","trie","selectSuggestionsTrie","exactLookup","getValue","loadUsersACs","partialLookup","getValueFromPartialsOfWord","USER_LIMIT","filterSuggestions","order","limit","domID","catch","interalLoadUsers","suggestionID","suggestionIndex","SET_ACTIVE_SUGGESTION","searchName","searchCollator","Intl","Collator","usage","sensitivity","ignorePunctuation","numeric","userSuggestion","suggestionIDPartial","compare","LOAD_USERS_REQUEST","LOAD_USERS_RESPONSE","LOAD_USERS_ERROR","getNotificationACs","getNotificationsACs","markReadACs","markAllReadACs","GET_NOTIFICATION_REQUEST","GET_NOTIFICATION_RESPONSE","GET_NOTIFICATION_ERROR","MARK_READ_REQUEST","MARK_READ_RESPONSE","MARK_READ_ERROR","MARK_ALL_READ_REQUEST","MARK_ALL_READ_ERROR","AlignCenterIcon","classesRichEditor","richEditorClasses","FloatLeftIcon","FloatRightIcon","x","rx","ResizeLargeIcon","strokeLinecap","strokeLinejoin","ResizeMediumIcon","ResizeSmallIcon","properties","timedTransition","timing","Translate","translatedSource","childrenID","childrenMatch","standaloneID","textMatch","Fragment","getInterpolatedComponent","logIDNotFound","errorHandler","source","translateFunction","shortSource","attachmentIconVariables","errorIconHeight","attachmentIconsClasses","attachmentIconClasses","Tokens","inputValue","onInputChange","option","provided","menu","control","multiValue","multiValueLabel","isLoading","showIndicator","htmlFor","inputID","hasFocus","inputId","componentOverwrites","handleInputChange","isClearable","isDisabled","showLoader","escapeClearsValue","pageSize","getTheme","getStyles","backspaceRemovesValue","isMulti","onAttributeChange","ClearIndicator","selectOverrides","LoadingMessage","Option","LoadingIndicator","AttachmentType","FileTypeGenericIcon","FileTypeWordIcon","WORD","y","FileTypeExcelIcon","EXCEL","FileTypePDFIcon","unabbreviatedType","PDF","FileTypeImageIcon","IMAGE","fillOpacity","FileTypePowerPointIcon","PPT","FileTypeZipIcon","ARCHIVE","barStyle","mimeTypeToAttachmentType","mimeType","FILE","GetAttachmentIcon","loaderVariables","fullPage","thickness","loaderClasses","fullPageLoader","spinnerLoader","mediumLoader","smallLoader","loaderContainer","Loader","minimumTime","styleClass","loaderStyleClass","timeout","clearTimeout","SuggestionTrie","word","letter","char","charAt","getNode","min","MAX_PARTIAL_LOOKUP_ITERATIONS","potentialValue","lastSuccessfulUsername","currentUsername","activeSuggestionID","activeSuggestionIndex","insert","shouldKeepPreviousResults","previousSuccessfulName","newNameSubstring","sortSuggestions","firstUserID","stateSlice","defaultSuggestions","currentNode","currentMoment","looseCollator","ACTIVE_THRESHOLD","recentlyActive","lessActive","daysAgo90","subtract","dateLastActive","lastActiveMoment","isSameOrAfter","sortByName","userA","userB","casedSearchName","toLocaleLowerCase","aCasedName","bCasedName","exactToTheTop","allUsers","textEditorVariables","makeTextEditorVars","themeToggleIcon","editorPadding","textEditorClasses","minimal","noPadding","colorChangeOverlay","monaco","paths","vs","setTheme","TextEditorContextProvider","minimalOptions","lineNumbers","minimap","scrollbar","verticalScrollbarSize","overviewRulerLanes","glyphMargin","folding","lineDecorationsWidth","lineNumbersMinChars","fullOptions","overrideServices","storageService","remove","getBoolean","onWillSaveState","onDidChangeStorage","TextEditor","schemaUri","language","useColorChangeOverlay","setColorChangeOverlay","isEditorReady","setIsEditorReady","jsonSchemaUri","busterUrl","init","json","jsonDefaults","setModeConfiguration","completionItems","diagnostics","documentFormattingEdits","documentRangeFormattingEdits","documentSymbols","foldingRanges","hovers","selectionRanges","tokens","fetch","res","setDiagnosticsOptions","validate","enableSchemaRequest","schemas","uri","fileMatch","schema","loadingOverlay","themeModeButton","editorDidMount","_","editor","embedButtonClasses","EmbedButton","otherProps","setIsFirst","previousSibling","firstSibling","parentElement","firstChild","lastSibling","lastChild","nextSibling","framePaddings","noContentMessage","modalVariables","xl","fullScreenTitleSpacing","gap","titleBarVars","overlayMixin","sidePanelMixin","pageHeader","frameWrapper","tooltipVariables","nub","toolTipClasses","noPointerContent","noPointerTrigger","nubPosition","triggerRect","hasOverflow","toolTipVars","overTriggerPosition","underTriggerPosition","TriangleTooltip","useTooltip","trigger","tooltip","setHasOverflow","borderOffset","isScrolling","scrollTimeout","setIsScrolling","throttle","useIsScrolling","cloneElement","tooltipRect","triangleHeight","maxLeft","innerWidth","innerHeight","scrollX","ToolTip","ToolTipIcon","embedDropdownClasses","optionLabel","EmbedDropdownContext","EmbedDropdown","Icon","EmbedMenuContext","setSelected","buttonId","contentId","aria-aria-haspopup","aria-expanded","EmbedDropdownMenuContainer","menuRef","aria-checked","getVerticalPaddingForTextInput","fullBorderWidth","getHorizontalPaddingForTextInput","singleLineEllipsis","substr","objectFitWithFallback","objectPosition","ThemeType","INITIAL_THEME_STATE","themeRevisions","upDateRevision","revision","FileSizeUnit","floor","log","fullValue","pow","toFixed","unit","B","KB","MB","GB","TB","getUnabbreviatedFileSizeUnit","HumanFileSize","numBytes","leftOffset","rightOffset","maxValue","rawRadius","workingBorderRadius","finalBorderRadiusRatio","endsWith","side","backLinkVariables","getLineHeight","inHeading","InputBlock","legend","OuterTag","LabelTag","labelClassName","wrapClassName","noMargin","noteAfterInput","markRead","rootMinimal","headingMinimal","spacerWidth","leftSpacer","closeMinimal","standardAnimations","fadeIn","TruncatedText","lines","measure","useMeasure","useMaxHeight","getComputedStyle","shave","truncateBasedOnLines","maxCharCount","newChildren","slice","previousHashOffset","useHashScrolling","calcedOffset","initAllUserContent","beforeScrollHandler","scrollToCurrentHash","hashChangeHandler","initHashScrolling","scrollToElement","currentOffset","pageYOffset","scrollTo","behavior","targetID","hash","SearchScopeContext","optionsItems","useSearchScope","CheckBox","isHorizontal","fakeFocus","excludeFromICheck","defaultChecked","tooltipLabel","highlightCodeBlocks","domNode","importHLJS","hljs","highlightBlock","handleToggleSpoiler","triggeringElement","spoilerContainer","closest","classList","toggle","BrightcoveEmbed","playerId","SCRIPT_PLAYER","account","playerID","playerEmbed","ensureScript","embedType","data-account","data-player","data-embed","data-video-id","videoID","class","MIN_HEIGHT","CodePenEmbed","src","author","codePenID","scrolling","embedErrorClasses","renderErrorRoot","renderErrorIconLink","EmbedRenderError","warningTitle","SmartLink","EmbedErrorBoundary","attachmentVariables","loading","attachmentClasses","loadingProgress","loadingContent","Attachment","dateUploaded","classesMetas","download","c0","FileEmbed","dateInserted","attachmentType","GettyImagesEmbed","throwError","useThrowError","gettyPosts","foreignID","embedSignature","escapeHTML","photoID","loadGettyImages","data-height","data-width","data-sig","data-items","fallbackCallback","gie","q","widgets","load","sig","w","caption","is360","tld","GiphyEmbed","ratioStyle","giphyID","_supportFrames","IFrameEmbed","sandbox","frameBorder","ImgurEmbed","images","imgurEmbed","createIframe","imagesLength","tasks","data-id","imgurID","InstagramPlaceholder","postID","data-instgrm-captioned","data-instgrm-permalink","data-instgrm-version","xmlnsXlink","fontStyle","InstagramEmbed","instgrm","Embeds","process","permaLink","EmbedTitle","LinkEmbed","photoUrl","linkImage","PANOPTO_SCRIPT","EMBED_LOADED_CLASS","PanoptoEmbed","panoptoEmbeds","contentElement","contains","sessionId","EmbedApi","serverName","add","iframe","getElementsByTagName","data-domain","data-playerid","data-sessionid","data-url","collapsableContentClasses","paddingAdjustment","heightContainer","collapser","collapserIcon","gradient","CollapsableContent","isExpandedDefault","domNodesToAttach","isExpanded","setIsExpanded","containerMaxHeight","containerOvershoot","overshoot","heightLimit","scrollRef","useDomNodeAttachment","measurements","nextTick","hasMeasuredHeight","hasSmallMeasuredHeight","maxCollapsedHeight","targetHeight","useSpring","gradientProps","toggleID","contentID","allowsCssOverrides","scrollTop","boundingRect","shrinkageHeight","scrollAdjustedByShrinkage","autoWrapCollapsableContent","jsCollapsables","nodes","childNodes","ReactDOM","UserContent","html","createElement","responsifyTable","ignoreHashScrolling","dangerouslySetInnerHTML","__html","table","head","firstRow","isAllTh","child","headLabels","th","tr","firstTh","td","mobileTh","textContent","insertBefore","parentNode","wrapper","appendChild","userLabelVariables","avatar","userLabelClasses","fixLineHeight","avatarLink","topRow","bottomRow","userName","rolesClasses","metaVars","Roles","roles","maxRoleCount","classesMeta","userRoles","UserLabel","date","dateLink","displayOptions","category","showRole","showCategory","userUrl","dateComponent","categoryComponent","alt","roleID","quoteEmbedVariables","quoteEmbedClasses","embedVars","isPadded","titleLink","footerMain","footerSeparator","borderStyle","postLink","postLinkIcon","discussionLink","blockquote","QuoteEmbed","insertUser","showUserLabel","showCompactUserInfo","showDiscussionLink","showPostLink","showCategoryLink","expandByDefault","discussionTitle","linkToDiscussion","postTitle","linkToPost","showHeader","cite","SoundCloudEmbed","frameSource","resourceType","resourceID","playlistID","trackID","parameters","show_artwork","showArtwork","visual","useVisualPlayer","soundCloudPlayerUrl","twitterEmbedClasses","card","TWITTER_SCRIPT","TwitterEmbed","twitterLoaded","setTwitterLoaded","onRenderComplete","convertTwitterEmbeds","data-tweeturl","data-tweetid","statusID","renderTweet","twttr","createTweet","tweets","promises","VideoEmbed","ratioClass","frameSrc","isPlaying","setIsPlaying","togglePlaying","simplifyFraction","shorthand","VideoIframe","VideoThumbnail","PlayIcon","allow","allowFullScreen","EMBED_DESCRIPTION_ID","registeredEmbeds","Map","registerEmbed","EmbedComponent","set","mountEmbed","mountPoint","ensureBuiltinEmbeds","exception","EmbedClass","isAsync","onMountComplete","ensureEmbedDescription","bypassPortalManager","EmbedDescription","mountAllEmbeds","mountPoints","parsedData","builtinsRegistered","newValue","ImageEmbed","convertToSafeEmojiCharacters","delegateEvent","typographyClasses","pageTitle","componentSubTitle","renderAsDepth","finalDepth","finalRenderDepth","isPageTitle","isSubTitle","isComponentSubTitle","isLink","debugMode","disabledStyles","nest","appendExtraSelector","currentSelector","additionnalSelector","WebkitUserSelect","MozUserSelect","msUserSelect","extendItemContainer","itemPaddingX","WebkitAppearance","MozAppearance","spinnerLoaderAnimation","DEFAULT_SPEED","animationTimingFunction","spinnerVars","onEmpty","displayNone","displaySize","float","contentRef","isOpen","setIsOpen","setValue","syncBackEmbedValue","floatOptions","none","onSave","selectSelf","initialAlt","onClose","setImmediate"],"mappings":"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","file":"shared.min.js?4f64e8a3572b8196093a","sourcesContent":["import { important, px } from \"csx\";\nimport isNumeric from \"validator/lib/isNumeric\";\nimport { logError } from \"@vanilla/utils\";\n\nexport function styleUnit(\n    val: string | number | undefined,\n    options?: { unitFunction?: (value) => string; isImportant?: boolean; debug?: boolean },\n) {\n    const { unitFunction = px, isImportant = false, debug = false } = options || {};\n\n    if (typeof val === \"object\") {\n        logError(`You cannot pass objects (${JSON.stringify(val)}) to the \"unit\" function`);\n        return undefined;\n    }\n\n    if (val === undefined) {\n        return undefined;\n    }\n\n    const valIsNumeric = isNumeric(val.toString().trim());\n\n    let output;\n\n    if (typeof val === \"string\" && !valIsNumeric) {\n        output = val;\n    } else if (val !== undefined && val !== null && valIsNumeric) {\n        output = unitFunction(val as number);\n    } else {\n        output = val;\n    }\n\n    if (isImportant) {\n        return important(output);\n    } else {\n        return output;\n    }\n}\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\nimport { logDebugConditionnal, logError } from \"@vanilla/utils\";\nimport { color, ColorHelper, important } from \"csx\";\nimport { stringIsLinearGradient } from \"@library/styles/styleUtils\";\nexport class ColorsUtils {\n    constructor() {\n        throw new Error(\"Not to be instantiated\");\n    }\n\n    /**\n     * Check if it's a light color or dark color.\n     * Calculation is based off of this formula. http://alienryderflex.com/hsp.html\n     * @param color - The color we're checking\n     */\n    static isLightColor = (referenceColor: ColorHelper | string): boolean => {\n        const color = ColorsUtils.ensureColorHelper(referenceColor);\n        const r = color.red();\n        const b = color.blue();\n        const g = color.green();\n        const result = Math.sqrt(0.299 * r * r + 0.587 * g * g + 0.114 * b * b);\n        // Values in the range of 128-150 seem to give acceptable results.\n        return result >= 150;\n    };\n\n    static ensureColorHelper = (colorValue: string | ColorHelper): ColorHelper => {\n        return typeof colorValue === \"string\" ? color(colorValue) : colorValue;\n    };\n\n    static colorOut(\n        colorValue?: ColorHelper | string,\n        options?: {\n            debug?: boolean;\n            makeImportant?: boolean;\n        },\n    ): string | undefined {\n        const { debug = false, makeImportant } = options || {};\n\n        logDebugConditionnal(debug, \"ColorsUtils.colorOut - colorValue: \", colorValue);\n\n        if (!colorValue) {\n            return undefined;\n        }\n\n        if (stringIsLinearGradient(colorValue)) {\n            logDebugConditionnal(debug, \"ColorsUtils.colorOut - linear gradient detected - colorValue: \", colorValue);\n            // @ts-ignore\n            return colorValue.toString();\n        } else {\n            const output = typeof colorValue === \"string\" ? color(colorValue) : colorValue;\n            // @ts-ignore\n            return makeImportant ? important(output.toString()) : output.toString();\n        }\n    }\n\n    /*\n     * Maintain good contrast by flipping ratios when we're in a dark theme\n     * @param weight - The weight for the color mix\n     * @param bgColor - Check background color to determine if we're in a dark theme\n     */\n    static getRatioBasedOnDarkness = (weight: number, c: ColorHelper | string): number => {\n        if (weight > 1) {\n            logError(\"The weight cannot be greater than 1.\");\n            weight = 1;\n        } else if (weight < 0) {\n            logError(\"The weight cannot be smaller than 0.\");\n            weight = 0;\n        }\n\n        if (ColorsUtils.isLightColor(ColorsUtils.ensureColorHelper(c))) {\n            return weight;\n        } else {\n            return 1 - weight;\n        }\n    };\n\n    /*\n     * Color modification based on colors lightness.\n     * @param color - The color we're checking and modifying\n     * @param weight - The amount you want to mix the two colors (value from 0 to 1)\n     * @param inverse - By default we darken light colours and lighten dark colors, but if you want to get the inverse result, use this param\n     * @param flipWeightForDark - For dark themes, flip ratio. Example, a weight of \".2\" for a light theme would be \".8\" for a dark theme.\n     * @param debug - Turn on debug logs\n     * Note, however, that we do not check if you've reached a maximum. Example: If you want to darken pure black, you get back pure black.\n     */\n    static modifyColorBasedOnLightness = (props: {\n        color: ColorHelper | string;\n        weight: number;\n        inverse?: boolean;\n        flipWeightForDark?: boolean;\n        debug?: boolean;\n    }): ColorHelper => {\n        const { color: referenceColor, inverse = false, flipWeightForDark = false, debug = false } = props;\n        const colorObj = ColorsUtils.ensureColorHelper(referenceColor);\n        let weight = props.weight;\n        logDebugConditionnal(debug, \"=== start modifyColorBasedOnLightness debug ===\");\n        logDebugConditionnal(debug, \"initial color: \", color);\n        logDebugConditionnal(debug, \"initial weight: \", weight);\n        logDebugConditionnal(debug, \"inverse: \", inverse);\n        logDebugConditionnal(debug, \"flipWeightForDark: \", flipWeightForDark);\n        logDebugConditionnal(debug, \": \");\n\n        let output;\n        if (weight > 1 || weight < 0) {\n            throw new Error(\"mixAmount must be a value between 0 and 1 inclusively.\");\n        }\n\n        const isLight = ColorsUtils.isLightColor(colorObj);\n        logDebugConditionnal(debug, \"is light: \", isLight);\n        if (flipWeightForDark && !isLight) {\n            weight = 1 - weight;\n        }\n        logDebugConditionnal(debug, \"final weight: \", weight);\n        if ((isLight && !inverse) || (!isLight && inverse)) {\n            output = colorObj.darken(weight);\n        } else {\n            output = colorObj.lighten(weight);\n        }\n        logDebugConditionnal(debug, \"output: \", output);\n        logDebugConditionnal(debug, \"output: \");\n        logDebugConditionnal(debug, \"=== end modifyColorBasedOnLightness debug ===\");\n        return output;\n    };\n\n    /*\n     * Color modification based on colors lightness. This function will make darks darker and lights lighter. Note, however, that if we pass\n     * pure white or pure black, the modification goes in the opposite direction, to maintain contrast if \"flipIfMax\" is true.\n     * This function is meant for smart defaults and works best with smaller weights. Not really meant for theming. There is a curve\n     * to the weight compensate for the fact that subtle weights works well for light colors, but not for dark ones (roughly 10 times\n     * less for pure black). This curve starts with colors .4 lightness or less and is accentuated more as we get closer to pure black.\n     * @param color - The color we're checking and modifying\n     * @param weight - The amount you want to mix the two colors (value from 0 to 1)\n     * @param flipIfMax - Modify in the opposite direction if we're darker than black or whiter than white.\n     */\n    static offsetLightness = (\n        referenceColorValue: ColorHelper | string,\n        weight: number,\n        flipIfMax: boolean = true,\n        debug: boolean = false,\n    ): ColorHelper => {\n        const colorValue = ColorsUtils.ensureColorHelper(referenceColorValue);\n        const colorLightness = colorValue.lightness();\n        let weightOffset = 1;\n        if (!ColorsUtils.isLightColor(colorValue)) {\n            weightOffset = Math.abs(colorLightness - 0.45) * 20; // Seems darker colors need more contrast than light colors to get the same impact\n        }\n\n        const weightCurved = weight * weightOffset;\n        const colorDarker = colorValue.darken(weightCurved) as ColorHelper;\n        const colorLighter = colorValue.lighten(weightCurved) as ColorHelper;\n\n        if (ColorsUtils.isLightColor(colorValue)) {\n            if (colorLightness + weightCurved > 1 && flipIfMax) {\n                return colorLighter;\n            } else {\n                return colorDarker;\n            }\n        } else {\n            if (colorLightness - weightCurved > 0 && !flipIfMax) {\n                return colorLighter;\n            } else {\n                return colorDarker;\n            }\n        }\n    };\n\n    /*\n     * Color modification based on saturation.\n     * @param referenceColor - The reference colour to determine if we're in a dark or light context.\n     * @param colorToModify - The color you wish to modify\n     * @param percentage - The amount you want to mix the two colors\n     * @param flip - By default we darken light colours and lighten darks, but if you want to get the opposite result, use this param\n     */\n    static modifyColorSaturationBasedOnLightness = (\n        c: ColorHelper | string,\n        weight: number,\n        flip: boolean = false,\n    ): ColorHelper => {\n        const colorObj = ColorsUtils.ensureColorHelper(c);\n        if (weight > 1 || weight < 0) {\n            throw new Error(\"mixAmount must be a value between 0 and 1 inclusively.\");\n        }\n\n        const isSaturated = colorObj.lightness() >= 0.5;\n\n        if ((isSaturated && !flip) || (!isSaturated && flip)) {\n            // Desaturate\n            return colorObj.desaturate(weight);\n        } else {\n            // Saturate\n            return colorObj.saturate(weight);\n        }\n    };\n}\n","/**\n * Application functions for interop between Components in different packages.\n *\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport gdn from \"@library/gdn\";\nimport { PromiseOrNormalCallback } from \"@vanilla/utils\";\nimport isUrl from \"validator/lib/isURL\";\nimport { ensureScript } from \"@vanilla/dom-utils\";\nimport { sprintf } from \"sprintf-js\";\n\n// Re-exported for backwards compatibility\nexport { t, translate } from \"@vanilla/i18n\";\n\n// Absolute path pattern\nconst ABSOLUTE_PATH_REGEX = /^\\s*(https?:)?\\/\\//i;\n\n/**\n * Get a piece of metadata passed from the server.\n *\n * @param key - The key to lookup.\n * @param defaultValue - A fallback value in case the key cannot be found.\n *\n * @returns Returns a meta value or the default value.\n */\nexport function getMeta(key: string, defaultValue?: any) {\n    if (!gdn.meta) {\n        return defaultValue;\n    }\n\n    const parts = key.split(\".\");\n    let haystack = gdn.meta;\n\n    for (const part of parts) {\n        if (!haystack.hasOwnProperty(part)) {\n            return defaultValue;\n        }\n        haystack = haystack[part];\n    }\n    return haystack;\n}\n\n/**\n * Set a piece of metadata. This will override what was passed from the server.\n *\n * @param key - The key to store under.\n * @param value - The value to set.\n */\nexport function setMeta(key: string, value: any) {\n    const parts = key.split(\".\");\n    const last = parts.pop();\n\n    if (!last) {\n        throw new Error(`Unable to set meta value ${key}. ${last} is not a valid object key.`);\n    }\n\n    let haystack = gdn.meta;\n\n    for (const part of parts) {\n        if (haystack[part] === null || typeof haystack[part] !== \"object\") {\n            haystack[part] = {};\n        }\n        haystack = haystack[part];\n    }\n    haystack[last] = value;\n}\n\n/**\n * Determine if a string is an allowed URL.\n *\n * In the future this may be extended to check if we want to whitelist/blacklist various URLs.\n *\n * @param input - The string to check.\n */\nexport function isAllowedUrl(input: string): boolean {\n    // Options https://github.com/chriso/validator.js#validators\n    const options = {\n        protocols: [\"http\", \"https\"],\n        require_tld: true,\n        require_protocol: true,\n        require_host: true,\n        require_valid_protocol: true,\n        allow_trailing_dot: false,\n        allow_protocol_relative_urls: false,\n    };\n    return isUrl(input, options);\n}\n\ninterface ISiteSection {\n    basePath: string;\n    contentLocale: string;\n    sectionGroup: string;\n    sectionID: string;\n    name: string;\n    apps: Record<string, boolean>;\n    attributes: Record<string, any>;\n}\n\n/**\n * Get the current site section.\n */\nexport function getSiteSection(): ISiteSection {\n    return getMeta(\"siteSection\");\n}\n\n/**\n * Format a URL in the format passed from the controller.\n *\n * @param path - The path to format.\n *\n * @returns Returns a URL that can be used in the APP.\n */\nexport function formatUrl(path: string, withDomain: boolean = false): string {\n    // Test if this is an absolute path\n    if (ABSOLUTE_PATH_REGEX.test(path)) {\n        return path;\n    }\n\n    // Subcommunity slug OR subcommunity\n    let siteRoot = getMeta(\"context.basePath\", \"\");\n\n    if (path.startsWith(\"~\")) {\n        path = path.replace(/^~/, \"\");\n        siteRoot = getMeta(\"context.host\", \"\");\n    }\n\n    // The context paths that come down are expect to have no / at the end of them.\n    // Normally a domain like so: https://someforum.com\n    // When we don't have that we want to fallback to \"\" so that our path with a / can get passed.\n    const urlBase = withDomain ? window.location.origin + siteRoot : siteRoot;\n    return urlBase + path;\n}\n\n/**\n * Generate a URL from the site's web root.\n *\n * No site section will be included.\n */\nexport function siteUrl(path: string): string {\n    // Test if this is an absolute path\n    if (ABSOLUTE_PATH_REGEX.test(path)) {\n        return path;\n    }\n\n    // The context paths that come down are expect to have no / at the end of them.\n    // Normally a domain like so: https://someforum.com\n    // When we don't have that we want to fallback to \"\" so that our path with a / can get passed.\n    let urlBase = window.location.origin;\n\n    const host = getMeta(\"context.host\", \"\");\n    if (!path.startsWith(host)) {\n        urlBase += host;\n    }\n    return urlBase + path;\n}\n\n/**\n * Extract relative URL part from absolute full URL.\n *\n * @param fullUrl - The absolute url to transform.\n *\n * @returns Returns a URL that can be used in the APP.\n */\nexport function getRelativeUrl(fullUrl: string): string {\n    const urlBase = window.location.origin + getMeta(\"context.basePath\", \"\");\n    return fullUrl.replace(urlBase, \"\");\n}\n\n/**\n * Create the URL of an asset of the site.\n *\n * @param path - The path to format.\n *\n * @returns Returns a URL that can be used for a static asset.\n */\nexport function assetUrl(path: string): string {\n    // Test if this is an absolute path\n    if (ABSOLUTE_PATH_REGEX.test(path)) {\n        return path;\n    }\n    // The context paths that come down are expect to have no / at the end of them.\n    // Normally a domain like so: https://someforum.com\n    // When we don't have that we want to fallback to \"\" so that our path with a / can get passed.\n    const staticPathFolder = getMeta(\"context.staticPathFolder\", \"\");\n    const urlFormat = getMeta(\"context.assetPath\", \"\");\n    return staticPathFolder + urlFormat + path;\n}\n\n/**\n * Create the URL to the theme's asset folder\n *\n * @param path - The path to format.\n *\n * @returns Returns a URL that can be used for a static asset.\n */\nexport function themeAsset(path: string): string {\n    const themeKey = getMeta(\"ui.themeKey\");\n    return assetUrl(`/themes/${themeKey}/${path}`);\n}\n\n/**\n * @type {Array}\n * @private\n */\nconst _readyHandlers: PromiseOrNormalCallback[] = [];\n\n/**\n * Register a callback that executes when the document and the core libraries are ready to use.\n *\n * @param callback - The function to call. This can return a Promise but doesn't have to.\n */\nexport function onReady(callback: PromiseOrNormalCallback) {\n    _readyHandlers.push(callback);\n}\n\n/**\n * Execute all of the registered events in order.\n *\n * @returns A Promise when the events have all fired.\n */\nexport function _executeReady(): Promise<any[]> {\n    return new Promise((resolve) => {\n        const handlerPromises = _readyHandlers.map((handler) => handler());\n        const exec = () => {\n            return Promise.all(handlerPromises).then(resolve);\n        };\n\n        if (document.readyState !== \"loading\") {\n            return exec();\n        } else {\n            document.addEventListener(\"DOMContentLoaded\", exec);\n        }\n    });\n}\n\n/**\n * Execute a callback when a piece of DOM content is ready to be operated on.\n *\n * This is similar to onReady() but also includes content that is added dynamically (ex. AJAX).\n * Note that this function is meant to bridge the non-react parts of the application with react.\n *\n * @param callback - The callback to execute.\n */\nexport function onContent(callback: (event: CustomEvent) => void) {\n    document.addEventListener(\"X-DOMContentReady\", callback);\n}\n\n/**\n * Remove a listener registered with `onContent`.\n */\nexport function removeOnContent(callback: (event: CustomEvent) => void) {\n    document.removeEventListener(\"X-DOMContentReady\", callback);\n}\n\n/**\n * Make a URL to a user's profile.\n */\nexport function makeProfileUrl(username: string) {\n    const userPath = `/profile/${encodeURIComponent(username)}`;\n    return formatUrl(userPath, true);\n}\n\ninterface IRecaptcha {\n    execute: (string) => string;\n}\n\n/**\n * Ensure that we have loaded the rec\n */\nexport async function ensureReCaptcha(): Promise<IRecaptcha | null> {\n    const siteKey = getMeta(\"reCaptchaKey\");\n    if (!siteKey) {\n        return null;\n    }\n    await ensureScript(`https://www.google.com/recaptcha/api.js?render=${siteKey}`);\n\n    return { execute: (siteKey) => window.grecaptcha.execute(siteKey) };\n}\n\n/**\n * Translation helper for accessible labels, because <Translate/> doesn't return as string\n * @param template - the template for the string (must be translated ahead of time)\n * @param variable - the variable to insert in the template\n */\nexport function accessibleLabel(template: string, variable: string[]) {\n    return sprintf(template, variable);\n}\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\nimport {\n    IBackground,\n    IBorderRadiusOptions,\n    IBorderRadiusOutput,\n    IBorderStyles,\n    IBoxOptions,\n    IClickableItemOptions,\n    IFont,\n    ILinkColorOverwritesWithOptions,\n    IMixedBorderStyles,\n    IContentBoxes,\n    ISimpleBorderStyle,\n    ISpacing,\n    TLength,\n} from \"@library/styles/cssUtilsTypes\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { ColorHelper, important, percent, px } from \"csx\";\nimport { CSSObject } from \"@emotion/css\";\nimport {\n    BorderRadiusProperty,\n    BorderStyleProperty,\n    BorderWidthProperty,\n    LeftProperty,\n    PositionProperty,\n    RightProperty,\n    BottomProperty,\n} from \"csstype\";\nimport merge from \"lodash/merge\";\nimport { getValueIfItExists } from \"@library/forms/borderStylesCalculator\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { getBackgroundImage } from \"@library/styles/styleHelpersBackgroundStyling\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { IGlobalBorderStyles } from \"@library/styles/cssUtilsTypes\";\nimport { monoFallbacks, fontFallbacks } from \"@library/styles/fontFallbacks\";\nimport { Variables } from \"@library/styles/Variables\";\nimport { BorderType, singleBorder } from \"@library/styles/styleHelpersBorders\";\nimport { shadowHelper } from \"@library/styles/shadowHelpers\";\nimport { notEmpty } from \"@vanilla/utils\";\n\nexport class Mixins {\n    constructor() {\n        throw new Error(\"Not to be instantiated\");\n    }\n\n    public static box = (boxOptions: IBoxOptions): CSSObject => {\n        let { background, borderType, spacing, border, itemSpacingOnAllItems } = boxOptions;\n        const globalVars = globalVariables();\n\n        border = {\n            ...globalVariables().borderType.contentBox,\n            ...border,\n        };\n\n        const boxHasSetPaddings = Object.values(spacing).filter(notEmpty).length > 0;\n\n        const hasBackground = (background.color || background.image) && !background.unsetBackground;\n\n        // We have a clearly defined box of sometype.\n        // Anything that makes the box stand out from the background on all side\n        // Means we should apply some default behaviours, like paddings, and borderRadius.\n        const hasFullOutline = [BorderType.BORDER, BorderType.SHADOW].includes(borderType) || hasBackground;\n        if (!boxHasSetPaddings && hasFullOutline) {\n            spacing = { horizontal: 16, vertical: borderType === BorderType.SEPARATOR ? 0 : 16 };\n        }\n        let itemSpacing = boxOptions.itemSpacing || (hasFullOutline ? 16 : 0);\n        return {\n            // Resets\n            padding: 0,\n            border: \"none\",\n            boxShadow: \"none\",\n            borderRadius: hasFullOutline ? ((border.radius ?? globalVars.border.radius) as any) : 0,\n            background: \"none\",\n            clear: \"both\",\n\n            // Debugging\n            \"--border-type\": borderType,\n\n            \"&:before\": {\n                display: \"none\",\n            },\n            \"&:after\": {\n                display: \"none\",\n            },\n\n            // Apply styles\n            ...Mixins.background(background),\n            ...Mixins.borderType(borderType, { border }),\n            ...Mixins.padding(spacing),\n            ...(hasFullOutline || borderType === BorderType.SEPARATOR\n                ? {\n                      \"& .pageBox:first-of-type:before\": {\n                          // Hide separator\n                          display: \"none\",\n                      },\n                      \"& .pageBox:last-of-type:after\": {\n                          // Hide separator\n                          display: \"none\",\n                      },\n                  }\n                : {}),\n            ...(hasFullOutline\n                ? {\n                      \"& + .pageBox\": Mixins.margin({ top: itemSpacing }),\n                  }\n                : {}),\n            ...(itemSpacingOnAllItems ? Mixins.margin({ vertical: itemSpacing }) : {}),\n        };\n    };\n\n    public static borderType(borderType: BorderType, options?: { border?: IBorderStyles }): CSSObject {\n        switch (borderType) {\n            case BorderType.BORDER:\n                return {\n                    ...Mixins.border(options?.border),\n                };\n            case BorderType.SHADOW:\n                return {\n                    ...shadowHelper().embed(),\n                };\n            case BorderType.SEPARATOR:\n                return {\n                    \"&:before\": {\n                        content: `\"\"`,\n                        display: \"block\",\n                        height: 16,\n                        width: \"calc(100% + 16px)\",\n                        marginLeft: -8,\n                        borderTop: singleBorder(),\n                    },\n                    \"&:after\": {\n                        content: `\"\"`,\n                        display: \"block\",\n                        height: 16,\n                        width: \"calc(100% + 16px)\",\n                        marginLeft: -8,\n                        borderBottom: singleBorder(),\n                    },\n                    // & + & doesn't work.\n                    // https://github.com/emotion-js/emotion/issues/1922\n                    \"& + .pageBox:before\": {\n                        borderTop: \"none\",\n                    },\n                };\n            case BorderType.NONE:\n            default:\n                return {};\n        }\n    }\n\n    private static spacing(property: \"margin\" | \"padding\", spacings?: ISpacing): CSSObject {\n        if (!spacings) {\n            return {};\n        }\n\n        const spacingVals: CSSObject = {};\n\n        const propertyLeft = `${property}Left`;\n        const propertyRight = `${property}Right`;\n        const propertyTop = `${property}Top`;\n        const propertyBottom = `${property}Bottom`;\n\n        if (spacings.all !== undefined) {\n            spacingVals[propertyTop] = styleUnit(spacings.all);\n            spacingVals[propertyRight] = styleUnit(spacings.all);\n            spacingVals[propertyBottom] = styleUnit(spacings.all);\n            spacingVals[propertyLeft] = styleUnit(spacings.all);\n        }\n\n        if (spacings.vertical !== undefined) {\n            spacingVals[propertyTop] = styleUnit(spacings.vertical);\n            spacingVals[propertyBottom] = styleUnit(spacings.vertical);\n        }\n\n        if (spacings.horizontal !== undefined) {\n            spacingVals[propertyLeft] = styleUnit(spacings.horizontal);\n            spacingVals[propertyRight] = styleUnit(spacings.horizontal);\n        }\n\n        if (spacings.top !== undefined) {\n            spacingVals[propertyTop] = styleUnit(spacings.top);\n        }\n\n        if (spacings.right !== undefined) {\n            spacingVals[propertyRight] = styleUnit(spacings.right);\n        }\n\n        if (spacings.bottom !== undefined) {\n            spacingVals[propertyBottom] = styleUnit(spacings.bottom);\n        }\n\n        if (spacings.left !== undefined) {\n            spacingVals[propertyLeft] = styleUnit(spacings.left);\n        }\n\n        return spacingVals;\n    }\n\n    static padding(spacing: ISpacing): CSSObject {\n        return Mixins.spacing(\"padding\", spacing);\n    }\n\n    static margin(spacing: ISpacing): CSSObject {\n        return Mixins.spacing(\"margin\", spacing);\n    }\n\n    static font(vars: IFont): CSSObject {\n        return {\n            color: ColorsUtils.colorOut(vars.color),\n            fontSize: vars.size !== undefined ? styleUnit(vars.size) : undefined,\n            fontWeight: vars.weight,\n            lineHeight: vars.lineHeight,\n            textAlign: vars.align,\n            textShadow: vars.shadow,\n            fontFamily: vars.family ? Mixins.fontFamilyWithDefaults(vars.family) : vars.family,\n            textTransform: vars.transform,\n            letterSpacing: vars.letterSpacing,\n            textDecoration: vars.textDecoration,\n        };\n    }\n\n    static fontFamilyWithDefaults(fontFamilies: string[], options: { isMonospaced?: boolean } = {}): string {\n        return fontFamilies\n            .concat(options.isMonospaced ? monoFallbacks : fontFallbacks)\n            .map((font) => (font.includes(\" \") && !font.includes('\"') ? `\"${font}\"` : font))\n            .join(\", \");\n    }\n\n    private static setAllRadii(radius: BorderRadiusProperty<TLength>, options?: IBorderRadiusOptions) {\n        return {\n            borderTopRightRadius: styleUnit(radius, options),\n            borderBottomRightRadius: styleUnit(radius, options),\n            borderBottomLeftRadius: styleUnit(radius, options),\n            borderTopLeftRadius: styleUnit(radius, options),\n        };\n    }\n\n    private static setAllBorders = (\n        color: string,\n        width: BorderWidthProperty<TLength>,\n        style: BorderStyleProperty,\n        radius?: IBorderRadiusOutput,\n        debug = false as boolean | string,\n    ) => {\n        const output = {};\n\n        if (color !== undefined) {\n            merge(output, {\n                borderTopColor: color,\n                borderRightColor: color,\n                borderBottomColor: color,\n                borderLeftColor: color,\n            });\n        }\n\n        if (width !== undefined) {\n            merge(output, {\n                borderTopWidth: styleUnit(width),\n                borderRightWidth: styleUnit(width),\n                borderBottomWidth: styleUnit(width),\n                borderLeftWidth: styleUnit(width),\n            });\n        }\n\n        if (style !== undefined) {\n            merge(output, {\n                borderTopStyle: style,\n                borderRightStyle: style,\n                borderBottomStyle: style,\n                borderLeftStyle: style,\n            });\n        }\n\n        if (radius !== undefined && typeof radius !== \"object\") {\n            merge(output, Mixins.setAllRadii(radius));\n        }\n\n        return output;\n    };\n\n    private static singleBorderStyle(\n        borderStyles: ISimpleBorderStyle,\n        fallbackVariables: IGlobalBorderStyles = globalVariables().border,\n    ) {\n        if (!borderStyles) {\n            return;\n        }\n        const { color, width, style } = borderStyles;\n        const output: ISimpleBorderStyle = {};\n        output.color = color;\n        output.width = styleUnit(borderStyles.width ? borderStyles.width : width);\n        output.style = borderStyles.style ? borderStyles.style : style;\n\n        if (Object.keys(output).length > 0) {\n            return output;\n        } else {\n            return;\n        }\n    }\n\n    static border(\n        detailedStyles?: IBorderStyles | ISimpleBorderStyle | IMixedBorderStyles,\n        options?: {\n            fallbackBorderVariables?: IGlobalBorderStyles;\n            debug?: boolean | string;\n        },\n    ): CSSObject {\n        const { fallbackBorderVariables = globalVariables().border, debug = false } = options || {};\n        const output: CSSObject = {};\n        const style = getValueIfItExists(detailedStyles, \"style\", fallbackBorderVariables.style);\n        const color = getValueIfItExists(detailedStyles, \"color\", fallbackBorderVariables.color).toString();\n        const width = getValueIfItExists(detailedStyles, \"width\", fallbackBorderVariables.width);\n        const radius = getValueIfItExists(detailedStyles, \"radius\", fallbackBorderVariables.radius);\n        const defaultsAll = Mixins.setAllBorders(color, width, style, radius, debug);\n\n        merge(output, defaultsAll);\n\n        // Now we are sure to not have simple styles anymore.\n        detailedStyles = detailedStyles as IBorderStyles;\n        if (!detailedStyles) {\n            // @NOTE: color from fallbackBorderVariables needs to be changed to string type\n            // @ts-ignore\n            detailedStyles = fallbackBorderVariables;\n        }\n\n        const all = getValueIfItExists(detailedStyles, \"all\");\n        if (all) {\n            const allStyles = Mixins.singleBorderStyle(all, fallbackBorderVariables);\n            if (allStyles) {\n                output.borderTopWidth = allStyles?.width ?? width;\n                output.borderTopStyle = getValueIfItExists(allStyles, \"style\", style);\n                output.borderTopColor = getValueIfItExists(allStyles, \"color\", color);\n                output.borderTopRightRadius = getValueIfItExists(all, \"radius\", radius);\n                output.borderBottomRightRadius = getValueIfItExists(all, \"radius\", radius);\n                output.borderBottomLeftRadius = getValueIfItExists(all, \"radius\", radius);\n                output.borderTopLeftRadius = getValueIfItExists(all, \"radius\", radius);\n            }\n        }\n\n        const top = getValueIfItExists(detailedStyles, \"top\");\n        if (top) {\n            const topStyles = Mixins.singleBorderStyle(top, fallbackBorderVariables);\n            if (topStyles) {\n                output.borderTopWidth = getValueIfItExists(topStyles, \"width\", width);\n                output.borderTopStyle = getValueIfItExists(topStyles, \"style\", style);\n                output.borderTopColor = getValueIfItExists(topStyles, \"color\", color);\n                output.borderTopLeftRadius = getValueIfItExists(top, \"radius\", radius);\n                output.borderTopRightRadius = getValueIfItExists(top, \"radius\", radius);\n            }\n        }\n\n        const right = getValueIfItExists(detailedStyles, \"right\");\n\n        if (right) {\n            const rightStyles = Mixins.singleBorderStyle(right, fallbackBorderVariables);\n            if (rightStyles) {\n                output.borderRightWidth = getValueIfItExists(rightStyles, \"width\", width);\n                output.borderRightStyle = getValueIfItExists(rightStyles, \"style\", style);\n                output.borderRightColor = getValueIfItExists(rightStyles, \"color\", color);\n\n                output.borderBottomRightRadius = getValueIfItExists(right, \"radius\", radius);\n                output.borderTopRightRadius = getValueIfItExists(right, \"radius\", radius);\n            }\n        }\n\n        const bottom = getValueIfItExists(detailedStyles, \"bottom\");\n        if (bottom) {\n            const bottomStyles = Mixins.singleBorderStyle(bottom, fallbackBorderVariables);\n            if (bottomStyles) {\n                output.borderBottomWidth = getValueIfItExists(bottomStyles, \"width\", width);\n                output.borderBottomStyle = getValueIfItExists(bottomStyles, \"style\", style);\n                output.borderBottomColor = getValueIfItExists(bottomStyles, \"color\", color);\n                output.borderBottomLeftRadius = getValueIfItExists(bottom, \"radius\", radius);\n                output.borderBottomRightRadius = getValueIfItExists(bottom, \"radius\", radius);\n            }\n        }\n\n        const left = getValueIfItExists(detailedStyles, \"left\");\n\n        if (left) {\n            const leftStyles = Mixins.singleBorderStyle(left, fallbackBorderVariables);\n            if (leftStyles) {\n                output.borderLeftWidth = getValueIfItExists(leftStyles, \"width\", width);\n                output.borderLeftStyle = getValueIfItExists(leftStyles, \"style\", style);\n                output.borderLeftColor = getValueIfItExists(leftStyles, \"color\", color);\n                output.borderBottomLeftRadius = getValueIfItExists(left, \"radius\", radius);\n                output.borderTopLeftRadius = getValueIfItExists(left, \"radius\", radius);\n            }\n        }\n\n        return output;\n    }\n\n    static background(vars: IBackground): CSSObject {\n        const image = getBackgroundImage(vars.image);\n        if (vars.unsetBackground) {\n            return {\n                background: \"none\",\n            };\n        }\n        return {\n            backgroundColor: vars.color ? ColorsUtils.colorOut(vars.color) : undefined,\n            backgroundAttachment: vars.attachment,\n            backgroundPosition: vars.position || `50% 50%`,\n            backgroundRepeat: vars.repeat || \"no-repeat\",\n            backgroundSize: vars.size || \"cover\",\n            backgroundImage: image,\n            opacity: vars.opacity,\n        };\n    }\n\n    static clickable = {\n        itemState: (overwriteColors?: ILinkColorOverwritesWithOptions, options?: IClickableItemOptions): CSSObject => {\n            const vars = globalVariables();\n            const cssProperty = \"color\";\n            const { disableTextDecoration } = options || { disableTextDecoration: false };\n            // We want to default to the standard styles and only overwrite what we want/need\n            const linkColors = vars.links.colors;\n\n            // @NOTE: color from fallbackBorderVariables needs to be changed to string type\n            // @ts-ignore\n            const colors = Variables.clickable(overwriteColors ?? {});\n\n            const mergedColors = {\n                default: !overwriteColors?.skipDefault\n                    ? Mixins.clickable.linkStyleFallbacks(colors.default, undefined, linkColors.default)\n                    : undefined,\n                hover: Mixins.clickable.linkStyleFallbacks(colors.hover, colors.allStates, linkColors.hover),\n                focus: Mixins.clickable.linkStyleFallbacks(colors.focus, colors.allStates, linkColors.focus),\n                clickFocus: Mixins.clickable.linkStyleFallbacks(colors.clickFocus, colors.allStates, linkColors.focus),\n                keyboardFocus: Mixins.clickable.linkStyleFallbacks(\n                    colors.keyboardFocus,\n                    colors.allStates,\n                    linkColors.keyboardFocus,\n                ),\n                active: Mixins.clickable.linkStyleFallbacks(colors.active, colors.allStates, linkColors.active),\n                visited: Mixins.clickable.linkStyleFallbacks(colors.visited, colors.allStates, linkColors.visited),\n            };\n\n            const textDecoration = disableTextDecoration ? important(\"none\") : undefined;\n\n            const styles = {\n                default: {\n                    [cssProperty]: mergedColors.default?.toString(),\n                    textDecoration,\n                },\n                hover: {\n                    [cssProperty]: mergedColors.hover?.toString(),\n                    cursor: \"pointer\",\n                    textDecoration,\n                },\n                focus: {\n                    [cssProperty]: mergedColors.focus?.toString(),\n                    textDecoration,\n                },\n                clickFocus: {\n                    [cssProperty]: mergedColors.focus?.toString(),\n                    textDecoration,\n                },\n                keyboardFocus: {\n                    [cssProperty]: mergedColors.keyboardFocus?.toString(),\n                    textDecoration,\n                },\n                active: {\n                    [cssProperty]: mergedColors.active?.toString(),\n                    cursor: \"pointer\",\n                    textDecoration,\n                },\n                visited: mergedColors.visited\n                    ? {\n                          [cssProperty]: mergedColors.visited?.toString(),\n                          textDecoration,\n                      }\n                    : undefined,\n            };\n\n            const final = {\n                [cssProperty]: styles.default.color?.toString(),\n                \"&:visited\": styles.visited ?? undefined,\n                \"&:hover\": styles.hover,\n                \"&:focus, &.isFocused\": {\n                    ...(styles.focus ?? {}),\n                    ...(styles.clickFocus ?? {}),\n                },\n                \"&.focus-visible\": {\n                    ...(styles.focus ?? {}),\n                    ...(styles.keyboardFocus ?? {}),\n                },\n                \"&:active\": styles.active,\n            };\n            // @NOTE: color from fallbackBorderVariables needs to be changed to string type\n            // @ts-ignore\n            return final;\n        },\n        linkStyleFallbacks: (\n            specificOverwrite?: ColorHelper | string,\n            defaultOverwrite?: ColorHelper | string,\n            globalDefault?: ColorHelper | string,\n        ) => {\n            if (specificOverwrite) {\n                return specificOverwrite;\n            } else if (defaultOverwrite) {\n                return defaultOverwrite;\n            } else {\n                return globalDefault;\n            }\n        },\n    };\n\n    static absolute = {\n        topRight: (top: string | number = \"0\", right: RightProperty<TLength> = px(0)): CSSObject => {\n            return {\n                position: \"absolute\" as PositionProperty,\n                top: styleUnit(top),\n                right: styleUnit(right),\n            };\n        },\n        topLeft: (top: string | number = \"0\", left: LeftProperty<TLength> = px(0)): CSSObject => {\n            return {\n                position: \"absolute\" as PositionProperty,\n                top: styleUnit(top),\n                left: styleUnit(left),\n            };\n        },\n        bottomRight: (bottom: BottomProperty<TLength> = px(0), right: RightProperty<TLength> = px(0)): CSSObject => {\n            return {\n                position: \"absolute\" as PositionProperty,\n                bottom: styleUnit(bottom),\n                right: styleUnit(right),\n            };\n        },\n        bottomLeft: (bottom: BottomProperty<TLength> = px(0), left: LeftProperty<TLength> = px(0)): CSSObject => {\n            return {\n                position: \"absolute\" as PositionProperty,\n                bottom: styleUnit(bottom),\n                left: styleUnit(left),\n            };\n        },\n        middleOfParent: (shrink: boolean = false): CSSObject => {\n            if (shrink) {\n                return {\n                    position: \"absolute\" as PositionProperty,\n                    display: \"inline-block\",\n                    top: percent(50),\n                    left: percent(50),\n                    right: \"initial\",\n                    bottom: \"initial\",\n                    transform: \"translate(-50%, -50%)\",\n                };\n            } else {\n                return {\n                    position: \"absolute\" as PositionProperty,\n                    display: \"block\",\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    maxHeight: percent(100),\n                    maxWidth: percent(100),\n                    margin: \"auto\",\n                };\n            }\n        },\n        middleLeftOfParent: (left: LeftProperty<TLength> = px(0)): CSSObject => {\n            return {\n                position: \"absolute\" as PositionProperty,\n                display: \"block\",\n                top: 0,\n                left,\n                bottom: 0,\n                maxHeight: percent(100),\n                maxWidth: percent(100),\n                margin: \"auto 0\",\n            };\n        },\n        middleRightOfParent: (right: RightProperty<TLength> = px(0)): CSSObject => {\n            return {\n                position: \"absolute\" as PositionProperty,\n                display: \"block\",\n                top: 0,\n                right,\n                bottom: 0,\n                maxHeight: percent(100),\n                maxWidth: percent(100),\n                margin: \"auto 0\",\n            };\n        },\n        fullSizeOfParent: (): CSSObject => {\n            return {\n                display: \"block\",\n                position: \"absolute\" as PositionProperty,\n                top: px(0),\n                left: px(0),\n                width: percent(100),\n                height: percent(100),\n            };\n        },\n        srOnly: (): CSSObject => {\n            return {\n                position: important(\"absolute\"),\n                display: important(\"block\"),\n                width: important(px(1).toString()),\n                height: important(px(1).toString()),\n                padding: important(px(0).toString()),\n                margin: important(px(-1).toString()),\n                overflow: important(\"hidden\"),\n                clip: important(`rect(0, 0, 0, 0)`),\n                border: important(px(0).toString()),\n            };\n        },\n    };\n\n    static flex = {\n        middle: (wrap = false): CSSObject => {\n            return {\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                flexWrap: wrap ? \"wrap\" : \"nowrap\",\n            };\n        },\n        spaceBetween: (wrap = false): CSSObject => {\n            return {\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"space-between\",\n                flexWrap: wrap ? \"wrap\" : \"nowrap\",\n            };\n        },\n\n        middleLeft: (wrap = false): CSSObject => {\n            return {\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"flex-start\",\n                flexWrap: wrap ? \"wrap\" : \"nowrap\",\n            };\n        },\n\n        inheritHeightClass: useThemeCache(() => {\n            const style = styleFactory(\"inheritHeight\");\n            return style({\n                display: \"flex\",\n                flexDirection: \"column\",\n                flexGrow: 1,\n                position: \"relative\",\n            });\n        }),\n    };\n}\n","import getStore from \"@library/redux/getStore\";\nimport { getMeta } from \"@library/utility/appUtils\";\nimport memoize from \"lodash/memoize\";\nimport { hashString } from \"@vanilla/utils\";\nimport { useEffect, useState } from \"react\";\n\n// A unique identifier that represents the current state of the theme.\nlet _themeCacheID = hashString(Math.random().toString());\n// Event name for resetting the theme cacheID.\n\nexport const THEME_CACHE_EVENT = \"V-Clear-Theme-Cache\";\n\nexport function resetThemeCache() {\n    _themeCacheID = hashString(Math.random().toString());\n    document.dispatchEvent(new CustomEvent(THEME_CACHE_EVENT, { detail: _themeCacheID }));\n    return _themeCacheID;\n}\n\nexport function useThemeCacheID() {\n    const [cacheID, setCacheID] = useState(_themeCacheID);\n    useEffect(() => {\n        const listener = (e: CustomEvent) => {\n            setCacheID(e.detail);\n        };\n        document.addEventListener(THEME_CACHE_EVENT, listener);\n\n        return () => {\n            document.removeEventListener(THEME_CACHE_EVENT, listener);\n        };\n    });\n\n    return { cacheID, resetThemeCache };\n}\n/**\n * Wrap a callback so that it will only run once with a particular set of global theme variables.\n *\n * @param callback The function to wrap.\n */\n\nexport function useThemeCache<Cb>(callback: Cb): Cb {\n    const makeCacheKey = (...args) => {\n        const storeState = getStore().getState();\n        const themeKey = getMeta(\"ui.themeKey\", \"default\");\n        const status = storeState.theme.assets.status;\n        const cacheKey = themeKey + status + _themeCacheID;\n        const result = cacheKey + JSON.stringify(args);\n        return result;\n    };\n    return memoize(callback as any, makeCacheKey);\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ButtonPreset } from \"@library/forms/ButtonPreset\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { IBackground } from \"@library/styles/cssUtilsTypes\";\nimport { fontFallbacks, monoFallbacks } from \"@library/styles/fontFallbacks\";\nimport { BorderType } from \"@library/styles/styleHelpersBorders\";\nimport { variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { Variables } from \"@library/styles/Variables\";\nimport { IThemeVariables } from \"@library/theming/themeReducer\";\nimport { logDebug, logError, logWarning } from \"@vanilla/utils\";\nimport { color, ColorHelper, rgba } from \"csx\";\n\nexport enum GlobalPreset {\n    DARK = \"dark\",\n    LIGHT = \"light\",\n}\n\nexport const FULL_GUTTER = 40;\n\nexport const defaultFontFamily = \"Open Sans\";\n\nexport const globalVariables = useThemeCache((forcedVars?: IThemeVariables) => {\n    // let colorPrimary = color(\"#0291db\");\n    let colorPrimary = color(\"#037DBC\");\n    const makeThemeVars = variableFactory(\"global\", forcedVars);\n\n    const constants = makeThemeVars(\"constants\", {\n        stateColorEmphasis: 0.15,\n        fullGutter: FULL_GUTTER,\n        states: {\n            hover: {\n                bgEmphasis: 0.08,\n                borderEmphasis: 0.7,\n            },\n            selected: {\n                bgEmphasis: 0.5,\n                borderEmphasis: 1,\n            },\n            active: {\n                bgEmphasis: 0.2,\n                borderEmphasis: 1,\n            },\n            focus: {\n                bgEmphasis: 0.15,\n                borderEmphasis: 1,\n            },\n        },\n    });\n\n    const options = makeThemeVars(\n        \"options\",\n        /**\n         * @var global.options.preset\n         * @title  Options Preset\n         * @description Choose global preset\n         * @type string\n         * @enum light | dark\n         */\n        { preset: GlobalPreset.LIGHT },\n    );\n\n    const elementaryColors = {\n        black: color(\"#000\"),\n        almostBlack: color(\"#323639\"),\n        white: color(\"#fff\"),\n        transparent: rgba(0, 0, 0, 0),\n    };\n\n    /**\n     * @varGroup global.mainColors\n     * @commonDescription Global main colors\n     */\n    const initialMainColors = makeThemeVars(\"mainColors\", {\n        /**\n         * @var global.mainColors.fg\n         * @title Main Colors - Foreground\n         * @description Sets the foreground color\n         * @type string\n         * @format hex-color\n         */\n        fg: options.preset === GlobalPreset.LIGHT ? color(\"#555a62\") : elementaryColors.white,\n        /**\n         * @var global.mainColors.bg\n         * @title Main Colors - Background\n         * @description Sets the background color\n         * @type string\n         * @format hex-color\n         */\n        bg: options.preset === GlobalPreset.LIGHT ? elementaryColors.white : elementaryColors.almostBlack,\n        /**\n         * @var global.mainColors.primary\n         * @title Main Colors - Primary\n         * @description Sets the primary color\n         * @type string\n         * @format hex-color\n         */\n        primary: colorPrimary,\n        /**\n         * @var global.mainColors.primaryContrast\n         * @title Main Colors - Primary Contrast\n         * @description Primary color for contrast\n         * @type string\n         * @format hex-color\n         */\n        primaryContrast: elementaryColors.white, // for good contrast with text.\n        /**\n         * @var global.mainColors.secondary\n         * @title Main Colors - Secondary\n         * @description Sets the secondary color\n         * @type string\n         * @format hex-color\n         */\n        secondary: colorPrimary,\n        /**\n         * @var global.mainColors.secondaryContrast\n         * @title Main Colors - Secondary Contrast\n         * @description Secondary color for contrast\n         * @type string\n         * @format hex-color\n         */\n        secondaryContrast: elementaryColors.white, // for good contrast with text.\n    });\n\n    colorPrimary = initialMainColors.primary;\n    const colorSecondary = initialMainColors.secondary;\n\n    // Shorthand checking bg color for darkness\n    const getRatioBasedOnBackgroundDarkness = (\n        weight: number,\n        color: ColorHelper = mainColors ? mainColors.bg : initialMainColors.bg,\n    ) => {\n        return ColorsUtils.getRatioBasedOnDarkness(weight, color);\n    };\n\n    const generatedMainColors = makeThemeVars(\"mainColors\", {\n        primaryContrast: ColorsUtils.isLightColor(colorPrimary) ? elementaryColors.almostBlack : elementaryColors.white, // High contrast color, for bg/fg or fg/bg contrast. Defaults to bg.\n        /**\n         * @var global.mainColors.statePrimary\n         * @title Main Colors - State Primary\n         * @type string\n         * @format hex-color\n         */\n        statePrimary: ColorsUtils.offsetLightness(colorPrimary, 0.04), // Default state color change\n        secondary: ColorsUtils.offsetLightness(colorPrimary, 0.05),\n        /**\n         * @var global.mainColors.stateSecondary\n         * @title Main Colors - State Secondary\n         * @type string\n         * @format hex-color\n         */\n        stateSecondary: undefined, // Calculated below, but you can overwrite it here.\n        secondaryContrast: ColorsUtils.isLightColor(colorSecondary)\n            ? elementaryColors.almostBlack\n            : elementaryColors.white,\n    });\n\n    const mainColors = {\n        ...initialMainColors,\n        ...generatedMainColors,\n    };\n\n    const mixBgAndFg = (weight: number) => {\n        return mainColors.fg.mix(mainColors.bg, weight) as ColorHelper;\n    };\n\n    const mixPrimaryAndFg = (weight: number) => {\n        return mainColors.primary.mix(mainColors.fg, getRatioBasedOnBackgroundDarkness(weight)) as ColorHelper;\n    };\n\n    const mixPrimaryAndBg = (weight: number) => {\n        return mainColors.primary.mix(mainColors.bg, getRatioBasedOnBackgroundDarkness(weight)) as ColorHelper;\n    };\n\n    /**\n     * @varGroup global.messageColors\n     * @commonDescription Global message colors\n     */\n    const messageColors = makeThemeVars(\"messageColors\", {\n        /**\n         * @varGroup global.messageColors.warning\n         * @commonDescription Message - Warning\n         */\n        warning: {\n            /**\n             * @var global.messageColors.warning.fg\n             * @type string\n             * @format hex-color\n             */\n            fg: color(\"#4b5057\"),\n            /**\n             * @var global.messageColors.warning.bg\n             * @type string\n             * @format hex-color\n             */\n            bg: color(\"#fff1ce\"),\n            /**\n             * @var global.messageColors.warning.state\n             * @type string\n             * @format hex-color\n             */\n            state: color(\"#e55a1c\"),\n        },\n        /**\n         * @varGroup global.messageColors.error\n         * @commonDescription Message - Error\n         */\n        error: {\n            /**\n             * @var global.messageColors.error.fg\n             * @type string\n             * @format hex-color\n             */\n            fg: color(\"#d0021b\"),\n            /**\n             * @var global.messageColors.error.bg\n             * @type string\n             * @format hex-color\n             */\n            bg: color(\"#FFF3D4\"),\n        },\n        /**\n         * @var global.messageColors.confirm\n         * @type string\n         * @format hex-color\n         */\n        confirm: color(\"#60bd68\"),\n        /**\n         * @varGroup global.messageColors.deleted\n         * @commonDescription Message - Deleted\n         */\n        deleted: {\n            /**\n             * @var global.messageColors.deleted.fg\n             * @type string\n             * @format hex-color\n             */\n            fg: color(\"#D0021B\"),\n            /**\n             * @var global.messageColors.deleted.bg\n             * @type string\n             * @format hex-color\n             */\n            bg: color(\"#D0021B\"),\n        },\n    });\n\n    const links = makeThemeVars(\"links\", {\n        /**\n         * @varGroup global.links.colors\n         * @commonTitle Global Link Colors\n         * @expand clickable\n         */\n        colors: {\n            default: mainColors.secondary,\n            hover: undefined,\n            focus: undefined,\n            keyboardFocus: undefined,\n            active: undefined,\n            visited: undefined,\n        },\n    });\n\n    // Generated derived colors from mainColors.\n    // You can set all of them by setting generatedMainColors.stateSecondary\n    // You can set individual states with links.colors[\"your state\"]\n    // Will default to variation of links.colors.default (which is by default the secondary color)\n    Object.keys(links.colors).forEach((state) => {\n        if (state !== \"default\" && state !== \"visited\") {\n            if (!links[state]) {\n                links.colors[state] =\n                    generatedMainColors.stateSecondary ?? ColorsUtils.offsetLightness(links.colors.default, 0.008);\n            }\n        }\n    });\n\n    interface IBody {\n        backgroundImage: IBackground;\n    }\n\n    const body: IBody = makeThemeVars(\"body\", {\n        /**\n         * @varGroup global.body.backgroundImage\n         * @description Background variables for the page.\n         * @expand background\n         */\n        backgroundImage: Variables.background({\n            color: mainColors.bg,\n        }),\n    });\n\n    const border = makeThemeVars(\"border\", {\n        /**\n         * @var global.border.color\n         * @title Border Color\n         * @description Choose the color of the border.\n         * @type string\n         * @format hex-color\n         */\n        color: mixBgAndFg(0.2),\n        /**\n         * @var global.border.width\n         * @title Border Hover Color\n         * @description Choose the hover color of the border.\n         * @type string\n         * @format hex-color\n         */\n        colorHover: mixBgAndFg(0.4),\n        /**\n         * @var global.border.width\n         * @title Border Width\n         * @description Choose the width of the border.\n         * @type number|string\n         */\n        width: 1,\n        /**\n         * @var global.border.style\n         * @title Border Style\n         * @description Choose the style of the border.\n         * @type number|string\n         */\n        style: \"solid\",\n        /**\n         * @var global.border.radius\n         * @title  Border Radius\n         * @description Choose the radius of the border.\n         * @type number|string\n         */\n        radius: 6, // Global default\n    });\n\n    const borderType = makeThemeVars(\"borderType\", {\n        formElements: {\n            default: {\n                ...border,\n                color: mixBgAndFg(0.35).saturate(0.1),\n            },\n            buttons: border,\n        },\n        modals: border,\n        dropDowns: border,\n        contentBox: border,\n    });\n\n    const gutterSize = 16;\n    // @Deprecated - It's confusing that this gutter is 16 and the layout is 48.\n    // TODO: Refactor\n    /**\n     * @varGroup global.gutter\n     * @commonTitle Global - Gutter\n     */\n    const gutter = makeThemeVars(\"gutter\", {\n        /**\n         * @var global.gutter.size\n         */\n        size: gutterSize,\n        /**\n         * @var global.gutter.half\n         */\n        half: gutterSize / 2,\n        /**\n         * @var global.gutter.quater\n         */\n        quarter: gutterSize / 4,\n    });\n\n    /*\n    // The gutter used to be like this:\n    //     size: 16,\n    //     half: 8,\n    //     quarter: 4,\n    //\n    // This was very confusing because the layout uses \"gutter\" as well, but very different values.\n    //\n    // the fractions are not ideal, but it gives the same style as before without having 2 wildly different \"gutter\" sizes\n    //\n    // Mapping:\n    // size -> third\n    // half -> sixth\n    // quarter -> twelfth\n\n    const gutter = {\n        size: constants.fullGutter,\n        half: constants.fullGutter / 2, // 24\n        third: constants.fullGutter / 3, // 16\n        sixth: constants.fullGutter / 6, // 8\n        twelfth: constants.fullGutter / 12, // 4\n    };\n    */\n\n    /**\n     * @varGroup global.lineHeight\n     * @commonTitle Global - Line Height\n     */\n    const lineHeights = makeThemeVars(\"lineHeight\", {\n        /**\n         * @var global.lineHeight.base\n         */\n        base: 1.5,\n        /**\n         * @var global.lineHeight.condensed\n         */\n        condensed: 1.25,\n        /**\n         * @var global.lineHeight.code\n         */\n        code: 1.45,\n        /**\n         * @var global.lineHeight.excerpt\n         */\n        excerpt: 1.4,\n        /**\n         * @var global.lineHeight.meta\n         */\n        meta: 1.5,\n    });\n\n    // Three column\n    // 216 + 40 + 672 + 40 + 216 = 1184 (correct full width of three column layout)\n    // 1184 + 40 = 1224 - padded\n    // 1184 - 343px =  (two column layout)\n    //                                           52 (Extra space) + 244px (Foundation)\n\n    // These globals are here because the layout system was created based on a 3 column layout\n    // These variables are used as a starting off point and as a base, but each layout can define\n    // its own variables. These are the globals from which the rest is calculated.\n    const foundationalWidths = makeThemeVars(\"foundationalWidths\", {\n        panelWidth: 216,\n        middleColumn: 672,\n        minimalMiddleColumnWidth: 550, // Will break if middle column width is smaller than this value.\n        narrowContentWidth: 900, // For home page widgets, narrower than full width\n        breakPoints: {\n            // Other break points are calculated\n            twoColumns: 1200,\n            xs: 500,\n        },\n    });\n\n    const widgetInit = makeThemeVars(\"widget\", {\n        /**\n         * @var global.widget.padding\n         */\n        padding: 10,\n    });\n\n    const widget = makeThemeVars(\"widget\", {\n        ...widgetInit,\n        paddingBothSides: widgetInit.padding * 2,\n    });\n\n    const panelInit = makeThemeVars(\"panel\", {\n        /**\n         * @var global.panel.width\n         */\n        width: foundationalWidths.panelWidth,\n    });\n\n    const panel = makeThemeVars(\"panel\", {\n        ...panelInit,\n        paddedWidth: panelInit.width + widget.paddingBothSides,\n    });\n\n    const middleColumnInit = makeThemeVars(\"middleColumn\", {\n        width: foundationalWidths.middleColumn,\n    });\n\n    const middleColumn = makeThemeVars(\"middleColumn\", {\n        width: middleColumnInit.width,\n        paddedWidth: middleColumnInit.width + widget.paddingBothSides,\n    });\n\n    const contentWidth = middleColumn.paddedWidth + panel.paddedWidth * 2;\n\n    const fontsInit0 = makeThemeVars(\"fonts\", {\n        /**\n         * @varGroup global.fonts.size\n         * @commonDescription Preset global font size\n         */\n        size: {\n            /**\n             * @var global.fonts.size.large\n             */\n            large: 16,\n            /**\n             * @var global.fonts.size.medium\n             */\n            medium: 14,\n            /**\n             * @var global.fonts.size.small\n             */\n            small: 12,\n            /**\n             * @var global.fonts.size.largeTitle\n             */\n            largeTitle: 32,\n            /**\n             * @var global.fonts.size.title\n             */\n            title: 22,\n            /**\n             * @var global.fonts.size.subTitle\n             */\n            subTitle: 18,\n        },\n        sizeWeight: {\n            large: undefined as undefined | number,\n            medium: undefined as undefined | number,\n            small: undefined as undefined | number,\n            largeTitle: undefined as undefined | number,\n            title: undefined as undefined | number,\n            subTitle: undefined as undefined | number,\n        },\n\n        mobile: {\n            /**\n             * @varGroup global.fonts.mobile.size\n             * @commonTitle Global - Mobile\n             */\n            size: {\n                /**\n                 * @var global.mobile.size.title\n                 */\n                title: 26,\n            },\n        },\n        /**\n         * @varGroup global.fonts.weights\n         * @commonDescription Predefined global font weight\n         */\n        weights: {\n            /**\n             * @var global.fonts.weights.normal\n             */\n            normal: 400,\n            /**\n             * @var global.fonts.weights.semiBold\n             */\n            semiBold: 600,\n            /**\n             * @var global.fonts.weights.bold\n             */\n            bold: 700,\n        },\n        googleFontFamily: defaultFontFamily as undefined | string,\n        forceGoogleFont: false,\n        customFontUrl: undefined as undefined | string, // legacy\n        customFont: {\n            name: undefined as undefined | string,\n            url: undefined as undefined | string,\n            fallbacks: [],\n        },\n    });\n\n    const fontsInit1 = makeThemeVars(\"fonts\", {\n        ...fontsInit0,\n        families: {\n            body: [\n                fontsInit0.customFont.name && !fontsInit0.forceGoogleFont\n                    ? fontsInit0.customFont.name\n                    : fontsInit0.googleFontFamily ?? defaultFontFamily,\n                ...fontFallbacks,\n            ],\n            monospace: monoFallbacks,\n        },\n    });\n\n    const isOpenSans = fontsInit1.families.body[0] === defaultFontFamily;\n\n    const fonts = makeThemeVars(\"fonts\", {\n        ...fontsInit1,\n        alignment: {\n            headings: {\n                capitalLetterRatio: isOpenSans ? 0.73 : 0.75, // Calibrated for Open Sans\n                verticalOffset: 1,\n                horizontalOffset: isOpenSans ? -0.03 : 0, // Calibrated for Open Sans\n                verticalOffsetForAdjacentElements: isOpenSans ? \"-.13em\" : \"0em\", // Calibrated for Open Sans\n            },\n        },\n    });\n\n    /**\n     * @varGroup global.icon\n     * @commonDescription Sets size and color of icon\n     */\n    const icon = makeThemeVars(\"icon\", {\n        /**\n         * @varGroup global.icon.sizes\n         * @commonDescription Sets icon size\n         */\n        sizes: {\n            /**\n             * @var global.sizes.large\n             */\n            large: 32,\n            /**\n             * @var global.sizes.default\n             */\n            default: 24,\n            /**\n             * @var global.sizes.small\n             */\n            small: 16,\n            /**\n             * @var global.sizes.xSmall\n             */\n            xSmall: 9.5,\n        },\n        /**\n         * @var global.icon.color\n         * @title Icon - Color\n         * @description Sets the size of the icon\n         * @type string\n         * @format hex-color\n         */\n        color: mixBgAndFg(0.18),\n    });\n\n    const spacer = makeThemeVars(\"spacer\", {\n        /**\n         * @var global.spacer.size\n         * @description Sets the size of the spacing element\n         * @type number\n         */\n        size: fonts.size.medium * lineHeights.base,\n    });\n\n    const animation = makeThemeVars(\"animation\", {\n        defaultTiming: \".10s\",\n        defaultEasing: \"ease-out\",\n    });\n\n    /**\n     * @varGroup global.embed\n     * @commonDescription Global - Embed\n     */\n    const embed = makeThemeVars(\"embed\", {\n        /**\n         * @varGroup global.embed.error\n         * @commonDescription  Embed - Error\n         */\n        error: {\n            /**\n             * @var global.embed.error.bg\n             */\n            bg: messageColors.error,\n        },\n        /**\n         * @varGroup global.embed.focus\n         * @commonDescription  Embed - Focus\n         */\n        focus: {\n            /**\n             * @var global.embed.focus.color\n             */\n            color: mainColors.primary,\n        },\n        /**\n         * @varGroup global.embed.text\n         * @commonDescription  Embed - Text\n         */\n        text: {\n            /**\n             * @var global.embed.text.padding\n             */\n            padding: fonts.size.medium,\n        },\n        /**\n         * @varGroup global.embed.sizing\n         * @commonDescription  Embed - Sizing\n         */\n        sizing: {\n            /**\n             * @var global.embed.text.smallPadding\n             */\n            smallPadding: 4,\n            /**\n             * @var global.embed.text.width\n             */\n            width: 640,\n        },\n        /**\n         * @varGroup global.embed.select\n         * @commonDescription  Embed - Select\n         */\n        select: {\n            /**\n             * @var global.embed.select.borderWidth\n             */\n            borderWidth: 2,\n        },\n        /**\n         * @varGroup global.embed.overlay\n         * @commonDescription  Embed - Overlay\n         */\n        overlay: {\n            /**\n             * @varGroup global.embed.overlay.hover\n             * @commonDescription  Embed - Overlay - Hover\n             */\n            hover: {\n                /**\n                 * @var global.embed.overlay.hover.color\n                 */\n                color: mainColors.bg.fade(0.5),\n            },\n        },\n    });\n\n    /**\n     * @varGroup global.meta\n     * @commonDescription Global meta\n     */\n    const meta = makeThemeVars(\"meta\", {\n        /**\n         * @varGroup global.meta.font\n         * @commonDescription Global meta font\n         * @expand font\n         */\n        text: Variables.font({\n            size: fonts.size.small,\n            color: options.preset === GlobalPreset.LIGHT ? color(\"#767676\") : elementaryColors.white,\n            lineHeight: lineHeights.base,\n        }),\n        /**\n         * @varGroup global.meta.spacing\n         * @commonDescription Global meta spacing\n         */\n        spacing: {\n            /**\n             * @var global.meta.spacing.horizontalMargin\n             */\n            horizontalMargin: 4,\n            /**\n             * @var global.meta.spacing.verticalMargin\n             */\n            verticalMargin: 12,\n            /**\n             * @var global.meta.spacing.default\n             */\n            default: 4,\n        },\n        /**\n         * @varGroup global.meta.colors\n         * @commonDescription Global meta colors\n         */\n        colors: {\n            /**\n             * @var global.meta.colors.fg\n             */\n            fg: mixBgAndFg(0.85),\n        },\n        /**\n         * @var global.meta.display\n         */\n        display: \"block\",\n    });\n\n    const states = makeThemeVars(\"states\", {\n        icon: {\n            opacity: 0.6,\n        },\n        text: {\n            opacity: 0.75,\n        },\n        hover: {\n            highlight: links.colors.default.fade(constants.states.hover.bgEmphasis),\n            contrast: undefined,\n            opacity: 1.0,\n        },\n        selected: {\n            highlight: links.colors.default.fade(constants.states.selected.bgEmphasis),\n            contrast: undefined,\n            opacity: 1,\n        },\n        active: {\n            highlight: links.colors.default.fade(constants.states.active.bgEmphasis),\n            contrast: undefined,\n            opacity: 1,\n        },\n        focus: {\n            highlight: links.colors.default.fade(constants.states.focus.bgEmphasis),\n            contrast: undefined,\n            opacity: 1,\n        },\n    });\n\n    const overlayBg = ColorsUtils.modifyColorBasedOnLightness({ color: mainColors.fg, weight: 0.5 });\n\n    /**\n     * @varGroup global.overlay\n     * @commonDescription Global - OverLay\n     */\n    const overlay = makeThemeVars(\"overlay\", {\n        /**\n         * @var global.overlay.dropShadow\n         */\n        dropShadow: `2px -2px 5px ${ColorsUtils.colorOut(overlayBg.fade(0.3))}`,\n        /**\n         * @var global.overlay.bg\n         */\n        bg: overlayBg,\n        /**\n         * @varGroup global.overlay.border\n         * @expand border\n         */\n        border: {\n            color: border.color,\n            radius: border.radius,\n        },\n        /**\n         * @var global.overlay.fullPageHeadingSpacer\n         */\n        fullPageHeadingSpacer: 32,\n        /**\n         * @var global.overlay.spacer\n         */\n        spacer: 32,\n    });\n\n    const userContent = makeThemeVars(\"userContent\", {\n        font: {\n            sizes: {\n                default: fonts.size.medium,\n                h1: \"2em\",\n                h2: \"1.5em\",\n                h3: \"1.25em\",\n                h4: \"1em\",\n                h5: \".875em\",\n                h6: \".85em\",\n            },\n        },\n        list: {\n            margin: \"2em\",\n            listDecoration: {\n                minWidth: \"2em\",\n            },\n        },\n    });\n\n    const buttonIconSize = 36;\n\n    /**\n     * @varGroup global.buttonIcon\n     * @commonDescription Controls icon in button\n     */\n    const buttonIcon = makeThemeVars(\"buttonIcon\", {\n        /**\n         * @var  global.buttonIcon.size\n         * @type number\n         */\n        size: buttonIconSize,\n        /**\n         * @var  global.buttonIcon.offset\n         * @type number\n         */\n        offset: (buttonIconSize - icon.sizes.default) / 2,\n    });\n\n    // Sets global \"style\" for buttons. Use \"ButtonPreset\" enum to select. By default we use both \"bordered\" (default) and \"solid\" (primary) button styles\n    // The other button styles are all \"advanced\" and need to be overwritten manually because they can't really be converted without completely changing\n    // the style of them.\n    const buttonPreset = makeThemeVars(\"buttonPreset\", {\n        style: undefined as ButtonPreset | undefined,\n    });\n\n    /**\n     * @varGroup global.separator\n     * @commonDescription Sets color and size of separator\n     */\n    const separator = makeThemeVars(\"separator\", {\n        /**\n         * @var global.separator.color\n         * @type string\n         * @format hex-color\n         */\n        color: border.color,\n        /**\n         * @var global.separator.size\n         * @type number\n         */\n        size: 1,\n    });\n\n    // https://medium.com/@clagnut/all-you-need-to-know-about-hyphenation-in-css-2baee2d89179\n    // Requires language set on <html> tag\n    const userContentHyphenation = makeThemeVars(\"userContentHyphenation\", {\n        minimumCharactersToHyphenate: 6,\n        minimumCharactersBeforeBreak: 3,\n        minimumCharactersAfterBreak: 3,\n        maximumConsecutiveBrokenLines: 2,\n        avoidLastWordToBeBroken: true,\n        hyphenationZone: \"6em\",\n    });\n\n    // This function should not be used in production, but is helpful for development.\n    // Helps to find the right \"mix\" of bg and fg for a target hex color\n\n    const findColorMatch = (hexCode: string) => {\n        if (process.env.NODE_ENV === \"development\") {\n            logWarning(\"Don't use 'findColorMatch' in production\");\n            const globalVars = globalVariables();\n            const colorToMatch = color(hexCode.replace(\"#\", \"\"));\n            const max = 100;\n            const lightnessPrecision = 3;\n            const targetLightness = colorToMatch.lightness().toFixed(lightnessPrecision);\n            for (let i = 0; i <= max; i++) {\n                const mix = i / max;\n                const currentColor = globalVars.mixBgAndFg(mix);\n                if (currentColor.toHexString() === colorToMatch.toHexString()) {\n                    logDebug(\"---exact match\");\n                    logDebug(\"real grey: \" + colorToMatch.toHexString());\n                    logDebug(\"target grey: \" + currentColor.toHexString());\n                    logDebug(\"mix: \" + mix);\n                    logDebug(\"---\");\n                    i = max;\n                    return;\n                }\n                if (currentColor.lightness().toFixed(lightnessPrecision) === targetLightness) {\n                    logDebug(\"---lightness match: \" + mix);\n                    i = max;\n                    return;\n                }\n            }\n        } else if (process.env.NODE_ENV === \"test\") {\n            throw new Error(\"Don't use 'findColorMatch' in production\");\n        }\n        logError(\"The function 'findColorMatch' is not meant for production\");\n    };\n\n    /**\n     * @varGroup global.contentBoxes\n     * @description Global content box preset that will apply to every page.\n     * Some pages may have their own that will need to modified separately.\n     * @expand contentBoxes\n     */\n    const contentBoxes = makeThemeVars(\n        \"contentBoxes\",\n        Variables.contentBoxes({\n            depth1: {\n                borderType: BorderType.NONE,\n            },\n            depth2: {\n                borderType: BorderType.SEPARATOR,\n            },\n            depth3: {\n                borderType: BorderType.SEPARATOR,\n            },\n        }),\n    );\n\n    /**\n     * @varGroup global.headingBox\n     * @description Heading boxes sit above every box.\n     * They can have titles, subtitles, descriptions, and sometimes action items in them.\n     */\n    const headingBox = makeThemeVars(\"headingBox\", {\n        /**\n         * @varGroup global.headingBox.spacing\n         * @expand spacing\n         */\n        spacing: Variables.spacing({\n            top: 24,\n            bottom: 8,\n            horizontal: 0,\n        }),\n        /**\n         * @varGroup global.headingBox.mobileSpacing\n         * @expand spacing\n         */\n        mobileSpacing: Variables.spacing({\n            top: 28,\n            bottom: 16,\n            horizontal: 0,\n        }),\n        /**\n         * @varGroup global.headingBox.descriptionSpacing\n         * @expand spacing\n         */\n        descriptionSpacing: Variables.spacing({\n            top: 8,\n            bottom: 0,\n            horizontal: 0,\n        }),\n    });\n\n    const itemList = makeThemeVars(\"itemList\", {\n        /**\n         * @varGroup global.itemList\n         * @commonTitle Global - Item List\n         * @expand spacing\n         */\n        padding: Variables.spacing({\n            top: 15,\n            right: widget.padding,\n            bottom: 16,\n            left: widget.padding,\n        }),\n    });\n\n    return {\n        options,\n        elementaryColors,\n        mainColors,\n        messageColors,\n        body,\n        borderType,\n        border,\n        meta,\n        gutter,\n        panel,\n        middleColumn,\n        contentWidth,\n        fonts,\n        spacer,\n        lineHeights,\n        icon,\n        buttonIcon,\n        animation,\n        links,\n        embed,\n        states,\n        overlay,\n        userContent,\n        mixBgAndFg,\n        mixPrimaryAndFg,\n        mixPrimaryAndBg,\n        separator,\n        userContentHyphenation,\n        findColorMatch,\n        constants,\n        getRatioBasedOnBackgroundDarkness,\n        buttonPreset,\n        foundationalWidths,\n        widget,\n        headingBox,\n        itemList,\n        contentBoxes,\n    };\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport getStore from \"@library/redux/getStore\";\nimport { isComponentThemingEnabled } from \"@library/utility/componentRegistry\";\n\nexport function getThemeVariables() {\n    const state = getStore().getState();\n    if (state !== null) {\n        if (state.theme.forcedVariables) {\n            return state.theme.forcedVariables;\n        }\n        if (!isComponentThemingEnabled()) {\n            return {};\n        }\n        const assets = state.theme.assets.data || {};\n        const variables = assets.variables ? assets.variables.data : {};\n        return variables;\n    } else {\n        return {};\n    }\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { CSSObject } from \"@emotion/css\";\nimport { style } from \"@library/styles/styleShim\";\nimport merge from \"lodash/merge\";\nimport { color, rgba, rgb, hsla, hsl, ColorHelper } from \"csx\";\nimport { logDebug, logWarning, logError, notEmpty } from \"@vanilla/utils\";\nimport { getThemeVariables } from \"@library/theming/getThemeVariables\";\nimport { isArray } from \"util\";\nimport { IThemeVariables } from \"@library/theming/themeReducer\";\n\n// Re-export for compatibility.\nexport { useThemeCache } from \"@library/styles/themeCache\";\n\nexport const DEBUG_STYLES = Symbol.for(\"Debug\");\n\n// Use this type to allow people to to pass conditional styles in.\ntype CSSObjectOrFalsy = CSSObject | null | false | undefined;\n\n/**\n * A better helper to generate human readable classes generated from Emotion.\n *\n * This works like debugHelper but automatically. The generated function behaves just like `style()`\n * but can automatically adds a debug name & allows the first argument to be a string subcomponent name.\n *\n * Additionally passing the first parameter as true will log out out debug information about the styles.\n *\n * @example\n * const style = styleFactory(\"myComponent\");\n * const myClass = style({ color: \"red\" }); // .myComponent-sad421s\n * const mySubClass = style(\"subcomponent\", { color: \"red\" }) // .myComponent-subcomponent-23sdaf43\n * const withDebugMode = style(true, \"subcomponent\", {color: \"red\"}).\n */\nexport function styleFactory(componentName: string) {\n    function styleCreator(subcomponentName: string, ...objects: CSSObjectOrFalsy[]): string;\n    function styleCreator(debug: symbol, subcomponentName: string, ...objects: CSSObjectOrFalsy[]): string;\n    function styleCreator(...objects: CSSObjectOrFalsy[]): string;\n    function styleCreator(...objects: Array<CSSObjectOrFalsy | string | symbol>): string {\n        objects = objects.filter((val) => !!val);\n        if (objects.length === 0) {\n            return style();\n        }\n        let debugName = componentName;\n        let shouldLogDebug = false;\n        let styleObjs: CSSObject[] = objects as any;\n        if (objects[0] === DEBUG_STYLES) {\n            styleObjs.shift();\n            shouldLogDebug = true;\n        }\n        if (typeof objects[0] === \"string\") {\n            const [subcomponentName, ...restObjects] = styleObjs;\n            debugName += `-${subcomponentName}`;\n            styleObjs = restObjects;\n        }\n\n        styleObjs.forEach((obj) => (obj[\"label\"] = debugName));\n\n        if (shouldLogDebug) {\n            logWarning(`Debugging component ${debugName}`);\n            logDebug(styleObjs);\n        }\n\n        return style(...styleObjs);\n    }\n\n    return styleCreator;\n}\n\n/**\n * A helper class for declaring variables while mixing server defined variables from context.\n *\n * The function returned from the factory\n * - will search the API based theme for an item of the same key.\n * - Normalize the items {@see normalizeVariables}\n * - Merge in all subtrees. (theme variables override your defaults).\n *\n * @param componentName The base name of the component being styled.\n * @param themeVars Optionally force a particular set of variables to be used.\n *\n * @example\n *\n * // The stuff returned through the API response\n * const serverVars = {\n *      \"globalVars\": {\n *          \"links\": {\n *              \"colors\": {\n *                  \"default\": \"red\",\n *                  \"hover\": \"#444444\",\n *              }\n *          }\n *      }\n * };\n *\n * // Your declaration\n * const makeThemeVars = variableFactory(\"globalVars\");\n * const subVars = makeThemeVars(\"links\", { colors: {\n *      default: mainColors.primary, // These are `ColorHelpers`\n *      hover: mainColors.primary.darken(0.2), // They mixed variables will be automatically converted\n * }});\n */\nexport function variableFactory(\n    componentNames: string | string[],\n    themeVars?: IThemeVariables,\n    mergeWithGlobals = false,\n) {\n    if (!themeVars) {\n        themeVars = getThemeVariables();\n    } else if (mergeWithGlobals) {\n        themeVars = merge(getThemeVariables(), themeVars);\n    }\n\n    componentNames = typeof componentNames === \"string\" ? [componentNames] : componentNames;\n\n    const componentThemeVars = componentNames\n        .map((name) => themeVars?.[name] ?? {})\n        .reduce((prev, curr) => {\n            return merge(prev, curr);\n        }, {});\n\n    return function makeThemeVars<T extends object>(subElementName: string, declaredVars: T, overrides?: any): T {\n        const customVars = componentThemeVars?.[subElementName] ?? null;\n        let result = declaredVars;\n        if (customVars != null) {\n            result = normalizeVariables(customVars, result);\n        }\n\n        if (overrides != null) {\n            result = normalizeVariables(stripUndefinedKeys(overrides), result);\n        }\n        return result;\n    };\n}\n\nfunction stripUndefinedKeys(obj: any) {\n    if (typeof obj === \"object\") {\n        const newObj = {};\n        for (const [key, value] of Object.entries(obj)) {\n            if (value !== undefined) {\n                newObj[key] = value;\n            }\n        }\n        return newObj;\n    }\n\n    return obj;\n}\n\nconst rgbRegex = /^rgb\\((\\d{1,3}%?),\\s*(\\d{1,3}%?),\\s*(\\d{1,3}%?)\\)$/;\nconst rgbaRegex = /^rgba\\((\\d{1,3}%?),\\s*(\\d{1,3}%?),\\s*(\\d{1,3}%?),\\s*(\\d*(?:\\.\\d+)?)\\)$/;\nconst hslRegex = /^hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)$/;\nconst hslaRegex = /^hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*(\\d*(?:\\.\\d+)?)\\)/;\nconst hexRegex = /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;\n\n/**\n * Take some Object/Value from the variable factory and wrap it in it's proper wrapper.\n *\n * Iterates through all children and does the following:\n *\n * - Strings starting with `#` get wrapped in `color()`;\n */\nfunction normalizeVariables(customVariable: any, defaultVariable: any) {\n    try {\n        if (Array.isArray(customVariable) && isArray(defaultVariable)) {\n            // We currently can't pre-process arrays.\n            return customVariable;\n        }\n        if (\n            defaultVariable instanceof ColorHelper ||\n            (defaultVariable === undefined && typeof customVariable === \"string\" && customVariable.startsWith(\"#\"))\n        ) {\n            if (customVariable instanceof ColorHelper) {\n                return customVariable;\n            } else if (typeof customVariable === \"string\" && customVariable.startsWith(\"linear-gradient\")) {\n                return customVariable;\n            } else {\n                const color = colorStringToInstance(customVariable, defaultVariable instanceof ColorHelper);\n                return color;\n            }\n        } else if (\n            typeof customVariable === \"object\" &&\n            typeof defaultVariable === \"object\" &&\n            defaultVariable !== null\n        ) {\n            const newObj: any = {};\n            for (const [key, defaultValue] of Object.entries(defaultVariable)) {\n                const mergedValue = key in customVariable ? customVariable[key] : defaultValue;\n                newObj[key] = normalizeVariables(mergedValue, defaultValue);\n            }\n            return newObj;\n        } else {\n            return customVariable;\n        }\n    } catch (e) {\n        logError(\"Error while evaluation custom variable\", customVariable, e);\n        return defaultVariable;\n    }\n}\n\n/**\n * Check if string is valid color in hex format\n * @param colorString\n */\nexport function stringIsHexColor(colorValue) {\n    return typeof colorValue === \"string\" && colorValue.match(hexRegex);\n}\n\n/**\n * Check if string is valid color in rgb format\n * @param colorString\n */\nexport function stringIsRgbColor(colorValue) {\n    return typeof colorValue === \"string\" && colorValue.match(rgbRegex);\n}\n\n/**\n * Check if string is valid color in rgba format\n * @param colorString\n */\nexport function stringIsRgbaColor(colorValue) {\n    return typeof colorValue === \"string\" && colorValue.match(rgbaRegex);\n}\n\n/**\n * Check if string is valid color in hsl format\n * @param colorString\n */\nexport function stringIsHslColor(colorValue) {\n    return typeof colorValue === \"string\" && colorValue.match(hslRegex);\n}\n\n/**\n * Check if string is valid color in hsla format\n * @param colorString\n */\nexport function stringIsHslaColor(colorValue) {\n    return typeof colorValue === \"string\" && colorValue.match(hslaRegex);\n}\n\n/**\n * Check if string is supported color format\n * @param colorString\n */\nexport function stringIsValidColor(colorValue) {\n    return (\n        typeof colorValue === \"string\" &&\n        (stringIsRgbColor(colorValue) ||\n            stringIsHexColor(colorValue) ||\n            stringIsHslColor(colorValue) ||\n            stringIsHslaColor(colorValue) ||\n            stringIsRgbaColor(colorValue))\n    );\n}\n/**\n * Check if string is linear gradient\n * @param colorString\n */\nexport function stringIsLinearGradient(colorValue) {\n    return (\n        typeof colorValue === \"string\" &&\n        !stringIsValidColor(colorValue) &&\n        colorValue.toString().trim().startsWith(\"linear-gradient(\")\n    );\n}\n\n/**\n * Check if string or ColorHelper is valid\n * @param colorString\n */\nexport const isValidColor = (colorValue) => {\n    return colorValue && (colorValue instanceof ColorHelper || stringIsValidColor(colorValue));\n};\n\n/**\n * Takes either a custome error message string or a boolean, true gives default message\n * @param error\n * @param defaultMessage\n */\nexport const getDefaultOrCustomErrorMessage = (error, defaultMessage: string) => {\n    return typeof error === \"string\" ? error : defaultMessage;\n};\n\n/**\n * Convert a color string into an instance.\n * @param colorString\n */\nexport function colorStringToInstance(colorString: string, throwOnFailure: boolean = false) {\n    if (stringIsHexColor(colorString)) {\n        // It's a colour.\n        return color(colorString);\n    } else if (stringIsRgbColor(colorString)) {\n        const result = rgbRegex.exec(colorString)!;\n\n        const r = parseInt(result[1], 10);\n        const g = parseInt(result[2], 10);\n        const b = parseInt(result[3], 10);\n        return rgb(r, g, b);\n    } else if (stringIsRgbaColor(colorString)) {\n        const result = rgbaRegex.exec(colorString)!;\n\n        const r = parseInt(result[1], 10);\n        const g = parseInt(result[2], 10);\n        const b = parseInt(result[3], 10);\n        const a = parseFloat(result[4]);\n\n        return rgba(r, g, b, a);\n    } else if (stringIsHslColor(colorString)) {\n        const result = hslRegex.exec(colorString)!;\n\n        const h = parseInt(result[1], 10);\n        const s = parseInt(result[2], 10);\n        const l = parseInt(result[3], 10);\n        return hsl(h, s, l);\n    } else if (stringIsHslaColor(colorString)) {\n        const result = hslaRegex.exec(colorString)!;\n\n        const h = parseInt(result[1], 10);\n        const s = parseInt(result[2], 10);\n        const l = parseInt(result[3], 10);\n        const a = parseFloat(result[4]);\n\n        return hsla(h, s, l, a);\n    } else {\n        if (throwOnFailure) {\n            throw new Error(`Invalid color detected: ${colorString}`);\n        }\n\n        return colorString;\n    }\n}\n\n/**\n * Helper to overwrite styles\n * @param theme - The theme overwrites.\n * @param componentName - The name of the component to overwrite\n *\n * @deprecated\n */\nexport const componentThemeVariables = (componentName: string) => {\n    const themeVars = getThemeVariables();\n    const componentVars = (themeVars && themeVars[componentName]) || {};\n\n    const subComponentStyles = (subElementName: string): object => {\n        return (componentVars && componentVars[subElementName]) || {};\n    };\n\n    return {\n        subComponentStyles,\n    };\n};\n\n/**\n * Print a set of variables for debugging.\n */\nexport function printDebugVars(vars: any) {\n    logDebug(JSON.stringify(getDebugVars(vars)));\n}\n\nfunction getDebugVars(vars: any): any {\n    let result = {} as any;\n\n    for (const [key, value] of Object.entries(vars)) {\n        if (value instanceof ColorHelper) {\n            result[key] =\n                value.opacity() < 1\n                    ? `rgba(${value\n                          .toRGBA()\n                          .red()}, ${value.toRGBA().green()}, ${value.toRGBA().blue()}, ${value.toRGBA().alpha()})`\n                    : value.toHexString();\n        } else if (typeof value === \"object\" && value) {\n            result[key] = getDebugVars(value);\n        } else {\n            result[key] = value;\n        }\n    }\n\n    return result;\n}\n\n/**\n * For classes that allow overwriting variables, it can be difficult to trace where bugs come from.\n * This function appends a string to the class name with the file it's from.\n * Example: You've got a class: \"searchBar-closeButton_fhrk8tj\"\n * If you pass a source to this function, the classnames becomes: \"searchBar-closeButton:fromTitleBar_fhrk8tj\"\n */\nexport function appendSource(className: string, source?: string) {\n    return `${className}${source ? \"--\" + source : \"\"}`;\n}\n\nexport function getPixelNumber(val: string | number | undefined, fallback: number = 0): number {\n    if (val == undefined) {\n        return fallback;\n    }\n    if (typeof val === \"number\") {\n        return val;\n    } else {\n        val = val.replace(\"px\", \"\");\n        const parsed = Number.parseInt(val);\n        if (Number.isNaN(parsed)) {\n            return fallback;\n        } else {\n            return parsed;\n        }\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ColorHelper, important, px } from \"csx\";\nimport isNumeric from \"validator/lib/isNumeric\";\nexport * from \"@library/styles/styleHelpersAnimation\";\nexport * from \"@library/styles/styleHelpersBackgroundStyling\";\nexport * from \"@library/styles/styleHelpersTypography\";\nexport * from \"@library/styles/styleHelpersBorders\";\nexport * from \"@library/styles/styleHelpersButtons\";\nexport * from \"@library/styles/styleHelpersColors\";\nexport * from \"@library/styles/styleHelpersDropShadow\";\nexport * from \"@library/styles/styleHelpersFeedback\";\nexport * from \"@library/styles/styleHelpersSpacing\";\nexport * from \"@library/styles/styleHelpersLinks\";\nexport * from \"@library/styles/styleHelpersPositioning\";\nexport * from \"@library/styles/styleHelpersReset\";\nexport * from \"@library/styles/styleHelpersSpinner\";\nexport * from \"@library/styles/styleHelpersTypography\";\nexport * from \"@library/styles/styleHelpersVisibility\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nexport const unit = styleUnit;\n\n/*\n * Helper to generate human readable classes generated from TypeStyle\n * @param componentName - The component's name.\n */\nexport const debugHelper = (componentName: string) => {\n    return {\n        name: (subElementName?: string) => {\n            if (subElementName) {\n                return { label: `${componentName}-${subElementName}` };\n            } else {\n                return { label: componentName };\n            }\n        },\n    };\n};\n\nexport const ifExistsWithFallback = (checkProp) => {\n    if (checkProp && checkProp.length > 0) {\n        const next = checkProp.pop();\n        return next ? next : ifExistsWithFallback(checkProp);\n    } else {\n        return undefined;\n    }\n};\n\nexport const processValue = (variable) => {\n    const importantString = \" !important\";\n    const isImportant: boolean = typeof variable === \"string\" && variable.endsWith(importantString);\n    let value = variable;\n\n    if (isImportant) {\n        if (isNumeric(value as string)) {\n            value = Number(value);\n        }\n    }\n\n    return {\n        value,\n        isImportant,\n    };\n};\n\nexport const importantUnit = (val: string | number | undefined, unitFunction = px) => {\n    const withUnit = styleUnit(val);\n    return withUnit ? important(withUnit.toString()) : withUnit;\n};\n\nexport const negativeImportantUnit = (val: string | number | undefined, unitFunction = px) => {\n    const withUnit = styleUnit(val);\n    return withUnit ? important(negative(withUnit).toString()) : withUnit;\n};\n\nexport const negativeUnit = (val: string | number | undefined, unitFunction = px) => {\n    return negative(styleUnit(val));\n};\n\nexport const negative = (val) => {\n    if (typeof val === \"string\") {\n        val = val.trim();\n        if (val.startsWith(\"-\")) {\n            return val.substring(1, val.length).trim();\n        } else {\n            return `-${val}`;\n        }\n    } else if (!!val && !isNaN(val)) {\n        return val * -1;\n    } else {\n        return val;\n    }\n};\n\nexport const unitIfDefined = (val: string | number | undefined, unitFunction = px) => {\n    return val !== undefined ? styleUnit(val) : undefined;\n};\n\nexport interface IStateColors {\n    allStates?: ColorHelper; // Applies to all\n    noState?: ColorHelper; // Applies to stateless link\n    hover?: ColorHelper;\n    focus?: ColorHelper;\n    clickFocus?: ColorHelper; // Focused, not through keyboard\n    keyboardFocus?: ColorHelper; // Optionally different state for keyboard accessed element. Will default to \"focus\" state if not set.\n    active?: ColorHelper;\n    source?: string; // for debugging\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { AxiosError, AxiosResponse } from \"axios\";\nimport { IUserFragment } from \"@library/@types/api/users\";\nimport { RecordID } from \"@vanilla/utils\";\n\nexport enum LoadStatus {\n    PENDING = \"PENDING\",\n    LOADING = \"LOADING\",\n    SUCCESS = \"SUCCESS\",\n    ERROR = \"ERROR\",\n}\n\nexport interface ILoadable<T, E = IApiError> {\n    status: LoadStatus;\n    error?: E;\n    data?: T;\n}\n\nexport interface IApiResponse<DataType = any> {\n    data: DataType;\n    status: number;\n    headers?: any;\n}\n\nexport interface IFieldError {\n    message: string; // translated message\n    code: string; // translation code\n    field: string;\n    status?: number; // HTTP status\n}\n\nexport interface IServerError {\n    message: string;\n    status: number;\n    errors?: {\n        [key: string]: IFieldError[];\n    };\n}\n\nexport interface IApiError extends AxiosError {\n    response: AxiosResponse<IServerError | null>;\n}\n\ninterface IMultiType<T> {\n    recordType: T;\n    recordID: number;\n}\n\nexport type MultiTypeRecord<T, Subtract extends keyof T, TypeName extends string> = Omit<T, Subtract> &\n    IMultiType<TypeName>;\n\nexport interface INavigationItem {\n    name: string;\n    url: string;\n    parentID: RecordID;\n    recordID: RecordID;\n    sort: number | null;\n    recordType: string;\n    isLink?: boolean;\n}\n\nexport interface IApiDateInfo {\n    insertUserID: number;\n    insertDate: string;\n    updateUserID: number;\n    updateDate: string;\n}\n\nexport interface IApiDateInfoExpanded extends IApiDateInfo {\n    insertUser: IUserFragment;\n    updateUser: IUserFragment;\n}\n\nexport interface INavigationTreeItem extends INavigationItem {\n    children: INavigationTreeItem[];\n}\n\nexport interface ILinkGroup {\n    category: INavigationItem;\n    items: INavigationItem[];\n}\n\nexport interface ILinkListData {\n    groups: ILinkGroup[];\n    ungroupedItems: INavigationItem[];\n}\n\nexport enum PublishStatus {\n    DELETED = \"deleted\",\n    UNDELETED = \"undeleted\",\n    PUBLISHED = \"published\",\n}\n\nexport enum Format {\n    TEXT = \"text\",\n    TEXTEX = \"textex\",\n    MARKDOWN = \"markdown\",\n    WYSIWYG = \"wysiwyg\",\n    HTML = \"html\",\n    BBCODE = \"bbcode\",\n    RICH = \"rich\",\n}\n","import createEmotion from \"@emotion/css/create-instance\";\nimport { CSSObject } from \"@emotion/css\";\n\nconst emotion = createEmotion({\n    key: \"vanilla\",\n    prepend: false,\n});\n\nexport const { keyframes, cx, injectGlobal: cssRaw, css: style } = emotion;\n\nexport declare type TLength = number | string; // a few files are stil coupled to this type from typestyle\n\ntype NestCssObject = CSSObject & { $nest?: NestCssObject };\n\n/**\n * Flatten $nest properties from typestyle declarations to be compatible with emotion.\n */\nexport function flattenNests(original?: NestCssObject) {\n    if (!original?.$nest) {\n        return original;\n    }\n\n    for (const [key, value] of Object.entries(original.$nest)) {\n        original[key] = flattenNests(value as NestCssObject);\n    }\n    delete original.$nest;\n    return original;\n}\n\nexport function cssRule(selector: string, ...objects: CSSObject[]): void {\n    objects.forEach((object) => {\n        emotion.injectGlobal({\n            [selector]: flattenNests(object),\n        });\n    });\n}\ninterface IMediaQuery {\n    minWidth?: number;\n    maxWidth?: number;\n}\n\n//  adapted from typestyle // emotion doesn't have an equivalent function to typestyle.media.\nexport const media = (mediaQuery: IMediaQuery, ...objects: CSSObject[]): CSSObject => {\n    const mediaQuerySections: string[] = [];\n    if (mediaQuery.minWidth) mediaQuerySections.push(`(min-width: ${mediaQuery.minWidth}px)`);\n    if (mediaQuery.maxWidth) mediaQuerySections.push(`(max-width: ${mediaQuery.maxWidth}px)`);\n\n    const stringMediaQuery = `@media ${mediaQuerySections.join(\" and \")}`;\n\n    const object: CSSObject = {\n        [stringMediaQuery]: objects,\n    };\n    return object;\n};\n","/*\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { ColorHelper, important, scale } from \"csx\";\nimport { pointerEvents } from \"@library/styles/styleHelpers\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { FillProperty, OpacityProperty, StrokeProperty, StrokeWidthProperty } from \"csstype\";\nimport { TLength } from \"@library/styles/styleShim\";\n\ninterface IPathState {\n    stroke?: ColorHelper | StrokeProperty;\n    fill?: ColorHelper | FillProperty;\n    opacity?: OpacityProperty;\n    strokeWidth?: StrokeWidthProperty<TLength>;\n}\n\ninterface INestedPathState extends IPathState {\n    state?: IPathState;\n}\n\ninterface IBookmarkLoading extends INestedPathState {\n    halfFill?: ColorHelper | string;\n}\n\nexport interface IBookmarkProps {\n    normalState: INestedPathState | undefined;\n    loadingState: IBookmarkLoading | undefined;\n    bookmarkedState: INestedPathState | undefined;\n}\n\nexport const svgStyles = (props: INestedPathState | undefined, debug?: boolean) => {\n    if (props === undefined) {\n        return {};\n    }\n    let stroke = props.stroke;\n    if (stroke !== \"none\") {\n        stroke = props.stroke ? ColorsUtils.colorOut(props.stroke) : props.stroke;\n    }\n\n    let fill = props.fill;\n    if (fill !== \"none\") {\n        fill = props.fill ? ColorsUtils.colorOut(props.fill) : props.fill;\n    }\n\n    return {\n        stroke: stroke,\n        fill: fill,\n        strokeWidth: props.strokeWidth ? styleUnit(props.strokeWidth) : undefined,\n        opacity: props.opacity,\n    };\n};\n\nexport const iconVariables = useThemeCache(() => {\n    const themeVars = variableFactory(\"defaultIconSizes\");\n\n    const standard = themeVars(\"defaultIcon\", {\n        width: 24,\n        height: 24,\n    });\n\n    const fileType = themeVars(\"defaultIcon\", {\n        width: 16,\n        height: 16,\n    });\n\n    const newFolder = themeVars(\"newFolderIcon\", {\n        width: 17,\n        height: 14.67,\n    });\n\n    const attachmentError = themeVars(\"attachmentError\", {\n        width: 20,\n        height: 18,\n    });\n\n    const vanillaLogo = themeVars(\"vanillaLogo\", {\n        width: 80,\n        height: 32.3,\n        mobile: {\n            width: undefined,\n            height: undefined,\n        },\n    });\n\n    const compact = themeVars(\"compact\", {\n        width: 12,\n        height: 12,\n    });\n\n    const warning = themeVars(\"warning\", {\n        width: 16,\n        height: 16,\n    });\n\n    const settings = themeVars(\"settings\", {\n        width: 20,\n        height: 18,\n    });\n\n    const search = themeVars(\"settings\", {\n        width: 18,\n        height: 20,\n    });\n\n    const notifications = themeVars(\"settings\", {\n        width: 18,\n        height: 20,\n    });\n\n    const messages = themeVars(\"messages\", {\n        width: 20.051,\n        height: 14.016,\n    });\n\n    const user = themeVars(\"user\", {\n        width: 20,\n        height: 20,\n    });\n\n    const userWarning = themeVars(\"userWarning\", {\n        width: 40,\n        height: 40,\n    });\n\n    const close = themeVars(\"close\", {\n        width: 20,\n        height: 20,\n    });\n\n    const closeCompact = themeVars(\"closeCompact\", {\n        width: 16,\n        height: 16,\n    });\n\n    const closeTiny = themeVars(\"closeTiny\", {\n        width: 10,\n        height: 10,\n    });\n\n    const chevronLeftCompact = (isSmall?: boolean) => {\n        const defaultWidth = 12;\n        const defaultHeight = 21;\n        const smallHeight = 16; // width is calculated\n\n        const width = !isSmall ? defaultWidth : (smallHeight * defaultWidth) / defaultHeight;\n        const height = !isSmall ? defaultHeight : smallHeight;\n\n        return themeVars(\"chevronLeftCompact\", {\n            width: width,\n            height: height,\n        });\n    };\n\n    const selectedCategory = themeVars(\"selectedCategory\", {\n        width: 16.8,\n        height: 13,\n    });\n\n    const signIn = themeVars(\"signIn\", {\n        width: 24,\n        height: 18,\n    });\n\n    const chevronUp = themeVars(\"selectedCategory\", {\n        width: 51,\n        height: 17,\n    });\n\n    const plusCircle = themeVars(\"plusCircle\", {\n        width: 16,\n        height: 16,\n    });\n\n    const deleteIcon = themeVars(\"deleteIcon\", {\n        width: 24,\n        height: 24,\n    });\n\n    const editIcon = themeVars(\"editIcon\", {\n        width: 24,\n        height: 24,\n    });\n\n    const categoryIcon = themeVars(\"categoryIcon\", {\n        width: 18,\n        height: 18,\n        opacity: 0.8,\n    });\n\n    const documentation = themeVars(\"documentation\", {\n        width: 12.6,\n        height: 16.02,\n    });\n\n    const bookmarkIcon = themeVars(\"bookmarkIcon\", {\n        width: 12,\n        height: 16,\n        strokeWidth: 1,\n    });\n\n    const newPostMenuIcon = themeVars(\"newPostMenuIcon\", {\n        width: 16,\n        height: 16,\n    });\n\n    // Search Types\n    const typeAll = themeVars(\"typeAll\", {\n        width: 13,\n        height: 13,\n    });\n    const typeDiscussions = themeVars(\"typeDiscussions\", {\n        width: 18.869,\n        height: 15.804,\n    });\n    const typeArticles = themeVars(\"typeArticles\", {\n        width: 14.666,\n        height: 14.666,\n    });\n    const typeCategoriesAndGroups = themeVars(\"TypeCategoriesAndGroups\", {\n        width: 15,\n        height: 16.28,\n    });\n\n    const typePlaces = themeVars(\"TypePlaces\", {\n        width: 15 * 1.2,\n        height: 16.28 * 1.2,\n    });\n\n    const typeFlag = themeVars(\"TypeFlag\", {\n        width: 26,\n        height: 26,\n    });\n\n    const typeMember = themeVars(\"TypeMember\", {\n        width: 20,\n        height: 20,\n    });\n\n    const typeIdeasIcon = themeVars(\"TypeIdeasIcon\", {\n        width: 18.444,\n        height: 16.791,\n    });\n    const typePollsIcon = themeVars(\"TypePollsIcon\", {\n        width: 26,\n        height: 26,\n    });\n    const typeQuestion = themeVars(\"TypeQuestion\", {\n        width: 26,\n        height: 26,\n    });\n\n    return {\n        standard,\n        newFolder,\n        fileType,\n        attachmentError,\n        vanillaLogo,\n        compact,\n        settings,\n        warning,\n        search,\n        notifications,\n        messages,\n        user,\n        userWarning,\n        close,\n        closeCompact,\n        closeTiny,\n        chevronLeftCompact,\n        selectedCategory,\n        signIn,\n        chevronUp,\n        plusCircle,\n        categoryIcon,\n        deleteIcon,\n        editIcon,\n        documentation,\n        bookmarkIcon,\n        newPostMenuIcon,\n        typeAll,\n        typeDiscussions,\n        typeArticles,\n        typeCategoriesAndGroups,\n        typeMember,\n        typeIdeasIcon,\n        typePollsIcon,\n        typeQuestion,\n        typePlaces,\n        typeFlag,\n    };\n});\n\nexport const iconClasses = useThemeCache(() => {\n    const vars = iconVariables();\n    const globalVars = globalVariables();\n    const style = styleFactory(\"icon\");\n\n    const standard = style(\"defaultIcon\", {\n        width: styleUnit(vars.standard.width),\n        height: styleUnit(vars.standard.height),\n    });\n\n    const fileType = style(\"fileType\", {\n        width: styleUnit(vars.fileType.width),\n        height: styleUnit(vars.fileType.height),\n    });\n\n    const newFolder = style(\"newFolder\", {\n        width: styleUnit(vars.newFolder.width),\n        height: styleUnit(vars.newFolder.height),\n        paddingRight: styleUnit(1),\n    });\n\n    const attachmentError = style(\"attachmentError\", {\n        width: styleUnit(vars.attachmentError.width),\n        height: styleUnit(vars.attachmentError.height),\n    });\n\n    const vanillaLogo = style(\"vanillaLogo\", {\n        width: styleUnit(vars.vanillaLogo.width),\n        height: styleUnit(vars.vanillaLogo.height),\n    });\n\n    const vanillaLogoMobile = style(\"vanillaLogoMobile\", {\n        width: styleUnit(vars.vanillaLogo.mobile.width ?? vars.vanillaLogo.width),\n        height: styleUnit(vars.vanillaLogo.mobile.height ?? vars.vanillaLogo.height),\n    });\n\n    const compact = style(\"compact\", {\n        width: styleUnit(vars.compact.width),\n        height: styleUnit(vars.compact.height),\n    });\n\n    const settings = style(\"settings\", {\n        width: styleUnit(vars.settings.width),\n        height: styleUnit(vars.settings.height),\n    });\n\n    const triangeTiny = style(\"triangeTiny\", {\n        width: styleUnit(8),\n        height: styleUnit(8),\n    });\n\n    const warning = style(\"warning\", {\n        width: styleUnit(vars.warning.width),\n        height: styleUnit(vars.warning.height),\n    });\n\n    const search = style(\"search\", {\n        width: styleUnit(vars.search.width),\n        height: styleUnit(vars.search.height),\n    });\n\n    const notifications = style(\"notifications\", {\n        width: styleUnit(vars.notifications.width),\n        height: styleUnit(vars.notifications.height),\n    });\n\n    const messages = style(\"messages\", {\n        width: styleUnit(vars.messages.width),\n        height: styleUnit(vars.messages.height),\n    });\n\n    const user = style(\"user\", {\n        width: styleUnit(vars.user.width),\n        height: styleUnit(vars.user.height),\n    });\n\n    const userWarning = style(\"userWarning\", {\n        width: styleUnit(vars.userWarning.width),\n        height: styleUnit(vars.userWarning.height),\n    });\n\n    const close = style(\"close\", {\n        width: styleUnit(vars.close.width),\n        height: styleUnit(vars.close.height),\n    });\n\n    // Same as close, but without extra padding\n    const closeCompact = style(\"closeCompact\", {\n        width: styleUnit(vars.closeCompact.width),\n        height: styleUnit(vars.closeCompact.height),\n    });\n\n    // For really small close buttons, like on tokens\n    const closeTiny = style(\"closeTiny\", {\n        display: \"block\",\n        width: styleUnit(vars.closeTiny.width),\n        height: styleUnit(vars.closeTiny.height),\n        margin: \"auto\",\n    });\n\n    const chevronLeftCompact = style(\"chevronLeftCompact\", {\n        width: styleUnit(vars.chevronLeftCompact().width),\n        height: styleUnit(vars.chevronLeftCompact().height),\n    });\n\n    const chevronLeftSmallCompact = style(\"chevronLeftSmallCompact\", {\n        ...{\n            [`&&, &.${chevronLeftCompact}`]: {\n                width: styleUnit(vars.chevronLeftCompact(true).width),\n                height: styleUnit(vars.chevronLeftCompact(true).height),\n            },\n        },\n    });\n\n    const selectedCategory = style(\"selectedCategory\", {\n        width: styleUnit(vars.selectedCategory.width),\n        height: styleUnit(vars.selectedCategory.height),\n    });\n\n    const signIn = style(\"signIn\", {\n        width: styleUnit(vars.signIn.width),\n        height: styleUnit(vars.signIn.height),\n    });\n\n    const chevronUp = style(\"chevronUp\", {\n        width: styleUnit(vars.chevronUp.width),\n        height: styleUnit(vars.chevronUp.height),\n    });\n\n    const plusCircle = style(\"plusCircle\", {\n        width: styleUnit(vars.plusCircle.width),\n        height: styleUnit(vars.plusCircle.height),\n    });\n\n    const categoryIcon = style(\"categoryIcon\", {\n        width: styleUnit(vars.categoryIcon.width),\n        height: styleUnit(vars.categoryIcon.height),\n        opacity: vars.categoryIcon.opacity,\n        marginRight: styleUnit(3),\n    });\n\n    const deleteIcon = style(\"deleteIcon\", {\n        width: styleUnit(vars.deleteIcon.width),\n        height: styleUnit(vars.deleteIcon.height),\n    });\n\n    const isSmall = style(\"isSmall\", {\n        transform: scale(0.85),\n        transformOrigin: \"50% 50%\",\n    });\n\n    const editIcon = style(\"editIcon\", {\n        width: styleUnit(vars.editIcon.width),\n        height: styleUnit(vars.editIcon.height),\n    });\n\n    const discussionIcon = style(\"discussionIcon\", {\n        width: styleUnit(vars.standard.width),\n        height: styleUnit(vars.standard.height),\n    });\n\n    const globeIcon = style(\"globeIcon\", {\n        width: styleUnit(vars.standard.width),\n        height: styleUnit(vars.standard.height),\n    });\n\n    const hamburger = style(\"alertIconCompact\", {\n        width: styleUnit(vars.standard.width),\n        height: styleUnit(vars.standard.height),\n    });\n\n    const external = style(\"alertIconCompact\", {\n        width: 22,\n        height: 22,\n    });\n\n    const errorFgColor = style(\"errorFgColor\", {\n        color: ColorsUtils.colorOut(globalVars.messageColors.error.fg),\n    });\n\n    const warningFgColor = style(\"warningFgColor\", {\n        color: ColorsUtils.colorOut(globalVars.messageColors.warning.fg),\n    });\n\n    const documentation = style(\"documentation\", {\n        display: \"block\",\n        width: styleUnit(vars.documentation.width),\n        height: styleUnit(vars.documentation.height),\n    });\n\n    // Goes on link, not SVG to handle states\n    const bookmark = (\n        props: IBookmarkProps = {\n            normalState: undefined as undefined | INestedPathState,\n            loadingState: undefined as undefined | INestedPathState,\n            bookmarkedState: undefined as undefined | INestedPathState,\n        },\n    ) => {\n        const globalVars = globalVariables();\n        const mainColors = globalVars.mainColors;\n\n        const {\n            normalState = {\n                stroke: globalVars.mixPrimaryAndBg(0.7),\n                fill: \"none\",\n                state: {\n                    stroke: mainColors.primary,\n                },\n            },\n            loadingState = {\n                opacity: 0.7,\n                fill: mainColors.primary,\n                strokeWidth: 0,\n            },\n            bookmarkedState = {\n                stroke: mainColors.primary,\n                fill: mainColors.primary,\n            },\n        } = props;\n\n        return style(\"bookmark\", {\n            width: styleUnit(vars.bookmarkIcon.width),\n            height: styleUnit(vars.bookmarkIcon.height),\n            opacity: 1,\n            display: \"block\",\n            position: \"relative\",\n            ...{\n                \".svgBookmark\": {\n                    ...pointerEvents(),\n                },\n                \".svgBookmark-mainPath\": svgStyles(normalState),\n                \"&.Bookmarked:not(.Bookmarking) .svgBookmark-mainPath\": svgStyles(bookmarkedState),\n                \"&:hover:not(.Bookmarked) .svgBookmark-mainPath\": svgStyles(normalState.state),\n                \"&:focus:not(.Bookmarked) .svgBookmark-mainPath\": svgStyles(normalState.state),\n                \"&:active:not(.Bookmarked) .svgBookmark-mainPath\": svgStyles(normalState.state),\n                \"&:Bookmarking .svgBookmark-mainPath\": svgStyles({\n                    fill: important(\"none\"),\n                    opacity: loadingState.opacity,\n                }),\n                \"&:Bookmarking .svgBookmark-loadingPath\": svgStyles({}),\n                \".svgBookmark-loadingPath\": {\n                    display: \"none\",\n                },\n                \"&.Bookmarking .svgBookmark-loadingPath\": {\n                    display: \"block\",\n                    ...svgStyles(loadingState, true),\n                },\n            },\n        });\n    };\n\n    const newPostMenuIcon = style(\"newPostMenuIcon\", {\n        width: styleUnit(vars.newPostMenuIcon.width),\n        height: styleUnit(vars.newPostMenuIcon.height),\n        color: ColorsUtils.colorOut(globalVars.mainColors.primaryContrast),\n        margin: \"auto\",\n    });\n\n    const itemFlyout = style(\"itemFlyout\", {\n        width: styleUnit(vars.standard.width),\n        height: styleUnit(vars.standard.height),\n    });\n\n    // Search types\n    const typeAll = style(\"typeAll\", {\n        width: styleUnit(vars.typeAll.width),\n        height: styleUnit(vars.typeAll.height),\n    });\n    const typeDiscussions = style(\"typeDiscussions\", {\n        width: styleUnit(vars.typeDiscussions.width),\n        height: styleUnit(vars.typeDiscussions.height),\n    });\n    const typeArticles = style(\"typeArticles\", {\n        width: styleUnit(vars.typeArticles.width),\n        height: styleUnit(vars.typeArticles.height),\n    });\n    const typeCategoriesAndGroups = style(\"TypeCategoriesAndGroups\", {\n        width: styleUnit(vars.typeCategoriesAndGroups.width),\n        height: styleUnit(vars.typeCategoriesAndGroups.height),\n    });\n    const typeMember = style(\"TypeMember\", {\n        width: styleUnit(vars.typeMember.width),\n        height: styleUnit(vars.typeMember.height),\n    });\n    const typeIdeasIcon = style(\"TypeIdeasIcon\", {\n        width: styleUnit(vars.typeIdeasIcon.width),\n        height: styleUnit(vars.typeIdeasIcon.height),\n    });\n    const typePollsIcon = style(\"TypePollsIcon\", {\n        width: styleUnit(vars.typePollsIcon.width),\n        height: styleUnit(vars.typePollsIcon.height),\n    });\n    const typeQuestion = style(\"TypeQuestion\", {\n        width: styleUnit(vars.typeQuestion.width),\n        height: styleUnit(vars.typeQuestion.height),\n    });\n\n    const typePlaces = style(\"TypePlaces\", {\n        width: styleUnit(vars.typePlaces.width),\n        height: styleUnit(vars.typePlaces.height),\n    });\n\n    const typeFlag = style(\"TypeFlag\", {\n        width: styleUnit(vars.typeFlag.width),\n        height: styleUnit(vars.typeFlag.height),\n    });\n\n    const typeGroups = style(\"TypeGroups\", {\n        width: styleUnit(vars.typeQuestion.width),\n        height: styleUnit(vars.typeQuestion.height),\n    });\n\n    const typeKnowledgeBase = style(\"TypeKnowledgeBase\", {\n        width: styleUnit(vars.typeQuestion.width),\n        height: styleUnit(vars.typeQuestion.height),\n    });\n\n    return {\n        standard,\n        newFolder,\n        warning,\n        errorFgColor,\n        warningFgColor,\n        fileType,\n        attachmentError,\n        vanillaLogo,\n        vanillaLogoMobile,\n        compact,\n        settings,\n        search,\n        notifications,\n        messages,\n        user,\n        userWarning,\n        close,\n        closeCompact,\n        closeTiny,\n        triangeTiny,\n        chevronLeftCompact,\n        chevronLeftSmallCompact,\n        selectedCategory,\n        signIn,\n        chevronUp,\n        plusCircle,\n        categoryIcon,\n        deleteIcon,\n        editIcon,\n        discussionIcon,\n        globeIcon,\n        isSmall,\n        external,\n        hamburger,\n        documentation,\n        bookmark,\n        newPostMenuIcon,\n        itemFlyout,\n        typeAll,\n        typeDiscussions,\n        typeArticles,\n        typeCategoriesAndGroups,\n        typeMember,\n        typeIdeasIcon,\n        typePollsIcon,\n        typeQuestion,\n        typePlaces,\n        typeFlag,\n        typeGroups,\n        typeKnowledgeBase,\n    };\n});\n","export enum ButtonTypes {\n    STANDARD = \"standard\",\n    PRIMARY = \"primary\",\n    TRANSPARENT = \"transparent\",\n    TRANSLUCID = \"translucid\",\n    CUSTOM = \"custom\",\n    RESET = \"reset\",\n    RADIO = \"radioAsButton\",\n    TEXT = \"text\",\n    TEXT_PRIMARY = \"textPrimary\",\n    ICON = \"icon\",\n    ICON_COMPACT = \"iconCompact\",\n    TITLEBAR_LINK = \"titleBarLink\",\n    DASHBOARD_STANDARD = \"dashboardStandard\",\n    DASHBOARD_PRIMARY = \"dashboardPrimary\",\n    DASHBOARD_SECONDARY = \"dashboardSecondary\",\n    DASHBOARD_LINK = \"dashboardLink\",\n    NOT_STANDARD = \"notStandard\",\n}\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { IApiError, IApiResponse } from \"@library/@types/api/core\";\nimport { AxiosResponse, AxiosInstance } from \"axios\";\nimport { logError } from \"@vanilla/utils\";\nimport { ThunkDispatch, ThunkAction } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { AsyncActionCreators } from \"typescript-fsa\";\nimport { ICoreStoreState } from \"@library/redux/reducerRegistry\";\nimport { useDispatch } from \"react-redux\";\nimport { useMemo, useDebugValue } from \"react\";\nimport apiv2 from \"@library/apiv2\";\n\n/**\n * Base class for creating redux actions.\n */\nexport default class ReduxActions<S extends ICoreStoreState = ICoreStoreState> {\n    /**\n     * Utility to create an action with our a without a payload of a given type.\n     * The action generated can have its type narrowed in a reducer switch statement if the type T matches.\n     *\n     * @see ActionsUnion\n     *\n     * @param type The action type.\n     * @param payload The payload data.\n     */\n    public static createAction<ActionType extends string>(type: ActionType): IAction<ActionType>;\n    public static createAction<ActionType extends string, Payload>(\n        type: ActionType,\n        payload: Payload,\n    ): IActionWithPayload<ActionType, Payload>;\n    public static createAction<ActionType extends string, Payload>(type: ActionType, payload?: Payload) {\n        return payload === undefined ? { type } : { type, payload };\n    }\n\n    /**\n     * Create request, response, and error action creators.\n     *\n     * The dummy types are needed because typescript currently requires all generic types to be specified or all to be inferred. They cannot currently be mixed.\n     *\n     * @see https://github.com/Microsoft/TypeScript/issues/10571#issuecomment-345402872\n     *\n     * @param requestType The string for the request type. This should be a unique constant.\n     * @param responseType The string for the response type. This should be a unique constant.\n     * @param errorType The string for the error type. This should be a unique constant.\n     * @param dummyResponseType A placeholder to infer the type of the response. This isn't used for anything other than inferring a type.\n     * @param dummyMetaType A placeholder to infer the type of the meta. This isn't used for anything other than inferringa  type.\n     *\n     * @example\n     *\n     * ```\n     * const GET_THING_REQUEST = \"GET_THING_REQUEST\";\n     * const GET_THING_RESPONSE = \"GET_THING_RESPONSE\";\n     * const GET_THING_ERROR = \"GET_THING_ERROR\";\n     * interface IThing { thing: string }\n     * interface IThingOptions { page?: number }\n     *\n     * generateApiActionCreators(GET_THING_REQUEST, GET_THING_RESPONSE, GET_THING_ERROR, {} as IThing, {} as IThingOptions);\n     * ```\n     */\n    public static generateApiActionCreators<\n        RequestActionType extends string,\n        ResponseActionType extends string,\n        ErrorActionType extends string,\n        ResponseDataType,\n        Meta = any\n    >(\n        requestType: RequestActionType,\n        responseType: ResponseActionType,\n        errorType: ErrorActionType,\n        dummyResponseType?: ResponseDataType,\n        dummyMetaType?: Meta,\n    ): {\n        request: (meta?: Meta) => IApiAction<RequestActionType, Meta>;\n        response: (\n            payload: IApiResponse<ResponseDataType>,\n            meta?: Meta,\n        ) => IApiResponseAction<ResponseActionType, Meta, ResponseDataType>;\n        error: (error: IApiError, meta?: Meta) => IApiErrorAction<ErrorActionType, Meta>;\n    } {\n        return {\n            request: (meta: Meta) => ReduxActions.createApiRequestAction(requestType, meta),\n            response: (response: IApiResponse<ResponseDataType>, meta: Meta) =>\n                ReduxActions.createApiResponseAction(responseType, meta, response),\n            error: (error: IApiError, meta: Meta) => ReduxActions.createApiErrorAction(errorType, meta, error),\n        };\n    }\n\n    /**\n     * Create an API request action. For use in createApiActions().\n     *\n     * @param type The action's type.\n     * @param meta The type of the meta for the action.\n     */\n    private static createApiRequestAction<ActionType extends string, Meta>(\n        type: ActionType,\n        meta: Meta,\n    ): IApiAction<ActionType, Meta> {\n        return {\n            type,\n            meta,\n        };\n    }\n\n    /**\n     * Create an API error action. For use in createApiActions().\n     *\n     * @param type The action's type.\n     * @param meta The type of the meta for the action.\n     * @param error An API error.\n     */\n    private static createApiErrorAction<ActionType extends string, Meta>(\n        type: ActionType,\n        meta: Meta,\n        error: IApiError,\n    ): IApiErrorAction<ActionType, Meta> {\n        logError(error);\n        return {\n            type,\n            meta,\n            payload: error,\n        };\n    }\n\n    /**\n     * Create an API response action. For use in createApiActions().\n     *\n     * @param type The action's type.\n     * @param meta The type of the meta for the action.\n     * @param payload The shape of the IApiResponse data.\n     */\n    private static createApiResponseAction<ActionType extends string, Meta, ResponseDataType>(\n        type: ActionType,\n        meta: Meta,\n        payload: IApiResponse<ResponseDataType>,\n    ): IApiResponseAction<ActionType, Meta, ResponseDataType> {\n        return {\n            type,\n            meta,\n            payload,\n        };\n    }\n\n    /**\n     * Constructor for the redux actions.\n     *\n     * @param dispatch A redux dispatch function.\n     * @param api An API instance.\n     * @param getState Optionally override the getState method. (generally for testin purposes.)\n     */\n    constructor(protected dispatch: any, protected api: AxiosInstance, getState?: () => any) {\n        if (getState) {\n            this.getState = getState;\n        }\n    }\n\n    /**\n     * Bind dispatch to an action creator.\n     */\n    protected bindDispatch = <T extends (...args) => void>(actionCreator: T): T => {\n        return ((...args) => {\n            return this.dispatch(actionCreator.apply(this, args));\n        }) as any;\n    };\n\n    /**\n     * Generate a simple redux thunk for an API request using action creators.\n     *\n     * @param requestType The request method. Eg. post, patch, get, put.\n     * @param endpoint The endpoint requested.\n     * @param actionCreators Action creators generated from {@link ReduxActions.generateApiActionCreators()}\n     * @param params A parameter object for the request. This will be serialized as a JSON body or query string.\n     * @param meta\n     */\n    protected async dispatchApi<T>(\n        requestType: RequestType,\n        endpoint: string,\n        actionCreators: ReturnType<typeof ReduxActions.generateApiActionCreators>,\n        params: any,\n        meta: any = {},\n    ): Promise<AxiosResponse<T> | undefined> {\n        meta = {\n            ...params,\n            ...meta,\n        };\n        this.dispatch(actionCreators.request(meta));\n        try {\n            const requestPromise =\n                requestType === \"get\"\n                    ? this.api.get(endpoint, { params })\n                    : this.api[requestType as any](endpoint, params);\n            const response: AxiosResponse<T> = await requestPromise;\n            this.dispatch(actionCreators.response(response, meta));\n            return response;\n        } catch (apiError) {\n            this.dispatch(actionCreators.error(apiError, meta));\n        }\n    }\n\n    protected getState(): S {\n        return this.dispatch((c, getState) => {\n            return getState();\n        });\n    }\n}\n\ntype ReduxActionConstructor<T extends ICoreStoreState, R extends ReduxActions<T>> = {\n    new (dispatch: any, api: AxiosInstance): R;\n};\nexport function useReduxActions<T extends ICoreStoreState, R extends ReduxActions<T>>(\n    actionClass: ReduxActionConstructor<T, R>,\n): R {\n    const dispatch = useDispatch();\n    const actions = useMemo(() => {\n        return new actionClass(dispatch, apiv2);\n    }, [dispatch, actionClass]);\n    useDebugValue(actions);\n    return actions;\n}\n\n// Redux FSA\n\n/**\n * It's either a promise, or it isn't\n */\ntype MaybePromise<Type> = Type | Promise<Type>;\n\n/**\n * A redux-thunk with the params as the first argument.  You don't have to\n * return a promise; but, the result of the dispatch will be one.\n */\ntype AsyncWorker<Params, Succ, State, Extra = any> = (\n    params: Params,\n    dispatch: ThunkDispatch<State, Extra, AnyAction>,\n    getState: () => State,\n    extra: Extra,\n) => MaybePromise<Succ>;\n\n/** A function that takes parameters and returns a redux-thunk */\ntype ThunkActionCreator<Params, Result, State, Extra> = (\n    params?: Params,\n) => ThunkAction<Result, State, Extra, AnyAction>;\n\n/**\n * Bind a redux-thunk to typescript-fsa async action creators\n * @param actionCreators The typescript-fsa async action creators\n * @param asyncWorker A redux-thunk with extra `params` as the first argument\n * @returns a ThunkActionCreator, the result of which you can pass to dispatch()\n */\nexport const bindThunkAction = <Params, Succ, Err, State, Extra = any>(\n    actionCreators: AsyncActionCreators<Params, Succ, Err>,\n    asyncWorker: AsyncWorker<Params, Succ, State, Extra>,\n): ThunkActionCreator<Params, Promise<Succ>, State, Extra> => (params: Params) => async (dispatch, getState, extra) => {\n    try {\n        dispatch(actionCreators.started(params!));\n        const result = await asyncWorker(params!, dispatch, getState, extra);\n        dispatch(actionCreators.done({ params: params!, result }));\n        return result;\n    } catch (error) {\n        dispatch(actionCreators.failed({ params: params!, error }));\n        throw error;\n    }\n};\n\n// Action interfaces\nexport interface IAction<T extends string> {\n    type: T;\n}\n\nexport interface IActionWithPayload<T extends string, P> extends IAction<T> {\n    payload: P;\n    meta?: any;\n}\n\nexport interface IActionCreator<T extends string> {\n    (): IAction<T>;\n}\n\ntype FunctionType = (...args: any[]) => any;\ninterface IActionCreatorsMapObject {\n    [actionCreator: string]: FunctionType;\n}\n\n// API Action interfaces\ninterface IApiAction<ActionType, Meta> {\n    type: ActionType;\n    meta: Meta;\n}\n\ninterface IApiErrorAction<ActionType, Meta> extends IApiAction<ActionType, Meta> {\n    payload: IApiError;\n}\n\ninterface IApiResponseAction<ActionType, Meta, ResponseDataType> extends IApiAction<ActionType, Meta> {\n    payload: IApiResponse<ResponseDataType>;\n}\n\ntype RequestType = \"get\" | \"post\" | \"put\" | \"delete\" | \"patch\";\n\n// Utility to pull a group of action types out of an actions object\nexport type ActionsUnion<A extends IActionCreatorsMapObject> = ReturnType<A[keyof A]>;\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport classNames from \"classnames\";\nimport { t } from \"@library/utility/appUtils\";\nimport { iconClasses } from \"@library/icons/iconStyles\";\nimport { areaHiddenType } from \"@library/styles/styleHelpersVisibility\";\n\nconst currentColorFill = {\n    fill: \"currentColor\",\n};\n\nconst leftChevronPath =\n    \"M3.621,10.5l7.94-7.939A1.5,1.5,0,0,0,9.439.439h0l-9,9a1.5,1.5,0,0,0,0,2.121h0l9,9a1.5,1.5,0,0,0,2.122-2.122Z\";\n\nconst horizontalChevronViewBox = (centred?: boolean) => {\n    return centred ? \"-8 -4 30 30\" : \"0 0 24 24\";\n};\n\n// non breaking space not just a regular space.\nexport const NBSP = \" \";\n\nexport function RightChevronIcon(props: {\n    className?: string;\n    \"aria-hidden\"?: areaHiddenType;\n    centred?: boolean;\n    title?: string;\n}) {\n    const title = props.title ? props.title : `>`;\n    const classes = iconClasses();\n    return (\n        <svg\n            className={classNames(classes.standard, \"icon-chevronRight\", props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox={horizontalChevronViewBox(props.centred)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            style={{ transform: \"scaleX(-1)\", transformOrigin: \"50% 50%\" }}\n        >\n            <title>{title}</title>\n            <path\n                transform=\"translate(0 1.75)\"\n                className=\"icon-chevronRightPath\"\n                d={leftChevronPath}\n                style={currentColorFill}\n            />\n        </svg>\n    );\n}\n\nexport function LeftChevronIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType; centred?: boolean }) {\n    const title = `<`;\n    const classes = iconClasses();\n    return (\n        <svg\n            className={classNames(classes.standard, \"icon-chevronLeft\", props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox={horizontalChevronViewBox(props.centred)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{title}</title>\n            <path\n                transform=\"translate(0 1.75)\"\n                className=\"icon-chevronLeftPath\"\n                d={leftChevronPath}\n                style={currentColorFill}\n            />\n        </svg>\n    );\n}\n\nexport function LeftChevronCompactIcon(props: {\n    className?: string;\n    \"aria-hidden\"?: areaHiddenType;\n    isSmall?: boolean;\n}) {\n    const title = `<`;\n    const classes = iconClasses();\n    return (\n        <svg\n            className={classNames(classes.chevronLeftCompact, \"icon-chevronLeftCompact\", props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 12 21\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{title}</title>\n            <path d={leftChevronPath} style={currentColorFill} />\n        </svg>\n    );\n}\n\nexport function TopChevronIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const title = `↑`;\n    const classes = iconClasses();\n    return (\n        <svg\n            className={classNames(classes.standard, \"icon-chevronUp\", props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{title}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M5.467,14.858l.668.618a.442.442,0,0,0,.614,0L12,10.614l5.252,4.862a.442.442,0,0,0,.614,0l.668-.618a.369.369,0,0,0,0-.569L12.308,8.524a.443.443,0,0,0-.615,0L5.467,14.289a.376.376,0,0,0-.134.284A.381.381,0,0,0,5.467,14.858Z\"\n            />\n        </svg>\n    );\n}\n\nexport function BottomChevronIcon(props: {\n    className?: string;\n    \"aria-hidden\"?: areaHiddenType;\n    rotate?: number;\n    title?: string;\n}) {\n    const title = props.title ? props.title : `↓`;\n    const classes = iconClasses();\n    return (\n        <svg\n            className={classNames(classes.standard, \"icon-chevronDown\", props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            style={{\n                transform: props.rotate ? `rotate(${props.rotate}deg)` : undefined,\n            }}\n        >\n            <title>{title}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M18.534,9.142l-.668-.618a.442.442,0,0,0-.614,0L12,13.386,6.749,8.524a.442.442,0,0,0-.614,0l-.668.618a.369.369,0,0,0,0,.569l6.226,5.765a.443.443,0,0,0,.615,0l6.226-5.765a.376.376,0,0,0,.134-.284A.381.381,0,0,0,18.534,9.142Z\"\n            />\n        </svg>\n    );\n}\n\nexport function CloseIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType; compact?: boolean }) {\n    const title = t(\"Close\");\n    const viewBox = props.compact ? \"0 0 16 16\" : \"0 0 24 24\";\n    const transform = props.compact ? \"translate(-4 -4)\" : \"\";\n    const classes = iconClasses();\n    return (\n        <svg\n            className={classNames(props.compact ? classes.compact : classes.close, props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox={viewBox}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{title}</title>\n            <path\n                transform={transform}\n                fill=\"currentColor\"\n                d=\"M12,10.6293581 L5.49002397,4.11938207 C5.30046135,3.92981944 4.95620859,3.96673045 4.69799105,4.22494799 L4.22494799,4.69799105 C3.97708292,4.94585613 3.92537154,5.29601344 4.11938207,5.49002397 L10.6293581,12 L4.11938207,18.509976 C3.92981944,18.6995387 3.96673045,19.0437914 4.22494799,19.3020089 L4.69799105,19.775052 C4.94585613,20.0229171 5.29601344,20.0746285 5.49002397,19.8806179 L12,13.3706419 L18.509976,19.8806179 C18.6995387,20.0701806 19.0437914,20.0332695 19.3020089,19.775052 L19.775052,19.3020089 C20.0229171,19.0541439 20.0746285,18.7039866 19.8806179,18.509976 L13.3706419,12 L19.8806179,5.49002397 C20.0701806,5.30046135 20.0332695,4.95620859 19.775052,4.69799105 L19.3020089,4.22494799 C19.0541439,3.97708292 18.7039866,3.92537154 18.509976,4.11938207 L12,10.6293581 Z\"\n            />\n        </svg>\n    );\n}\n\nexport function CloseCompactIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    return (\n        <CloseIcon\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            compact={true}\n            className={props.className}\n        />\n    );\n}\n\nexport function CloseTinyIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const title = t(\"Close\");\n    const classes = iconClasses();\n    return (\n        <svg\n            className={classNames(classes.closeTiny, props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 9.5 9.5\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{title}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M10.836,11.75,7.793,8.707A1,1,0,0,1,9.207,7.293l3.043,3.043,3.043-3.043a1,1,0,0,1,1.414,1.414L13.664,11.75l3.043,3.043a1,1,0,0,1-1.414,1.414L12.25,13.164,9.207,16.207a1,1,0,1,1-1.439-1.389l.025-.025Z\"\n                transform=\"translate(-7.488 -7.012)\"\n            />\n        </svg>\n    );\n}\n\nexport function ClearIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const title = t(\"Clear\");\n    const classes = iconClasses();\n    return (\n        <svg\n            className={classNames(classes.standard, \"icon-clear\", props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{title}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M12,5a7,7,0,1,0,7,7A7,7,0,0,0,12,5Zm2.873,5.244L13.118,12l1.755,1.756a.337.337,0,0,1,0,.479l-.638.638a.337.337,0,0,1-.479,0L12,13.118l-1.756,1.755a.337.337,0,0,1-.479,0l-.638-.638a.337.337,0,0,1,0-.479L10.882,12,9.127,10.244a.337.337,0,0,1,0-.479l.638-.638a.337.337,0,0,1,.479,0L12,10.882l1.756-1.755a.337.337,0,0,1,.479,0l.638.638A.337.337,0,0,1,14.873,10.244Z\"\n            />\n        </svg>\n    );\n}\n\nexport function CheckIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const title = `✓`;\n    const classes = iconClasses();\n    return (\n        <svg\n            className={classNames(classes.standard, \"icon-check\", props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{title}</title>\n            <polygon fill=\"currentColor\" points=\"5,12.7 3.6,14.1 9,19.5 20.4,7.9 19,6.5 9,16.8\" />\n        </svg>\n    );\n}\n\nexport function DropDownMenuIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const title = `…`;\n    const classes = iconClasses();\n    return (\n        <svg\n            className={classNames(classes.standard, \"icon-dropDownMenu\", props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{title}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M5.5 12.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"\n            />\n        </svg>\n    );\n}\n\nexport function NewFolderIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType; title?: string }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className={classNames(classes.newFolder, props.className)}\n            viewBox=\"0 0 22 19\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{props.title ? props.title : t(\"New Folder\")}</title>\n            <path\n                d=\"M1,15.066V3.77Q1,1,3.548,1H9.12L11.3,3.769h7.286q2.372-.083,2.372,2.6v8.7q0,3.205-2.372,3.206H3.548Q1,18.272,1,15.066Z\"\n                style={{ fill: \"none\", stroke: \"currentColor\", strokeWidth: \"1.2px\" }}\n            />\n            <path\n                d=\"M10.5,8v6m3-3h-6\"\n                style={{ fill: \"none\", stroke: \"currentColor\", strokeLinecap: \"round\", strokeWidth: \"1.2px\" }}\n            />\n        </svg>\n    );\n}\n\nexport function WarningIcon(props: { className?: string; warningMessage?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    const { className, warningMessage = t(\"Warning\") } = props;\n\n    return (\n        <svg\n            className={classNames(classes.warning, className)}\n            aria-label={warningMessage}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 16 16\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{warningMessage}</title>\n            <path\n                d=\"M12.709,13.405H11.314l-.291-5.9H13ZM11,15.472a1.048,1.048,0,0,1,.257-.767,1.01,1.01,0,0,1,.749-.26.982.982,0,0,1,.734.266,1.226,1.226,0,0,1,0,1.514.964.964,0,0,1-.731.275.993.993,0,0,1-.743-.269A1.042,1.042,0,0,1,11,15.472Z\"\n                transform=\"translate(-4 -4)\"\n                style={{ fill: \"currentColor\" }}\n            />\n            <circle cx=\"8\" cy=\"8\" r=\"7.5\" style={{ fill: \"none\", stroke: \"currentColor\" }} />\n        </svg>\n    );\n}\n\nexport function ErrorIcon(props: { className?: string; errorMessage?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    const { className, errorMessage = t(\"Error\") } = props;\n\n    return (\n        <svg\n            className={classNames(classes.warning, className)}\n            aria-label={errorMessage}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 17 17\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{errorMessage}</title>\n            <path\n                d=\"M11.753,4.247a.843.843,0,0,1,0,1.19L9.191,8l2.562,2.562a.842.842,0,0,1,.076,1.105l-.076.086a.843.843,0,0,1-1.19,0L8,9.191,5.438,11.753a.842.842,0,0,1-1.191-1.19L6.809,8,4.247,5.438a.842.842,0,0,1-.076-1.1l.076-.086a.843.843,0,0,1,1.19,0L8,6.809l2.562-2.562a.842.842,0,0,1,1.191,0Z\"\n                transform=\"translate(0.5 0.5)\"\n                style={{ fill: \"currentColor\", fillRule: \"evenodd\" }}\n            />\n            <circle cx=\"8.5\" cy=\"8.5\" r=\"8\" style={{ fill: \"none\", stroke: \"currentColor\" }} />\n        </svg>\n    );\n}\n\nexport function PendingIcon(props: { className?: string }) {\n    const classes = iconClasses();\n    const { className } = props;\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 17 17\"\n            className={classNames(classes.standard, className)}\n            role=\"img\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <path\n                fill=\"currentColor\"\n                d=\"M5.5 12.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"\n                transform=\"translate(1,1) scale(0.6)\"\n            />\n            <circle cx=\"8.5\" cy=\"8.5\" r=\"8\" style={{ fill: \"none\", stroke: \"currentColor\" }} />\n        </svg>\n    );\n}\n\nexport function ApproveIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    const { className } = props;\n\n    return (\n        <svg\n            className={classNames(classes.warning, className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 17 17\"\n            id=\"checkmark\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <polygon\n                points=\"12.136 3.139 13.25 4.253 6.211 11.292 2.75 7.83 3.863 6.717 6.211 9.064 12.136 3.139\"\n                fill=\"currentColor\"\n                transform=\"translate(0,1)\"\n            />\n            <circle cx=\"8.5\" cy=\"8.5\" r=\"8\" style={{ fill: \"none\", stroke: \"currentColor\" }} />\n        </svg>\n    );\n}\n\nexport function InformationIcon(props: {\n    className?: string;\n    informationMessage?: string;\n    \"aria-hidden\"?: areaHiddenType;\n}) {\n    const classes = iconClasses();\n    const { className, informationMessage = t(\"Information\") } = props;\n\n    return (\n        <svg\n            className={classNames(classes.warning, className)}\n            aria-label={informationMessage}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 16 16\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{informationMessage}</title>\n            <circle cx=\"8\" cy=\"8\" r=\"7.5\" style={{ fill: \"none\", stroke: \"currentColor\" }} />\n            <path\n                d=\"M9,12H7V7H9ZM7,5.006a1.063,1.063,0,0,1,.236-.757A1.006,1.006,0,0,1,8,4a1.012,1.012,0,0,1,.764.254A1.058,1.058,0,0,1,9,5.006.883.883,0,0,1,8,6,.879.879,0,0,1,7,5.006Z\"\n                style={{ fill: \"currentColor\", fillRule: \"evenodd\" }}\n            />\n        </svg>\n    );\n}\n\nexport function CategoryIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const title = t(\"Folder\");\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className={classNames(classes.categoryIcon, \"icon-categoryIcon\", props.className)}\n            viewBox=\"0 0 24 24\"\n            role=\"img\"\n            aria-label={title}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{title}</title>\n            <path\n                d=\"M5.5,19 L18.5,19 C19.3284271,19 20,18.3284271 20,17.5 L20,8.5 C20,7.67157288 19.3284271,7 18.5,7 L12,7 L10.2222222,5 L5.5,5 C4.67157288,5 4,5.67157288 4,6.5 L4,17.5 C4,18.3284271 4.67157288,19 5.5,19 Z\"\n                fill=\"currentColor\"\n            />\n        </svg>\n    );\n}\n\nexport function CheckCompactIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const title = `✓`;\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className={classNames(classes.selectedCategory, \"icon-selectedCategory\", props.className)}\n            viewBox=\"0 0 16.8 13\"\n            role=\"img\"\n            aria-label={title}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{title}</title>\n            <polygon\n                points=\"12.136 3.139 13.25 4.253 6.211 11.292 2.75 7.83 3.863 6.717 6.211 9.064 12.136 3.139\"\n                fill=\"currentColor\"\n            />\n        </svg>\n    );\n}\n\nexport function UpTriangleIcon(props: {\n    className?: string;\n    \"aria-hidden\"?: areaHiddenType;\n    title?: string;\n    deg?: number;\n}) {\n    return (\n        <DownTriangleIcon\n            className={props.className}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            deg={180}\n            translateY={-2}\n        />\n    );\n}\n\nexport function DownTriangleIcon(props: {\n    className?: string;\n    \"aria-hidden\"?: areaHiddenType;\n    title?: string;\n    deg?: number;\n    translateY?: number;\n}) {\n    let rotation: string | undefined = undefined;\n    if (props.deg !== undefined) {\n        rotation = `rotate(${props.deg}, 4, 4)`;\n    }\n\n    let translate: string | undefined = undefined;\n    if (props.translateY) {\n        translate = `translate(0, ${props.translateY})`;\n    }\n\n    const transform = [rotation, translate].filter((item) => item !== undefined).join(\", \");\n    const classes = iconClasses();\n\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 10 6\"\n            className={classNames(props.className, classes.triangeTiny)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{props.title ? props.title : `▾`}</title>\n            <polygon points=\"0 0 10 0 5 6 0 0\" fill=\"currentColor\" transform={transform} />\n        </svg>\n    );\n}\n\nexport function RightTriangleIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType; title?: string }) {\n    return (\n        <DownTriangleIcon\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            className={props.className}\n            title={props.title ? props.title : `▶`}\n            deg={-90}\n        />\n    );\n}\n\nexport function HelpIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const title = t(\"Help\");\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 16 16\"\n            className={classNames(classes.compact, \"icon-help\", props.className)}\n            role=\"img\"\n            aria-label={title}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{title}</title>\n            <path\n                d=\"M12,19a7,7,0,1,0-7-7A7,7,0,0,0,12,19Zm0,1a8,8,0,1,1,8-8A8,8,0,0,1,12,20Zm-.866-6.5v-.338a2,2,0,0,1,.211-.969,2.757,2.757,0,0,1,.741-.8,4.09,4.09,0,0,0,.812-.773,1.156,1.156,0,0,0,.183-.656.826.826,0,0,0-.3-.683,1.333,1.333,0,0,0-.851-.238A2.941,2.941,0,0,0,11,9.185a6.65,6.65,0,0,0-.836.344L9.721,8.6a4.653,4.653,0,0,1,2.3-.6,2.485,2.485,0,0,1,1.645.508,1.727,1.727,0,0,1,.609,1.4,1.983,1.983,0,0,1-.117.706,2.006,2.006,0,0,1-.352.59,5.653,5.653,0,0,1-.812.731,3.088,3.088,0,0,0-.659.64,1.229,1.229,0,0,0-.166.682V13.5Zm-.217,1.688a.7.7,0,0,1,.778-.8.775.775,0,0,1,.582.209.818.818,0,0,1,.2.59.838.838,0,0,1-.2.595.878.878,0,0,1-1.156.006A.844.844,0,0,1,10.917,15.185Z\"\n                transform=\"translate(-4 -4)\"\n                fill=\"currentColor\"\n            />\n        </svg>\n    );\n}\n\nexport function ComposeIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            className={classNames(classes.standard, \"icon-compose\", props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{t(\"Compose\")}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M23.591,1.27l-.9-.9a1.289,1.289,0,0,0-1.807,0l-.762.863,2.6,2.587.868-.751a1.24,1.24,0,0,0,.248-.373,1.255,1.255,0,0,0,0-1.052A1.232,1.232,0,0,0,23.591,1.27ZM19.5,20.5H3.5V4.5H15.4l1.4-1.431H2.751A1,1,0,0,0,2,4.07V20.939a1,1,0,0,0,1,1H20.011a1,1,0,0,0,1-1V7L19.5,8.445ZM21.364,3.449l-9.875,9.8-.867-.861,9.874-9.8-.867-.863-4.938,4.9-4.938,4.9L8.74,15.167l3.617-1.055,9.875-9.8Z\"\n            />\n        </svg>\n    );\n}\n\nexport function PlusCircleIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const title = `+`;\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            viewBox=\"0 0 16 16\"\n            className={classNames(classes.plusCircle, \"icon-plusCircle\", props.className)}\n            role=\"img\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{title}</title>\n            <g fill=\"none\" fillRule=\"evenodd\">\n                <g>\n                    <g transform=\"translate(-969 -413) translate(970 414)\">\n                        <circle cx=\"7\" cy=\"7\" r=\"7\" stroke=\"#555A62\" strokeWidth=\".778\" />\n                        <path fill=\"#555A62\" d=\"M6.3 3.5H7.699999999999999V10.5H6.3z\" />\n                        <path fill=\"#555A62\" d=\"M6.3 3.5L7.7 3.5 7.7 10.5 6.3 10.5z\" transform=\"rotate(90 7 7)\" />\n                    </g>\n                </g>\n            </g>\n        </svg>\n    );\n}\n\nexport function SignInIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const title = t(\"Sign In\");\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"-4 0 24 18\"\n            className={classNames(classes.signIn, \"icon-signIn\", props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            role=\"img\"\n        >\n            <title>{title}</title>\n            <g fill=\"none\" fillRule=\"evenodd\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeWidth=\"1.5\">\n                <path strokeLinejoin=\"round\" d=\"M7.243 12.417L10.92 8.74 7.243 5.063\" />\n                <path d=\"M10.617 8.74H.843\" />\n                <path\n                    strokeLinejoin=\"round\"\n                    d=\"M2 5.07V1.235C2.051.411 2.451 0 3.2 0h11.507C15.57.033 16 .593 16 1.681v15.136c-.058.789-.346 1.183-.865 1.183H3.2c-.8-.01-1.2-.404-1.2-1.183v-4.12\"\n                />\n            </g>\n        </svg>\n    );\n}\n\nexport function ChevronUpIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType; rotate?: number }) {\n    const title = t(\"Chevron Up\");\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 51 17\"\n            style={{\n                transform: props.rotate ? `rotate(${props.rotate}deg)` : undefined,\n            }}\n            className={classNames(classes.chevronUp, \"icon-chevronUp\", props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{title}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M4.9,16.752A3.552,3.552,0,0,1,.329,14.668c-.039-.106-.074-.214-.1-.323A4.185,4.185,0,0,1,2.39,9.152L24.246.252a3.31,3.31,0,0,1,2.508,0l21.856,8.9a4.184,4.184,0,0,1,2.166,5.193,3.552,3.552,0,0,1-4.351,2.511,3.41,3.41,0,0,1-.325-.1L25.5,8.358Z\"\n            />\n        </svg>\n    );\n}\n\nexport function SearchErrorIcon(props: { message?: string; className?: string }) {\n    const title = props.message ? props.message : t(\"Page Not Found\");\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            className={classNames(classes.standard, \"icon-notFound\", props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{title}</title>\n            <path\n                d=\"M16.178,14.358l4.628,4.616c.633.631,1.2,1.417.354,2.261s-1.647.286-2.285-.336q-.627-.612-4.7-4.688a7.7,7.7,0,1,1,2.005-1.853ZM9.984,9.214,11.563,7.64a.418.418,0,0,1,.591.59L10.576,9.8l1.578,1.574a.418.418,0,0,1-.591.59L9.984,10.394,8.4,11.968a.418.418,0,0,1-.591-.59L9.392,9.8,7.814,8.23A.418.418,0,0,1,8.4,7.64Zm.063,7.545a7.044,7.044,0,1,0-7.03-7.043A7.037,7.037,0,0,0,10.047,16.759Z\"\n                fill=\"currentColor\"\n            />\n        </svg>\n    );\n}\n\nexport function AccessibleImageMenuIcon(props: { message?: string; className?: string }) {\n    const { message, className } = props;\n    const title = message ? message : t(\"Accessibility\");\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            className={classNames(classes.standard, \"icon-accessibleImageMenuIcon\", className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{title}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M12 22.7C6.09 22.7 1.3 17.91 1.3 12 1.3 6.09 6.09 1.3 12 1.3c5.91 0 10.7 4.79 10.7 10.7 0 5.91-4.79 10.7-10.7 10.7zm0-1.4a9.3 9.3 0 1 0 0-18.6 9.3 9.3 0 0 0 0 18.6z\"\n            />\n            <path fill=\"currentColor\" d=\"M12 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4\" />\n            <path\n                fill=\"currentColor\"\n                d=\"M16.06 9.004h-.005l-3.06.336a2.823 2.823 0 0 1-.313.018H11.32c-.104 0-.208-.006-.312-.017l-3.065-.337c-.482-.047-.902.394-.94.984-.038.59.321 1.106.803 1.153l2.473.275c.15.017.265.17.265.355v.822c0 .179-.027.356-.08.522L9.06 17.494c-.195.541.005 1.174.446 1.414.442.24.958-.005 1.154-.546l1.336-4.007 1.349 4.017c.201.528.71.762 1.144.528.435-.235.637-.853.456-1.391l-1.408-4.395a1.717 1.717 0 0 1-.08-.521v-.822c0-.185.115-.339.265-.355l2.47-.275c.48-.045.841-.56.804-1.15-.036-.59-.456-1.033-.938-.988z\"\n            />\n        </svg>\n    );\n}\n\nexport function EditIcon(props: {\n    className?: string;\n    \"aria-hidden\"?: areaHiddenType;\n    title?: string;\n    small?: boolean;\n}) {\n    const classes = iconClasses();\n    return (\n        <svg\n            viewBox=\"0 0 24 24\"\n            className={classNames(classes.editIcon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{props.title ? props.title : t(\"Edit\")}</title>\n            <g className={classNames({ [classes.isSmall]: props.small })}>\n                <g transform=\"translate(4, 3)\">\n                    <polygon fill=\"currentColor\" points=\"1.05405405 14 3 15.9736842 0 17\" />\n                    <path\n                        d=\"M1.53965611,12.8579964 L14.2200643,0.146669161 C14.4151476,-0.0488897203 14.6102308,-0.0488897203 14.805314,0.146669161 L16.8536876,2.20003741 C17.0487708,2.39559629 17.0487708,2.59115517 16.8536876,2.78671406 L4.17327936,15.4980413 L0.466698493,16.9647329 C0.076532086,17.0625124 -0.118551118,16.9647329 0.076532086,16.5736152 L1.53965611,12.8579964 Z\"\n                        stroke=\"currentColor\"\n                        fill=\"none\"\n                    />\n                </g>\n            </g>\n        </svg>\n    );\n}\n\nexport function DeleteIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            viewBox=\"0 0 17 17\"\n            className={classNames(classes.deleteIcon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{t(\"Delete\")}</title>\n            <g clipRule=\"evenodd\" fillRule=\"evenodd\" fill=\"currentColor\">\n                <path\n                    d=\"M14,4v9c0,1.1-0.9,2-2,2H5c-1.1,0-2-0.9-2-2V4H2.3C2.1,4,2,3.9,2,3.7V3.3C2,3.1,2.1,3,2.3,3h3.2l0.3-1\n\t\tC5.9,1.4,6.4,1,7,1h3c0.6,0,1.1,0.4,1.2,1l0.3,1h3.2C14.9,3,15,3.1,15,3.3v0.4C15,3.9,14.9,4,14.7,4H14z M7,2.2C7,2.1,7.1,2,7.2,2\n\t\th2.6C9.9,2,10,2.1,10,2.2L10.2,3H6.8L7,2.2z M4,4h9v9c0,0.5-0.4,1-1,1H5c-0.6,0-1-0.5-1-1V4z\"\n                />\n                <path\n                    d=\"M8.5,5.5L8.5,5.5C8.8,5.5,9,5.7,9,6v6c0,0.3-0.2,0.5-0.5,0.5l0,0C8.2,12.5,8,12.3,8,12V6\n\t\tC8,5.7,8.2,5.5,8.5,5.5z\"\n                />\n                <path\n                    d=\"M10.5,5.5L10.5,5.5C10.8,5.5,11,5.7,11,6v6c0,0.3-0.2,0.5-0.5,0.5l0,0c-0.3,0-0.5-0.2-0.5-0.5V6\n\t\tC10,5.7,10.2,5.5,10.5,5.5z\"\n                />\n                <path\n                    d=\"M6.5,5.5L6.5,5.5C6.8,5.5,7,5.7,7,6v6c0,0.3-0.2,0.5-0.5,0.5l0,0C6.2,12.5,6,12.3,6,12V6\n\t\tC6,5.7,6.2,5.5,6.5,5.5z\"\n                />\n            </g>\n        </svg>\n    );\n}\n\nexport function DiscussionIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType; title?: string }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            className={classNames(classes.discussionIcon, props.className)}\n            viewBox=\"0 0 24 24\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{props.title ? props.title : t(\"Speech Bubble\")}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M12 17.431c4.418 0 8-2.783 8-6.216C20 7.782 16.418 5 12 5s-8 2.783-8 6.216c0 1.572.75 3.008 1.99 4.102l-.765 3.11 3.28-1.619a9.9 9.9 0 0 0 3.495.623zm-6.332 1.892c-.762.376-1.616-.31-1.414-1.134l.627-2.55C3.678 14.396 3 12.854 3 11.215 3 7.168 7.077 4 12 4s9 3.168 9 7.215c0 4.048-4.077 7.215-9 7.215-1.192 0-2.352-.185-3.43-.54l-2.902 1.433z\"\n            />\n        </svg>\n    );\n}\n\nexport function GlobeIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType; title?: string }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            className={classNames(classes.globeIcon, props.className)}\n            viewBox=\"0 0 24 24\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{props.title ? props.title : t(\"Globe\")}</title>\n            <path\n                d=\"M18.75,6.055A8.983,8.983,0,0,0,12.082,3l-.019,0H12a8.994,8.994,0,0,0-.035,17.988.415.415,0,0,0,.207,0A8.979,8.979,0,0,0,18.689,18a.382.382,0,0,0,.045-.052,8.966,8.966,0,0,0,.016-11.9ZM18.3,17.089a10.836,10.836,0,0,0-1.975-.815,15.225,15.225,0,0,0,.593-4.06h3.215A7.994,7.994,0,0,1,18.3,17.089ZM3.868,12.214H7.083A15.44,15.44,0,0,0,7.676,16.3a10.707,10.707,0,0,0-1.975.762A7.924,7.924,0,0,1,3.868,12.214ZM5.7,6.794a10.707,10.707,0,0,0,1.975.762,15.667,15.667,0,0,0-.589,3.8H3.879A8.027,8.027,0,0,1,5.7,6.794Zm5.844.577a16.12,16.12,0,0,1-2.829-.33C9.4,5.3,10.47,4.108,11.545,3.893Zm0,.857v3.13h-3.6A13.983,13.983,0,0,1,8.478,7.8,15.459,15.459,0,0,0,11.545,8.228Zm0,3.986v3.547a15.492,15.492,0,0,0-3.066.32,14.064,14.064,0,0,1-.537-3.867Zm0,4.4V20.1c-1.075-.215-2.15-1.41-2.829-3.148A16.312,16.312,0,0,1,11.545,16.618Zm.86,0a13.668,13.668,0,0,1,2.7.327c-.653,1.672-1.628,2.842-2.7,3.119V16.62Zm0-.857v-3.55h3.653a13.891,13.891,0,0,1-.625,3.867,15.962,15.962,0,0,0-3.029-.318Zm0-4.407V8.225A15.634,15.634,0,0,0,15.433,7.8a13.924,13.924,0,0,1,.62,3.555H12.405Zm0-3.99V3.922c1.074.277,2.049,1.446,2.7,3.118a13.521,13.521,0,0,1-2.7.327Zm2.153-3.1A8.164,8.164,0,0,1,17.7,6.19a10.084,10.084,0,0,1-1.648.633A7.94,7.94,0,0,0,14.558,4.271ZM7.95,6.823A10.016,10.016,0,0,1,6.3,6.19a8.166,8.166,0,0,1,3.14-1.92A7.95,7.95,0,0,0,7.95,6.823Zm0,10.342a7.952,7.952,0,0,0,1.492,2.553A8.14,8.14,0,0,1,6.3,17.8,10.177,10.177,0,0,1,7.95,17.165Zm8.1,0A10.129,10.129,0,0,1,17.7,17.8a8.14,8.14,0,0,1-3.14,1.919A7.91,7.91,0,0,0,16.05,17.165Zm.863-5.808a15.454,15.454,0,0,0-.589-3.775A10.7,10.7,0,0,0,18.3,6.767a8.107,8.107,0,0,1,1.822,4.59Z\"\n                style={{ fill: \"currentColor\" }}\n            />\n        </svg>\n    );\n}\n\nexport function TranslateIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType; title?: string }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            className={classNames(classes.standard, props.className)}\n            viewBox=\"0 0 24 24\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{props.title ? props.title : t(\"Translate\")}</title>\n            <path\n                d=\"M9.836,13.2l-.455-1.495H7.09L6.635,13.2H5.2L7.417,6.892H9.046L11.27,13.2Zm-.773-2.612q-.359-1.149-.711-2.3-.065-.209-.114-.42-.142.549-.812,2.72Zm9.472,1.626a.5.5,0,0,0,0-1h-2.07V10a.466.466,0,1,0-.93,0v1.214h-1.9c-.256,0-.088.22,0,.5s0,.5.255.5h.216a4.936,4.936,0,0,0,1.164,2.75c-.528.34.31.329-.35.329-.256,0,0,.077,0,.353s.093.508.35.508c.614,0,.01.03.73-.508a4.216,4.216,0,0,0,2.535.854.5.5,0,0,0,0-1,3.319,3.319,0,0,1-1.8-.536,4.936,4.936,0,0,0,1.164-2.75h.641ZM16,14.34a3.893,3.893,0,0,1-.956-2.125h1.912A3.893,3.893,0,0,1,16,14.34Z\"\n                style={{ fill: \"currentColor\" }}\n            />\n            <path\n                d=\"M11.271,2.709H4.017q-1.418,0-1.417,1.9V16.445q0,1.575,1.733,1.575H16.1Z\"\n                style={{ fill: \"none\", stroke: \"currentColor\", strokeWidth: \"1.2px\" }}\n            />\n            <path\n                d=\"M12.348,6.116h7.7q1.313,0,1.312,1.234v12.7q0,1.47-1.312,1.47H13.635L12,18.02h4.1Zm1.287,15.4,2.817-3.287\"\n                style={{ fill: \"none\", stroke: \"currentColor\", strokeWidth: \"1.2px\" }}\n            />\n        </svg>\n    );\n}\n\nexport function HamburgerIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType; title?: string }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            className={classNames(classes.hamburger, props.className)}\n            viewBox=\"0 0 21.999 15.871\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{props.title ? props.title : t(\"Menu\")}</title>\n            <path\n                d=\"M21.111,8.9H.89a.925.925,0,0,1,0-1.849H21.11a.925.925,0,0,1,0,1.849m0-7.012H.89A.906.906,0,0,1,0,.97.907.907,0,0,1,.889.045H21.11A.907.907,0,0,1,22,.969a.907.907,0,0,1-.889.924m0,14.023H.89a.925.925,0,0,1,0-1.849H21.11a.925.925,0,0,1,0,1.849\"\n                transform=\"translate(0 -0.045)\"\n                style={{ fill: \"currentcolor\" }}\n            />\n        </svg>\n    );\n}\n\nexport function DarkThemeIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType; title?: string }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <g fill=\"none\" fillRule=\"evenodd\" transform=\"translate(2 2)\">\n                <circle cx=\"10\" cy=\"10\" r=\"10\" fill=\"#1E1E1E\" stroke=\"#DDDEE0\" transform=\"rotate(-180 10 10)\" />\n                <path fill=\"#DDDEE0\" d=\"M10 19.986V.014C15.573.288 20 4.654 20 10c0 5.346-4.428 9.712-10 9.986z\" />\n                <circle cx=\"4.444\" cy=\"4.444\" r=\"3.951\" stroke=\"#DDDEE0\" transform=\"rotate(-90 10 4.444)\" />\n                <path\n                    fill=\"#D8D8D8\"\n                    d=\"M6.097 5.564l-.305-1.392-1.348-.279 1.348-.318.305-1.353.239 1.353 1.462.314-1.462.283zM3.875 8.898L3.57 7.506l-1.348-.28 1.348-.318.305-1.352.238 1.352 1.462.314-1.462.284z\"\n                />\n            </g>\n        </svg>\n    );\n}\n\nexport function LightThemeIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType; title?: string }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <g fill=\"none\" fillRule=\"evenodd\" transform=\"translate(2 2)\">\n                <circle cx=\"10\" cy=\"10\" r=\"10\" fill=\"#555A62\" stroke=\"#555A62\" />\n                <path fill=\"#DDDEE0\" d=\"M10 .556v18.888A9.444 9.444 0 1 1 10 .556z\" />\n                <g transform=\"rotate(90 8.889 10)\">\n                    <path\n                        fill=\"#555A62\"\n                        fillRule=\"nonzero\"\n                        d=\"M17.18 7.901h-1.768c-.322 0-.597.228-.597.494s.275.494.597.494h1.769c.321 0 .597-.228.597-.494s-.276-.494-.597-.494zM8.395 14.815c-.266 0-.494.275-.494.597v1.769c0 .321.228.597.494.597s.494-.276.494-.597v-1.769c0-.322-.228-.597-.494-.597zM8.395 0c-.266 0-.494.276-.494.597v1.769c0 .321.228.597.494.597s.494-.276.494-.597V.597C8.889.276 8.66 0 8.395 0zM12.71 12.779c-.184.182-.145.535.084.763l1.255 1.256c.229.228.581.267.764.084.183-.183.144-.535-.084-.763l-1.256-1.256c-.228-.229-.58-.267-.764-.084zM2.484 2.553c-.183.183-.144.536.084.764l1.256 1.256c.228.228.581.267.764.084.183-.183.144-.535-.084-.764L3.248 2.638c-.228-.229-.58-.268-.764-.085zM4.588 12.779c-.183-.183-.536-.145-.764.084l-1.256 1.256c-.228.228-.267.58-.084.763.183.183.536.144.764-.084l1.256-1.256c.228-.228.267-.58.084-.763zM14.813 2.553c-.183-.183-.535-.144-.764.085l-1.255 1.255c-.229.229-.268.581-.085.764.183.183.536.144.764-.084l1.256-1.256c.228-.228.267-.58.084-.764zM2.366 7.901H.597c-.321 0-.597.228-.597.494s.253.494.597.494h1.769c.321 0 .597-.228.597-.494s-.276-.494-.597-.494z\"\n                    />\n                    <circle cx=\"8.889\" cy=\"8.889\" r=\"3.951\" stroke=\"#555A62\" />\n                </g>\n                <circle cx=\"10\" cy=\"10\" r=\"10\" fill=\"#555A62\" stroke=\"#555A62\" />\n                <path fill=\"#FFF\" d=\"M10 .556v18.888A9.444 9.444 0 1 1 10 .556z\" />\n                <g transform=\"rotate(90 8.889 10)\">\n                    <path\n                        fill=\"#555A62\"\n                        fillRule=\"nonzero\"\n                        d=\"M17.18 7.901h-1.768c-.322 0-.597.228-.597.494s.275.494.597.494h1.769c.321 0 .597-.228.597-.494s-.276-.494-.597-.494zM8.395 14.815c-.266 0-.494.275-.494.597v1.769c0 .321.228.597.494.597s.494-.276.494-.597v-1.769c0-.322-.228-.597-.494-.597zM8.395 0c-.266 0-.494.276-.494.597v1.769c0 .321.228.597.494.597s.494-.276.494-.597V.597C8.889.276 8.66 0 8.395 0zM12.71 12.779c-.184.182-.145.535.084.763l1.255 1.256c.229.228.581.267.764.084.183-.183.144-.535-.084-.763l-1.256-1.256c-.228-.229-.58-.267-.764-.084zM2.484 2.553c-.183.183-.144.536.084.764l1.256 1.256c.228.228.581.267.764.084.183-.183.144-.535-.084-.764L3.248 2.638c-.228-.229-.58-.268-.764-.085zM4.588 12.779c-.183-.183-.536-.145-.764.084l-1.256 1.256c-.228.228-.267.58-.084.763.183.183.536.144.764-.084l1.256-1.256c.228-.228.267-.58.084-.763zM14.813 2.553c-.183-.183-.535-.144-.764.085l-1.255 1.255c-.229.229-.268.581-.085.764.183.183.536.144.764-.084l1.256-1.256c.228-.228.267-.58.084-.764zM2.366 7.901H.597c-.321 0-.597.228-.597.494s.253.494.597.494h1.769c.321 0 .597-.228.597-.494s-.276-.494-.597-.494z\"\n                    />\n                    <circle cx=\"8.889\" cy=\"8.889\" r=\"3.951\" stroke=\"#555A62\" />\n                </g>\n            </g>\n        </svg>\n    );\n}\n\nexport function PlusIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType; title?: string }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"80\"\n            height=\"81\"\n            viewBox=\"0 0 80 81\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <g fill=\"currentColor\" fillRule=\"evenodd\">\n                <path d=\"M32 0h16v80.762H32zM80 32.381v16H48v-16zM32 32.381v16H0v-16z\" />\n            </g>\n        </svg>\n    );\n}\n\nexport function LoaderIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    return (\n        <svg\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"18px\"\n            height=\"18px\"\n            viewBox=\"0 0 18 18\"\n            version=\"1.1\"\n            className={props.className}\n        >\n            <title>{t(\"Loader\")}</title>\n            <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n                <g fill=\"currentColor\">\n                    <path\n                        d=\"M9,0 C13.9705627,0 18,4.02943725 18,9 C18,13.9705627 13.9705627,18 9,18 C4.07738737,18 0,13.97 0,9 C0,8.99144674 1,8.99144674 3,9 C3,12.3137085 5.6862915,15 9,15 C12.3137085,15 15,12.3137085 15,9 C15,5.6862915 12.3137085,3 9,3 L9,0 Z\"\n                        id=\"Path\"\n                        opacity=\"0.3\"\n                    ></path>\n                    <path\n                        d=\"M9,5.1159077e-13 C9,5 4.97,9 1.42108547e-14,9 C1.42108547e-14,9 1.42108547e-14,6 1.42108547e-14,6 C3.31,6 5.95313475,3.31 6,5.1159077e-13 C6,5.1159077e-13 9,5.1159077e-13 9,5.1159077e-13 Z\"\n                        id=\"Path\"\n                        transform=\"translate(4.500000, 4.500000) rotate(180.000000) translate(-4.500000, -4.500000) \"\n                    ></path>\n                </g>\n            </g>\n        </svg>\n    );\n}\n\nexport function ResetIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            className={classNames(classes.standard, props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"25\"\n            height=\"24\"\n            viewBox=\"0 0 25 24\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{t(\"Reset\")}</title>\n            <path\n                fill=\"currentColor\"\n                fillOpacity=\"0.7\"\n                fillRule=\"evenodd\"\n                d=\"M12 6c3.315 0 6 2.685 6 6s-2.685 6-6 6-6-2.685-6-6 2.685-6 6-6zm-.006 3a2.988 2.988 0 00-2.066.83l-.432-.43A.29.29 0 009 9.604v1.622c0 .16.13.29.29.29h1.622a.29.29 0 00.205-.495l-.505-.506a2.032 2.032 0 11.05 3.015.145.145 0 00-.198.006l-.48.48a.144.144 0 00.006.21A3 3 0 1011.994 9z\"\n            />\n        </svg>\n    );\n}\n\nexport function DocumentationIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            className={classNames(classes.documentation, props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 11.795 15\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{t(\"Documentation\")}</title>\n            <path\n                fill=\"currentColor\"\n                fillRule=\"evenodd\"\n                d=\"M11.689,3.442,8.761.142A.429.429,0,0,0,8.443,0H.424A.424.424,0,0,0,0,.424V14.576A.424.424,0,0,0,.424,15H11.371a.424.424,0,0,0,.424-.424V3.724A.429.429,0,0,0,11.689,3.442ZM8.861,1.534,10.446,3.32H8.861Zm2.086,12.617H.848V.85H8.012v2.9a.424.424,0,0,0,.424.424h2.51v9.977ZM2.368,6.4a.424.424,0,0,0,.424.424H9a.425.425,0,0,0,0-.849H2.793a.425.425,0,0,0-.425.425ZM9,8.269H2.793a.425.425,0,1,0-.041.849H9a.425.425,0,0,0,0-.849Zm0,2.293H2.793a.424.424,0,0,0,0,.848H9a.424.424,0,0,0,0-.848Z\"\n                style={{ fill: \"currentColor\", fillRule: \"evenodd\" }}\n            />\n        </svg>\n    );\n}\n\nexport function BookmarkIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    return (\n        <svg\n            className={classNames(\"svgBookmark\", props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 12.733 16.394\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{t(\"Bookmark\")}</title>\n            <path\n                className={\"svgBookmark-mainPath\"}\n                strokeWidth={2}\n                d=\"M1.05.5H11.683a.55.55,0,0,1,.55.55h0V15.341a.549.549,0,0,1-.9.426L6.714,12a.547.547,0,0,0-.7,0L1.4,15.767a.55.55,0,0,1-.9-.426V1.05A.55.55,0,0,1,1.05.5z\"\n            />\n            <path\n                d=\"M11.7,0.5H6.4v11.4c0.1,0,0.2,0,0.3,0.1l4.6,3.8c0.1,0.1,0.2,0.1,0.4,0.1c0.3,0,0.5-0.2,0.5-0.6V1.1C12.2,0.7,12,0.5,11.7,0.5z\"\n                className={\"svgBookmark-loadingPath\"}\n            />\n        </svg>\n    );\n}\n\nexport function NewPostMenuIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    return (\n        <svg\n            className={classNames(iconClasses().newPostMenuIcon, props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 16 16\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{t(\"New Post\")}</title>\n            <path\n                d=\"M8,0A1,1,0,0,1,9,1V7h6a1,1,0,0,1,.993.883L16,8a1,1,0,0,1-1,1H9v6a1,1,0,0,1-.883.993L8,16a1,1,0,0,1-1-1V9H1a1,1,0,0,1-.993-.883L0,8A1,1,0,0,1,1,7H7V1A1,1,0,0,1,7.883.006Z\"\n                fill=\"currentColor\"\n            />\n        </svg>\n    );\n}\n\nexport function NewDiscussionIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n\n    return (\n        <svg\n            className={classNames(classes.itemFlyout)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{t(\"New Discussion Icon\")}</title>\n            <path\n                fill=\"currentColor\"\n                fillRule=\"evenodd\"\n                d=\"M17.101 4l-.866 1.5H4c-.276 0-.5.224-.5.5v14c0 .276.224.5.5.5h7.324l-.002.044.059-.044H19c.276 0 .5-.224.5-.5v-8.154L21 9.248V20c0 1.105-.895 2-2 2H4c-1.105 0-2-.895-2-2V6c0-1.105.895-2 2-2h13.101zm-4.455 9.718l.243.245c.413.397.86.734 1.34 1.012.482.278.997.496 1.547.654l.334.089-3.689 2.757c-.088.066-.213.048-.28-.04-.03-.042-.044-.093-.038-.144l.543-4.573zM21.172.35l2.252 1.3c.335.193.45.621.256.956L16.358 15.29c-.677-.162-1.303-.41-1.88-.743-.482-.278-.929-.615-1.341-1.012l-.243-.245L20.216.606c.193-.335.621-.45.956-.256z\"\n            />\n        </svg>\n    );\n}\n\nexport function NewIdeaIcon(props: { className?: string; \"area-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n\n    return (\n        <svg\n            className={classNames(classes.itemFlyout)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{t(\"New Idea Icon\")}</title>\n            <path\n                d=\"M14.24,22.642a.536.536,0,0,1,0,1.042H9.76a.536.536,0,0,1,0-1.042Zm1.093-2.482a.521.521,0,1,1,0,1.042H8.667a.521.521,0,1,1,0-1.042ZM12,1.128a7.678,7.678,0,0,1,7.786,7.525,7.483,7.483,0,0,1-2.577,5.576l-.084.082c-1.232,1.19-1.092,3.735-1.092,3.762a.506.506,0,0,1-.14.352.472.472,0,0,1-.336.135H8.415a.527.527,0,0,1-.336-.135.439.439,0,0,1-.14-.352c.028-.027.14-2.571-1.092-3.762A7.483,7.483,0,0,1,4.214,8.653,7.678,7.678,0,0,1,12,1.128Zm-.028.893A6.713,6.713,0,0,0,5.139,8.626a6.5,6.5,0,0,0,2.352,4.98,6.156,6.156,0,0,1,1.4,4.007h6.19a6.179,6.179,0,0,1,1.316-3.9c0-.027.056-.081.084-.108a6.48,6.48,0,0,0,2.324-4.981A6.713,6.713,0,0,0,11.972,2.021ZM11.318,3.09a6.016,6.016,0,0,1,6.262,5.8.494.494,0,0,1-.985,0A5.094,5.094,0,0,0,11.318,4a.491.491,0,0,1-.493-.456.491.491,0,0,1,.493-.456Z\"\n                fill=\"currentColor\"\n                stroke=\"currentColor\"\n                strokeWidth=\"0.5px\"\n            />\n            <path\n                d=\"M21.75,1.75l-1.5,1.5m3.856,4.659L22,8.167M.068,7.734l2.11.222m.05-6.123L3.877,3.167\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeLinecap=\"round\"\n                strokeWidth=\"1.5px\"\n            />\n        </svg>\n    );\n}\n\nexport function NewPollIcon(props: { className?: string; \"area-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n\n    return (\n        <svg\n            className={classNames(classes.itemFlyout)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n        >\n            <title>{t(\"New Poll Icon\")}</title>\n            <rect\n                x=\"1\"\n                y=\"14.238\"\n                width=\"11\"\n                height=\"5\"\n                rx=\"1.6\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"1.2px\"\n            />\n            <rect\n                x=\"1\"\n                y=\"4.6\"\n                width=\"7.333\"\n                height=\"5\"\n                rx=\"1.6\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"1.2px\"\n            />\n            <path\n                d=\"M19.081,7.153H13.843\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"1.8px\"\n            />\n            <path\n                d=\"M11.538,7.153l2.514-2.5v5Z\"\n                fill=\"currentColor\"\n                stroke=\"currentColor\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"0.9px\"\n                fillRule=\"evenodd\"\n            />\n            <path\n                d=\"M15.62,16.532h5.238\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"1.8px\"\n            />\n            <path\n                d=\"M23.163,16.532l-2.514,2.5v-5Z\"\n                fill=\"currentColor\"\n                stroke=\"currentColor\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"0.9px\"\n                fillRule=\"evenodd\"\n            />\n        </svg>\n    );\n}\n\nexport function ExternalIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            className={classNames(classes.external, props.className)}\n            style={{ height: 22, width: 22 }}\n            aria-hidden={props[\"aria-hidden\"]}\n        >\n            <g fill=\"none\" fillRule=\"evenodd\" stroke=\"#555A62\" strokeLinecap=\"round\">\n                <path d=\"M17.274 12.111v5.614h0c0 .414-.313.749-.699.749H6.095h0c-.385 0-.698-.335-.698-.749V7.245h0c0-.413.313-.748.699-.748h5.589M11.608 12.111l6.737-6.737\"></path>\n                <path strokeLinejoin=\"round\" d=\"M14.602 5.374h3.743v3.743\"></path>\n            </g>\n        </svg>\n    );\n}\n\nexport function FeatureIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            className={classNames(classes.external, props.className)}\n            style={{ height: 24, width: 24 }}\n            aria-hidden={props[\"aria-hidden\"]}\n        >\n            <g fill=\"none\" fillRule=\"evenodd\" opacity=\"1.0\">\n                <g stroke=\"currentColor\" strokeWidth=\"1.0\">\n                    <g>\n                        <path\n                            d=\"M10 14.329L5.365 16.766 6.25 11.604 2.5 7.949 7.682 7.196 10 2.5 12.318 7.196 17.5 7.949 13.75 11.604 14.635 16.766z\"\n                            transform=\"translate(-1167 -297) translate(1167 297)\"\n                        />\n                    </g>\n                </g>\n            </g>\n        </svg>\n    );\n}\n\nexport function ArrowIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            width=\"12\"\n            height=\"12\"\n            className={classNames(classes, props.className)}\n            style={{ height: 12, width: 12 }}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 12 12\"\n        >\n            <path fill=\"currentColor\" id=\"arrow\" d=\"M6,0,4.909,1.091l4.13,4.13H0V6.779H9.039l-4.13,4.13L6,12l6-6Z\" />\n        </svg>\n    );\n}\n","/**\n * Utilities and types for handling unique and/or required HTML ids in react components.\n *\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { useMemo } from \"react\";\n\n// Optional ID\nexport interface IOptionalComponentID {\n    id?: string;\n}\n\n// Requires ID\nexport interface IRequiredComponentID {\n    id: string;\n}\n\nconst DEFAULT_PREFIX = \"\";\n\n// Cache of ID's by their prefix.\nlet idCache: { [key: string]: number } = {};\n\n// Generates unique ID from suffix\nexport function uniqueIDFromPrefix(prefix: string = DEFAULT_PREFIX) {\n    let count = 0;\n\n    if (prefix in idCache) {\n        count = idCache[prefix] + 1;\n    }\n    idCache[prefix] = count;\n\n    return prefix + \"-\" + idCache[prefix];\n}\n\n/**\n * React hook for useUniqueIDFromPrefix\n */\nexport function useUniqueID(prefix?: string) {\n    return useMemo(() => uniqueIDFromPrefix(prefix), [prefix]);\n}\n\n/**\n * Clear the cache of unique IDs. Useful for testing particularly.\n */\nexport function clearUniqueIDCache() {\n    idCache = {};\n}\n\n// Get required ID, will either return ID given through props or generate unique ID from suffix\nexport function getRequiredID(props: IOptionalComponentID, suffix: string): string {\n    if (props.id) {\n        return props.id;\n    } else {\n        return uniqueIDFromPrefix(suffix);\n    }\n}\n\n// Get optional ID, will either return given ID through props if given, if true, will get generated ID from prefix, if false, ignored\nexport function getOptionalID(props: IOptionalComponentID, suffix?: string): string | null {\n    if (props.id) {\n        // we want an ID\n        if (typeof props.id === \"string\") {\n            // Handled by parent component\n            return props.id;\n        } else if (typeof props.id === \"boolean\" && suffix) {\n            return uniqueIDFromPrefix(suffix);\n        }\n        throw new Error(\"To generate and ID, you must provide a suffix.\");\n    } else {\n        return null;\n    }\n}\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\n\nimport {\n    EMPTY_BACKGROUND,\n    EMPTY_BORDER,\n    EMPTY_FONTS,\n    EMPTY_SPACING,\n    EMPTY_STATE_COLORS,\n    IBackground,\n    IBorderStyles,\n    IBoxOptions,\n    IFont,\n    IContentBoxes,\n    ISpacing,\n    IStateColors,\n} from \"@library/styles/cssUtilsTypes\";\nimport { BorderType } from \"@library/styles/styleHelpers\";\nimport { DeepPartial } from \"redux\";\n\nexport class Variables {\n    constructor() {\n        throw new Error(\"Not to be instantiated\");\n    }\n\n    static spacing = (vars: ISpacing): ISpacing => ({ ...EMPTY_SPACING, ...vars });\n\n    static font = (vars: IFont): IFont => ({ ...EMPTY_FONTS, ...vars });\n\n    static border = (vars: Partial<IBorderStyles>): Partial<IBorderStyles> => ({ ...EMPTY_BORDER, ...vars });\n\n    static background = (vars: IBackground): IBackground => ({ ...EMPTY_BACKGROUND, ...vars });\n\n    static clickable = (vars: IStateColors): IStateColors => ({ ...EMPTY_STATE_COLORS, ...vars });\n\n    static box = (vars: Partial<IBoxOptions>): IBoxOptions => {\n        return {\n            borderType: BorderType.NONE,\n            background: Variables.background(vars.background ?? {}),\n            spacing: Variables.spacing(vars.spacing ?? {}),\n            border: Variables.border(vars.border ?? {}),\n            itemSpacing: vars.itemSpacing ? vars.itemSpacing : 0,\n            itemSpacingOnAllItems: vars.itemSpacingOnAllItems ?? false,\n            ...vars,\n        };\n    };\n\n    static contentBoxes = (vars?: DeepPartial<IContentBoxes>): IContentBoxes => {\n        return {\n            depth1: Variables.box(vars?.depth1 ?? {}),\n            depth2: Variables.box(vars?.depth2 ?? {}),\n            depth3: Variables.box(vars?.depth3 ?? {}),\n        };\n    };\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nexport const getValueIfItExists = (haystack: object | undefined, needle: string, fallback?: any, debug = false) => {\n    if (haystack && checkIfKeyExistsAndIsDefined(haystack, needle)) {\n        return haystack[needle];\n    } else {\n        return fallback;\n    }\n};\n\nexport const checkIfKeyExistsAndIsDefined = (haystack: object, needle: string) => {\n    if (haystack && typeof haystack === \"object\" && !!needle) {\n        return needle in haystack && haystack[needle] !== undefined;\n    } else {\n        return false;\n    }\n};\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { IIconSizes } from \"@library/styles/cssUtilsTypes\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { IThemeVariables } from \"@library/theming/themeReducer\";\n\nexport const formElementsVariables = useThemeCache((forcedVars?: IThemeVariables) => {\n    const vars = globalVariables(forcedVars);\n    const makeThemeVars = variableFactory(\"formElements\", forcedVars);\n\n    const mixBgAndFg = vars.mixBgAndFg;\n\n    const sizing = makeThemeVars(\"sizing\", {\n        height: 36,\n        halfHeight: 18,\n        maxWidth: 528,\n    });\n\n    const spacing = makeThemeVars(\"spacing\", {\n        margin: 12,\n        verticalPadding: 6,\n        horizontalPadding: 12,\n        fullBorderRadius: {\n            extraHorizontalPadding: 4, // Padding when you have fully rounded border radius. Will be applied based on the amount of border radius. Set to \"undefined\" to turn off\n        },\n    });\n\n    const border = makeThemeVars(\"border\", {\n        width: vars.borderType.formElements.default.width ?? vars.border.width,\n        color: vars.borderType.formElements.default.color ?? vars.border.color,\n        style: vars.borderType.formElements.default.style ?? vars.border.style,\n        radius: vars.borderType.formElements.default.radius ?? vars.border.radius,\n    });\n\n    const giantInput = makeThemeVars(\"giantInput\", {\n        height: 82,\n        fontSize: 24,\n    });\n\n    const largeInput = makeThemeVars(\"largeInput\", {\n        height: 48,\n        fontSize: 16,\n    });\n\n    const colors = makeThemeVars(\"colors\", {\n        fg: vars.mainColors.fg,\n        bg: vars.mainColors.bg,\n    });\n\n    const errorSpacing = makeThemeVars(\"errorSpacing\", {\n        horizontalPadding: vars.constants.fullGutter,\n        verticalPadding: vars.constants.fullGutter,\n        verticalMargin: vars.constants.fullGutter / 2,\n    });\n\n    const placeholder = makeThemeVars(\"placeholder\", {\n        color: mixBgAndFg(0.83),\n    });\n\n    const disabled = makeThemeVars(\"disabled\", {\n        opacity: 0.5,\n    });\n\n    const buttonMarginAlignment = (size: IIconSizes = IIconSizes.DEFAULT) => {\n        const globalVars = globalVariables();\n        let iconSize = globalVars.icon.sizes.default;\n\n        switch (size) {\n            case IIconSizes.SMALL:\n                iconSize = globalVars.icon.sizes.small;\n                break;\n            case IIconSizes.LARGE:\n                iconSize = globalVars.icon.sizes.small;\n                break;\n        }\n\n        return (sizing.height - iconSize) / 2;\n    };\n\n    return {\n        sizing,\n        errorSpacing,\n        spacing,\n        border,\n        giantInput,\n        largeInput,\n        colors,\n        placeholder,\n        disabled,\n        buttonMarginAlignment,\n    };\n});\n\nexport const accessibleErrorClasses = useThemeCache(() => {\n    const style = styleFactory(\"accessibleError\");\n    const globalVars = globalVariables();\n    const root = style({\n        display: \"flex\",\n        alignItems: \"center\",\n    });\n    const paragraph = style(\"paragraph\", {\n        color: ColorsUtils.colorOut(globalVars.messageColors.error.fg),\n        fontSize: styleUnit(globalVars.fonts.size.small),\n    });\n\n    return {\n        root,\n        paragraph,\n    };\n});\n\nexport const formErrorClasses = useThemeCache(() => {\n    const style = styleFactory(\"formError\");\n    const varsGlobal = globalVariables();\n    const vars = formElementsVariables();\n\n    const root = style({\n        backgroundColor: ColorsUtils.colorOut(varsGlobal.messageColors.error.fg),\n        color: ColorsUtils.colorOut(varsGlobal.messageColors.error.fg),\n        marginBottom: styleUnit(16),\n        paddingLeft: vars.errorSpacing.horizontalPadding,\n        paddingRight: vars.errorSpacing.horizontalPadding,\n        paddingTop: vars.errorSpacing.verticalPadding,\n        paddingBottom: vars.errorSpacing.verticalPadding,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n    });\n\n    const actions = style(\"actions\", {\n        display: \"flex\",\n        alignItems: \"center\",\n    });\n\n    const actionButton = style(\"button\", {\n        marginLeft: styleUnit(12),\n    });\n\n    const activeButton = style(\"activeButton\", {\n        fontWeight: \"bold\",\n    });\n\n    return {\n        actionButton,\n        root,\n        activeButton,\n        actions,\n    };\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport ReduxActions, { bindThunkAction, useReduxActions } from \"@library/redux/ReduxActions\";\nimport { actionCreatorFactory } from \"typescript-fsa\";\nimport { IApiError } from \"@library/@types/api/core\";\nimport { ITheme, IThemeAssets, IThemeRevision } from \"@library/theming/themeReducer\";\nimport { IThemeInfo } from \"@library/theming/CurrentThemeInfo\";\nimport { resetThemeCache } from \"@library/styles/themeCache\";\nimport { setMeta } from \"@library/utility/appUtils\";\nimport { RecordID } from \"@vanilla/utils\";\n\nconst createAction = actionCreatorFactory(\"@@themes\");\n\ntype IGetThemeResponse = ITheme;\nexport interface IPatchThemeRequest {\n    themeID: RecordID;\n    name?: string;\n    parentTheme?: string;\n    parentVersion?: string;\n    revisionID?: number;\n    assets?: Partial<IPostPatchThemeAssets>;\n}\nexport type IPostPatchThemeAssets = Partial<IThemeAssets>;\n\nexport enum PreviewStatusType {\n    PREVIEW = \"preview\",\n    APPLY = \"apply\",\n    CANCEL = \"cancel\",\n}\n\ntype IGetAllThemeResponse = ITheme[];\ntype IPatchThemeResponse = ITheme;\n\ninterface IPutCurrentThemeRequest {\n    themeID: RecordID;\n    revisionID?: number;\n    type: PreviewStatusType;\n}\n/**\n * Actions for working with resources from the /api/v2/knowledge-bases endpoint.\n */\n\nexport default class ThemeActions extends ReduxActions {\n    public static getAssets = createAction.async<{ themeKey: string; revisionID: number | null }, ITheme, IApiError>(\n        \"GET\",\n    );\n\n    public getAssets = (themeKey: string, revisionID: number | null = null) => {\n        const { theme } = this.getState();\n        if (theme.assets.data) {\n            return theme.assets.data;\n        }\n\n        const apiThunk = bindThunkAction(ThemeActions.getAssets, async () => {\n            const response = await this.api.get(`/themes/${themeKey}`, {\n                params: { revisionID: revisionID },\n            });\n\n            return response.data;\n        })({ themeKey, revisionID });\n        return this.dispatch(apiThunk);\n    };\n\n    public static forceVariablesAC = createAction<Record<string, any>>(\"FORCE_VARIABLES\");\n\n    public forceVariables = (variables: Record<string, any>) => {\n        this.dispatch(ThemeActions.forceVariablesAC(variables));\n\n        // Clear the cache of variables.\n        resetThemeCache();\n    };\n\n    public static readonly getAllThemes_ACS = createAction.async<{}, IGetAllThemeResponse, IApiError>(\"GET_ALL_THEMES\");\n\n    public static readonly putCurrentThemeACs = createAction.async<{ themeID: RecordID }, ITheme, IApiError>(\n        \"PUT_CURRENT\",\n    );\n\n    public static readonly putPreviewThemeACs = createAction.async<IPutCurrentThemeRequest, ITheme, IApiError>(\n        \"PUT_PREVIEW\",\n    );\n\n    public static readonly deleteThemeACs = createAction.async<{ themeID: RecordID }, undefined, IApiError>(\"DELETE\");\n\n    public static getThemeRevisions_ACs = createAction.async<{ themeID: RecordID }, IThemeRevision[], IApiError>(\n        \"GET_THEME\",\n    );\n\n    public static patchTheme_ACs = createAction.async<IPatchThemeRequest, IPatchThemeResponse, IApiError>(\n        \"PATCH_THEME\",\n    );\n\n    public getAllThemes = () => {\n        const thunk = bindThunkAction(ThemeActions.getAllThemes_ACS, async () => {\n            const response = await this.api.get(`/themes`);\n            return response.data;\n        })();\n        return this.dispatch(thunk);\n    };\n\n    public putCurrentTheme = (themeID: RecordID) => {\n        const body = { themeID };\n        const thunk = bindThunkAction(ThemeActions.putCurrentThemeACs, async () => {\n            const response = await this.api.put(`/themes/current`, body);\n            setMeta(\"ui.themeKey\", themeID);\n            setMeta(\"ui.mobileThemeKey\", themeID);\n            return response.data;\n        })(body);\n        return this.dispatch(thunk);\n    };\n\n    public putPreviewTheme = (options: IPutCurrentThemeRequest) => {\n        const { themeID, revisionID, type } = options;\n        const thunk = bindThunkAction(ThemeActions.putPreviewThemeACs, async () => {\n            const response = await this.api.put(`/themes/preview`, { themeID: themeID, revisionID: revisionID });\n\n            return response.data;\n        })(options);\n        return this.dispatch(thunk);\n    };\n\n    public deleteTheme = (themeID: RecordID) => {\n        const apiThunk = bindThunkAction(ThemeActions.deleteThemeACs, async () => {\n            const response = await this.api.delete(`/themes/${themeID}`);\n            return response.data;\n        })({ themeID });\n        return this.dispatch(apiThunk);\n    };\n\n    public getThemeRevisions(themeID: RecordID) {\n        const thunk = bindThunkAction(ThemeActions.getThemeRevisions_ACs, async () => {\n            const response = await this.api.get(`/themes/${themeID}/revisions`);\n            return response.data;\n        })({ themeID });\n\n        return this.dispatch(thunk);\n    }\n\n    public patchThemeWithRevisionID = async (body: IPatchThemeRequest) => {\n        let result = await this.patchTheme({ themeID: body.themeID, revisionID: body.revisionID });\n        return result;\n    };\n\n    public patchTheme(options: IPatchThemeRequest) {\n        const { themeID, ...body } = options;\n\n        const thunk = bindThunkAction(ThemeActions.patchTheme_ACs, async () => {\n            const response = await this.api.patch(`/themes/${options.themeID}`, body);\n            return response.data;\n        })(options);\n\n        return this.dispatch(thunk);\n    }\n}\n\nexport function useThemeActions() {\n    return useReduxActions(ThemeActions);\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport {\n    absolutePosition,\n    allButtonStates,\n    BorderType,\n    flexHelper,\n    pointerEvents,\n    singleBorder,\n    sticky,\n    userSelect,\n    negativeUnit,\n} from \"@library/styles/styleHelpers\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport {\n    calc,\n    ColorHelper,\n    linearGradient,\n    percent,\n    px,\n    quote,\n    rgba,\n    translate,\n    translateX,\n    translateY,\n    viewWidth,\n} from \"csx\";\nimport backLinkClasses from \"@library/routing/links/backLinkStyles\";\nimport { CSSObject } from \"@emotion/css\";\nimport { shadowHelper } from \"@library/styles/shadowHelpers\";\nimport { buttonResetMixin } from \"@library/forms/buttonMixins\";\nimport generateButtonClass from \"@library/forms/styleHelperButtonGenerator\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\nimport { titleBarVariables } from \"./TitleBar.variables\";\n\nexport const titleBarClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const vars = titleBarVariables();\n    const formElementVars = formElementsVariables();\n    const mediaQueries = vars.mediaQueries();\n    const flex = flexHelper();\n    const style = styleFactory(\"titleBar\");\n\n    const getBorderVars = (): CSSObject => {\n        switch (vars.border.type) {\n            case BorderType.BORDER:\n                return {\n                    borderBottom: singleBorder({\n                        color: vars.border.color,\n                        width: vars.border.width,\n                    }),\n                };\n            case BorderType.SHADOW:\n                return {\n                    boxShadow: shadowHelper().embed(globalVars.elementaryColors.black).boxShadow,\n                };\n            case BorderType.SHADOW_AS_BORDER:\n                // Note that this is empty because this option is set on the background elsewhere.\n                return {};\n            case BorderType.NONE:\n                return {};\n            default:\n                return {};\n        }\n    };\n\n    const root = style({\n        maxWidth: percent(100),\n        color: ColorsUtils.colorOut(vars.colors.fg),\n        position: \"relative\",\n        ...getBorderVars(),\n        ...{\n            \".searchBar__control\": {\n                color: vars.colors.fg.toString(),\n                cursor: \"pointer\",\n            },\n            \".searchBar__placeholder\": {\n                textAlign: \"left\",\n                color: vars.colors.fg.fade(0.8).toString(),\n            },\n            [`.${backLinkClasses().link}`]: {\n                ...{\n                    \"&, &:hover, &:focus, &:active\": {\n                        color: ColorsUtils.colorOut(vars.colors.fg),\n                    },\n                },\n            },\n        },\n        ...(vars.swoop.amount\n            ? {\n                  ...{\n                      \"& + *\": {\n                          // Offset the next element to account for the swoop. (next element should go under the swoop slightly).\n                          marginTop: -vars.swoop.swoopOffset,\n                      },\n                  },\n              }\n            : {}),\n    });\n\n    const swoopStyles = {\n        top: 0,\n        left: 0,\n        margin: `0 auto`,\n        position: `absolute`,\n        height: calc(`80% - ${styleUnit(vars.border.width + 1)}`),\n        transform: translateX(`-10vw`),\n        width: `120vw`,\n        borderRadius: `0 0 100% 100%/0 0 ${percent(vars.swoop.amount)} ${percent(vars.swoop.amount)}`,\n    };\n\n    const swoop = style(\"swoop\", {});\n\n    const shadowAsBorder =\n        vars.border.type === BorderType.SHADOW_AS_BORDER\n            ? { boxShadow: `0 ${styleUnit(vars.border.width)} 0 ${ColorsUtils.colorOut(vars.border.color)}` }\n            : {};\n\n    const bg1 = style(\"bg1\", {\n        willChange: \"opacity\",\n        ...absolutePosition.fullSizeOfParent(),\n        backgroundColor: ColorsUtils.colorOut(vars.fullBleed.enabled ? vars.fullBleed.bgColor : vars.colors.bg),\n        ...shadowAsBorder,\n        overflow: \"hidden\",\n        ...{\n            [`&.${swoop}`]: swoopStyles,\n        },\n    });\n\n    const bg2 = style(\"bg2\", {\n        willChange: \"opacity\",\n        ...absolutePosition.fullSizeOfParent(),\n        backgroundColor: ColorsUtils.colorOut(vars.colors.bg),\n        ...shadowAsBorder,\n        overflow: \"hidden\",\n        ...{\n            [`&.${swoop}`]: swoopStyles,\n        },\n    });\n\n    const container = style(\"container\", {\n        position: \"relative\",\n        height: percent(100),\n        width: percent(100),\n        ...Mixins.padding(vars.spacing.padding),\n    });\n\n    const bgContainer = style(\"bgContainer\", {\n        ...absolutePosition.fullSizeOfParent(),\n        height: percent(100),\n        width: percent(100),\n        ...Mixins.padding(vars.spacing.padding),\n        boxSizing: \"content-box\",\n        overflow: \"hidden\",\n    });\n\n    const bgImage = style(\"bgImage\", {\n        ...absolutePosition.fullSizeOfParent(),\n        objectFit: \"cover\",\n    });\n\n    const bannerPadding = style(\n        \"bannerPadding\",\n        {\n            paddingTop: px(vars.sizing.height / 2),\n        },\n        mediaQueries.compact({\n            paddingTop: px(vars.sizing.mobile.height / 2 + 20),\n        }),\n    );\n\n    const negativeSpacer = style(\n        \"negativeSpacer\",\n        {\n            marginTop: px(-vars.sizing.height),\n        },\n        mediaQueries.compact({\n            marginTop: px(-vars.sizing.mobile.height),\n        }),\n    );\n\n    const spacer = style(\n        \"spacer\",\n        {\n            height: px(vars.sizing.height),\n        },\n        mediaQueries.compact({\n            height: px(vars.sizing.mobile.height),\n        }),\n    );\n\n    const bar = style(\n        \"bar\",\n        {\n            display: \"flex\",\n            justifyContent: \"flex-start\",\n            flexWrap: \"nowrap\",\n            alignItems: \"center\",\n            height: px(vars.sizing.height),\n            width: percent(100),\n            ...{\n                \"&.isHome\": {\n                    justifyContent: \"space-between\",\n                },\n            },\n        },\n        mediaQueries.compact({ height: px(vars.sizing.mobile.height) }),\n    );\n\n    const logoOffsetDesktop = vars.logo.offsetVertical.amount\n        ? {\n              transform: translateY(`${styleUnit(vars.logo.offsetVertical.amount)}`),\n          }\n        : {};\n\n    const logoOffsetMobile = vars.logo.offsetVertical.mobile.amount\n        ? {\n              transform: translateY(`${styleUnit(vars.logo.offsetVertical.mobile.amount)}`),\n          }\n        : {};\n\n    const logoContainer = style(\n        \"logoContainer\",\n        {\n            display: \"inline-flex\",\n            alignSelf: \"center\",\n            color: ColorsUtils.colorOut(vars.colors.fg),\n            marginRight: styleUnit(vars.logo.offsetRight),\n            justifyContent: vars.logo.justifyContent,\n            ...logoOffsetDesktop,\n            maxHeight: percent(100),\n            ...{\n                \"&&\": {\n                    color: ColorsUtils.colorOut(vars.colors.fg),\n                },\n                \"&.focus-visible\": {\n                    ...{\n                        \"&.headerLogo-logoFrame\": {\n                            outline: `5px solid ${vars.buttonContents.state.bg}`,\n                            background: ColorsUtils.colorOut(vars.buttonContents.state.bg),\n                            borderRadius: vars.button.borderRadius,\n                        },\n                    },\n                },\n            },\n        },\n        mediaQueries.compact({\n            height: px(vars.sizing.mobile.height),\n            marginRight: styleUnit(0),\n            ...logoOffsetMobile,\n        }),\n    );\n\n    const logoFlexBasis = style(\"logoFlexBasis\", {\n        flexBasis: vars.endElements.flexBasis,\n    });\n\n    const meBox = style(\"meBox\", {\n        justifyContent: \"flex-end\",\n    });\n\n    const nav = style(\n        \"nav\",\n        {\n            display: \"flex\",\n            flexWrap: \"wrap\",\n            height: px(vars.sizing.height),\n            color: \"inherit\",\n            flexGrow: 1,\n            justifyContent: vars.navAlignment.alignment === \"left\" ? \"flex-start\" : \"center\",\n            ...{\n                \"&.titleBar-guestNav\": {\n                    flex: \"initial\",\n                },\n            },\n        },\n        mediaQueries.compact({ height: px(vars.sizing.mobile.height) }),\n    );\n\n    const locales = style(\n        \"locales\",\n        {\n            height: px(vars.sizing.height),\n            ...{\n                \"&.buttonAsText\": {\n                    ...{\n                        \"&:hover\": {\n                            color: \"inherit\",\n                        },\n                        \"&:focus\": {\n                            color: \"inherit\",\n                        },\n                    },\n                },\n            },\n        },\n        mediaQueries.compact({ height: px(vars.sizing.mobile.height) }),\n    );\n\n    const messages = style(\"messages\", {\n        color: vars.colors.fg.toString(),\n    });\n\n    const notifications = style(\"notifications\", {\n        color: \"inherit\",\n    });\n\n    const compactSearch = style(\n        \"compactSearch\",\n        {\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            marginLeft: \"auto\",\n            minWidth: styleUnit(formElementVars.sizing.height),\n            flexBasis: px(formElementVars.sizing.height),\n            maxWidth: percent(100),\n            height: styleUnit(vars.sizing.height),\n            ...{\n                \"&.isOpen\": {\n                    flex: 1,\n                },\n            },\n        },\n        mediaQueries.compact({ height: px(vars.sizing.mobile.height) }),\n    );\n\n    const compactSearchResults = style(\n        \"compactSearchResults\",\n        {\n            position: \"absolute\",\n            top: styleUnit(formElementVars.sizing.height + 2),\n            width: percent(100),\n            ...{\n                \"&:empty\": {\n                    display: \"none\",\n                },\n            },\n        },\n        layoutVariables()\n            .mediaQueries()\n            .xs({\n                ...{\n                    \"&&&\": {\n                        width: viewWidth(100),\n                        left: calc(`50% + ${styleUnit(40)}`), // This is not arbitrary, it's based on the hamburger placement, but because of the way it's calculated, it makes for a messy calculation. We need to refactor it.\n                        transform: translateX(\"-50%\"),\n                        borderTopRightRadius: 0,\n                        borderTopLeftRadius: 0,\n                    },\n                    \".suggestedTextInput-option\": {\n                        ...Mixins.padding({\n                            horizontal: 21,\n                        }),\n                    },\n                },\n            }),\n    );\n\n    const extraMeBoxIcons = style(\"extraMeBoxIcons\", {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        marginLeft: \"auto\",\n        ...{\n            [`& + .${compactSearch}`]: {\n                marginLeft: 0,\n            },\n            li: {\n                listStyle: \"none\",\n            },\n        },\n    });\n\n    const topElement = style(\n        \"topElement\",\n        {\n            color: vars.colors.fg.toString(),\n            padding: `0 ${px(vars.sizing.spacer / 2)}`,\n            margin: `0 ${px(vars.sizing.spacer / 2)}`,\n            borderRadius: px(vars.button.borderRadius),\n        },\n        mediaQueries.compact({\n            // fontSize: px(vars.button.mobile.fontSize),\n        }),\n    );\n\n    const localeToggle = style(\n        \"localeToggle\",\n        {\n            height: px(vars.sizing.height),\n        },\n        mediaQueries.compact({\n            height: px(vars.sizing.mobile.height),\n        }),\n    );\n\n    const languages = style(\"languages\", {\n        marginLeft: \"auto\",\n    });\n\n    const button = style(\n        \"button\",\n        {\n            ...buttonResetMixin(),\n            height: px(vars.button.size),\n            minWidth: px(vars.button.size),\n            maxWidth: percent(100),\n            padding: px(0),\n            color: ColorsUtils.colorOut(vars.colors.fg),\n            ...{\n                \"&&\": {\n                    ...allButtonStates(\n                        {\n                            allStates: {\n                                color: ColorsUtils.colorOut(vars.colors.fg),\n                                ...{\n                                    \".meBox-buttonContent\": {\n                                        backgroundColor: ColorsUtils.colorOut(vars.buttonContents.state.bg),\n                                    },\n                                },\n                            },\n                            keyboardFocus: {\n                                outline: 0,\n                                color: ColorsUtils.colorOut(vars.colors.fg),\n                                ...{\n                                    \".meBox-buttonContent\": {\n                                        borderColor: ColorsUtils.colorOut(vars.colors.fg),\n                                        backgroundColor: ColorsUtils.colorOut(vars.buttonContents.state.bg),\n                                    },\n                                },\n                            },\n                        },\n                        {\n                            \".meBox-buttonContent\": {\n                                ...Mixins.border({\n                                    width: 1,\n                                    color: rgba(0, 0, 0, 0),\n                                }),\n                            },\n                            \"&.isOpen\": {\n                                color: ColorsUtils.colorOut(vars.colors.fg),\n                                ...{\n                                    \".meBox-buttonContent\": {\n                                        backgroundColor: ColorsUtils.colorOut(vars.buttonContents.state.bg),\n                                    },\n                                    \"&:focus\": {\n                                        color: ColorsUtils.colorOut(vars.colors.fg),\n                                    },\n                                    \"&.focus-visible\": {\n                                        color: ColorsUtils.colorOut(vars.colors.fg),\n                                    },\n                                },\n                            },\n                        },\n                    ),\n                },\n            },\n        },\n        mediaQueries.compact({\n            height: px(vars.sizing.mobile.height),\n            width: px(vars.sizing.mobile.width),\n            minWidth: px(vars.sizing.mobile.width),\n        }),\n    );\n\n    const linkButton = generateButtonClass(vars.linkButton);\n\n    const buttonOffset = style(\"buttonOffset\", {\n        transform: `translateX(6px)`,\n    });\n\n    const centeredButton = style(\"centeredButton\", {\n        ...flex.middle(),\n    });\n\n    const searchCancel = style(\"searchCancel\", {\n        ...buttonResetMixin(),\n        ...userSelect(),\n        height: px(formElementVars.sizing.height),\n        ...{\n            \"&.focus-visible\": {\n                ...{\n                    \"&.meBox-buttonContent\": {\n                        borderRadius: px(vars.button.borderRadius),\n                        backgroundColor: vars.buttonContents.state.bg.toString(),\n                    },\n                },\n            },\n        },\n    });\n\n    const tabButtonActive = {\n        color: globalVars.mainColors.primary.toString(),\n        ...{\n            \".titleBar-tabButtonContent\": {\n                color: vars.colors.fg.toString(),\n                backgroundColor: ColorsUtils.colorOut(\n                    ColorsUtils.modifyColorBasedOnLightness({ color: vars.colors.fg, weight: 1 }),\n                ),\n                borderRadius: px(vars.button.borderRadius),\n            },\n        },\n    };\n\n    const tabButton = style(\"tabButton\", {\n        display: \"block\",\n        height: percent(100),\n        padding: px(0),\n        ...{\n            \"&:active\": tabButtonActive,\n            \"&:hover\": tabButtonActive,\n            \"&:focus\": tabButtonActive,\n        },\n    });\n\n    const dropDownContents = style(\"dropDownContents\", {\n        ...{\n            \"&&&\": {\n                minWidth: styleUnit(vars.dropDownContents.minWidth),\n                maxHeight: styleUnit(vars.dropDownContents.maxHeight),\n            },\n        },\n    });\n\n    const count = style(\"count\", {\n        height: px(vars.count.size),\n        fontSize: px(vars.count.fontSize),\n        backgroundColor: vars.count.bg.toString(),\n        color: vars.count.fg.toString(),\n    });\n\n    const rightFlexBasis = style(\n        \"rightFlexBasis\",\n        {\n            display: \"flex\",\n            height: px(vars.sizing.height),\n            flexWrap: \"nowrap\",\n            justifyContent: \"flex-end\",\n            alignItems: \"center\",\n            flexBasis: vars.endElements.flexBasis,\n        },\n        mediaQueries.compact({\n            flexShrink: 1,\n            flexBasis: px(vars.endElements.mobile.flexBasis),\n            height: px(vars.sizing.mobile.height),\n        }),\n    );\n\n    const leftFlexBasis = style(\"leftFlexBasis\", {\n        ...flex.middleLeft(),\n        flexShrink: 1,\n        flexBasis: px(vars.endElements.mobile.flexBasis),\n    });\n\n    const signIn = style(\"signIn\", {\n        marginLeft: styleUnit(vars.guest.spacer),\n        marginRight: styleUnit(vars.guest.spacer),\n        ...{\n            \"&&&\": {\n                color: ColorsUtils.colorOut(vars.signIn.fg),\n                borderColor: ColorsUtils.colorOut(vars.colors.fg),\n            },\n        },\n    });\n\n    const register = style(\"register\", {\n        marginLeft: styleUnit(vars.guest.spacer),\n        marginRight: styleUnit(vars.guest.spacer),\n        backgroundColor: ColorsUtils.colorOut(vars.resister.bg),\n        ...{\n            \"&&\": {\n                // Ugly solution, but not much choice until: https://github.com/vanilla/knowledge/issues/778\n                ...allButtonStates({\n                    allStates: {\n                        borderColor: ColorsUtils.colorOut(vars.resister.borderColor),\n                        color: ColorsUtils.colorOut(vars.resister.fg),\n                    },\n                    noState: {\n                        backgroundColor: ColorsUtils.colorOut(vars.resister.bg),\n                    },\n                    hover: {\n                        color: ColorsUtils.colorOut(vars.resister.fg),\n                        backgroundColor: ColorsUtils.colorOut(vars.resister.states.bg),\n                    },\n                    focus: {\n                        color: ColorsUtils.colorOut(vars.resister.fg),\n                        backgroundColor: ColorsUtils.colorOut(vars.resister.states.bg),\n                    },\n                    active: {\n                        color: ColorsUtils.colorOut(vars.resister.fg),\n                        backgroundColor: ColorsUtils.colorOut(vars.resister.states.bg),\n                    },\n                }),\n            },\n        },\n    });\n\n    const clearButtonClass = style(\"clearButtonClass\", {\n        // opacity: 0.7,\n        //     \"&:hover, &:focus\": {\n        //         opacity: 1,\n        //     },\n        // },\n    });\n\n    const guestButton = style(\"guestButton\", {\n        minWidth: styleUnit(vars.button.guest.minWidth),\n        borderRadius: styleUnit(vars.button.borderRadius),\n    });\n\n    const desktopNavWrap = style(\"desktopNavWrap\", {\n        position: \"relative\",\n        flexGrow: 1,\n        ...(addGradientsToHintOverflow(globalVars.gutter.half * 4, vars.colors.bg) as any),\n    });\n\n    const logoCenterer = style(\"logoCenterer\", {\n        ...absolutePosition.middleOfParent(true),\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    });\n\n    const logoLeftAligned = style(\"logoLeftAligned\", {\n        position: \"relative\",\n        height: percent(100),\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n    });\n\n    const hamburger = style(\"hamburger\", {\n        marginRight: styleUnit(12),\n        marginLeft: negativeUnit(globalVars.buttonIcon.offset),\n        ...{\n            \"&&\": {\n                ...allButtonStates({\n                    allStates: {\n                        color: ColorsUtils.colorOut(vars.colors.fg),\n                    },\n                }),\n            },\n        },\n    });\n\n    const isSticky = style(\"isSticky\", {\n        ...sticky(),\n        top: 0,\n        zIndex: 10,\n    });\n\n    const logoAnimationWrap = style(\"logoAnimationWrap\", {\n        display: \"inline-flex\",\n        alignItems: \"center\",\n    });\n\n    const overlay = style(\"overlay\", {\n        ...absolutePosition.fullSizeOfParent(),\n        background: vars.overlay.background,\n    });\n\n    const signInIconOffset = style(\"signInIconOffset\", {\n        marginRight: negativeUnit(globalVars.buttonIcon.offset + 3),\n    });\n\n    const titleBarContainer = style(\"titleBarContainer\", {\n        ...Mixins.border(vars.titleBarContainer.border),\n    });\n\n    const skipNav = style(\"skipNav\", {\n        position: \"absolute\",\n        backgroundColor: ColorsUtils.colorOut(globalVars.mainColors.bg),\n        color: \"gray\",\n        border: 0,\n        borderRadius: styleUnit(6),\n        clip: \"rect(0 0 0 0)\",\n        height: styleUnit(0),\n        width: styleUnit(0),\n        margin: styleUnit(-1),\n        padding: 0,\n        overflow: \"hidden\",\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        ...{\n            \"&:focus, &:active\": {\n                // This is over the icon and we want it to be a little further to the left of the main nav\n                left: styleUnit(-40),\n                width: styleUnit(144),\n                height: styleUnit(38),\n                clip: \"auto\",\n            },\n        },\n    });\n\n    return {\n        root,\n        bg1,\n        bg2,\n        container,\n        bgContainer,\n        bgImage,\n        negativeSpacer,\n        bannerPadding,\n        spacer,\n        bar,\n        logoContainer,\n        meBox,\n        nav,\n        locales,\n        messages,\n        notifications,\n        compactSearch,\n        topElement,\n        localeToggle,\n        languages,\n        button,\n        buttonOffset,\n        linkButton,\n        searchCancel,\n        tabButton,\n        dropDownContents,\n        count,\n        extraMeBoxIcons,\n        rightFlexBasis,\n        leftFlexBasis,\n        signIn,\n        register,\n        centeredButton,\n        compactSearchResults,\n        clearButtonClass,\n        guestButton,\n        logoFlexBasis,\n        desktopNavWrap,\n        logoCenterer,\n        logoLeftAligned,\n        hamburger,\n        isSticky,\n        logoAnimationWrap,\n        overlay,\n        swoop,\n        signInIconOffset,\n        titleBarContainer,\n        skipNav,\n    };\n});\n\nconst getLogoMaxHeight = (vars, mobile: boolean) => {\n    const titleBarHeight = mobile ? vars.sizing.mobile ?? vars.sizing.height : vars.sizing.height;\n    let specifiedLogoHeight = mobile\n        ? vars.logo.mobile.maxHeight ?? vars.logo.maxHeight ?? vars.sizing.mobile.height\n        : vars.logo.maxHeight ?? vars.sizing.height;\n\n    // Make sure it doesn't go over the size of the title bar\n    if (specifiedLogoHeight > titleBarHeight) {\n        specifiedLogoHeight = titleBarHeight;\n    }\n\n    return specifiedLogoHeight - (mobile ? vars.logo.mobile.heightOffset : vars.logo.heightOffset);\n};\n\nexport const titleBarLogoClasses = useThemeCache(() => {\n    const vars = titleBarVariables();\n    const style = styleFactory(\"titleBarLogo\");\n    const mediaQueries = vars.mediaQueries();\n\n    const logoFrame = style(\"logoFrame\", {\n        display: \"inline-flex\",\n        alignSelf: \"center\",\n        justifyContent: \"center\",\n    });\n\n    const mobileLogoStyles = {\n        display: \"flex\",\n        justifyContent: vars.mobileLogo.justifyContent,\n        maxHeight: styleUnit(getLogoMaxHeight(vars, true)),\n        maxWidth: styleUnit(vars.logo.mobile.maxWidth ?? vars.logo.maxWidth),\n    };\n\n    const logo = style(\n        \"logo\",\n        {\n            display: \"block\",\n            maxHeight: styleUnit(getLogoMaxHeight(vars, false)),\n            maxWidth: styleUnit(vars.logo.maxWidth),\n            width: \"auto\",\n            ...{\n                \"&.isCentred\": {\n                    margin: \"auto\",\n                },\n            },\n        },\n        mediaQueries.compact(mobileLogoStyles),\n    );\n\n    const mobileLogo = style(\"mobileLogo\", mobileLogoStyles);\n\n    const isCenter = style(\"isCenter\", {\n        position: \"absolute\",\n        left: percent(50),\n        transform: translate(`-50%`, `-50%`),\n    });\n\n    return {\n        logoFrame,\n        logo,\n        mobileLogo,\n        isCenter,\n    };\n});\n\nexport const addGradientsToHintOverflow = (width: number | string, color: ColorHelper) => {\n    return {\n        \"&:after\": {\n            ...absolutePosition.topRight(),\n            background: linearGradient(\n                \"right\",\n                `${ColorsUtils.colorOut(color.fade(0))} 0%`,\n                `${ColorsUtils.colorOut(color.fade(0.3))} 20%`,\n                `${ColorsUtils.colorOut(color)} 90%`,\n            ),\n        },\n        \"&:before\": {\n            ...absolutePosition.topLeft(),\n            background: linearGradient(\n                \"left\",\n                `${ColorsUtils.colorOut(color.fade(0))} 0%`,\n                `${ColorsUtils.colorOut(color.fade(0.3))} 20%`,\n                `${ColorsUtils.colorOut(color)} 90%`,\n            ),\n        },\n        \"&:before, &:after\": {\n            ...pointerEvents(),\n            content: quote(``),\n            height: percent(100),\n            width: styleUnit(width),\n            zIndex: 1,\n        },\n    };\n};\n","/**\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { getOptionalID, IOptionalComponentID } from \"@library/utility/idUtils\";\nimport { buttonClasses, buttonUtilityClasses } from \"../forms/buttonStyles\";\nimport classNames from \"classnames\";\nimport { titleBarClasses } from \"@library/headers/titleBarStyles\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\n\nexport interface IButtonProps extends IOptionalComponentID, React.HTMLAttributes<HTMLButtonElement> {\n    children: React.ReactNode;\n    className?: string;\n    disabled?: boolean;\n    prefix?: string;\n    legacyMode?: boolean;\n    onClick?: (e) => void;\n    onKeyDown?: (e) => void;\n    title?: string;\n    submit?: boolean;\n    ariaLabel?: string;\n    baseClass?: ButtonTypes;\n    ariaHidden?: boolean;\n    tabIndex?: number;\n    lang?: string;\n    buttonRef?: React.Ref<HTMLButtonElement>;\n    role?: string;\n    onKeyDownCapture?: (event: any) => void;\n    controls?: string;\n    style?: {};\n}\n\ninterface IState {\n    id?: string;\n}\n\nexport const getButtonStyleFromBaseClass = (type: ButtonTypes | undefined) => {\n    if (type) {\n        const buttonUtils = buttonUtilityClasses();\n        const classes = buttonClasses();\n        switch (type) {\n            case ButtonTypes.STANDARD:\n                return classes.standard;\n            case ButtonTypes.TEXT:\n                return classes.text;\n            case ButtonTypes.TEXT_PRIMARY:\n                return classes.textPrimary;\n            case ButtonTypes.ICON:\n                return buttonUtils.buttonIcon;\n            case ButtonTypes.ICON_COMPACT:\n                return buttonUtils.buttonIconCompact;\n            case ButtonTypes.PRIMARY:\n                return classes.primary;\n            case ButtonTypes.TRANSPARENT:\n                return classes.transparent;\n            case ButtonTypes.TRANSLUCID:\n                return classes.translucid;\n            case ButtonTypes.TITLEBAR_LINK:\n                return titleBarClasses().linkButton;\n            case ButtonTypes.CUSTOM:\n                return classes.custom;\n            case ButtonTypes.RESET:\n                return buttonUtilityClasses().reset;\n            case ButtonTypes.DASHBOARD_STANDARD:\n                return \"btn\";\n            case ButtonTypes.DASHBOARD_PRIMARY:\n                return \"btn btn-primary\";\n            case ButtonTypes.DASHBOARD_SECONDARY:\n                return \"btn btn-secondary\";\n            case ButtonTypes.DASHBOARD_LINK:\n                return \"btn btn-link\";\n            case ButtonTypes.NOT_STANDARD:\n                return classes.notStandard;\n            default:\n                return \"\";\n        }\n    } else {\n        return \"\";\n    }\n};\n\n/**\n * A stylable, configurable button component.\n */\nexport default class Button extends React.Component<IButtonProps, IState> {\n    public static defaultProps: Partial<IButtonProps> = {\n        id: undefined,\n        disabled: false,\n        prefix: \"button\",\n        legacyMode: false,\n        baseClass: ButtonTypes.STANDARD,\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            id: getOptionalID(props, props.prefix) as string | undefined,\n        };\n    }\n\n    public render() {\n        const {\n            baseClass,\n            legacyMode,\n            className,\n            id,\n            submit,\n            ariaLabel,\n            ariaHidden,\n            controls,\n            buttonRef,\n            ...restProps\n        } = this.props;\n        const componentClasses = classNames(getButtonStyleFromBaseClass(baseClass), { Button: legacyMode }, className);\n\n        return (\n            <button\n                id={this.state.id}\n                type={submit ? \"submit\" : \"button\"}\n                className={componentClasses}\n                aria-label={ariaLabel ?? restProps.title}\n                aria-hidden={ariaHidden}\n                ref={buttonRef}\n                aria-controls={controls}\n                {...restProps}\n            >\n                {this.props.children}\n            </button>\n        );\n    }\n}\n","import { variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { color } from \"csx\";\n\nexport const panelBackgroundVariables = useThemeCache(() => {\n    const makeThemeVars = variableFactory(\"panelBackground\");\n\n    const config = makeThemeVars(\"config\", {\n        render: false,\n    });\n\n    const colors = makeThemeVars(\"colors\", {\n        backgroundColor: color(\"#f4f6f9\"),\n    });\n\n    return { config, colors };\n});\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { calc, important, percent, viewHeight } from \"csx\";\nimport { cssRule, media } from \"@library/styles/styleShim\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { CSSObject } from \"@emotion/css\";\nimport { IThemeVariables } from \"@library/theming/themeReducer\";\nimport { sticky } from \"@library/styles/styleHelpers\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { panelBackgroundVariables } from \"@library/layout/PanelBackground.variables\";\nimport { LayoutTypes } from \"@library/layout/types/interface.layoutTypes\";\nimport {\n    fallbackLayoutVariables,\n    IMediaQueryFunction,\n    IPanelLayoutVariables,\n} from \"@library/layout/types/interface.panelLayout\";\nimport { logError } from \"@vanilla/utils\";\nimport { Mixins } from \"@library/styles/Mixins\";\n\ninterface IProps extends IPanelLayoutVariables {\n    contentSizes: any;\n    setMediaQueries: (breakPoints, Devices) => any;\n    panelLayoutBreakPoints: any;\n}\n\n// Global defaults for layouts. These variables are not meant to be used extended through a layout type, like a three or two column layout\nexport const layoutVariables = useThemeCache(\n    (forcedVars?: IThemeVariables): IProps => {\n        const globalVars = globalVariables(forcedVars);\n        const makeThemeVars = variableFactory(\"layoutVariables\", forcedVars);\n        const Devices = fallbackLayoutVariables;\n\n        const colors = makeThemeVars(\"colors\", {\n            leftColumnBg: globalVars.mainColors.bg,\n        });\n\n        // Important variables that will be used to calculate other variables\n        const foundationalWidths = makeThemeVars(\"foundationalWidths\", {\n            fullGutter: globalVars.constants.fullGutter,\n            panelWidth: globalVars.panel.width,\n            middleColumn: globalVars.middleColumn.width,\n            minimalMiddleColumnWidth: 550, // Will break if middle column width is smaller than this value.\n            narrowContentWidth: 900, // For home page widgets, narrower than full width\n            breakPoints: {\n                // Other break points are calculated\n                twoColumns: 1200,\n                xs: 500,\n            },\n        });\n\n        const gutter = {\n            full: foundationalWidths.fullGutter, // 40\n            size: foundationalWidths.fullGutter / 2, // 20\n            halfSize: foundationalWidths.fullGutter / 4, // 10\n            quarterSize: foundationalWidths.fullGutter / 8, // 5\n        };\n\n        const panelInit = makeThemeVars(\"panel\", {\n            width: foundationalWidths.panelWidth,\n        });\n\n        const panel = makeThemeVars(\"panel\", {\n            ...panelInit,\n            paddedWidth: panelInit.width + gutter.full,\n        });\n\n        const middleColumnInit = makeThemeVars(\"middleColumn\", {\n            width: foundationalWidths.middleColumn,\n        });\n\n        const middleColumn = makeThemeVars(\"middleColumn\", {\n            ...middleColumnInit,\n            paddedWidth: middleColumnInit.width + gutter.full,\n        });\n\n        const contentWidth = middleColumn.paddedWidth + panel.paddedWidth * 2;\n\n        // @Deprecated - Needs to be split into separate layouts\n        const contentSizes = makeThemeVars(\"content\", {\n            full: contentWidth,\n            narrow:\n                foundationalWidths.narrowContentWidth < contentWidth\n                    ? foundationalWidths.narrowContentWidth\n                    : contentWidth,\n        });\n\n        // @Deprecated - Use LayoutContext to get variables\n        const breakPoints = makeThemeVars(\"breakPoints\", {\n            noBleed: contentWidth,\n            twoColumns: foundationalWidths.breakPoints.twoColumns,\n            oneColumn: foundationalWidths.minimalMiddleColumnWidth + panel.paddedWidth,\n            xs: foundationalWidths.breakPoints.xs,\n        });\n\n        // @Deprecated - set to reduce refactoring changes\n        const panelLayoutBreakPoints = breakPoints;\n\n        const panelLayoutSpacing = makeThemeVars(\"panelLayoutSpacing\", {\n            margin: {\n                top: 0,\n                bottom: 0,\n            },\n            padding: {\n                top: gutter.halfSize * 1.5,\n            },\n            extraPadding: {\n                top: 32,\n                bottom: 32,\n                noBreadcrumbs: {},\n                mobile: {\n                    noBreadcrumbs: {\n                        top: 16,\n                    },\n                },\n            },\n            largePadding: {\n                top: 64,\n            },\n            offset: {\n                left: -44,\n                right: -36,\n            },\n            withPanelBackground: {\n                gutter: 70,\n            },\n        });\n\n        // Allows to be recalculated in another layout (i.e. the three column layout)\n        const setMediaQueries = (breakPoints) => {\n            const noBleed = (styles: CSSObject, useMinWidth: boolean = true): CSSObject => {\n                return media(\n                    {\n                        maxWidth: breakPoints.noBleed,\n                        minWidth: useMinWidth ? breakPoints.twoColumns + 1 : undefined,\n                    },\n                    styles,\n                );\n            };\n\n            const noBleedDown = (styles: CSSObject): CSSObject => {\n                return media(\n                    {\n                        maxWidth: breakPoints.noBleed,\n                    },\n                    styles,\n                );\n            };\n\n            const twoColumnsDown = (styles: CSSObject): CSSObject => {\n                return media(\n                    {\n                        maxWidth: breakPoints.twoColumns,\n                    },\n                    styles,\n                );\n            };\n\n            const twoColumns = (styles: CSSObject, useMinWidth: boolean = true) => {\n                return media(\n                    {\n                        maxWidth: breakPoints.twoColumns,\n                        minWidth: useMinWidth ? breakPoints.oneColumn + 1 : undefined,\n                    },\n                    styles,\n                );\n            };\n\n            const oneColumn = (styles: CSSObject, useMinWidth: boolean = true) => {\n                return media(\n                    {\n                        maxWidth: breakPoints.oneColumn,\n                        minWidth: useMinWidth ? breakPoints.xs + 1 : undefined,\n                    },\n                    styles,\n                );\n            };\n\n            const oneColumnDown = (styles: CSSObject): CSSObject => {\n                return media(\n                    {\n                        maxWidth: breakPoints.oneColumn,\n                    },\n                    styles,\n                );\n            };\n\n            const aboveOneColumn = (styles: CSSObject): CSSObject => {\n                return media(\n                    {\n                        minWidth: breakPoints.oneColumn + 1,\n                    },\n                    styles,\n                );\n            };\n\n            const xs = (styles: CSSObject): CSSObject => {\n                return media(\n                    {\n                        maxWidth: breakPoints.xs,\n                    },\n                    styles,\n                );\n            };\n\n            return {\n                noBleed,\n                noBleedDown,\n                twoColumns,\n                twoColumnsDown,\n                oneColumn,\n                oneColumnDown,\n                aboveOneColumn,\n                xs,\n            };\n        };\n\n        // @Deprecated - Use LayoutContext to get media queries of current layout.\n        const mediaQueries = () => {\n            return setMediaQueries(breakPoints);\n        };\n\n        // @Deprecated - Use a specific layout, like the three or two column layout and use the context\n        const calculateDevice = () => {\n            const width = document.body.clientWidth;\n            if (width <= breakPoints.xs) {\n                return Devices.XS.toString();\n            } else if (width <= breakPoints.oneColumn) {\n                return Devices.MOBILE.toString();\n            } else if (width <= breakPoints.twoColumns) {\n                return Devices.TABLET.toString();\n            } else if (width <= breakPoints.noBleed) {\n                return Devices.NO_BLEED.toString();\n            } else {\n                return Devices.DESKTOP.toString();\n            }\n        };\n\n        const isFullWidth = (currentDevice) => {\n            return currentDevice === Devices.DESKTOP || currentDevice === Devices.NO_BLEED;\n        };\n\n        const isCompact = (currentDevice) => {\n            return currentDevice === Devices.XS || currentDevice === Devices.MOBILE;\n        };\n\n        const vars: IProps = {\n            type: LayoutTypes.THREE_COLUMNS.toString(),\n            Devices,\n            colors,\n            foundationalWidths,\n            gutter,\n            setMediaQueries,\n            panel,\n            middleColumn,\n            contentSizes,\n            calculateDevice,\n            contentWidth,\n            mediaQueries,\n            isFullWidth,\n            isCompact,\n            panelLayoutSpacing,\n            breakPoints,\n            panelLayoutBreakPoints,\n        };\n\n        return vars;\n    },\n);\n\nexport interface IPanelLayoutClasses {\n    root: string;\n    content: string;\n    top: string;\n    main: string;\n    container: string;\n    fullWidth: string;\n    leftColumn?: string;\n    rightColumn: string;\n    mainColumn: string;\n    mainColumnMaxWidth: string;\n    panel: string;\n    isSticky: string;\n    breadcrumbs: string;\n    breadcrumbsContainer: string;\n    layoutSpecificStyles?: any;\n}\n\nexport const doNothingWithMediaQueries = (styles: any) => {\n    logError(\"Media queries are undefined, unable to set the following styles: \", styles);\n    return {};\n};\n\nexport const generatePanelLayoutClasses = (props: {\n    vars: IPanelLayoutVariables;\n    name: string;\n    mediaQueries: IMediaQueryFunction;\n}): IPanelLayoutClasses => {\n    const { vars, name, mediaQueries } = props;\n    const globalVars = globalVariables();\n    const style = styleFactory(name);\n\n    if (typeof mediaQueries !== \"function\") {\n        logError(\"mediaQueries needs to be a function of type IMediaQueryFunction: \", mediaQueries);\n        return {} as IPanelLayoutClasses;\n    }\n\n    const main = style(\"main\", {\n        minHeight: viewHeight(20),\n        width: percent(100),\n    });\n\n    const root = style({\n        ...Mixins.margin(vars.panelLayoutSpacing.margin),\n        width: percent(100),\n        ...{\n            [`&.noBreadcrumbs > .${main}`]: {\n                paddingTop: styleUnit(globalVars.gutter.size),\n                ...mediaQueries({\n                    [LayoutTypes.THREE_COLUMNS]: {\n                        oneColumnDown: {\n                            paddingTop: 0,\n                        },\n                    },\n                }),\n            },\n            \"&.hasTopPadding\": {\n                paddingTop: styleUnit(vars.panelLayoutSpacing.extraPadding.top),\n            },\n            \"&.hasTopPadding.noBreadcrumbs\": {\n                paddingTop: styleUnit(vars.panelLayoutSpacing.extraPadding.mobile.noBreadcrumbs.top),\n            },\n            \"&.hasLargePadding\": {\n                ...Mixins.padding(vars.panelLayoutSpacing.largePadding),\n            },\n            ...mediaQueries({\n                [LayoutTypes.THREE_COLUMNS]: {\n                    oneColumnDown: {\n                        ...{\n                            \"&.hasTopPadding.noBreadcrumbs\": {\n                                paddingTop: styleUnit(vars.panelLayoutSpacing.extraPadding.mobile.noBreadcrumbs.top),\n                            },\n                        },\n                    },\n                },\n            }),\n        },\n    });\n\n    const content = style(\"content\", {\n        display: \"flex\",\n        flexGrow: 1,\n        width: percent(100),\n        justifyContent: \"space-between\",\n    });\n\n    const panel = style(\"panel\", {\n        width: percent(100),\n        ...{\n            [`& > .panelArea:first-child .panelList`]: {\n                marginTop: styleUnit(\n                    (globalVars.fonts.size.title * globalVars.lineHeights.condensed) / 2 -\n                        globalVariables().fonts.size.medium / 2,\n                ),\n            },\n        },\n    });\n\n    const top = style(\"top\", {\n        width: percent(100),\n        marginBottom: styleUnit(globalVars.gutter.half),\n    });\n\n    const container = style(\"container\", {\n        display: \"flex\",\n        flexWrap: \"nowrap\",\n        alignItems: \"flex-start\",\n        justifyContent: \"space-between\",\n    });\n\n    const fullWidth = style(\"fullWidth\", {\n        position: \"relative\",\n        padding: 0,\n    });\n\n    const offset = panelBackgroundVariables().config.render\n        ? layoutVariables().panelLayoutSpacing.withPanelBackground.gutter - globalVars.widget.padding * 2\n        : 0;\n\n    const leftColumn = style(\"leftColumn\", {\n        position: \"relative\",\n        width: styleUnit(vars.panel.paddedWidth),\n        flexBasis: styleUnit(vars.panel.paddedWidth),\n        minWidth: styleUnit(vars.panel.paddedWidth),\n        paddingRight: styleUnit(offset),\n    });\n\n    const rightColumn = style(\"rightColumn\", {\n        position: \"relative\",\n        width: styleUnit(vars.panel.paddedWidth),\n        flexBasis: styleUnit(vars.panel.paddedWidth),\n        minWidth: styleUnit(vars.panel.paddedWidth),\n        overflow: \"initial\",\n        paddingLeft: styleUnit(offset),\n    });\n\n    const mainColumn = style(\"mainColumn\", {\n        justifyContent: \"space-between\",\n        flexGrow: 1,\n        width: percent(100),\n        maxWidth: percent(100),\n        paddingBottom: styleUnit(vars.panelLayoutSpacing.extraPadding.bottom),\n        ...mediaQueries({\n            [LayoutTypes.THREE_COLUMNS]: {\n                oneColumnDown: {\n                    ...Mixins.padding({\n                        left: important(0),\n                        right: important(0),\n                    }),\n                },\n            },\n        }),\n    });\n\n    const mainColumnMaxWidth = style(\"mainColumnMaxWidth\", {\n        ...{\n            \"&.hasAdjacentPanel\": {\n                flexBasis: calc(`100% - ${styleUnit(vars.panel.paddedWidth)}`),\n                maxWidth: calc(`100% - ${styleUnit(vars.panel.paddedWidth)}`),\n\n                ...mediaQueries({\n                    [LayoutTypes.THREE_COLUMNS]: {\n                        oneColumnDown: {\n                            flexBasis: percent(100),\n                            maxWidth: percent(100),\n                        },\n                    },\n                }),\n            },\n            \"&.hasTwoAdjacentPanels\": {\n                flexBasis: calc(`100% - ${styleUnit(vars.panel.paddedWidth * 2)}`),\n                maxWidth: calc(`100% - ${styleUnit(vars.panel.paddedWidth * 2)}`),\n                ...mediaQueries({\n                    [LayoutTypes.THREE_COLUMNS]: {\n                        oneColumnDown: {\n                            flexBasis: percent(100),\n                            maxWidth: percent(100),\n                        },\n                    },\n                }),\n            },\n        },\n    });\n\n    const breadcrumbs = style(\"breadcrumbs\", {});\n\n    const isSticky = style(\"isSticky\", {\n        ...sticky(),\n        height: percent(100),\n        ...mediaQueries({\n            [LayoutTypes.THREE_COLUMNS]: {\n                oneColumnDown: {\n                    position: \"relative\",\n                    top: \"auto\",\n                    left: \"auto\",\n                    bottom: \"auto\",\n                },\n            },\n        }),\n    });\n\n    // To remove when we have overlay styles converted\n    cssRule(`.overlay .${root}.noBreadcrumbs .${main}`, {\n        paddingTop: 0,\n    });\n\n    const breadcrumbsContainer = style(\"breadcrumbs\", {\n        paddingBottom: styleUnit(14),\n    });\n\n    const layoutSpecificStyles = (style) => {\n        const middleColumnMaxWidth = style(\"middleColumnMaxWidth\", {\n            ...{\n                \"&.hasAdjacentPanel\": {\n                    flexBasis: calc(`100% - ${styleUnit(vars.panel.paddedWidth)}`),\n                    maxWidth: calc(`100% - ${styleUnit(vars.panel.paddedWidth)}`),\n                    ...mediaQueries({\n                        [LayoutTypes.THREE_COLUMNS]: {\n                            oneColumnDown: {\n                                flexBasis: percent(100),\n                                maxWidth: percent(100),\n                            },\n                        },\n                    }),\n                },\n                \"&.hasTwoAdjacentPanels\": {\n                    flexBasis: calc(`100% - ${styleUnit(vars.panel.paddedWidth * 2)}`),\n                    maxWidth: calc(`100% - ${styleUnit(vars.panel.paddedWidth * 2)}`),\n                    ...mediaQueries({\n                        [LayoutTypes.THREE_COLUMNS]: {\n                            oneColumnDown: {\n                                flexBasis: percent(100),\n                                maxWidth: percent(100),\n                            },\n                        },\n                    }),\n                },\n            },\n        });\n\n        const leftColumn = style(\"leftColumn\", {\n            position: \"relative\",\n            width: styleUnit(vars.panel.paddedWidth),\n            flexBasis: styleUnit(vars.panel.paddedWidth),\n            minWidth: styleUnit(vars.panel.paddedWidth),\n            paddingRight: offset ? styleUnit(offset) : undefined,\n        });\n\n        const rightColumn = style(\"rightColumn\", {\n            position: \"relative\",\n            width: styleUnit(vars.panel.paddedWidth),\n            flexBasis: styleUnit(vars.panel.paddedWidth),\n            minWidth: styleUnit(vars.panel.paddedWidth),\n            overflow: \"initial\",\n            paddingRight: offset ? styleUnit(offset) : undefined,\n        });\n\n        return {\n            leftColumn,\n            rightColumn,\n            middleColumnMaxWidth,\n        };\n    };\n\n    return {\n        root,\n        content,\n        top,\n        main,\n        container,\n        fullWidth,\n        leftColumn,\n        rightColumn,\n        mainColumn,\n        mainColumnMaxWidth,\n        panel,\n        isSticky,\n        breadcrumbs,\n        breadcrumbsContainer,\n        layoutSpecificStyles,\n    };\n};\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nexport enum LayoutTypes {\n    THREE_COLUMNS = \"three columns\", // Dynamic layout with up to 3 columns that adjusts to its contents. This is the default for KB\n    TWO_COLUMNS = \"two columns\", // Single column, but full width of page\n}\n","/**\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nenum ModalSizes {\n    FULL_SCREEN = \"full screen\",\n    MODAL_AS_SIDE_PANEL_RIGHT = \"render as full screen side panel from right\",\n    MODAL_AS_SIDE_PANEL_RIGHT_LARGE = \"render as full screen side panel from right large\",\n    MODAL_AS_SIDE_PANEL_LEFT = \"render as full screen side panel from left\",\n    MODAL_AS_DROP_DOWN = \"render as drop down\",\n    XL = \"xl\",\n    LARGE = \"large\",\n    MEDIUM = \"medium\",\n    SMALL = \"small\",\n}\n\nexport default ModalSizes;\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nimport { EmbedButton } from \"@library/embeddedContent/components/EmbedButton\";\nimport { embedContentClasses } from \"@library/embeddedContent/components/embedStyles\";\nimport { EMBED_FOCUS_CLASS } from \"@library/embeddedContent/embedConstants\";\nimport { useEmbedContext } from \"@library/embeddedContent/IEmbedContext\";\nimport { DeleteIcon } from \"@library/icons/common\";\nimport { EmbedMenu } from \"@rich-editor/editor/pieces/EmbedMenu\";\nimport classNames from \"classnames\";\nimport React from \"react\";\n\ninterface IProps {\n    className?: string;\n    type: string;\n    description?: string;\n    children?: React.ReactNode;\n    noBaseClass?: boolean;\n    isSmall?: boolean;\n    embedActions?: React.ReactNode;\n}\n\nexport const EmbedContent = React.forwardRef<HTMLDivElement, IProps>(function EmbedContent(props: IProps, ref) {\n    const { inEditor, isSelected, deleteSelf, descriptionID } = useEmbedContext();\n    const classes = embedContentClasses();\n\n    return (\n        <div\n            aria-describedby={descriptionID}\n            aria-label={\"External embed content - \" + props.type}\n            className={classNames(props.className, classes.root, !props.noBaseClass && \"embedExternal-content\", {\n                [EMBED_FOCUS_CLASS]: inEditor,\n                [classes.small]: props.isSmall,\n            })}\n            tabIndex={inEditor ? -1 : undefined} // Should only as a whole when inside the editor.\n            ref={ref}\n        >\n            {props.children}\n            {inEditor && isSelected && (\n                <EmbedMenu>\n                    {props.embedActions}\n                    <EmbedButton onClick={deleteSelf}>\n                        <DeleteIcon />\n                    </EmbedButton>\n                </EmbedMenu>\n            )}\n        </div>\n    );\n});\n","/**\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport ButtonLoader from \"@library/loaders/ButtonLoader\";\nimport { tokensClasses } from \"@library/forms/select/tokensStyles\";\nimport { t } from \"@library/utility/appUtils\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport { dropDownClasses } from \"@library/flyouts/dropDownStyles\";\nimport { MultiValueRemoveProps } from \"react-select/lib/components/MultiValue\";\nimport { MenuListComponentProps, MenuProps } from \"react-select/lib/components/Menu\";\nimport { ControlProps } from \"react-select/lib/components/Control\";\nimport { ValueContainerProps } from \"react-select/lib/components/containers\";\nimport classNames from \"classnames\";\nimport { OptionProps } from \"react-select/lib/components/Option\";\nimport { components } from \"react-select\";\nimport { CloseTinyIcon, CheckCompactIcon, DownTriangleIcon } from \"@library/icons/common\";\nimport { IComboBoxOption } from \"@library/features/search/SearchBar\";\nimport { selectOneClasses } from \"@library/forms/select/selectOneStyles\";\n\n/**\n * Overwrite for the controlContainer component in React Select\n * @param props\n */\nexport function Control(props: ControlProps<any>) {\n    const { className, ...rest } = props;\n    return <components.Control className={classNames(\"suggestedTextInput-control\", className)} {...rest} />;\n}\n\n/**\n * Overwrite for the menuOption component in React Select\n * @param props\n */\nexport function OptionLoader(props: OptionProps<any>) {\n    props = {\n        ...props,\n        children: <ButtonLoader />,\n    };\n\n    return <SelectOption {...props} value=\"\" />;\n}\n\n/**\n * Overwrite for the menu component in React Select\n * @param props - menu props\n */\nexport function Menu(props: MenuProps<any>) {\n    const classes = dropDownClasses();\n    return (\n        <components.Menu\n            {...props}\n            className={classNames(\"suggestedTextInput-menu\", \"dropDown-contents\", \"isParentWidth\", classes.contents)}\n        />\n    );\n}\n\n/**\n * Overwrite for the input menuList component in React Select\n * @param props - props for menuList\n */\nexport function MenuList(props: MenuListComponentProps<any>) {\n    const { ...rest } = props;\n\n    return (\n        <components.MenuList {...rest}>\n            <ul className=\"suggestedTextInput-menuItems\">{props.children}</ul>\n        </components.MenuList>\n    );\n}\n\n/**\n * Overwrite for the multiValueRemove component in React Select\n * @param props - props of component\n */\nexport function MultiValueRemove(props: MultiValueRemoveProps<any>) {\n    const { innerProps, selectProps } = props;\n    const classesTokens = tokensClasses();\n\n    // We need to bind the function to the props for that component\n    const handleKeyDown = (event) => {\n        switch (event.key) {\n            case \"Enter\":\n            case \"Spacebar\":\n            case \" \":\n                innerProps.onClick(event);\n                break;\n        }\n    };\n\n    return (\n        <components.MultiValueRemove {...props} className=\"suggestedTextInput-tokenRemove\">\n            <button\n                {...innerProps}\n                className={classNames(ButtonTypes.CUSTOM, `${selectProps.classNamePrefix}-clear`)}\n                type=\"button\"\n                style={{}}\n                aria-hidden={undefined} // Unset the prop in restInnerProps\n                onKeyDown={handleKeyDown}\n                onClick={innerProps.onClick}\n                onTouchEnd={innerProps.onTouchEnd}\n                onMouseDown={innerProps.onMouseDown}\n                title={t(\"Clear\")}\n                aria-label={t(\"Clear\")}\n            >\n                <CloseTinyIcon className={classNames(\"suggestedTextInput-tokenRemoveIcon\", classesTokens.removeIcon)} />\n            </button>\n        </components.MultiValueRemove>\n    );\n}\n\n/**\n * Overwrite for the noOptionsMessage component in React Select\n * @param props\n */\nexport function NoOptionsMessage(props: OptionProps<any>) {\n    props = {\n        ...props,\n        className: classNames(\"suggestedTextInput-noOptions\", props.className),\n    };\n    return <components.NoOptionsMessage {...props} />;\n}\n\nexport function NullComponent() {\n    return <></>;\n}\n\ntype ISelectOptionOverwrite = OptionProps<any> & IComboBoxOption;\n\n/**\n * Overwrite for the menuOption component in React Select\n * @param props\n */\nexport function SelectOption(props: ISelectOptionOverwrite) {\n    const { isSelected, isFocused, selectProps, value } = props;\n\n    return (\n        <li className=\"suggestedTextInput-item\">\n            <button\n                {...(props.innerProps as any)}\n                type=\"button\"\n                className={classNames(\"suggestedTextInput-option\", {\n                    isSelected,\n                    isFocused,\n                })}\n            >\n                <span className=\"suggestedTextInput-head\">\n                    <span className=\"suggestedTextInput-title\">\n                        {props.children}\n                        {props.data?.data?.parentLabel && (\n                            <span\n                                className={\"suggestedTextInput-parentTag\"}\n                            >{` - ${props.data.data.parentLabel}`}</span>\n                        )}\n                    </span>\n                    {(isSelected || value === selectProps.value?.value) && (\n                        <CheckCompactIcon className={selectOneClasses().checkIcon} />\n                    )}\n                </span>\n            </button>\n        </li>\n    );\n}\n\n/**\n * Overwrite for the valueContainer component in React Select\n * @param children\n * @param props\n */\nexport function ValueContainer(props: ValueContainerProps<any>) {\n    return (\n        <components.ValueContainer\n            {...props}\n            className={classNames(\"suggestedTextInput-valueContainer inputBlock-inputText inputText\", props.className)}\n        />\n    );\n}\n\n/**\n * Overwrite for the DropdownIndicator component in React Select\n * @param props - props of component\n */\nexport function DropdownIndicator(props) {\n    const { innerProps } = props;\n    const Component: React.ComponentType = components.DropdownIndicator as any;\n    return (\n        <Component {...props}>\n            <div {...innerProps}>\n                <DownTriangleIcon className={selectOneClasses().chevron} />\n            </div>\n        </Component>\n    );\n}\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { NavLink, NavLinkProps } from \"react-router-dom\";\nimport { makeLocationDescriptorObject, LinkContext, useLinkContext } from \"@library/routing/links/LinkContextProvider\";\nimport { sanitizeUrl } from \"@vanilla/utils\";\nimport { LocationDescriptor } from \"history\";\nimport { siteUrl } from \"@library/utility/appUtils\";\n\nexport interface ISmartLinkProps extends NavLinkProps {\n    tabIndex?: number;\n    to: LocationDescriptor;\n}\n\n/**\n * Link component that checks it's <LinkContext /> to know if it needs to do a full refresh\n * or a partial refresh of the page.\n *\n * If the passed `to` is a subset of the context then a partial navigation will be completed.\n * If the resulting URL has the same pathname as the current page we will do a full refresh.\n *\n * Eg.\n * Context = https://test.com/root\n * To = https://test.com/root/someUrl/deeper/nested\n * Result = /root/someUrl/deeper/nested (react router navigation)\n *\n * Context = https://test.com/otherRoot\n * To = https://test.com/root/someUrl/deeper/nested\n * Result = https://test.com/root/someUrl/deeper/nested (full refresh)\n */\nexport default React.forwardRef(function SmartLink(props: ISmartLinkProps, ref: React.Ref<HTMLAnchorElement>) {\n    const { replace, ...passthru } = props;\n    const context = useLinkContext();\n\n    // Filter out undefined props\n    for (const prop in passthru) {\n        if (!passthru[prop]) {\n            delete passthru[prop];\n        }\n    }\n\n    const href = context.makeHref(props.to);\n    if (context.isDynamicNavigation(href)) {\n        return (\n            <NavLink\n                rel={props.target === \"_blank\" ? \"noreferer noopener ugc\" : undefined}\n                {...passthru}\n                innerRef={ref}\n                to={makeLocationDescriptorObject(props.to, href)}\n                activeClassName=\"isCurrent\"\n                tabIndex={props.tabIndex ? props.tabIndex : 0}\n                replace={replace}\n            />\n        );\n    } else {\n        const isForeign = !href.startsWith(siteUrl(\"\"));\n        return (\n            <a\n                {...passthru}\n                ref={ref}\n                href={sanitizeUrl(href)}\n                tabIndex={props.tabIndex ? props.tabIndex : 0}\n                target={isForeign ? \"_blank\" : undefined}\n                rel={isForeign ? \"noopener\" : props.rel}\n            />\n        );\n    }\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { BorderRadiusProperty } from \"csstype\";\nimport { ColorHelper } from \"csx\";\nimport { TLength } from \"@library/styles/styleShim\";\nimport { CSSObject } from \"@emotion/css\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\n\ninterface IShadowSizing {\n    horizontalOffset: number;\n    verticalOffset: number;\n    blur: number;\n    spread: number;\n    opacity: number;\n}\n\nexport const shadowVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const makeVariables = variableFactory(\"shadow\");\n\n    const widget: IShadowSizing = makeVariables(\"widget\", {\n        horizontalOffset: 0,\n        verticalOffset: 1,\n        blur: 3,\n        spread: 0,\n        opacity: 0.22,\n    });\n\n    const widgetHover: IShadowSizing = makeVariables(\"widgetHover\", {\n        horizontalOffset: 0,\n        verticalOffset: 2,\n        blur: 4,\n        spread: 0,\n        opacity: 0.22,\n    });\n\n    const dropDown: IShadowSizing = makeVariables(\"dropDown\", {\n        horizontalOffset: 0,\n        verticalOffset: 5,\n        blur: 10,\n        spread: 0,\n        opacity: globalVars.borderType.dropDowns.width > 1 ? 0 : 0.3,\n    });\n\n    const modal: IShadowSizing = makeVariables(\"modal\", {\n        horizontalOffset: 0,\n        verticalOffset: 5,\n        blur: 20,\n        spread: 0,\n        opacity: 0.5,\n    });\n\n    const floatingButton: IShadowSizing = makeVariables(\"floatingButton\", {\n        horizontalOffset: 0,\n        verticalOffset: 5,\n        blur: 10,\n        spread: 0,\n        opacity: 0.5,\n    });\n\n    return { widget, widgetHover, dropDown, modal, floatingButton };\n});\n\nexport const shadowHelper = useThemeCache(() => {\n    const vars = shadowVariables();\n    const globalVars = globalVariables();\n    const shadowBaseColor = globalVars.mainColors.fg;\n    const makeShadow = (opacity: number = 0.3) => `0 1px 3px 0 ${shadowBaseColor.fade(opacity)}`;\n    const embed = (baseColor: ColorHelper = shadowBaseColor) => {\n        const { verticalOffset, horizontalOffset, blur, spread, opacity } = vars.widget;\n        return {\n            boxShadow: `${horizontalOffset} ${styleUnit(verticalOffset)} ${styleUnit(blur)} ${styleUnit(\n                spread,\n            )} ${baseColor.fade(opacity)}`,\n        };\n    };\n\n    const embedHover = (baseColor: ColorHelper = shadowBaseColor) => {\n        const { verticalOffset, horizontalOffset, blur, spread, opacity } = vars.widgetHover;\n        return {\n            boxShadow: `${horizontalOffset} ${styleUnit(verticalOffset)} ${styleUnit(blur)} ${styleUnit(\n                spread,\n            )} ${baseColor.darken(0.5).fade(opacity)}`,\n        };\n    };\n\n    const dropDown = (baseColor: ColorHelper = shadowBaseColor) => {\n        const { verticalOffset, horizontalOffset, blur, spread, opacity } = vars.dropDown;\n        return {\n            boxShadow: `${horizontalOffset} ${styleUnit(verticalOffset)} ${styleUnit(blur)} ${styleUnit(\n                spread,\n            )} ${baseColor.fade(opacity)}`,\n        };\n    };\n\n    const floatingButton = (baseColor: ColorHelper = shadowBaseColor) => {\n        const { verticalOffset, horizontalOffset, blur, spread, opacity } = vars.floatingButton;\n        return {\n            boxShadow: `${horizontalOffset} ${styleUnit(verticalOffset)} ${styleUnit(blur)} ${styleUnit(\n                spread,\n            )} ${baseColor.fade(opacity)}`,\n        };\n    };\n\n    const modal = (baseColor: ColorHelper = shadowBaseColor) => {\n        const { verticalOffset, horizontalOffset, blur, spread, opacity } = vars.modal;\n        return {\n            boxShadow: `${horizontalOffset} ${styleUnit(verticalOffset)} ${styleUnit(blur)} ${styleUnit(\n                spread,\n            )} ${baseColor.fade(opacity)}`,\n        };\n    };\n\n    const contrast = (\n        baseColor: ColorHelper = globalVars.mainColors.fg,\n        hasBorder: boolean = false,\n        borderRadius: BorderRadiusProperty<TLength> = 0,\n    ) => {\n        const shadowColor = baseColor.fade(0.2);\n        let border = {};\n\n        if (hasBorder) {\n            border = {\n                outline: `solid 1px ${shadowColor.toString()}`,\n                radius: borderRadius,\n            };\n        }\n\n        return {\n            boxShadow: `0 0 3px 0 ${baseColor.fade(0.3)}`,\n            ...border,\n        };\n    };\n\n    return { embed, embedHover, dropDown, modal, contrast, makeShadow, floatingButton };\n});\n\nexport const shadowOrBorderBasedOnLightness = (\n    referenceColor?: ColorHelper | string,\n    borderStyles?: CSSObject,\n    shadowStyles?: CSSObject,\n    flip?: boolean,\n): CSSObject => {\n    const globalVars = globalVariables();\n    if (!referenceColor) {\n        referenceColor = globalVars.mainColors.bg;\n    }\n\n    if (!borderStyles) {\n        borderStyles = Mixins.border();\n    }\n\n    if (!shadowStyles) {\n        shadowStyles = shadowHelper().dropDown();\n    }\n\n    if (referenceColor instanceof ColorHelper && ColorsUtils.isLightColor(referenceColor) && !flip) {\n        // Shadow for light colors\n        return shadowStyles;\n    } else {\n        // Border for dark colors\n        return borderStyles;\n    }\n};\n","/**\n * Entrypoint for the APIv2 calls. Prepulates an axios instance with some config settings.\n *\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { t, getMeta, siteUrl } from \"@library/utility/appUtils\";\nimport { indexArrayByKey, notEmpty } from \"@vanilla/utils\";\nimport axios, { AxiosResponse, AxiosRequestConfig, AxiosError } from \"axios\";\nimport qs from \"qs\";\nimport { sprintf } from \"sprintf-js\";\nimport { humanFileSize } from \"@library/utility/fileUtils\";\nimport { IApiError, IFieldError } from \"@library/@types/api/core\";\nimport { IError } from \"@library/errorPages/CoreErrorMessages\";\n\nfunction fieldErrorTransformer(responseData, headers: any) {\n    if (responseData && responseData.status >= 400 && responseData.errors && responseData.errors.length > 0) {\n        responseData.errors = indexArrayByKey(responseData.errors, \"field\");\n    }\n\n    return responseData;\n}\n\nconst apiv2 = axios.create({\n    baseURL: siteUrl(\"/api/v2/\"),\n    headers: {\n        common: {\n            \"X-Requested-With\": \"vanilla\",\n        },\n    },\n    transformResponse: [...(axios.defaults.transformResponse as any), fieldErrorTransformer],\n    paramsSerializer: (params) => qs.stringify(params),\n});\n\n/**\n * Try to extract a JSON error out of a cloudflare HTML error.\n */\nexport function extractJsonErrorFromCFHtmlString(body: string): IError | null {\n    try {\n        const parser = new DOMParser();\n        const dom = parser.parseFromString(body, \"text/html\");\n        const details = dom.querySelector(\".cf-error-details\");\n        if (!details) {\n            return null;\n        }\n\n        const title = details.querySelector(\"h1\")?.innerText ?? t(\"An Error has Occured\");\n        const description = details.querySelector(\"p\")?.innerText ?? \"\";\n\n        const footers = dom.querySelectorAll(\".footer-p\");\n        let rayID: string | null = null;\n        for (const footer of footers) {\n            if (!(footer instanceof HTMLElement)) {\n                continue;\n            }\n\n            if (!footer.innerText.includes(\"Ray ID\")) {\n                continue;\n            }\n\n            rayID = footer.innerText;\n        }\n\n        return {\n            message: title,\n            description: [description, rayID].filter(notEmpty).join(\" \"),\n        };\n    } catch (e) {\n        return null;\n    }\n}\n\n/**\n * Error handler for cloudflare errors when making APIv2 requests.\n */\nfunction cloudflareAxiosErrorHandler(error: AxiosError) {\n    const data = error.response?.data || \"\";\n\n    if (typeof data === \"object\" && data.message) {\n        (error as any).description = data.message;\n    }\n\n    const contentType = error.response?.headers?.[\"content-type\"];\n    if (error.response && typeof contentType === \"string\" && contentType.startsWith(\"text/html\")) {\n        // we have an HTML error.\n\n        const htmlResponse = error.response.data || \"\";\n        const newError = extractJsonErrorFromCFHtmlString(htmlResponse);\n        if (newError) {\n            return Promise.reject(newError);\n        }\n    }\n\n    return Promise.reject(error);\n}\n\n// Apply the cloudflare error handler.\napiv2.interceptors.response.use(undefined, cloudflareAxiosErrorHandler);\n\nexport default apiv2;\n\nexport type ProgressHandler = (progressEvent: any) => void;\n\nexport function createTrackableRequest(\n    requestFunction: (progressHandler: ProgressHandler) => () => Promise<AxiosResponse>,\n) {\n    return (onUploadProgress: ProgressHandler) => {\n        return requestFunction(onUploadProgress);\n    };\n}\n\n/**\n * Upload an image using Vanilla's API v2.\n *\n * @param file - The file to upload.\n */\nexport async function uploadFile(file: File, requestConfig: AxiosRequestConfig = {}) {\n    let allowedExtensions = getMeta(\"upload.allowedExtensions\", []) as string[];\n    allowedExtensions = allowedExtensions.map((ext: string) => ext.toLowerCase());\n    const maxSize = getMeta(\"upload.maxSize\", 0);\n    const filePieces = file.name.split(\".\");\n    const extension = filePieces[filePieces.length - 1] || \"\";\n\n    if (file.size > maxSize) {\n        const humanSize = humanFileSize(maxSize);\n        const stringTotal: string = humanSize.amount + humanSize.unitAbbr;\n        const message = sprintf(t(\"The uploaded file was too big (max %s).\"), stringTotal);\n        throw new Error(message);\n    } else if (!allowedExtensions.includes(extension.toLowerCase())) {\n        const attachmentsString = allowedExtensions.join(\", \");\n        const message = sprintf(\n            t(\n                \"The uploaded file did not have an allowed extension. \\nOnly the following extensions are allowed. \\n%s.\",\n            ),\n            attachmentsString,\n        );\n        throw new Error(message);\n    }\n\n    const data = new FormData();\n    data.append(\"file\", file, file.name);\n\n    const result = await apiv2.post(\"/media\", data, requestConfig);\n    return result.data;\n}\n\n/**\n * Extract a field specific error from an ILoadable if applicable.\n *\n * @param apiError - The error to extract from.\n * @param field - The field to extract.\n *\n * @returns an array of IFieldErrors if found or undefined.\n */\nexport function getFieldErrors(apiError: IApiError | undefined, field: string): IFieldError[] | undefined {\n    if (!apiError) {\n        return;\n    }\n\n    const serverError = apiError.response.data;\n    if (serverError && serverError.errors && serverError.errors[field]) {\n        return serverError.errors[field];\n    }\n}\n\n/**\n * Extract a global error message out of an ILoadable if applicable.\n *\n * @param apiError - The error to extract from.\n * @param validFields - Field to check for overriding fields errors from. A global error only shows if there are no valid field errors.\n *\n * @returns A global error message or an undefined.\n */\nexport function getGlobalErrorMessage(apiError: IApiError | undefined, validFields: string[] = []): string | undefined {\n    if (!apiError) {\n        return;\n    }\n    for (const field of validFields) {\n        if (getFieldErrors(apiError, field)) {\n            return;\n        }\n    }\n\n    const serverError = apiError.response && apiError.response.data;\n    if (serverError && serverError.message) {\n        return serverError.message;\n    }\n\n    return t(\"Something went wrong while contacting the server.\");\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { BorderRadiusProperty } from \"csstype\";\nimport { TLength } from \"@library/styles/styleShim\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport merge from \"lodash/merge\";\nimport { getValueIfItExists } from \"@library/forms/borderStylesCalculator\";\nimport {\n    IBorderRadiusOptions,\n    IBorderRadiusOutput,\n    IRadiusShorthand,\n    IRadiusValue,\n    ISimpleBorderStyle,\n} from \"@library/styles/cssUtilsTypes\";\n\nexport enum BorderType {\n    BORDER = \"border\",\n    SEPARATOR = \"separator\",\n    NONE = \"none\",\n    SHADOW = \"shadow\",\n    SHADOW_AS_BORDER = \"shadow_as_border\", // Note that is applied on a different element\n}\n\nexport type radiusValue = BorderRadiusProperty<TLength> | string;\n\nexport interface IMixedRadiusDeclaration extends IRadiusShorthand, IBorderRadiusOutput {}\n\ntype IRadiusInput = IMixedRadiusDeclaration | IRadiusValue;\n\nconst typeIsStringOrNumber = (variable: unknown): variable is number | string => {\n    if (variable !== null) {\n        const type = typeof variable;\n        return type === \"string\" || type === \"number\";\n    } else {\n        return false;\n    }\n};\n\nconst setAllRadii = (radius: BorderRadiusProperty<TLength>, options?: IBorderRadiusOptions) => {\n    return {\n        borderTopRightRadius: styleUnit(radius, options),\n        borderBottomRightRadius: styleUnit(radius, options),\n        borderBottomLeftRadius: styleUnit(radius, options),\n        borderTopLeftRadius: styleUnit(radius, options),\n    };\n};\n\nexport const EMPTY_BORDER_RADIUS = {\n    borderTopRightRadius: undefined,\n    borderBottomRightRadius: undefined,\n    borderBottomLeftRadius: undefined,\n    borderTopLeftRadius: undefined,\n};\n\n/**\n * Main utility function for generation proper border radiuses. Supports numerous shorthand properties.\n *\n * @param radii\n * @param options\n */\nexport const standardizeBorderRadius = (radii: IRadiusInput, options?: IBorderRadiusOptions): IBorderRadiusOutput => {\n    const output: IBorderRadiusOutput = {};\n    const { debug } = options || {};\n\n    if (typeof radii === \"object\" && Object.keys(radii).length === 0) {\n        return output;\n    }\n\n    if (typeIsStringOrNumber(radii)) {\n        // direct value\n        const value = styleUnit(radii as number | string);\n        return {\n            borderTopRightRadius: styleUnit(value, options),\n            borderBottomRightRadius: styleUnit(value, options),\n            borderBottomLeftRadius: styleUnit(value, options),\n            borderTopLeftRadius: styleUnit(value, options),\n        };\n    }\n\n    // Otherwise we need to check all of the values.\n    const all = getValueIfItExists(radii, \"all\", getValueIfItExists(radii, \"radius\"));\n    const top = getValueIfItExists(radii, \"top\");\n    const bottom = getValueIfItExists(radii, \"bottom\");\n    const left = getValueIfItExists(radii, \"left\");\n    const right = getValueIfItExists(radii, \"right\");\n\n    if (typeIsStringOrNumber(all)) {\n        merge(output, {\n            borderTopRightRadius: styleUnit(all, options),\n            borderBottomRightRadius: styleUnit(all, options),\n            borderBottomLeftRadius: styleUnit(all, options),\n            borderTopLeftRadius: styleUnit(all, options),\n        });\n    }\n\n    if (top !== undefined) {\n        const isShorthand = typeIsStringOrNumber(top);\n\n        if (isShorthand) {\n            const value = !isShorthand ? styleUnit(top, options) : top;\n            merge(output, {\n                borderTopRightRadius: styleUnit(value, options),\n                borderTopLeftRadius: styleUnit(value, options),\n            });\n        } else {\n            merge(\n                output,\n                right !== undefined ? { borderTopRightRadius: styleUnit(right, options) } : {},\n                left !== undefined ? { borderTopLeftRadius: styleUnit(left, options) } : {},\n            );\n        }\n    }\n\n    if (bottom !== undefined) {\n        const isShorthand = typeIsStringOrNumber(bottom);\n\n        if (isShorthand) {\n            const value = !isShorthand ? styleUnit(bottom, options) : bottom;\n            merge(output, {\n                borderBottomRightRadius: styleUnit(value, options),\n                borderBottomLeftRadius: styleUnit(value, options),\n            });\n        } else {\n            merge(\n                output,\n                right !== undefined ? { borderBottomRightRadius: styleUnit(right, options) } : {},\n                left !== undefined ? { borderBottomLeftRadius: styleUnit(left, options) } : {},\n            );\n        }\n    }\n\n    if (left !== undefined) {\n        const isShorthand = typeIsStringOrNumber(left);\n\n        if (isShorthand) {\n            const value = !isShorthand ? styleUnit(left, options) : left;\n            merge(output, {\n                borderTopLeftRadius: styleUnit(value, options),\n                borderBottomLeftRadius: styleUnit(value, options),\n            });\n        } else {\n            const topStyles = top !== undefined ? { borderTopLeftRadius: styleUnit(top, options) } : {};\n            const bottomStyles = bottom !== undefined ? { borderBottomLeftRadius: styleUnit(bottom, options) } : {};\n            merge(\n                output,\n                !typeIsStringOrNumber(topStyles) ? topStyles : {},\n                !typeIsStringOrNumber(bottomStyles) ? bottomStyles : {},\n            );\n        }\n    }\n    if (right !== undefined) {\n        const isShorthand = typeIsStringOrNumber(right);\n\n        if (isShorthand) {\n            const value = !isShorthand ? styleUnit(right, options) : right;\n            merge(output, {\n                borderTopRightRadius: styleUnit(value, options),\n                borderBottomRightRadius: styleUnit(value, options),\n            });\n        } else {\n            const topStyles = top !== undefined ? { borderTopRightRadius: styleUnit(top, options) } : {};\n            const bottomStyles = bottom !== undefined ? { borderBottomRightRadius: styleUnit(bottom, options) } : {};\n            merge(\n                output,\n                !typeIsStringOrNumber(topStyles) ? topStyles : {},\n                !typeIsStringOrNumber(bottomStyles) ? bottomStyles : {},\n            );\n        }\n    }\n\n    const borderTopRightRadius = getValueIfItExists(radii, \"borderTopRightRadius\");\n    if (borderTopRightRadius !== undefined) {\n        merge(output, {\n            borderTopRightRadius: styleUnit(borderTopRightRadius, options),\n        });\n    }\n    const borderTopLeftRadius = getValueIfItExists(radii, \"borderTopLeftRadius\");\n    if (borderTopLeftRadius !== undefined) {\n        merge(output, {\n            borderTopLeftRadius: styleUnit(borderTopLeftRadius, options),\n        });\n    }\n    const borderBottomRightRadius = getValueIfItExists(radii, \"borderBottomRightRadius\");\n    if (borderBottomRightRadius !== undefined) {\n        merge(output, {\n            borderBottomRightRadius: styleUnit(borderBottomRightRadius, options),\n        });\n    }\n    const borderBottomLeftRadius = getValueIfItExists(radii, \"borderBottomLeftRadius\");\n    if (borderBottomLeftRadius !== undefined) {\n        merge(output, {\n            borderBottomLeftRadius: styleUnit(borderBottomLeftRadius, options),\n        });\n    }\n\n    return output;\n};\n\nexport const borderRadii = (radii: IRadiusValue, options?: IBorderRadiusOptions) => {\n    const { fallbackRadii = globalVariables().border.radius, isImportant = false, debug = false } = options || {};\n\n    const output: IBorderRadiusOutput = {};\n\n    if (typeIsStringOrNumber(fallbackRadii)) {\n        merge(output, setAllRadii(fallbackRadii, { isImportant }));\n    } else {\n        merge(output, typeIsStringOrNumber(fallbackRadii) ? fallbackRadii : fallbackRadii);\n    }\n\n    const hasRadiusShorthand = typeIsStringOrNumber(radii);\n    const hasRadiusShorthandFallback = typeIsStringOrNumber(fallbackRadii);\n\n    // Make sure we have a value before overwriting.\n    if (hasRadiusShorthand) {\n        merge(output, setAllRadii(radii as any, { isImportant }));\n    } else if (hasRadiusShorthandFallback) {\n        merge(output, setAllRadii(fallbackRadii as any, { isImportant }));\n    } else {\n        // our fallback must be an object.\n        merge(output, standardizeBorderRadius(fallbackRadii as any, { isImportant }));\n    }\n    merge(output, standardizeBorderRadius(radii as any, { isImportant }));\n    return output;\n};\n\nexport const singleBorder = (styles?: ISimpleBorderStyle) => {\n    const vars = globalVariables();\n    const borderStyles = styles !== undefined ? styles : {};\n    return `${borderStyles.style ? borderStyles.style : vars.border.style} ${\n        borderStyles.color ? ColorsUtils.colorOut(borderStyles.color) : ColorsUtils.colorOut(vars.border.color)\n    } ${borderStyles.width ? styleUnit(borderStyles.width) : styleUnit(vars.border.width)}` as any;\n};\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { useEmbedContext } from \"@library/embeddedContent/IEmbedContext\";\nimport { embedContainerClasses } from \"@library/embeddedContent/components/embedStyles\";\nimport classNames from \"classnames\";\nimport React, { DetailedHTMLProps, forwardRef } from \"react\";\nimport { EmbedContainerSize } from \"./EmbedContainerSize\";\n\ninterface IProps extends DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement> {\n    className?: string;\n    children?: React.ReactNode;\n    size?: EmbedContainerSize;\n    withPadding?: boolean;\n}\n\nexport const EmbedContainer = forwardRef(function EmbedContainer(props: IProps, ref: React.Ref<HTMLDivElement>) {\n    const { size, withPadding, ...htmlProps } = props;\n    const classes = embedContainerClasses();\n\n    const { inEditor } = useEmbedContext();\n    return (\n        <div\n            ref={ref}\n            {...htmlProps}\n            className={classNames(\n                \"embedExternal\",\n                classes.makeRootClass(props.size || EmbedContainerSize.MEDIUM, !!inEditor, !!withPadding),\n                props.className,\n            )}\n        >\n            {props.children}\n        </div>\n    );\n});\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport {\n    buttonStates,\n    userSelect,\n    IStateSelectors,\n    absolutePosition,\n    negativeUnit,\n    pointerEvents,\n} from \"@library/styles/styleHelpers\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { Variables } from \"@library/styles/Variables\";\nimport { shadowHelper, shadowOrBorderBasedOnLightness } from \"@library/styles/shadowHelpers\";\nimport { CSSObject } from \"@emotion/css\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { important, percent, rgba } from \"csx\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\nimport { buttonResetMixin } from \"@library/forms/buttonMixins\";\n\nexport const notUserContent = \"u-notUserContent\";\n\nexport const dropDownVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const makeThemeVars = variableFactory(\"dropDown\");\n\n    const sizing = makeThemeVars(\"sizing\", {\n        widths: {\n            default: 250,\n            medium: 350,\n        },\n        minHeight: 600,\n    });\n\n    const spacer = makeThemeVars(\"spacer\", {\n        margin: {\n            vertical: 8,\n        },\n    });\n\n    const metas = makeThemeVars(\"metas\", {\n        font: Variables.font({\n            size: globalVars.meta.text.size,\n            color: globalVars.meta.text.color,\n        }),\n        padding: {\n            vertical: 6,\n            horizontal: 14,\n        },\n    });\n\n    const item = makeThemeVars(\"item\", {\n        colors: {\n            fg: globalVars.mainColors.fg,\n        },\n        minHeight: 30,\n        mobile: {\n            minHeight: 44,\n            fontSize: 16,\n        },\n\n        padding: {\n            top: 6,\n            horizontal: 14,\n        },\n    });\n\n    const sectionTitle = makeThemeVars(\"sectionTitle\", {\n        padding: {\n            top: 0,\n            bottom: 0,\n        },\n    });\n\n    const title = makeThemeVars(\"title\", {\n        color: globalVars.mainColors.fg,\n    });\n\n    const contents = makeThemeVars(\"contents\", {\n        bg: globalVars.mainColors.bg,\n        fg: globalVars.mainColors.fg,\n        border: globalVars.borderType.dropDowns,\n        padding: {\n            vertical: 9,\n            horizontal: 16,\n        },\n    });\n\n    return {\n        sizing,\n        metas,\n        item,\n        sectionTitle,\n        spacer,\n        title,\n        contents,\n    };\n});\n\nexport const dropDownClasses = useThemeCache(() => {\n    const vars = dropDownVariables();\n    const globalVars = globalVariables();\n    const style = styleFactory(\"dropDown\");\n    const shadows = shadowHelper();\n    const mediaQueries = layoutVariables().mediaQueries();\n\n    const root = style({\n        position: \"relative\",\n        listStyle: \"none\",\n    });\n\n    const contents = style(\n        \"contents\",\n        {\n            position: \"absolute\",\n            minWidth: styleUnit(vars.sizing.widths.default),\n            backgroundColor: ColorsUtils.colorOut(vars.contents.bg),\n            color: ColorsUtils.colorOut(vars.contents.fg),\n            overflow: \"auto\",\n            ...Mixins.border(vars.contents.border),\n            ...shadowOrBorderBasedOnLightness(\n                vars.contents.bg,\n                Mixins.border(vars.contents.border),\n                shadows.dropDown(),\n            ),\n            ...{\n                \"&&\": {\n                    zIndex: 3,\n                    ...Mixins.border(vars.contents.border),\n                },\n                \"&.isMedium\": {\n                    width: styleUnit(vars.sizing.widths.medium),\n                },\n                \"&.isParentWidth\": {\n                    minWidth: \"initial\",\n                    left: 0,\n                    right: 0,\n                },\n                \"&.isOwnWidth\": {\n                    width: \"initial\",\n                },\n                \"&.isRightAligned\": {\n                    right: 0,\n                    top: 0,\n                },\n                \".frame\": {\n                    boxShadow: \"none\",\n                },\n                \"&.noMinWidth\": {\n                    minWidth: 0,\n                },\n                \"&.hasVerticalPadding\": {\n                    ...Mixins.padding({\n                        vertical: 12,\n                        horizontal: important(0),\n                    }),\n                },\n            },\n        },\n        mediaQueries.oneColumnDown({\n            ...{\n                \"&.isOwnWidth\": {\n                    width: percent(100),\n                },\n            },\n        }),\n    );\n\n    const asModal = style(\"asModal\", {\n        ...{\n            \"&.hasVerticalPadding\": Mixins.padding({\n                vertical: 12,\n            }),\n        },\n    });\n\n    const likeDropDownContent = style(\"likeDropDownContent\", {\n        ...shadows.dropDown(),\n        backgroundColor: ColorsUtils.colorOut(globalVars.mainColors.bg),\n        ...Mixins.border(vars.contents.border),\n    });\n\n    const items = style(\n        \"items\",\n        {\n            padding: 0,\n            fontSize: styleUnit(globalVars.fonts.size.medium),\n        },\n        mediaQueries.oneColumnDown({\n            ...Mixins.padding({\n                vertical: 9,\n            }),\n        }),\n    );\n\n    const metaItems = style(\"metaItems\", {\n        ...{\n            \"&&\": {\n                display: \"block\",\n            },\n        },\n        ...Mixins.padding(vars.metas.padding),\n    });\n\n    const metaItem = style(\"metaItem\", {\n        ...{\n            \"& + &\": {\n                paddingTop: styleUnit(vars.item.padding.top),\n            },\n        },\n        ...Mixins.font(vars.metas.font),\n    });\n\n    // wrapping element\n    const item = style(\"item\", {\n        ...userSelect(\"none\"),\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        width: percent(100),\n        margin: 0,\n        color: \"inherit\",\n        textAlign: \"left\",\n        lineHeight: globalVars.lineHeights.condensed,\n    });\n\n    const section = style(\"section\", {\n        display: \"block\",\n    });\n\n    const toggleButtonIcon = style(\"toggleButtonIcon\", {\n        ...{\n            ...buttonStates({\n                allStates: {\n                    color: ColorsUtils.colorOut(globalVars.mainColors.primary),\n                },\n            }),\n        },\n    });\n\n    const action = style(\"action\", {\n        ...{\n            \"&&\": actionMixin(),\n        },\n    });\n\n    const actionActive = style(\"actionActive\", {\n        ...{\n            \"&&\": {\n                color: important(ColorsUtils.colorOut(globalVars.links.colors.active)!),\n                fontWeight: important(globalVars.fonts.weights.bold) as any,\n            },\n        },\n    });\n\n    const text = style(\"text\", {\n        display: \"block\",\n        flex: 1,\n    });\n\n    const separator = style(\"separator\", {\n        listStyle: \"none\",\n        height: styleUnit(globalVars.separator.size),\n        backgroundColor: ColorsUtils.colorOut(globalVars.separator.color),\n        ...Mixins.margin(vars.spacer.margin),\n        border: \"none\",\n        ...{\n            \"&:first-child\": {\n                height: 0,\n                ...Mixins.margin({ all: 0, top: vars.spacer.margin.vertical * 1.5 }),\n            },\n        },\n    });\n\n    const panelNavItems = style(\"panelNavItems\", {\n        display: \"flex\",\n        alignItems: \"flex-start\",\n    });\n\n    const panel = style(\"panel\", {\n        backgroundColor: ColorsUtils.colorOut(vars.contents.bg),\n        ...absolutePosition.fullSizeOfParent(),\n        zIndex: 2,\n    });\n\n    const panelFirstStyle: CSSObject = {\n        // We want the initial view to have no left space\n        \"& li\": {\n            paddingLeft: important(styleUnit(0)),\n        },\n        \"&&\": {\n            position: \"relative\",\n            height: \"initial\",\n            zIndex: 0,\n        },\n    };\n    const panelFirst = style(\"panelFirst\", panelFirstStyle);\n\n    const panelMobileOnly = style(\"panelMobileOnly\", panelFirstStyle);\n\n    const panelLast = style(\"panelLast\", {\n        ...{\n            \"&&\": {},\n        },\n    });\n\n    const panelContent = style(\"panelContent\", {\n        flex: 1,\n        ...{\n            \"&.isNested\": {},\n        },\n    });\n    const sectionContents = style(\"sectionContents\", {\n        display: \"block\",\n        position: \"relative\",\n    });\n\n    const sectionHeading = style(\"sectionHeading\", {\n        ...{\n            \"&&\": {\n                color: ColorsUtils.colorOut(globalVars.meta.text.color),\n                fontSize: styleUnit(globalVars.fonts.size.small),\n                textTransform: \"uppercase\",\n                textAlign: \"center\",\n                fontWeight: globalVars.fonts.weights.semiBold,\n                ...Mixins.padding(vars.sectionTitle.padding),\n            },\n            [`& + .${sectionContents} li:first-child`]: { paddingTop: styleUnit(vars.spacer.margin.vertical) },\n        },\n    });\n\n    const headingContentContainer = style(\"headingContentContainer\", {\n        display: \"flex\",\n        alignItems: \"center\",\n        height: styleUnit(44),\n    });\n\n    const headingTitleContainer = style(\"headingTitleContainer\", {\n        flex: \"auto\",\n    });\n\n    const arrow = style(\"arrow\", {\n        ...{\n            \"&&\": {\n                padding: styleUnit(globalVars.gutter.quarter),\n            },\n        },\n    });\n\n    const actionIcon = style(\"actionIcon\", {\n        marginRight: globalVars.gutter.half,\n    });\n\n    const backButton = style(\n        \"backButton\",\n        {\n            ...{\n                \"&&\": {\n                    zIndex: 2,\n                    minHeight: styleUnit(vars.item.minHeight),\n                    transform: \"translateX(12px)\",\n                },\n            },\n        },\n        mediaQueries.oneColumnDown({\n            ...{\n                \"&&\": {\n                    minHeight: styleUnit(vars.item.mobile.minHeight),\n                },\n            },\n        }),\n    );\n\n    const count = style(\"count\", {\n        fontSize: styleUnit(globalVars.fonts.size.small),\n        paddingLeft: \"1em\",\n        marginLeft: \"auto\",\n    });\n\n    const verticalPadding = style(\n        \"verticalPadding\",\n        {\n            ...Mixins.padding({\n                vertical: vars.contents.padding.vertical,\n                horizontal: 0,\n            }),\n        },\n        mediaQueries.oneColumnDown({\n            ...Mixins.padding({\n                vertical: 0,\n            }),\n        }),\n    );\n\n    const noVerticalPadding = style(\"noVerticalPadding\", {\n        ...Mixins.padding({ vertical: 0 }),\n    });\n\n    const title = style(\"title\", {\n        ...Mixins.font({\n            weight: globalVars.fonts.weights.semiBold,\n            size: globalVars.fonts.size.medium,\n            lineHeight: globalVars.lineHeights.condensed,\n        }),\n        ...Mixins.padding({\n            all: 0,\n        }),\n        ...Mixins.margin({\n            all: 0,\n        }),\n        textAlign: \"left\",\n        flexGrow: 1,\n        color: ColorsUtils.colorOut(vars.title.color),\n    });\n\n    const paddedFrame = style(\"paddedFrame\", {\n        ...Mixins.padding(vars.contents.padding),\n    });\n\n    const check = style(\"check\", {\n        color: ColorsUtils.colorOut(globalVars.mainColors.primary),\n\n        /// Check to fix icon alignment.\n        transform: `translateX(4px)`,\n    });\n\n    const flyoutOffset = vars.item.padding.horizontal + globalVars.border.width;\n\n    const contentOffsetCenter = style(\"contentOffsetCenter\", {\n        transform: `translateX(-50%)`,\n    });\n\n    const contentOffsetLeft = style(\"contentOffsetLeft\", {\n        transform: `translateX(${styleUnit(flyoutOffset)})`,\n    });\n\n    const contentOffsetRight = style(\"contentOffsetRight\", {\n        transform: `translateX(${negativeUnit(flyoutOffset)})`,\n    });\n\n    // Used to figure out the position of the flyout,\n    // without it being visible to the user until the calculation is complete\n    const positioning = style(\"positioning\", {\n        ...pointerEvents(),\n        ...Mixins.absolute.srOnly(),\n    });\n\n    const closeButton = style(\"closeButtonOffsetRight\", {\n        display: \"inline-block\",\n        marginRight: styleUnit(12),\n    });\n\n    const itemButton = style(\"itemButton\", {\n        paddingLeft: globalVars.gutter.size,\n    });\n\n    return {\n        root,\n        contents,\n        asModal,\n        likeDropDownContent,\n        items,\n        metaItems,\n        metaItem,\n        item,\n        section,\n        toggleButtonIcon,\n        action,\n        actionIcon,\n        actionActive,\n        text,\n        separator,\n        sectionHeading,\n        sectionContents,\n        count,\n        arrow,\n        verticalPadding,\n        title,\n        noVerticalPadding,\n        paddedFrame,\n        panelFirst,\n        panelMobileOnly,\n        panelLast,\n        panelNavItems,\n        panel,\n        panelContent,\n        backButton,\n        check,\n        contentOffsetCenter,\n        contentOffsetLeft,\n        contentOffsetRight,\n        positioning,\n        closeButton,\n        itemButton,\n        headingContentContainer,\n        headingTitleContainer,\n    };\n});\n\n// Contents (button or link)\n// Replaces: .dropDownItem-button, .dropDownItem-link\nexport const actionMixin = (classBasedStates?: IStateSelectors): CSSObject => {\n    const vars = dropDownVariables();\n    const globalVars = globalVariables();\n    const mediaQueries = layoutVariables().mediaQueries();\n\n    return {\n        ...buttonResetMixin(),\n        cursor: \"pointer\",\n        appearance: \"none\",\n        display: \"flex\",\n        alignItems: \"center\",\n        width: percent(100),\n        textAlign: \"left\",\n        minHeight: styleUnit(vars.item.minHeight),\n        lineHeight: globalVars.lineHeights.condensed,\n        ...Mixins.padding({\n            vertical: 4,\n            horizontal: vars.item.padding.horizontal,\n        }),\n        ...Mixins.border({\n            color: rgba(0, 0, 0, 0),\n            radius: 0,\n        }),\n        color: ColorsUtils.colorOut(vars.item.colors.fg),\n        ...userSelect(\"none\"),\n        ...buttonStates(\n            {\n                allStates: {\n                    textShadow: \"none\",\n                    outline: 0,\n                },\n                hover: {\n                    backgroundColor: important(ColorsUtils.colorOut(globalVars.states.hover.highlight) as string),\n                    color: globalVars.states.hover.contrast\n                        ? ColorsUtils.colorOut(globalVars.states.hover.contrast)\n                        : undefined,\n                },\n                focus: {\n                    backgroundColor: important(ColorsUtils.colorOut(globalVars.states.focus.highlight) as string),\n                    color: globalVars.states.hover.contrast\n                        ? ColorsUtils.colorOut(globalVars.states.focus.contrast)\n                        : undefined,\n                },\n                active: {\n                    backgroundColor: important(ColorsUtils.colorOut(globalVars.states.active.highlight) as string),\n                    color: globalVars.states.hover.contrast\n                        ? ColorsUtils.colorOut(globalVars.states.active.contrast)\n                        : undefined,\n                },\n                keyboardFocus: {\n                    borderColor: ColorsUtils.colorOut(globalVars.states.focus.highlight),\n                    color: globalVars.states.hover.contrast\n                        ? ColorsUtils.colorOut(globalVars.states.focus.contrast)\n                        : undefined,\n                },\n            },\n            undefined,\n            classBasedStates,\n        ),\n        ...mediaQueries.oneColumnDown({\n            fontSize: styleUnit(vars.item.mobile.fontSize),\n            fontWeight: globalVars.fonts.weights.semiBold,\n            minHeight: styleUnit(vars.item.mobile.minHeight),\n        }),\n    };\n};\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\n\nimport { userSelect } from \"@library/styles/styleHelpers\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { CSSObject } from \"@emotion/css\";\nimport { important, px } from \"csx\";\nimport { paddingOffsetBasedOnBorderRadius } from \"@library/forms/paddingOffsetFromBorderRadius\";\nimport { buttonGlobalVariables } from \"./Button.variables\";\n\nexport const buttonSizing = (props: {\n    minHeight;\n    minWidth;\n    fontSize;\n    paddingHorizontal;\n    formElementVars;\n    borderRadius;\n    skipDynamicPadding;\n    debug?: boolean;\n}) => {\n    const buttonGlobals = buttonGlobalVariables();\n    const {\n        minHeight = buttonGlobals.sizing.minHeight,\n        minWidth = buttonGlobals.sizing.minWidth,\n        fontSize = buttonGlobals.font.size,\n        paddingHorizontal = buttonGlobals.padding.horizontal,\n        formElementVars,\n        borderRadius,\n        skipDynamicPadding,\n        debug = false,\n    } = props;\n\n    const borderWidth = formElementVars.borders ? formElementVars.borders : buttonGlobals.border.width;\n    const height = minHeight ?? formElementVars.sizing.minHeight;\n\n    const paddingOffsets = !skipDynamicPadding\n        ? paddingOffsetBasedOnBorderRadius({\n              radius: borderRadius,\n              extraPadding: buttonGlobals.padding.fullBorderRadius.extraHorizontalPadding,\n              height,\n          })\n        : {\n              right: 0,\n              left: 0,\n          };\n\n    return {\n        minHeight: styleUnit(height),\n        minWidth: minWidth ? styleUnit(minWidth) : undefined,\n        fontSize: styleUnit(fontSize),\n        padding: `0px ${px(paddingHorizontal + (paddingOffsets.right || 0) ?? 0)} 0px ${px(\n            paddingHorizontal + (paddingOffsets.left || 0) ?? 0,\n        )}`,\n        lineHeight: styleUnit(height - borderWidth * 2),\n    };\n};\n\nexport const buttonResetMixin = (): CSSObject => ({\n    ...userSelect(),\n    appearance: \"none\",\n    border: 0,\n    padding: 0,\n    background: \"none\",\n    cursor: \"pointer\",\n    color: \"inherit\",\n    textDecoration: important(\"none\"),\n    textAlign: \"inherit\",\n    overflowWrap: \"break-word\",\n});\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { IOptionalComponentID, useUniqueID } from \"@library/utility/idUtils\";\nimport classNames from \"classnames\";\nimport { inputBlockClasses } from \"@library/forms/InputBlockStyles\";\nimport { capitalizeFirstLetter } from \"@vanilla/utils\";\n\ninterface IError {\n    message: string;\n    [key: string]: any;\n}\n\ninterface IProps extends IOptionalComponentID {\n    className?: string;\n    errors?: IError[];\n    padded?: boolean;\n}\n\nexport default function ErrorMessages(props: IProps) {\n    const ownID = useUniqueID(\"errorMessages\");\n    const id = props.id ?? ownID;\n    const { errors, padded } = props;\n    const classesInputBlock = inputBlockClasses();\n    if (errors && errors.length > 0) {\n        const componentClasses = classNames(\n            classesInputBlock.errors,\n            props.className,\n            padded && classesInputBlock.errorsPadding,\n        );\n\n        const errorList = errors.map((error, index) => {\n            return (\n                <span key={index} className={classesInputBlock.error}>\n                    {capitalizeFirstLetter(error.message)}\n                </span>\n            );\n        });\n\n        return (\n            <span id={id} className={componentClasses}>\n                {errorList}\n            </span>\n        );\n    } else {\n        return null;\n    }\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { negativeUnit } from \"@library/styles/styleHelpers\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { percent } from \"csx\";\nimport { OverflowProperty, ResizeProperty } from \"csstype\";\nimport { inputClasses, inputVariables } from \"@library/forms/inputStyles\";\nimport { tokensClasses } from \"@library/forms/select/tokensStyles\";\nimport { CSSObject } from \"@emotion/css\";\nimport { checkRadioClasses } from \"@library/forms/checkRadioStyles\";\nimport { Mixins } from \"@library/styles/Mixins\";\n\nexport const inputBlockClasses = useThemeCache(() => {\n    const style = styleFactory(\"inputBlock\");\n    const globalVars = globalVariables();\n    const formElementVars = formElementsVariables();\n\n    const inputText = style(\"inputText\", {\n        display: \"block\",\n    });\n\n    const inputWrap = style(\"inputWrap\", {\n        display: \"block\",\n    });\n\n    const labelAndDescription = style(\"labelAndDescription\", {\n        display: \"block\",\n        width: percent(100),\n    });\n\n    const root = style({\n        display: \"block\",\n        width: percent(100),\n        ...{\n            [`& + &`]: {\n                marginTop: styleUnit(formElementVars.spacing.margin),\n            },\n            [`&.isLast`]: {\n                marginBottom: styleUnit(formElementVars.spacing.margin),\n            },\n            [`&.hasError .${inputText}`]: {\n                borderColor: ColorsUtils.colorOut(globalVars.messageColors.error.fg),\n                backgroundColor: ColorsUtils.colorOut(globalVars.messageColors.error.fg),\n                color: ColorsUtils.colorOut(globalVars.messageColors.error.fg),\n            },\n            \"&.isHorizontal\": {\n                display: \"flex\",\n                width: percent(100),\n                alignItems: \"center\",\n                flexWrap: \"wrap\",\n            },\n            [`&.isHorizontal .${labelAndDescription}`]: {\n                display: \"inline-flex\",\n                width: \"auto\",\n            },\n            [`&.isHorizontal .${inputWrap}`]: {\n                display: \"inline-flex\",\n                flexGrow: 1,\n            },\n            [`&.${tokensClasses().withIndicator} .tokens__value-container`]: {\n                paddingRight: styleUnit(inputVariables().sizing.height),\n            },\n            [`&.${tokensClasses().withIndicator} .tokens__indicators`]: {\n                position: \"absolute\",\n                top: 0,\n                right: 6,\n                bottom: 0,\n            },\n        },\n    });\n\n    const errors = style(\"errors\", {\n        display: \"block\",\n        fontSize: styleUnit(globalVars.fonts.size.small),\n    });\n\n    const errorsPadding = style(\"errorsPadding\", inputClasses().inputPaddingMixin);\n\n    const error = style(\"error\", {\n        display: \"block\",\n        color: ColorsUtils.colorOut(globalVars.messageColors.error.fg),\n        ...{\n            \"& + &\": {\n                marginTop: styleUnit(6),\n            },\n        },\n    });\n    const labelNote = style(\"labelNote\", {\n        display: \"block\",\n        fontSize: styleUnit(globalVars.fonts.size.small),\n        fontWeight: globalVars.fonts.weights.normal,\n        opacity: 0.6,\n    });\n\n    const labelText = style(\"labelText\", {\n        display: \"block\",\n        fontWeight: globalVars.fonts.weights.semiBold,\n        fontSize: styleUnit(globalVars.fonts.size.medium),\n        marginBottom: styleUnit(formElementVars.spacing.margin),\n    });\n\n    const sectionTitle = style(\"sectionTitle\", {\n        fontWeight: globalVars.fonts.weights.semiBold,\n        lineHeight: globalVars.lineHeights.base,\n    });\n\n    const fieldsetGroup = style(\"fieldsetGroup\", {\n        marginTop: styleUnit(formElementVars.spacing.margin),\n        ...{\n            \"&.noMargin\": {\n                marginTop: styleUnit(0),\n            },\n        },\n    });\n\n    const multiLine = (resize?: ResizeProperty, overflow?: OverflowProperty) => {\n        return style(\"multiLine\", {\n            ...Mixins.padding({ vertical: 9 }),\n            resize: (resize ? resize : \"vertical\") as ResizeProperty,\n            overflow: (overflow ? overflow : \"auto\") as OverflowProperty,\n        });\n    };\n\n    const related = style(\"related\", {\n        marginTop: styleUnit(globalVars.gutter.size),\n    });\n\n    const grid = style(\"grid\", {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        ...{\n            [`.${checkRadioClasses().root}`]: {\n                width: percent(50),\n                alignItems: \"flex-start\",\n            },\n            [`&.${fieldsetGroup}`]: {\n                marginTop: styleUnit(9),\n            },\n        },\n    });\n\n    const tight = style(\"tight\", {\n        ...{\n            [`&&&`]: {\n                marginTop: negativeUnit(9),\n            },\n        },\n    });\n\n    return {\n        root,\n        inputText,\n        errors,\n        errorsPadding,\n        error,\n        labelNote,\n        labelText,\n        inputWrap,\n        labelAndDescription,\n        sectionTitle,\n        fieldsetGroup,\n        multiLine,\n        related,\n        grid,\n        tight,\n    };\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { createStore, compose, applyMiddleware, combineReducers, Store, AnyAction, DeepPartial, Action } from \"redux\";\nimport { getReducers, ICoreStoreState } from \"@library/redux/reducerRegistry\";\nimport thunk from \"redux-thunk\";\n\n// There may be an initial state to import.\nconst initialActions = window.__ACTIONS__ || [];\n\nconst middleware = [thunk];\n\n// https://github.com/zalmoxisus/redux-devtools-extension/blob/master/docs/Troubleshooting.md#excessive-use-of-memory-and-cpu\nconst actionSanitizer = (action: AnyAction) =>\n    (action.type as string).includes(\"[editorInstance]\") && action.payload && action.payload.quill\n        ? {\n              ...action,\n              payload: { ...action.payload, quill: \"<<Quill Instance>>\" },\n          }\n        : action;\n// Browser may have redux dev tools installed, if so integrate with it.\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({ actionSanitizer })\n    : compose;\nconst enhancer = composeEnhancers(applyMiddleware(...middleware));\n\n// Build the store, add devtools extension support if it's available.\nlet store;\n\nexport function resetStore() {\n    store = undefined;\n}\n\nexport const resetActionAC = (newState: ICoreStoreState) => {\n    return {\n        type: \"@@store/RESET\",\n        payload: newState,\n    };\n};\n\nfunction createRootReducer() {\n    const appReducer = combineReducers(getReducers());\n\n    return (state, action) => {\n        if (action.type === \"@@store/RESET\") {\n            return action.payload;\n        } else {\n            return appReducer(state, action);\n        }\n    };\n}\n\nexport default function getStore<S = ICoreStoreState>(initialState?: DeepPartial<S>, force?: boolean): Store<S, any> {\n    if (store === undefined || force) {\n        // Get our reducers.\n        const reducer = createRootReducer();\n        store = createStore(reducer, initialState || {}, enhancer);\n\n        // Dispatch initial actions returned from the server.\n        initialActions.forEach(store.dispatch);\n    }\n\n    return store;\n}\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ISearchForm, ISearchRequestQuery, ISearchResults } from \"@library/search/searchTypes\";\nimport { IApiError } from \"@vanilla/library/src/scripts/@types/api/core\";\nimport { actionCreatorFactory } from \"typescript-fsa\";\n\nconst createAction = actionCreatorFactory(\"@@search\");\n\nexport class SearchActions {\n    public static performSearchACs = createAction.async<ISearchRequestQuery, ISearchResults, IApiError>(\"SEARCH\");\n    public static updateSearchFormAC = createAction<Partial<ISearchForm>>(\"UPDATE_FORM\");\n    public static resetFormAC = createAction(\"RESET_FORM\");\n\n    public static performDomainSearchACs = createAction.async<ISearchRequestQuery, ISearchResults, IApiError>(\n        \"DOMAIN_SEARCH\",\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { cssOut } from \"@dashboard/compatibilityStyles/cssOut\";\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { placeholderStyles, textInputSizingFromFixedHeight } from \"@library/styles/styleHelpers\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { Variables } from \"@library/styles/Variables\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { IThemeVariables } from \"@library/theming/themeReducer\";\nimport { important, percent } from \"csx\";\nimport merge from \"lodash/merge\";\nimport { CSSObject } from \"@emotion/css\";\n\nexport const inputVariables = useThemeCache((forcedVars?: IThemeVariables) => {\n    const globalVars = globalVariables(forcedVars);\n    const formElementVars = formElementsVariables(forcedVars);\n    const makeThemeVars = variableFactory(\"input\", forcedVars);\n\n    const colors = makeThemeVars(\"colors\", {\n        placeholder: globalVars.mixBgAndFg(0.5),\n        fg: globalVars.mainColors.fg,\n        bg: globalVars.mainColors.bg,\n        state: {\n            fg: globalVars.mainColors.primary,\n        },\n    });\n\n    const sizing = makeThemeVars(\"sizing\", {\n        height: formElementVars.sizing.height,\n    });\n\n    const font = makeThemeVars(\n        \"font\",\n        Variables.font({\n            size: globalVars.fonts.size.large,\n            weight: globalVars.fonts.weights.normal,\n            color: colors.fg,\n        }),\n    );\n\n    const border = makeThemeVars(\"borders\", { ...globalVars.borderType.formElements.default });\n\n    return {\n        colors,\n        border,\n        sizing,\n        font,\n    };\n});\n\nexport const inputMixinVars = (vars?: { sizing?: any; font?: any; colors?: any; border?: any }) => {\n    const inputVars = inputVariables();\n    return {\n        sizing: merge(inputVars.sizing, vars?.sizing ?? {}),\n        font: Variables.font(merge(inputVars.font, vars?.font ?? {})),\n        colors: merge(inputVars.colors, vars?.colors ?? {}),\n        border: merge(inputVars.border, vars?.border ?? {}),\n    };\n};\n\nexport const inputMixin = (vars?: { sizing?: any; font?: any; colors?: any; border?: any }): CSSObject => {\n    const variables = inputMixinVars(vars);\n    const globalVars = globalVariables();\n    const {\n        sizing,\n        font = Variables.font({\n            size: globalVars.fonts.size.large,\n        }),\n        colors,\n        border,\n    } = variables;\n\n    return {\n        ...textInputSizingFromFixedHeight(sizing.height, font.size as number, border.width * 2),\n        backgroundColor: ColorsUtils.colorOut(colors.bg),\n        color: ColorsUtils.colorOut(colors.fg),\n        ...Mixins.border(border),\n        ...Mixins.font(font),\n        outline: 0,\n        ...{\n            ...placeholderStyles({\n                color: ColorsUtils.colorOut(colors.placeholder),\n            }),\n            \".SelectOne__input\": {\n                width: percent(100),\n            },\n            \".SelectOne__placeholder\": {\n                color: ColorsUtils.colorOut(formElementsVariables().placeholder.color),\n            },\n            \".tokens__placeholder\": {\n                color: ColorsUtils.colorOut(formElementsVariables().placeholder.color),\n            },\n            \".SelectOne__input input\": {\n                display: \"inline-block\",\n                width: important(`100%`),\n                overflow: \"hidden\",\n                lineHeight: undefined,\n                minHeight: 0,\n            },\n            \"&:active, &:hover, &:focus, &.focus-visible\": {\n                ...Mixins.border({\n                    ...border,\n                    color: colors.state.fg,\n                }),\n            },\n        },\n    };\n};\n\nexport const inputClasses = useThemeCache(() => {\n    const vars = inputVariables();\n    const style = styleFactory(\"input\");\n    const formElementVars = formElementsVariables();\n    const globalVars = globalVariables();\n\n    const inputPaddingMixin: CSSObject = {\n        padding: inputMixin().padding,\n        paddingTop: inputMixin().paddingTop,\n        paddingBottom: inputMixin().paddingBottom,\n        paddingLeft: inputMixin().paddingLeft,\n        paddingRight: inputMixin().paddingRight,\n    };\n\n    // Use as assignable unique style.\n    const text = style(\"text\", inputMixin());\n\n    // Use as a global selector. This should be refactored in the future.\n    const applyInputCSSRules = () => cssOut(\" .inputText.inputText\", inputMixin());\n\n    const inputText = style(\"inputText\", {\n        ...inputMixin(),\n        marginBottom: 0,\n        ...{\n            \"&&\": {\n                marginTop: styleUnit(globalVars.gutter.quarter),\n            },\n        },\n    });\n\n    return { text, inputText, inputPaddingMixin, inputMixin, applyInputCSSRules };\n});\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\n\nexport enum ButtonPreset {\n    SOLID = \"solid\",\n    OUTLINE = \"outline\",\n    TRANSPARENT = \"transparent\",\n    ADVANCED = \"advanced\",\n    HIDE = \"hide\",\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport classNames from \"classnames\";\nimport { getOptionalID, IOptionalComponentID } from \"@library/utility/idUtils\";\n\nexport interface IParagraphProps extends IOptionalComponentID {\n    className?: string;\n    isError?: boolean;\n    children?: React.ReactNode;\n}\n\nexport default class Paragraph extends React.Component<IParagraphProps> {\n    public static defaultProps = {\n        id: false,\n    };\n\n    public id: string;\n\n    constructor(props) {\n        super(props);\n        this.id = getOptionalID(props, \"Paragraph\") as string;\n    }\n\n    public render() {\n        if (this.props.children) {\n            const componentClasses = classNames({ isError: this.props.isError }, this.props.className);\n\n            let accessibilityProps = {};\n\n            if (this.props.isError) {\n                accessibilityProps = {\n                    \"aria-live\": \"assertive\",\n                    role: \"alert\",\n                };\n            }\n\n            return (\n                <p id={this.id} className={componentClasses} {...accessibilityProps}>\n                    {this.props.children}\n                </p>\n            );\n        } else {\n            return null;\n        }\n    }\n}\n","/**\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { visibility } from \"@library/styles/styleHelpers\";\nimport classNames from \"classnames\";\n\ninterface IProps extends React.HTMLAttributes<HTMLDivElement> {\n    children: React.ReactNode;\n    tag?: keyof JSX.IntrinsicElements;\n}\n\n/**\n * Children of component only visible to screen readers\n */\nexport default class ScreenReaderContent extends React.PureComponent<IProps> {\n    public render() {\n        const Tag = (this.props.tag || \"div\") as \"div\";\n        return (\n            <Tag {...this.props} className={classNames(visibility().visuallyHidden, \"sr-only\")}>\n                {this.props.children}\n            </Tag>\n        );\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { resetThemeCache } from \"@library/styles/themeCache\";\nimport { IComponentMountOptions, mountReact } from \"@vanilla/react-utils\";\nimport { logDebug, logWarning } from \"@vanilla/utils\";\nimport React from \"react\";\n\nlet useTheme = true;\n\n/**\n * Disable theming for the site. This is useful for sections like the dashboard.\n */\nexport function disableComponentTheming() {\n    useTheme = false;\n    resetThemeCache();\n}\n\n/**\n * Enable theming for the site. This is useful for sections like the dashboard.\n */\nexport function enableComponentTheming() {\n    useTheme = true;\n    resetThemeCache();\n}\n\nexport function isComponentThemingEnabled() {\n    return useTheme;\n}\n\nexport interface IRegisteredComponent {\n    Component: React.ComponentType<any>;\n    mountOptions?: IComponentMountOptions;\n}\n\n/**\n * The currently registered Components.\n * @private\n */\nconst _components: {\n    [key: string]: IRegisteredComponent;\n} = {};\n\nlet _pageComponent: React.ComponentType<any> | null = null;\n\n/**\n * Register a component in the Components registry.\n *\n * @param name The name of the component.\n * @param component The component to register.\n */\nexport function addComponent(name: string, Component: React.ComponentType<any>, mountOptions?: IComponentMountOptions) {\n    _components[name.toLowerCase()] = {\n        Component,\n        mountOptions,\n    };\n}\n\n/**\n * Register a component in the Components registry.\n *\n * @param name The name of the component.\n * @param component The component to register.\n */\nexport function addPageComponent(Component: React.ComponentType<any>) {\n    _pageComponent = Component;\n}\n\n/**\n * Test to see if a component has been registered.\n *\n * @param name The name of the component to test.\n * @returns Returns **true** if the component has been registered or **false** otherwise.\n */\nexport function componentExists(name: string): boolean {\n    return _components[name.toLowerCase()] !== undefined;\n}\n\n/**\n * Get a component from the component registry.\n *\n * @param name The name of the component.\n * @returns Returns the component or **undefined** if there is no registered component.\n */\nexport function getComponent(name: string): IRegisteredComponent | undefined {\n    return _components[name.toLowerCase()];\n}\n\n/**\n * Mount all declared Components on the dom.\n *\n * The page signifies that an element contains a component with the `data-react=\"<Component>\"` attribute.\n *\n * @param parent - The parent element to search. This element is not included in the search.\n */\nexport async function _mountComponents(parent: Element) {\n    const awaiting: Array<Promise<any>> = [];\n    const parentPage = parent.querySelector(\"#app\");\n    if (parentPage instanceof HTMLElement && _pageComponent !== null) {\n        mountReact(<_pageComponent />, parentPage);\n    }\n\n    parent.querySelectorAll(\"[data-react]\").forEach((node) => {\n        if (!(node instanceof HTMLElement)) {\n            logWarning(\"Attempting to mount a data-react component on an invalid element\", node);\n            return;\n        }\n\n        const name = node.getAttribute(\"data-react\") || \"\";\n        let props = node.getAttribute(\"data-props\") || {};\n        if (typeof props === \"string\") {\n            props = JSON.parse(props);\n        }\n        const registeredComponent = getComponent(name);\n\n        if (!registeredComponent) {\n            return;\n        }\n        const children = node.innerHTML;\n        node.innerHTML = \"\";\n\n        node.removeAttribute(\"data-react\");\n        node.removeAttribute(\"data-props\");\n\n        awaiting.push(\n            new Promise((resolve) => {\n                if (registeredComponent) {\n                    mountReact(\n                        <registeredComponent.Component {...props} contents={children} />,\n                        node,\n                        () => {\n                            if (node.getAttribute(\"data-unhide\") === \"true\") {\n                                node.removeAttribute(\"style\");\n                            }\n                            resolve();\n                        },\n                        registeredComponent.mountOptions,\n                    );\n                } else {\n                    logDebug(\"Could not find component %s.\", name);\n                    resolve();\n                }\n            }),\n        );\n    });\n\n    await Promise.all(awaiting);\n}\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { getMeta } from \"@library/utility/appUtils\";\n\nexport const ALL_CONTENT_DOMAIN_NAME = \"all_content\";\nexport const ALLOWED_GLOBAL_SEARCH_FIELDS = [\"query\", \"name\", \"insertUserIDs\", \"dateInserted\", \"page\", \"types\"];\nexport const NEW_SEARCH_PAGE_ENABLED = getMeta(\"themeFeatures.useNewSearchPage\", false);\nexport const MEMBERS_DOMAIN_NAME = \"members\";\nexport const MEMBERS_RECORD_TYPE = \"user\";\nexport const PLACES_DOMAIN_NAME = \"places\";\nexport const PLACES_KNOWLEDGE_BASE_TYPE = \"knowledgeBase\";\nexport const PLACES_GROUP_TYPE = \"group\";\nexport const PLACES_CATEGORY_TYPE = \"category\";\n","import { variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { Variables } from \"@library/styles/Variables\";\n\nexport enum TagType {\n    LIST = \"list\",\n    CLOUD = \"cloud\",\n}\n\nexport const tagVariables = useThemeCache(() => {\n    /**\n     * @varGroup tags\n     * @description Variables affecting tags throughout the application.\n     */\n    const makeThemeVars = variableFactory(\"tags\");\n    const globalVars = globalVariables();\n\n    const colorOverwrite = makeThemeVars(\"colorOverwrite\", {\n        ...Variables.clickable({}),\n        skipDefault: undefined,\n    });\n\n    const linkColors = Mixins.clickable.itemState(colorOverwrite, { disableTextDecoration: true });\n\n    const nested = makeThemeVars(\"states\", linkColors);\n\n    const colors = makeThemeVars(\"color\", {\n        fg: globalVars.meta.text.color,\n    });\n\n    /**\n     * @varGroup tags.tagItem\n     * @description Tag items are found in the tag cloud module.\n     */\n    const tagItem = makeThemeVars(\"tagItem\", {\n        /**\n         * @var forumFonts.tagItem.type\n         * @description Set the display type of tag items\n         * @type string\n         * @enum cloud | list\n         */\n        type: TagType.CLOUD,\n        /**\n         * @varGroup forumFonts.tagItem.font\n         * @description Font variables for the default state of the tag label\n         */\n        font: Variables.font({}),\n        /**\n         * @varGroup forumFonts.tagItem.fontState\n         * @description Font variables title when a tag item is being interacted with. (hover, active, focus).\n         */\n        fontState: Variables.font({}),\n        /**\n         * @varGroup forumFonts.tagItem.background\n         * @description Background variables for the default state of the tag background\n         */\n        background: Variables.background({}),\n        /**\n         * @varGroup forumFonts.tagItem.backgroundState\n         * @description Background variables title when a tag item is being interacted with. (hover, active, focus)\n         */\n        backgroundState: Variables.background({}),\n        /**\n         * @varGroup forumFonts.tagItem.margin\n         * @description Margins between tag items\n         * @expand spacing\n         */\n        margin: Variables.spacing({\n            all: 0,\n        }),\n    });\n\n    const font = makeThemeVars(\n        \"font\",\n        Variables.font({\n            color: colors.fg,\n            lineHeight: globalVars.lineHeights.meta,\n            size: globalVars.fonts.size.small,\n        }),\n    );\n\n    const padding = makeThemeVars(\n        \"padding\",\n        Variables.spacing({\n            vertical: 2,\n            horizontal: 9,\n        }),\n    );\n\n    const margin = makeThemeVars(\n        \"margin\",\n        Variables.spacing({\n            vertical: 2,\n            horizontal: globalVars.meta.spacing.default,\n        }),\n    );\n\n    const border = makeThemeVars(\n        \"border\",\n        Variables.border({\n            color: colors.fg,\n            width: 1, // these are really small, I don't think it makes sense to default to anything else.\n        }),\n    );\n\n    // If border radius not overwritten, calculate it to be round.\n    if (!border.radius) {\n        border.radius =\n            ((((font.lineHeight || 1.45) as number) * ((font.size as number) ?? 12)) as number) / 2 +\n            (padding.vertical as number) +\n            (!!border.width && border.width > 0 ? (border.width as number) : 0);\n    }\n\n    const output = {\n        colors,\n        font,\n        padding,\n        border,\n        margin,\n        tagItem,\n        nested,\n    };\n\n    return output;\n});\n\n// For now we only have compatibility styles in //forumTagStyles.ts\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { allLinkStates, defaultTransition, userSelect } from \"@library/styles/styleHelpers\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { calc, important } from \"csx\";\nimport { CSSObject } from \"@emotion/css\";\nimport { tagVariables } from \"@library/styles/tagStyles\";\n\nexport const metasVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const makeThemeVars = variableFactory(\"metas\");\n\n    const fonts = makeThemeVars(\"fonts\", {\n        size: globalVars.fonts.size.small,\n    });\n\n    const colors = makeThemeVars(\"color\", {\n        fg: globalVars.meta.text.color,\n        hover: {\n            fg: globalVars.links.colors.active,\n        },\n        focus: {\n            fg: globalVars.links.colors.active,\n        },\n        active: {\n            fg: globalVars.links.colors.active,\n        },\n        deleted: globalVars.messageColors.deleted,\n    });\n\n    const text = makeThemeVars(\"text\", {\n        margin: 4,\n        lineHeight: globalVars.lineHeights.base,\n    });\n\n    const spacing = makeThemeVars(\"spacing\", {\n        verticalMargin: 24,\n        default: globalVars.gutter.quarter,\n    });\n\n    return {\n        fonts,\n        colors,\n        text,\n        spacing,\n    };\n});\n\nexport const metaContainerStyles = (overwrites?: any) => {\n    const vars = metasVariables();\n    const globalVars = globalVariables();\n    const flexed = { display: \"flex\", flexWrap: \"wrap\", justifyContent: \"flex-start\", alignItems: \"center\" };\n    return {\n        display: \"block\",\n        lineHeight: globalVars.lineHeights.meta,\n        color: ColorsUtils.colorOut(vars.colors.fg),\n        width: calc(`100% + ${styleUnit(vars.spacing.default * 2)}`),\n        overflow: \"initial\", // We can't hide overflow or stuff like user cards will not be shown.\n        textAlign: \"left\",\n        fontSize: styleUnit(globalVars.meta.text.size),\n        ...Mixins.margin({\n            left: -vars.spacing.default,\n            right: vars.spacing.default,\n        }),\n        ...{\n            a: {\n                ...allLinkStates({\n                    allStates: {\n                        textShadow: \"none\",\n                    },\n                    noState: {\n                        color: ColorsUtils.colorOut(vars.colors.fg),\n                    },\n                    hover: {\n                        color: ColorsUtils.colorOut(vars.colors.hover.fg),\n                    },\n                    focus: {\n                        color: ColorsUtils.colorOut(vars.colors.focus.fg),\n                    },\n                    active: {\n                        color: ColorsUtils.colorOut(vars.colors.active.fg),\n                    },\n                }),\n            },\n            \"&.isFlexed\": flexed,\n        },\n        ...overwrites,\n    };\n};\n\nexport const metaItemStyle = useThemeCache(() => {\n    const vars = metasVariables();\n    return {\n        display: \"inline-block\",\n        fontSize: styleUnit(vars.fonts.size),\n        color: ColorsUtils.colorOut(vars.colors.fg),\n        ...Mixins.margin({\n            top: 0,\n            right: vars.spacing.default,\n            bottom: 0,\n            left: vars.spacing.default,\n        }),\n        ...{\n            \"& &\": {\n                margin: 0,\n            },\n            \".isDeleted, &.isDeleted\": {\n                color: ColorsUtils.colorOut(vars.colors.deleted.fg),\n            },\n        },\n    };\n});\n\nexport const metasClasses = useThemeCache(() => {\n    const vars = metasVariables();\n    const tagVars = tagVariables();\n    const globalVars = globalVariables();\n    const style = styleFactory(\"metas\");\n\n    const root = style(metaContainerStyles());\n    const meta = style(\"meta\", metaItemStyle());\n    const metaLink = style(\"meta\", { ...metaItemStyle(), fontWeight: globalVars.fonts.weights.semiBold });\n\n    const metaIcon = style(\"metaIcon\", {\n        ...metaItemStyle(),\n        maxHeight: 14,\n        ...{\n            \"& svg\": {\n                display: \"inline-block\",\n                marginBottom: -6,\n            },\n        },\n    });\n\n    const metaLabel = style(\"metaLabel\", {\n        display: \"inline-block\",\n        maxWidth: \"100%\",\n        whiteSpace: \"normal\",\n        textOverflow: \"ellipsis\",\n        ...userSelect(),\n        ...Mixins.padding(tagVars.padding),\n        ...Mixins.border(tagVars.border),\n        ...Mixins.font(tagVars.font),\n        ...defaultTransition(\"border\"),\n        ...Mixins.margin(tagVars.margin),\n    });\n\n    // Get styles of meta, without the margins\n    const metaStyle = style(\"metaStyles\", {\n        display: \"inline-block\",\n        fontSize: styleUnit(vars.fonts.size),\n        color: ColorsUtils.colorOut(vars.colors.fg),\n    });\n\n    const draftStatus = style(\"draftStatus\", {\n        flexGrow: 1,\n        textAlign: \"left\",\n    });\n\n    const noUnderline = style(\"noUnderline\", {\n        textDecoration: important(\"none\"),\n    });\n\n    const inlineBlock = style(\"inlineBlock\", {\n        display: \"inline-flex\",\n        borderTop: \"none !important\",\n        ...{\n            \"& *:hover, & *:focus, & .isFocused\": {\n                color: `${globalVars.links.colors.default} !important`,\n                backgroundColor: \"transparent !important\",\n            },\n        },\n    });\n\n    return {\n        root,\n        meta,\n        metaLabel,\n        metaLink,\n        metaIcon,\n        metaStyle,\n        draftStatus,\n        noUnderline,\n        inlineBlock,\n    };\n});\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { allButtonStates, flexHelper, spinnerLoaderAnimationProperties } from \"@library/styles/styleHelpers\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { CSSObject } from \"@emotion/css\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { important, percent } from \"csx\";\nimport merge from \"lodash/merge\";\nimport generateButtonClass from \"./styleHelperButtonGenerator\";\nimport { IButtonType } from \"@library/forms/styleHelperButtonInterface\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { buttonResetMixin } from \"./buttonMixins\";\nimport { buttonVariables, buttonGlobalVariables } from \"./Button.variables\";\n\nexport const overwriteButtonClass = (\n    buttonTypeVars: IButtonType,\n    overwriteVars: IButtonType,\n    setZIndexOnState = false,\n) => {\n    const buttonVars = merge(buttonTypeVars, overwriteVars);\n    // append names for debugging purposes\n    buttonVars.name = `${buttonTypeVars.name}-${overwriteVars.name}`;\n    return generateButtonClass(buttonVars, {\n        setZIndexOnState,\n    });\n};\n\nexport const buttonClasses = useThemeCache(() => {\n    const vars = buttonVariables();\n    return {\n        primary: generateButtonClass(vars.primary),\n        standard: generateButtonClass(vars.standard),\n        transparent: generateButtonClass(vars.transparent),\n        translucid: generateButtonClass(vars.translucid),\n        icon: buttonUtilityClasses().buttonIcon,\n        iconCompact: buttonUtilityClasses().buttonIconCompact,\n        text: buttonUtilityClasses().buttonAsText,\n        textPrimary: buttonUtilityClasses().buttonAsTextPrimary,\n        radio: generateButtonClass(vars.radio),\n        custom: \"\",\n        notStandard: generateButtonClass(vars.notStandard),\n    };\n});\n\nexport const buttonUtilityClasses = useThemeCache(() => {\n    const vars = buttonGlobalVariables();\n    const globalVars = globalVariables();\n    const formElementVars = formElementsVariables();\n    const style = styleFactory(\"buttonUtils\");\n    const mediaQueries = layoutVariables().mediaQueries();\n\n    const pushLeft = style(\"pushLeft\", {\n        marginRight: important(\"auto\"),\n    });\n\n    const pushRight = style(\"pushRight\", {\n        marginLeft: important(\"auto\"),\n    });\n\n    const iconMixin = (dimension: number): CSSObject => ({\n        ...buttonResetMixin(),\n        alignItems: \"center\",\n        display: \"flex\",\n        height: styleUnit(dimension),\n        minWidth: styleUnit(dimension),\n        width: styleUnit(dimension),\n        justifyContent: \"center\",\n        border: \"none\",\n        padding: 0,\n        background: \"transparent\",\n        ...allButtonStates({\n            allStates: {\n                color: ColorsUtils.colorOut(globalVars.mainColors.secondary),\n            },\n            hover: {\n                color: ColorsUtils.colorOut(globalVars.mainColors.primary),\n            },\n            clickFocus: {\n                outline: 0,\n            },\n            keyboardFocus: {\n                outline: \"initial\",\n            },\n        }),\n        color: \"inherit\",\n    });\n\n    const buttonIcon = style(\n        \"buttonIcon\",\n        iconMixin(formElementVars.sizing.height),\n        mediaQueries.oneColumnDown({\n            height: vars.sizing.compactHeight,\n            width: vars.sizing.compactHeight,\n            minWidth: vars.sizing.compactHeight,\n        }),\n    );\n\n    const buttonIconCompact = style(\"iconCompact\", iconMixin(vars.sizing.compactHeight));\n\n    const asTextStyles: CSSObject = {\n        ...buttonResetMixin(),\n        minWidth: important(0),\n        padding: 0,\n        overflow: \"hidden\",\n        textAlign: \"left\",\n        lineHeight: globalVars.lineHeights.base,\n        fontWeight: globalVars.fonts.weights.semiBold,\n        whiteSpace: \"nowrap\",\n    };\n\n    const buttonAsText = style(\"asText\", asTextStyles, {\n        color: \"inherit\",\n        ...{\n            \"&:not(.focus-visible)\": {\n                outline: 0,\n            },\n            \"&:focus, &:active, &:hover\": {\n                color: ColorsUtils.colorOut(globalVars.mainColors.secondary),\n            },\n        },\n    });\n\n    const buttonAsTextPrimary = style(\"asTextPrimary\", asTextStyles, {\n        ...{\n            \"&&\": {\n                color: ColorsUtils.colorOut(globalVars.links.colors.default),\n            },\n            \"&&:not(.focus-visible)\": {\n                outline: 0,\n            },\n            \"&&:hover, &&:focus, &&:active\": {\n                color: ColorsUtils.colorOut(globalVars.links.colors.active),\n            },\n        },\n    });\n\n    const buttonIconRightMargin = style(\"buttonIconRightMargin\", {\n        marginRight: styleUnit(6),\n    });\n\n    const buttonIconLeftMargin = style(\"buttonIconLeftMargin\", {\n        marginLeft: styleUnit(6),\n    });\n\n    const reset = style(\"reset\", buttonResetMixin());\n\n    return {\n        pushLeft,\n        buttonAsText,\n        buttonAsTextPrimary,\n        pushRight,\n        iconMixin,\n        buttonIconCompact,\n        buttonIcon,\n        buttonIconRightMargin,\n        buttonIconLeftMargin,\n        reset,\n    };\n});\n\nexport const buttonLoaderClasses = useThemeCache(() => {\n    const flexUtils = flexHelper();\n    const style = styleFactory(\"buttonLoader\");\n\n    const root = useThemeCache((alignment: \"left\" | \"center\" = \"center\") =>\n        style({\n            ...(alignment === \"center\" ? flexUtils.middle() : flexUtils.middleLeft),\n            padding: styleUnit(4),\n            height: percent(100),\n            width: percent(100),\n            ...{\n                [`& + .suggestedTextInput-parentTag`]: {\n                    display: \"none\",\n                },\n            },\n        }),\n    );\n\n    const reducedPadding = style(\"reducedPadding\", {\n        ...{\n            \"&&\": {\n                padding: styleUnit(3),\n            },\n        },\n    });\n\n    const svg = style(\"svg\", spinnerLoaderAnimationProperties());\n    return { root, svg, reducedPadding };\n});\n\nexport const buttonLabelWrapClass = useThemeCache(() => {\n    const style = styleFactory(\"buttonLabelWrap\");\n    const root = style({\n        maxWidth: percent(100),\n        textOverflow: \"ellipsis\",\n        overflow: \"hidden\",\n    });\n\n    return {\n        root,\n    };\n});\n","export enum LogoAlignment {\n    LEFT = \"left\",\n    CENTER = \"center\",\n}\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2021 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { BorderType } from \"@library/styles/styleHelpers\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Variables } from \"@library/styles/Variables\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { getPixelNumber, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { color, px, rgba, viewHeight } from \"csx\";\nimport { media, TLength } from \"@library/styles/styleShim\";\nimport { CSSObject } from \"@emotion/css\";\nimport { IButtonType } from \"@library/forms/styleHelperButtonInterface\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport { LogoAlignment } from \"./LogoAlignment\";\nimport { BackgroundProperty } from \"csstype\";\nimport { IThemeVariables } from \"@library/theming/themeReducer\";\n\n/**\n * @varGroup titleBar\n * @title Title Bar\n * @description The TitleBar is the sticky navigation bar, normally containing a logo,\n * navigation links, a searchbar, and the mebox.\n */\n\nexport const titleBarVariables = useThemeCache((forcedVars?: IThemeVariables) => {\n    const globalVars = globalVariables(forcedVars);\n    const formElementVars = formElementsVariables(forcedVars);\n    const makeThemeVars = variableFactory(\"titleBar\", forcedVars);\n\n    const sizing = makeThemeVars(\"sizing\", {\n        /**\n         * @var titleBar.sizing.height\n         * @description Pixel height of the Title Bar. Recommended between 48 and 90\n         * @type number|string\n         */\n        height: 48,\n        spacer: 12,\n        mobile: {\n            /**\n             * @var titleBar.sizing.mobile.height\n             * @title Height (Mobile)\n             * @description Pixel height of the Title Bar for mobile screen sizes.\n             * As mobile devices have smaller screens, it's recommended to use a smaller height here than on desktop.\n             * @type number|string\n             */\n            height: 44,\n            width: formElementVars.sizing.height,\n        },\n    });\n\n    const spacing = makeThemeVars(\"spacing\", {\n        /**\n         * @varGroup titleBar.spacing.padding\n         * @title Title Bar\n         * @expand spacing\n         */\n        padding: Variables.spacing({\n            top: 0,\n            bottom: 0,\n        }),\n    });\n\n    // Note that this overlay will go on top of the bg image, if you have one.\n    const overlay = makeThemeVars(\"overlay\", {\n        /**\n         * @var titleBar.overlay.background\n         * @title Background Overlay\n         * @description An background to overlay on top of a background image if one is specified.\n         * Accepts any value that works for a CSS \"background\" property.\n         * This can be useful to add contrast to a titlebar background that otherwise might not have enough.\n         * @default linear-gradient(to bottom, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.3))\n         */\n        background: undefined as BackgroundProperty<TLength> | Array<BackgroundProperty<TLength>> | undefined,\n    });\n\n    const colorsInit = makeThemeVars(\"colors\", {\n        /**\n         * @var titleBar.colors.fg\n         * @title Foreground/Text Color\n         * @description Foreground color for the titlebar.\n         * It's recommended that this color have sufficient color with the background color.\n         * @type string\n         * @format hex-color\n         */\n        fg: globalVars.mainColors.primaryContrast,\n        /**\n         * @var titleBar.colors.bg\n         * @title Background Color\n         * @description Background color for the titlebar.\n         * It's recommended that this color have sufficient color with the foreground color.\n         * @type string\n         * @format hex-color\n         */\n        bg: globalVars.mainColors.primary,\n        /**\n         * @var titleBar.colors.bgImage\n         * @title Background Image\n         * @type string\n         * @description Apply a background image over the Title Bar.\n         * This image will will fill the full background of the Title Bar and will not be stretched.\n         *\n         * It's recommended to use a very wide patterned image,\n         * of which the middle portion make sense on it's own (for mobile devices.)\n         *\n         * This should be a full URL to an image.\n         */\n        bgImage: null as string | null,\n    });\n\n    const colors = makeThemeVars(\"colors\", {\n        ...colorsInit,\n        /**\n         * @varGroup titleBar.colors.state\n         * @title TitleBar - State Colors\n         * @commonTitle TitleBar\n         * @commonDescription By default this color is generated based on the regular color.\n         */\n        state: {\n            /**\n             * @var titleBar.colors.state.bg\n             * @title Background Color (State)\n             * @description The background hover/state color for various buttons in the Title Bar.\n             * It is recommended that this color have strong contrast with the foreground color.\n             * @type string\n             * @format hex-color\n             */\n            bg: ColorsUtils.isLightColor(colorsInit.bg) ? rgba(0, 0, 0, 0.1) : rgba(255, 255, 255, 0.1),\n\n            /**\n             * @var titleBar.colors.state.bg\n             * @title Foreground Color (State)\n             * @description The foreground hover/state color for various buttons in the Title Bar.\n             * It is recommended that this color have strong contrast with the background color.\n             * @type string\n             * @format hex-color\n             */\n            fg: colorsInit.fg,\n        },\n    });\n\n    /**\n     * @varGroup titleBar.border\n     * @title TitleBar - Border\n     * @expand border\n     */\n    const border = makeThemeVars(\"border\", {\n        /**\n         * @var titleBar.border.type\n         * @type string\n         * @enum none|border|shadow\n         */\n        type: BorderType.NONE,\n        color: globalVars.border.color,\n        width: globalVars.border.width,\n    });\n\n    // sizing.height gives you the height of the contents of the titleBar.\n    // If spacing.paddingBottom is set, this value will be different than the height. To be used if you need to get the full height, not just the contents height.\n    const fullHeight =\n        getPixelNumber(sizing.height) +\n            getPixelNumber(spacing.padding.bottom) +\n            getPixelNumber(spacing.padding.top) +\n            border.type ==\n        BorderType.SHADOW_AS_BORDER\n            ? getPixelNumber(border.width)\n            : 0;\n\n    /**\n     * @varGroup titleBar.swoop\n     * @title Banner - Swoop\n     * @commonDescription The follow variables should be used together to fine your desired swoop.\n     * - titleBar.spacings.paddings.top\n     * - titleBar.spacings.paddings.bottom\n     * - titleBar.swoop.amount\n     * - titleBar.swoop.swoopOffset\n     * - titleBar.sizing.height\n     */\n    const swoopInit = makeThemeVars(\"swoop\", {\n        /**\n         * @var titleBar.swoop.amount\n         * @description Create a curved bottom border on the Title Bar.\n         * Larger numbers give a bigger \"swoop\". Please note that this adds some additional space into the bottom of the titlebar.\n         * A value of 10 gives a very subtle swoop that should not require much adjustment elsewhere.\n         * A value of 50 gives a very pronounced swoop and will require adjustments in padding to compensate.\n         * @default 20\n         * @type number\n         */\n        amount: 0,\n    });\n\n    const swoop = makeThemeVars(\"swoop\", {\n        ...swoopInit,\n        /**\n         * @var titleBar.swoop.swoopOffset\n         * @title Offset\n         * @description This parameter determines how much the swoop extends \"outside\" of the TitleBar\n         * Large offsets may require adjustments in padding.\n         * @type number\n         */\n        swoopOffset: (16 * swoopInit.amount) / 50,\n    });\n\n    /**\n     * @varGroup titleBar.fullBleed\n     * @title TitleBar - Full Bleed\n     */\n    const fullBleed = makeThemeVars(\"fullBleed\", {\n        /**\n         * @var titleBar.fullBleed.enabled\n         * @description Enable a \"full bleed\" title bar.\n         * This caused to titlebar to be transparent or semi-transparent and site *on top* of the banner.\n         * @type boolean\n         */\n        enabled: false,\n\n        /**\n         * @var titleBar.fullBleed.startingOpacity\n         * @type number\n         * @description An opacity value between 0 and 1 that determins how transparent the full bleed titlebar is\n         * when sitting on top of the banner.\n         *\n         * 0 - Fully transparent.\n         * 0.3 - Semi transparent.\n         * 1 - Completely solid\n         * @default 0\n         */\n        startingOpacity: 0,\n\n        /**\n         * @var titleBar.fullBleed.endingOpacity\n         * @type number\n         * @description An opacity value between 0 and 1 that determins how transparent the full bleed titlebar is\n         * as the banner is scrolled out of view.\n         *\n         * The banner *always* becomes completely solid after the transition,\n         * so this value only affects the transition between states.\n         *\n         * This value cannot be less than the `titleBar.fullBleed.startingOpacity` value.\n         *\n         * 0 - Fully transparent.\n         * 0.3 - Semi transparent.\n         * 1 - Completely solid\n         * @default 0.15\n         */\n        endingOpacity: 0.15,\n\n        /**\n         * @var titleBar.fullBleed.bgColor\n         * @title Background Color\n         * @description The background color of the full bleed titlebar when it is transparent/semi-transparent.\n         * This defaults to the normal titleBar.colors.bg color, but can be a different color.\n         *\n         * For example, you may want to use a semi-transparent white/black while overlaying the banner,\n         * but want the titlebar to transition a brand color when on it's own or scrolled down the page.\n         * @type string\n         * @format hex-color\n         */\n        bgColor: colors.bg,\n    });\n\n    const clearBorder = {\n        type: BorderType.NONE,\n        color: \"transparent\",\n        width: styleUnit(0),\n        radius: styleUnit(0),\n    };\n\n    const titleBarContainer = makeThemeVars(\"titleBarContainer\", {\n        /**\n         * @var titleBar.titleBarContainer.maxWidth\n         * @description Set the maximum width of the titlebar.\n         * @type number\n         */\n        maxWidth: undefined as number | undefined,\n\n        /**\n         * @varGroup titleBar.titleBarContainer.gutterSpacing\n         * @description Gutters for the container of the titlebar.\n         * @expand spacing\n         */\n        gutterSpacing: Variables.spacing({}),\n        border: Variables.border({\n            left: {\n                ...clearBorder,\n            },\n            right: {\n                ...clearBorder,\n            },\n            top: {\n                ...clearBorder,\n            },\n            bottom: {\n                ...clearBorder,\n            },\n        }),\n    });\n\n    // Fix up the ending opacity so it is always darker than the starting one.\n    fullBleed.endingOpacity = Math.max(fullBleed.startingOpacity, fullBleed.endingOpacity);\n\n    const guest = makeThemeVars(\"guest\", {\n        spacer: 8,\n    });\n\n    const buttonSize = globalVars.buttonIcon.size;\n    const button = makeThemeVars(\"button\", {\n        borderRadius: globalVars.border.radius,\n        size: buttonSize,\n        guest: {\n            minWidth: 86,\n        },\n        mobile: {\n            fontSize: 16,\n            width: buttonSize,\n        },\n        state: {\n            bg: colors.state.bg,\n        },\n    });\n\n    const generatedColors = makeThemeVars(\"generatedColors\", {\n        state: ColorsUtils.offsetLightness(colors.bg, 0.04),\n    });\n\n    const linkButtonDefaults: IButtonType = {\n        name: ButtonTypes.TITLEBAR_LINK,\n        colors: {\n            bg: rgba(0, 0, 0, 0),\n            fg: colors.fg,\n        },\n        fonts: Variables.font({\n            color: colors.fg,\n        }),\n        sizing: {\n            minWidth: styleUnit(globalVars.icon.sizes.large),\n            minHeight: styleUnit(globalVars.icon.sizes.large),\n        },\n        padding: {\n            horizontal: 6,\n        },\n        borders: {\n            style: \"none\",\n            color: rgba(0, 0, 0, 0),\n        },\n        hover: {\n            colors: {\n                bg: generatedColors.state,\n            },\n        },\n        focus: {\n            colors: {\n                bg: generatedColors.state,\n            },\n        },\n        focusAccessible: {\n            colors: {\n                bg: generatedColors.state,\n            },\n        },\n        active: {\n            colors: {\n                bg: generatedColors.state,\n            },\n        },\n    };\n    const linkButton: IButtonType = makeThemeVars(\"linkButton\", linkButtonDefaults);\n\n    const count = makeThemeVars(\"count\", {\n        size: 18,\n        fontSize: 10,\n        fg: globalVars.mainColors.bg,\n        bg: globalVars.mainColors.primary,\n    });\n\n    const dropDownContents = makeThemeVars(\"dropDownContents\", {\n        minWidth: 350,\n        maxHeight: viewHeight(90),\n    });\n\n    const endElements = makeThemeVars(\"endElements\", {\n        flexBasis: buttonSize * 4,\n        mobile: {\n            flexBasis: button.mobile.width - 20,\n        },\n    });\n\n    const buttonContents = makeThemeVars(\"buttonContents\", {\n        state: {\n            bg: button.state.bg,\n        },\n    });\n\n    const signIn = makeThemeVars(\"signIn\", {\n        fg: colors.fg,\n        bg: ColorsUtils.modifyColorBasedOnLightness({\n            color: globalVars.mainColors.primary,\n            weight: 0.1,\n            inverse: true,\n        }),\n        hover: {\n            bg: ColorsUtils.modifyColorBasedOnLightness({\n                color: globalVars.mainColors.primary,\n                weight: 0.2,\n                inverse: true,\n            }),\n        },\n    });\n\n    const resister = makeThemeVars(\"register\", {\n        fg: colors.bg,\n        bg: colors.fg,\n        borderColor: colors.bg,\n        states: {\n            bg: colors.fg.fade(0.9),\n        },\n    });\n\n    const mobileDropDown = makeThemeVars(\"mobileDropdown\", {\n        height: px(sizing.mobile.height),\n    });\n\n    const meBox = makeThemeVars(\"meBox\", {\n        sizing: {\n            buttonContents: formElementVars.sizing.height,\n        },\n    });\n\n    // Note that the logo defined here is the last fallback. If set through the dashboard, it will overwrite these values.\n    /**\n     * @varGroup titleBar.logo\n     * @title TitleBar - Logo\n     */\n    const logo = makeThemeVars(\"logo\", {\n        /**\n         * @var titleBar.logo.doubleLogoStrategy\n         * @description A strategy for dealing with multiple logos when using a custom theme header with the titlebar.\n         * - visible (default) - Always show the logo in the titlebar.\n         * - hidden - Hide the logo in the titlebar.\n         * - fade-in - Fade the logo in after the custom theme header scrolls of the page.\n         * @type string\n         * @enum visible | hidden | fade-in\n         * @default visible\n         */\n        doubleLogoStrategy: \"visible\" as \"hidden\" | \"visible\" | \"fade-in\",\n        /**\n         * @var titleBar.logo.offsetRight\n         * @title Right Margin\n         * @description Apply some spacing between the logo and the navigation items.\n         * @type number\n         */\n        offsetRight: globalVars.gutter.size,\n\n        /**\n         * @var titleBar.logo.justifyContent\n         * @title Logo Placement\n         * @description Where to place the logo in the TitleBar.\n         * @type string\n         * @enum left | center\n         */\n        justifyContent: LogoAlignment.LEFT,\n        maxHeight: undefined,\n        /**\n         * @var titleBar.logo.maxWidth\n         * @type string|number\n         * @description Maximum pixel width to the display the logo.\n         */\n        maxWidth: 200,\n        heightOffset: sizing.height / 3,\n        tablet: {},\n        desktop: {\n            url: undefined,\n        },\n        mobile: {\n            url: undefined,\n            /**\n             * @var titleBar.logo.mobile.maxWidth\n             * @type string | number\n             * @description Maximum pixel width to the display the logo on mobile device sizes.\n             */\n            maxWidth: undefined,\n            maxHeight: undefined,\n            heightOffset: sizing.mobile.height / 4,\n        },\n        offsetVertical: {\n            amount: 0,\n            mobile: {\n                amount: 0,\n            },\n        },\n    });\n\n    /**\n     * @var titleBar.navAlignment.alignment\n     * @title Navigation Alignment\n     * @description How to align the navigation in the titlebar.\n     * _Note: The navigation cannot use center alignment while the logo placement is set to center.\n     * @type string\n     * @enum left | center\n     */\n    const navAlignment = makeThemeVars(\"navAlignment\", {\n        alignment: \"left\" as \"left\" | \"center\",\n    });\n\n    if (logo.justifyContent === LogoAlignment.CENTER) {\n        // Forced to the left because they can't both be in the center.\n        navAlignment.alignment = \"left\";\n    }\n\n    const mobileLogo = makeThemeVars(\"mobileLogo\", {\n        justifyContent: LogoAlignment.CENTER,\n    });\n\n    const breakpoints = makeThemeVars(\"breakpoints\", {\n        compact: 800,\n    });\n\n    const mediaQueries = () => {\n        const full = (styles: CSSObject, useMinWidth: boolean = true) => {\n            return media(\n                {\n                    minWidth: breakpoints.compact + 1,\n                },\n                styles,\n            );\n        };\n\n        const compact = (styles: CSSObject) => {\n            return media(\n                {\n                    maxWidth: breakpoints.compact,\n                },\n                styles,\n            );\n        };\n\n        return {\n            full,\n            compact,\n        };\n    };\n\n    const cancelButtonInit = makeThemeVars(\"closeButtonInit\", {\n        allStates: colors.fg,\n        hoverOpacity: globalVars.constants.states.hover.borderEmphasis,\n    });\n\n    const stateColors = makeThemeVars(\"stateColors\", {\n        hover: cancelButtonInit.allStates.mix(colorsInit.bg, cancelButtonInit.hoverOpacity),\n        focus: cancelButtonInit.allStates,\n        active: cancelButtonInit.allStates,\n    });\n\n    return {\n        fullBleed,\n        titleBarContainer,\n        border,\n        sizing,\n        colors,\n        overlay,\n        signIn,\n        resister,\n        guest,\n        button,\n        linkButton,\n        count,\n        dropDownContents,\n        endElements,\n        buttonContents,\n        mobileDropDown,\n        meBox,\n        logo,\n        mediaQueries,\n        breakpoints,\n        navAlignment,\n        mobileLogo,\n        spacing,\n        swoop,\n        fullHeight,\n        stateColors,\n    };\n});\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\nimport { BorderType } from \"@library/styles/styleHelpersBorders\";\nimport {\n    FontFamilyProperty,\n    FontSizeProperty,\n    FontWeightProperty,\n    LineHeightProperty,\n    TextShadowProperty,\n    TextTransformProperty,\n    TextAlignProperty,\n    LetterSpacingProperty,\n    BackgroundAttachmentProperty,\n    BackgroundImageProperty,\n    BackgroundPositionProperty,\n    BackgroundRepeatProperty,\n    BackgroundSizeProperty,\n    OpacityProperty,\n    BorderRadiusProperty,\n    BorderStyleProperty,\n    BorderWidthProperty,\n} from \"csstype\";\nimport { ColorHelper } from \"csx\";\n\nexport type TLength = string | number;\nexport type IRadiusValue = IBorderRadiusValue | IRadiusShorthand | IBorderRadiusOutput;\nexport type IBorderRadiusValue = BorderRadiusProperty<TLength> | number | string | undefined;\nexport interface IRadiusShorthand {\n    all?: IBorderRadiusValue;\n    top?: IBorderRadiusValue;\n    bottom?: IBorderRadiusValue;\n    left?: IBorderRadiusValue;\n    right?: IBorderRadiusValue;\n}\n\nexport interface IBorderRadiusOutput {\n    borderTopRightRadius?: IBorderRadiusValue;\n    borderTopLeftRadius?: IBorderRadiusValue;\n    borderBottomRightRadius?: IBorderRadiusValue;\n    borderBottomLeftRadius?: IBorderRadiusValue;\n}\n\nexport interface ISpacing {\n    top?: string | number;\n    right?: string | number;\n    bottom?: string | number;\n    left?: string | number;\n    horizontal?: string | number;\n    vertical?: string | number;\n    all?: string | number;\n}\n\nexport interface IFont {\n    color?: ColorHelper | string;\n    size?: FontSizeProperty<TLength>;\n    weight?: FontWeightProperty | number;\n    lineHeight?: LineHeightProperty<TLength>;\n    shadow?: TextShadowProperty;\n    align?: TextAlignProperty;\n    family?: FontFamilyProperty[];\n    transform?: TextTransformProperty;\n    letterSpacing?: LetterSpacingProperty<TLength>;\n    textDecoration?: \"none\" | \"underline\";\n}\n\nexport interface IBackground {\n    color?: ColorHelper | string;\n    attachment?: BackgroundAttachmentProperty;\n    position?: BackgroundPositionProperty<TLength>;\n    repeat?: BackgroundRepeatProperty;\n    size?: BackgroundSizeProperty<TLength>;\n    image?: BackgroundImageProperty;\n    fallbackImage?: BackgroundImageProperty;\n    opacity?: OpacityProperty;\n    unsetBackground?: boolean; // do not apply background.\n}\n\nexport interface IMixedBorderStyles extends IBorderStyles, ISimpleBorderStyle {}\n\ninterface IRadiusFlex {\n    radius?: IRadiusValue;\n}\n\nexport interface IBorderRadiusOptions {\n    fallbackRadii?: object;\n    debug?: boolean;\n    isImportant?: boolean;\n}\n\nexport interface ISimpleBorderStyle {\n    color?: ColorHelper | string;\n    width?: BorderWidthProperty<TLength>;\n    style?: BorderStyleProperty;\n    radius?: IRadiusValue;\n}\n\nexport interface IBorderStyles extends ISimpleBorderStyle, IRadiusFlex {\n    all?: ISimpleBorderStyle & IRadiusFlex;\n    topBottom?: ISimpleBorderStyle & IRadiusFlex;\n    leftRight?: ISimpleBorderStyle & IRadiusFlex;\n    top?: ISimpleBorderStyle & IRadiusFlex;\n    bottom?: ISimpleBorderStyle & IRadiusFlex;\n    left?: ISimpleBorderStyle & IRadiusFlex;\n    right?: ISimpleBorderStyle & IRadiusFlex;\n}\n\nexport interface IStateColors {\n    default?: ColorHelper | string;\n    hover?: ColorHelper | string;\n    focus?: ColorHelper | string;\n    clickFocus?: ColorHelper | string;\n    keyboardFocus?: ColorHelper | string;\n    active?: ColorHelper | string;\n    visited?: ColorHelper | string;\n    allStates?: ColorHelper | string;\n}\nexport interface ILinkColorOverwritesWithOptions extends IStateColors {\n    skipDefault?: boolean;\n}\n\nexport interface IClickableItemOptions {\n    disableTextDecoration?: boolean;\n}\n\n/**\n * @deprecated Use Variables.border({}) instead.\n */\nexport const EMPTY_BORDER: Partial<ISimpleBorderStyle> = {\n    color: undefined,\n    width: undefined,\n    style: undefined,\n    radius: undefined,\n};\n\n/**\n * @deprecated Use Variables.fonts({}) instead.\n */\nexport const EMPTY_FONTS: IFont = {\n    color: undefined,\n    size: undefined,\n    weight: undefined,\n    lineHeight: undefined,\n    shadow: undefined,\n    align: undefined,\n    family: undefined,\n    transform: undefined,\n    letterSpacing: undefined,\n    textDecoration: undefined,\n};\n\n/**\n * @deprecated Use Variables.spacing({}) instead.\n */\nexport const EMPTY_SPACING = {\n    top: undefined as undefined | number | string,\n    right: undefined as undefined | number | string,\n    bottom: undefined as undefined | number | string,\n    left: undefined as undefined | number | string,\n    horizontal: undefined as undefined | number | string,\n    vertical: undefined as undefined | number | string,\n    all: undefined as undefined | number | string,\n};\n\n/**\n * .@deprecated Use Variables.background({}) instead.\n */\nexport const EMPTY_BACKGROUND: IBackground = {\n    color: undefined,\n    attachment: undefined,\n    position: undefined,\n    repeat: undefined,\n    size: undefined,\n    image: undefined,\n    opacity: undefined,\n    unsetBackground: false,\n};\n\n/**\n * .@deprecated Use Variables.clickable({}) instead.\n */\nexport const EMPTY_STATE_COLORS = {\n    default: undefined as undefined | ColorHelper,\n    hover: undefined as undefined | ColorHelper,\n    focus: undefined as undefined | ColorHelper,\n    clickFocus: undefined as undefined | ColorHelper,\n    keyboardFocus: undefined as undefined | ColorHelper,\n    active: undefined as undefined | ColorHelper,\n    visited: undefined as undefined | ColorHelper,\n    allStates: undefined as undefined | ColorHelper,\n};\n\nexport interface IGlobalBorderStyles extends IBorderRadiusOutput {\n    color?: ColorHelper;\n    width?: BorderWidthProperty<TLength> | number;\n    style?: BorderStyleProperty;\n    radius?: BorderRadiusProperty<TLength> | string;\n}\n\nexport enum IIconSizes {\n    SMALL = \"small\",\n    DEFAULT = \"default\",\n    LARGE = \"large\",\n}\n\nexport enum ListSeparation {\n    /**\n     * Item 1\n     * Item 2\n     * Item 3\n     */\n    NONE = \"none\",\n\n    /**\n     * -------\n     * |Item 1|\n     * --------\n     *\n     * --------\n     * |Item 2|\n     * --------\n     */\n    BORDER = \"border\",\n    /**\n     * Item 1\n     * -------\n     * Item 2\n     * -------\n     * Item 3\n     */\n    SEPARATOR = \"separator\",\n}\n\nexport interface IBoxOptions {\n    borderType: BorderType;\n    background: IBackground;\n    spacing: ISpacing;\n    border: ISimpleBorderStyle;\n    itemSpacing: number;\n    itemSpacingOnAllItems: boolean;\n}\n\nexport interface IContentBoxes {\n    depth1: IBoxOptions;\n    depth2: IBoxOptions;\n    depth3: IBoxOptions;\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { buttonGlobalVariables } from \"@library/forms/Button.variables\";\nimport { buttonResetMixin, buttonSizing } from \"@library/forms/buttonMixins\";\nimport { ButtonPreset } from \"@library/forms/ButtonPreset\";\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { IButtonType } from \"@library/forms/styleHelperButtonInterface\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { Variables } from \"@library/styles/Variables\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { percent } from \"csx\";\nimport merge from \"lodash/merge\";\nimport { CSSObject } from \"@emotion/css\";\nimport cloneDeep from \"lodash/cloneDeep\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { defaultTransition } from \"@library/styles/styleHelpersAnimation\";\n\nexport const generateButtonStyleProperties = (props: {\n    buttonTypeVars: IButtonType;\n    setZIndexOnState?: boolean;\n    stateSuffix?: string;\n    debug?: boolean | string;\n    globalVars?: any;\n    formElementVars?: any;\n    buttonGlobalVars?: any;\n}) => {\n    const {\n        setZIndexOnState = false,\n        stateSuffix,\n        globalVars = globalVariables(),\n        formElementVars = formElementsVariables(),\n        buttonGlobalVars = buttonGlobalVariables(),\n        debug = false,\n    } = props;\n\n    const zIndex = setZIndexOnState ? 1 : undefined;\n    const buttonDimensions = props.buttonTypeVars.sizing || {};\n\n    const state = props.buttonTypeVars.state ?? {};\n    const colors = props.buttonTypeVars.colors ?? {\n        bg: globalVars.mainColors.bg,\n        fg: globalVars.mainColors.fg,\n    };\n\n    // Make sure we have the second level, if it was empty\n    const buttonTypeVars = merge(\n        {\n            preset: ButtonPreset.ADVANCED,\n            colors,\n            state,\n            hover: state,\n            focus: state,\n            active: state,\n            focusAccessible: state,\n        },\n        props.buttonTypeVars,\n    );\n\n    let backgroundColor =\n        buttonTypeVars.colors && buttonTypeVars.colors.bg ? buttonTypeVars.colors.bg : buttonGlobalVars.colors.bg;\n\n    let fontColor =\n        buttonTypeVars.fonts && buttonTypeVars.fonts.color\n            ? buttonTypeVars.fonts.color\n            : buttonTypeVars.colors && buttonTypeVars.colors.fg\n            ? buttonTypeVars.colors.fg\n            : undefined;\n\n    if (!buttonTypeVars.borders) {\n        buttonTypeVars.borders = {};\n    }\n\n    if (!buttonTypeVars.borders.color) {\n        buttonTypeVars.borders = {};\n    }\n\n    const borderVars = {\n        ...buttonGlobalVars.borders,\n        ...buttonTypeVars.borders,\n    };\n\n    const defaultBorder = Mixins.border(borderVars, {\n        fallbackBorderVariables: buttonGlobalVars.border,\n        debug,\n    });\n\n    const hoverBorder =\n        buttonTypeVars.hover && buttonTypeVars.hover.borders\n            ? merge(\n                  cloneDeep(defaultBorder),\n                  Mixins.border(\n                      { ...buttonTypeVars.hover.borders },\n                      { fallbackBorderVariables: buttonGlobalVars.border },\n                  ),\n              )\n            : {};\n\n    const activeBorder =\n        buttonTypeVars.active && buttonTypeVars.active.borders\n            ? merge(\n                  cloneDeep(defaultBorder),\n                  Mixins.border(\n                      { ...buttonTypeVars.active.borders },\n                      { fallbackBorderVariables: buttonGlobalVars.border },\n                  ),\n              )\n            : {};\n\n    const focusBorder =\n        buttonTypeVars.focus && buttonTypeVars.focus.borders\n            ? merge(\n                  cloneDeep(defaultBorder),\n                  Mixins.border(\n                      { ...(buttonTypeVars.focus && buttonTypeVars.focus.borders) },\n                      { fallbackBorderVariables: buttonGlobalVars.border },\n                  ),\n              )\n            : defaultBorder;\n\n    const focusAccessibleBorder =\n        buttonTypeVars.focusAccessible && buttonTypeVars.focusAccessible.borders\n            ? merge(\n                  cloneDeep(defaultBorder),\n                  Mixins.border(\n                      { ...buttonTypeVars.focusAccessible.borders },\n                      { fallbackBorderVariables: buttonGlobalVars.border },\n                  ),\n              )\n            : {};\n\n    const fontVars = Variables.font({ ...buttonGlobalVars.font, ...buttonTypeVars.fonts });\n\n    const paddingHorizontal =\n        buttonTypeVars.padding && buttonTypeVars.padding.horizontal !== undefined\n            ? buttonTypeVars.padding.horizontal\n            : buttonGlobalVars.padding.horizontal;\n    const fontSize =\n        buttonTypeVars.fonts && buttonTypeVars.fonts.size !== undefined\n            ? buttonTypeVars.fonts.size\n            : buttonGlobalVars.font.size;\n\n    const { minHeight, minWidth } = buttonDimensions;\n    const { skipDynamicPadding = false } = buttonTypeVars;\n\n    const result: CSSObject = {\n        ...buttonResetMixin(),\n        textOverflow: \"ellipsis\",\n        overflow: \"hidden\",\n        width: \"auto\",\n        maxWidth: percent(100),\n        backgroundColor: ColorsUtils.colorOut(backgroundColor),\n        ...Mixins.font({\n            ...fontVars,\n            size: fontSize,\n            color: fontColor,\n            weight: fontVars.weight ?? undefined,\n        }),\n        WebkitFontSmoothing: \"antialiased\",\n        ...defaultBorder,\n        ...buttonSizing({\n            minHeight,\n            minWidth,\n            fontSize,\n            paddingHorizontal,\n            formElementVars: formElementVars,\n            borderRadius: borderVars[\"radius\"] ?? undefined,\n            skipDynamicPadding,\n        }),\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        position: \"relative\",\n        textAlign: \"center\",\n        whiteSpace: \"nowrap\",\n        verticalAlign: \"middle\",\n        justifyContent: \"center\",\n        touchAction: \"manipulation\",\n        cursor: \"pointer\",\n        ...defaultTransition(\"background\", \"color\", \"border\"),\n        ...{\n            [`&:not([disabled]):not(.focus-visible)`]: {\n                outline: 0,\n            },\n            [`&:not([disabled]):hover${stateSuffix ?? \"\"}`]: {\n                zIndex,\n                color: ColorsUtils.colorOut(\n                    buttonTypeVars.hover && buttonTypeVars.hover.colors && buttonTypeVars.hover.colors.fg\n                        ? buttonTypeVars.hover.colors.fg\n                        : undefined,\n                ),\n                backgroundColor: ColorsUtils.colorOut(\n                    buttonTypeVars.hover && buttonTypeVars.hover.colors && buttonTypeVars.hover.colors.bg\n                        ? buttonTypeVars.hover.colors.bg\n                        : undefined,\n                ),\n                ...hoverBorder,\n            },\n            [`&:not([disabled]):focus${stateSuffix ?? \"\"}`]: {\n                zIndex,\n                color: ColorsUtils.colorOut(\n                    buttonTypeVars.focus!.colors && buttonTypeVars.focus!.colors.fg\n                        ? buttonTypeVars.focus!.colors.fg\n                        : undefined,\n                ),\n                backgroundColor: ColorsUtils.colorOut(\n                    buttonTypeVars.focus!.colors && buttonTypeVars.focus!.colors.bg\n                        ? buttonTypeVars.focus!.colors.bg\n                        : undefined,\n                ),\n                ...focusBorder,\n            },\n            [`&:not([disabled]):active${stateSuffix ?? \"\"}`]: {\n                zIndex,\n                color: ColorsUtils.colorOut(\n                    buttonTypeVars.active!.colors && buttonTypeVars.active!.colors.fg\n                        ? buttonTypeVars.active!.colors.fg\n                        : undefined,\n                ),\n                backgroundColor: ColorsUtils.colorOut(\n                    buttonTypeVars.active!.colors && buttonTypeVars.active!.colors.bg\n                        ? buttonTypeVars.active!.colors.bg\n                        : undefined,\n                ),\n                ...activeBorder,\n            },\n            [`&:not([disabled]):focus-visible${stateSuffix ?? \"\"}`]: {\n                zIndex,\n                color: ColorsUtils.colorOut(\n                    buttonTypeVars.focusAccessible!.colors && buttonTypeVars.focusAccessible!.colors.fg\n                        ? buttonTypeVars.focusAccessible!.colors.fg\n                        : undefined,\n                ),\n                backgroundColor: ColorsUtils.colorOut(\n                    buttonTypeVars.focusAccessible!.colors && buttonTypeVars.focusAccessible!.colors.bg\n                        ? buttonTypeVars.focusAccessible!.colors.bg\n                        : undefined,\n                ),\n                ...focusAccessibleBorder,\n            },\n            \"&[disabled]\": {\n                opacity: formElementVars.disabled.opacity,\n            },\n            ...(buttonTypeVars.extraNested ?? {}),\n        },\n    };\n\n    return result;\n};\n\nconst generateButtonClass = (\n    buttonTypeVars: IButtonType,\n    options?: { setZIndexOnState?: boolean; debug?: boolean | string },\n) => {\n    const { setZIndexOnState = false, debug = false } = options || {};\n    const style = styleFactory(`button-${buttonTypeVars.name}`);\n    const buttonStyles = generateButtonStyleProperties({\n        buttonTypeVars,\n        setZIndexOnState,\n    });\n    const buttonClass = style(buttonStyles);\n    return buttonClass;\n};\n\nexport default generateButtonClass;\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { em, quote } from \"csx\";\nimport { CSSObject } from \"@emotion/css\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { negative } from \"@library/styles/styleHelpers\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\n\n/**\n * Many fonts don't set the capital letter to take the whole line height. This mixin is used to line up the top of the Text with the top of the container.\n *\n * @see https://medium.com/codyhouse/line-height-crop-a-simple-css-formula-to-remove-top-space-from-your-text-9c3de06d7c6f\n *\n * @param nestedStyles - Any additional styles to add\n * @param letterToLineHeightRatio - The ratio is a value from 0 to 1 to set how much of\n *      the line height the capital takes compared to the line height\n *      Example, if it takes 3/4 of the line height, set .75\n * @param verticalOffset - Sometimes the base line isn't centered,\n *      0 remove from top, .5 use font default, 1 remove from bottom\n *\n *  When \"leading-trim\" is supported, we can instead output:\n *  ```\n *      text-edge: cap alphabetic;\n *      leading-trim: both;\n *  ```\n */\nexport function lineHeightAdjustment(\n    nestedStyles?: CSSObject,\n    letterToLineHeightRatio?: number,\n    verticalOffset?: number,\n) {\n    const globalVars = globalVariables();\n    const vOffset = verticalOffset ? verticalOffset : globalVars.fonts.alignment.headings.verticalOffset; // for now we only support one font, but if we add more than one, we'll need to distinguish between them\n    const letterRatio = letterToLineHeightRatio\n        ? letterToLineHeightRatio\n        : globalVars.fonts.alignment.headings.capitalLetterRatio; // for now we only support one font, but if we add more than one, we'll need to distinguish between them\n    enum Position {\n        BEFORE = \"before\",\n        AFTER = \"after\",\n    }\n\n    /**\n     * Calculate the actual margin values.\n     */\n    const calculateOffset = (type: Position) => {\n        const isBefore = type === Position.BEFORE;\n        const offset = isBefore ? vOffset : 1 - vOffset!; // If the text is not centered in the line, we need to cheat it vertically\n        const emptySpace = 1 - letterRatio; // This is the pixel value of the dead space in the line from top and/or bottom of line\n        const margin = emptySpace * offset!; // Splits the empty space between top and bottom. .5 gives you even amount on both sides.\n        const verticalMargin = em(emptySpace < 1 ? negative(margin) : margin);\n\n        if (verticalMargin === 0) {\n            return null;\n        } else {\n            return {\n                content: quote(\"\"),\n                display: \"block\",\n                position: \"relative\",\n                height: 0,\n                width: 0,\n                ...Mixins.margin({\n                    top: isBefore ? verticalMargin : undefined,\n                    bottom: !isBefore ? verticalMargin : undefined,\n                }),\n            };\n        }\n    };\n    const result = nestedStyles ? nestedStyles : {};\n\n    const before = calculateOffset(Position.BEFORE) as CSSObject;\n    if (before) {\n        result[\"::before\"] = before;\n    }\n\n    const after = calculateOffset(Position.AFTER) as CSSObject;\n    if (after) {\n        result[\"::after\"] = after;\n    }\n\n    return result;\n}\n\nexport function defaultHyphenation(): CSSObject {\n    const vars = globalVariables().userContentHyphenation;\n    return {\n        msHyphens: \"auto\",\n        WebkitHyphens: \"auto\",\n        hyphens: \"auto\",\n        /* legacy properties */\n        \"-webkit-hyphenate-limit-before\": vars.minimumCharactersBeforeBreak,\n        \"-webkit-hyphenate-limit-after\": vars.minimumCharactersAfterBreak,\n        /* current proposal */\n        \"-moz-hyphenate-limit-chars\": `${vars.minimumCharactersToHyphenate} ${vars.minimumCharactersBeforeBreak} ${vars.minimumCharactersAfterBreak}` /* not yet supported */,\n        \"-webkit-hyphenate-limit-chars\": `${vars.minimumCharactersToHyphenate} ${vars.minimumCharactersBeforeBreak} ${vars.minimumCharactersAfterBreak}` /* not yet supported */,\n        msHyphenateLimitChars: `${vars.minimumCharactersToHyphenate} ${vars.minimumCharactersBeforeBreak} ${vars.minimumCharactersAfterBreak}`,\n        hyphenateLimitChars: `${vars.minimumCharactersToHyphenate} ${vars.minimumCharactersBeforeBreak} ${vars.minimumCharactersAfterBreak}`,\n        // Maximum consecutive lines to have hyphenation\n        msHyphenateLimitLines: vars.maximumConsecutiveBrokenLines,\n        \"-webkit-hyphenate-limit-lines\": vars.maximumConsecutiveBrokenLines,\n        \"hyphenate-limit-lines\": vars.maximumConsecutiveBrokenLines,\n        // Limit \"zone\" to hyphenate\n        \"hyphenate-limit-zone\": styleUnit(vars.hyphenationZone),\n    };\n}\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\n\nimport { ISearchForm, ISearchRequestQuery } from \"@library/search/searchTypes\";\nimport React from \"react\";\nimport { ISelectBoxItem } from \"@library/forms/select/SelectBox\";\n\nexport class SearchService {\n    private static _supportsExtensions = false;\n    static setSupportsExtensions(supports: boolean) {\n        this._supportsExtensions = supports;\n    }\n    static supportsExtensions(): boolean {\n        return this._supportsExtensions;\n    }\n    static extraFilters = [] as IExtraFilter[];\n    static addSearchFilter = (domain: string, filterNode: React.ReactNode) => {\n        SearchService.extraFilters.push({\n            searchDomain: domain,\n            filterNode,\n        });\n    };\n\n    static pluggableDomains = [] as ISearchDomain[];\n\n    static addPluggableDomain = (domain: ISearchDomain) => {\n        SearchService.pluggableDomains.push(domain);\n    };\n\n    static subTypes = {} as Record<string, ISearchSubType>;\n    static addSubType = (subType: ISearchSubType) => {\n        SearchService.subTypes[subType.type] = subType;\n    };\n    static getSubTypes = (): ISearchSubType[] => {\n        return Object.values(SearchService.subTypes);\n    };\n    static getSubType = (type: string): ISearchSubType | null => {\n        return SearchService.subTypes[type] ?? null;\n    };\n}\ninterface ISearchSubType {\n    domain?: string;\n    recordType: string;\n    icon: React.ReactNode;\n    type: string;\n    label: string;\n}\ninterface IExtraFilter {\n    searchDomain: string;\n    filterNode: React.ReactNode;\n}\n\nexport interface ISearchDomain {\n    key: string;\n    name: string;\n    sort: number; // The order the panel appears from left to right\n    icon: React.ReactNode;\n    heading?: React.ReactNode;\n    extraSearchAction?(): void;\n    getName?(): string;\n    PanelComponent: React.ComponentType<any>;\n    resultHeader?: React.ReactNode;\n    getAllowedFields(): string[];\n    getRecordTypes(): string[];\n    transformFormToQuery(form: Partial<ISearchForm>): Partial<ISearchRequestQuery>;\n    getDefaultFormValues(): Partial<ISearchForm>;\n    isIsolatedType(): boolean;\n    getSortValues(): ISelectBoxItem[];\n    ResultComponent: React.ComponentType<any>;\n    ResultWrapper?: React.ComponentType<any>;\n    MetaComponent?: React.ComponentType<any>;\n    hasSpecificRecord?(form: Partial<ISearchForm>): boolean;\n    getSpecificRecord?(form: Partial<ISearchForm>): number;\n    SpecificRecordPanel?: React.ComponentType<any>;\n    SpecificRecordComponent?: React.ComponentType<any>;\n    showSpecificRecordCrumbs?(): boolean; // We could later make this into a config object\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { rgba, percent, linearGradient } from \"csx\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { keyframes } from \"@library/styles/styleShim\";\n\nexport const loadingRectangleVariables = useThemeCache(() => {\n    const makeVars = variableFactory(\"loadingRectatngle\");\n\n    const colors = makeVars(\"colors\", {\n        bg: linearGradient(\n            \"to right\",\n            globalVariables().mixBgAndFg(0.15),\n            globalVariables().mixBgAndFg(0.2),\n            globalVariables().mixBgAndFg(0.25),\n        ),\n    });\n\n    const loadingAnimation = keyframes({\n        \"0%\": { opacity: 0.8 },\n        \"50%\": { opacity: 1 },\n        \"100%\": { opacity: 0.8 },\n    });\n\n    return {\n        colors,\n        loadingAnimation,\n    };\n});\n\nconst style = styleFactory(\"loadingRectangle\");\nexport const loadingRectangleClass = useThemeCache((height: string | number, width: string | number = \"100%\") => {\n    const vars = loadingRectangleVariables();\n    return style({\n        display: \"block\",\n        borderRadius: 2,\n        background: ColorsUtils.colorOut(vars.colors.bg),\n        height: styleUnit(height),\n        width: styleUnit(width),\n        animationName: vars.loadingAnimation,\n        animationDuration: \"4s\",\n        animationIterationCount: \"infinite\",\n        maxWidth: percent(100),\n    });\n});\n\nexport const loadingSpacerClass = useThemeCache((height: string | number) => {\n    return style({\n        display: \"block\",\n        height: styleUnit(height),\n        width: percent(100),\n    });\n});\n\nexport const loadingCircleClass = useThemeCache((height: string | number) => {\n    const vars = loadingRectangleVariables();\n    return style({\n        height: styleUnit(50),\n        width: styleUnit(50),\n        background: ColorsUtils.colorOut(vars.colors.bg),\n        margin: 20,\n        borderRadius: 50,\n    });\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { DetailedHTMLProps } from \"react\";\nimport { loadingCircleClass, loadingRectangleClass, loadingSpacerClass } from \"@library/loaders/loadingRectangleStyles\";\nimport classNames from \"classnames\";\n\ninterface IProps extends DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement> {\n    height: string | number;\n    width?: string | number;\n}\n\nexport function LoadingRectangle(props: IProps) {\n    return <div {...props} className={classNames(loadingRectangleClass(props.height, props.width), props.className)} />;\n}\n\nexport function LoadingSpacer(props: IProps) {\n    return <div {...props} className={classNames(loadingSpacerClass(props.height), props.className)} />;\n}\n\nexport function LoadingCircle(props: IProps) {\n    return <div {...props} className={classNames(loadingCircleClass(props.height), props.className)} />;\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { absolutePosition, defaultTransition, disabledInput, userSelect } from \"@library/styles/styleHelpers\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { Variables } from \"@library/styles/Variables\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { calc, em, important, percent, px } from \"csx\";\nimport { CSSObject } from \"@emotion/css\";\n\nexport const checkRadioVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const formElementVars = formElementsVariables();\n    const themeVars = variableFactory(\"checkRadio\");\n\n    const border = themeVars(\n        \"border\",\n        Variables.border({\n            ...formElementVars.border,\n            radius: 2,\n        }),\n    );\n\n    const main = themeVars(\"check\", {\n        fg: globalVars.mainColors.bg,\n        bg: globalVars.mainColors.bg,\n        checked: {\n            fg: globalVars.elementaryColors.white,\n            bg: globalVars.mainColors.primary,\n            border: globalVars.mainColors.primary,\n        },\n        checkedHover: {\n            fg: globalVars.mainColors.primary,\n            bg: globalVars.mainColors.primary.fade(0.15),\n        },\n        hover: {\n            border: {\n                color: globalVars.mainColors.primary,\n            },\n            fg: globalVars.mainColors.primary,\n            bg: globalVars.mainColors.primary.fade(0.1),\n            opacity: 0.8,\n        },\n    });\n\n    const checkBox = themeVars(\"checkBox\", {\n        check: {\n            width: 10,\n            height: 10,\n        },\n        disk: {\n            width: 6,\n            height: 6,\n        },\n    });\n\n    const radioButton = themeVars(\"radioButton\", {\n        icon: {\n            width: 6,\n            height: 6,\n        },\n    });\n\n    const labelNote = themeVars(\"labelNote\", {\n        fontSize: \".8em\",\n        opacity: 0.7,\n    });\n\n    const sizing = themeVars(\"sizing\", {\n        width: 18,\n    });\n\n    const spacing = themeVars(\"spacing\", {\n        horizontal: 6,\n        vertical: 9,\n    });\n\n    return {\n        border,\n        main,\n        checkBox,\n        radioButton,\n        labelNote,\n        sizing,\n        spacing,\n    };\n});\n\nexport const checkRadioClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const vars = checkRadioVariables();\n    const style = styleFactory(\"checkRadio\");\n\n    const isDashboard = style(\"isDashboard\", {});\n\n    //.radioButton-label,\n    // .checkbox-label\n    const label = style(\"label\", {\n        lineHeight: styleUnit(vars.sizing.width),\n        paddingLeft: styleUnit(8),\n        cursor: \"pointer\",\n        ...userSelect(),\n        width: calc(`100% - ${styleUnit(vars.sizing.width)}`),\n    });\n\n    const labelBold = style(\"labelBold\", {\n        ...Mixins.font({\n            weight: globalVars.fonts.weights.semiBold,\n        }),\n    });\n\n    const labelNote = style(\"labelNote\", {\n        display: \"inline-block\",\n        fontSize: styleUnit(vars.labelNote.fontSize),\n        marginLeft: styleUnit(24),\n        opacity: vars.labelNote.opacity,\n        verticalAlign: \"middle\",\n    });\n\n    // .radioButton-disk,\n    // .checkbox-box\n    const iconContainer = style(\"iconContainer\", {\n        ...defaultTransition(\"border\", \"background\", \"opacity\"),\n        position: \"relative\",\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: styleUnit(vars.sizing.width),\n        height: styleUnit(vars.sizing.width),\n        flexBasis: styleUnit(vars.sizing.width),\n        verticalAlign: \"middle\",\n        cursor: \"pointer\",\n        backgroundColor: ColorsUtils.colorOut(vars.main.bg),\n        ...Mixins.border(vars.border),\n    });\n\n    const radioIcon = style(\"radioIcon\", {\n        ...absolutePosition.middleLeftOfParent(),\n        display: \"none\",\n        width: styleUnit(vars.radioButton.icon.width),\n        height: styleUnit(vars.radioButton.icon.height),\n        margin: \"auto\",\n    });\n\n    const checkIcon = style(\"checkBoxIcon\", {\n        ...absolutePosition.middleOfParent(),\n        display: \"none\",\n        width: styleUnit(vars.checkBox.check.width),\n        height: styleUnit(vars.checkBox.check.height),\n        color: \"inherit\",\n        margin: \"auto\",\n    });\n\n    const disk = style(\"disk\", {\n        borderRadius: percent(50),\n    });\n\n    const diskIcon = style(\"diskIcon\", {\n        display: \"none\",\n        width: vars.checkBox.disk.width,\n        height: vars.checkBox.disk.height,\n    });\n\n    const uncheckedStateStyles: CSSObject = {\n        borderColor: ColorsUtils.colorOut(vars.main.hover.border.color),\n        backgroundColor: ColorsUtils.colorOut(vars.main.hover.bg),\n    };\n\n    const checkedStateStyles: CSSObject = {\n        backgroundColor: ColorsUtils.colorOut(vars.main.checkedHover.bg),\n        color: ColorsUtils.colorOut(vars.main.checkedHover.fg),\n    };\n\n    // .radioButton-input,\n    // .checkbox-input\n    const input = style(\"input\", {\n        ...Mixins.absolute.srOnly(),\n        ...{\n            [`&:hover:not(:disabled) + .${iconContainer}`]: uncheckedStateStyles,\n            [`&.focus-visible:not(:disabled) + .${iconContainer}`]: uncheckedStateStyles,\n            [`&:checked + .${iconContainer}`]: {\n                borderColor: ColorsUtils.colorOut(vars.main.checked.border),\n                color: ColorsUtils.colorOut(vars.main.checked.fg),\n                backgroundColor: ColorsUtils.colorOut(vars.main.checked.bg),\n                ...{\n                    \"& svg\": {\n                        display: \"block\",\n                    },\n                },\n            },\n            [`&:hover:checked:not(:disabled) + .${iconContainer}`]: checkedStateStyles,\n            [`&.focus-visible:checked:not(:disabled) + .${iconContainer}`]: checkedStateStyles,\n            [`&:disabled ~ .${label}`]: disabledInput(),\n            [`&:disabled + .${iconContainer}`]: disabledInput(),\n        },\n    });\n\n    //.radioButton,\n    //.checkbox\n    const root = style({\n        display: important(\"flex\"),\n        flexWrap: \"wrap\",\n        alignItems: \"center\",\n        outline: 0,\n        ...Mixins.padding(vars.spacing),\n        ...{\n            [`&&`]: {\n                margin: 0,\n            },\n            [`&.isHorizontal.isHorizontal.isHorizontal`]: Mixins.margin({\n                all: 0,\n                right: px(globalVars.spacer.size / 2),\n            }),\n            [`&.${isDashboard} + .info`]: {\n                ...Mixins.margin({\n                    top: styleUnit(2),\n                    bottom: styleUnit(6),\n                }),\n            },\n        },\n    });\n\n    const grid = style(\"grid\", {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        alignItems: \"strech\",\n        ...{\n            [`.${root}`]: {\n                flexBasis: \"50%\",\n                display: \"block !important\",\n                ...Mixins.margin({\n                    top: 0,\n                }),\n            },\n            [`.${root}:nth-child(n + 3)`]: {\n                ...Mixins.margin({\n                    top: styleUnit(globalVars.gutter.half),\n                }),\n            },\n            [`.${root}:nth-child(odd)`]: {\n                ...Mixins.padding({\n                    right: styleUnit(globalVars.gutter.half),\n                }),\n            },\n        },\n    });\n\n    return {\n        root,\n        label,\n        labelBold,\n        labelNote,\n        iconContainer,\n        radioIcon,\n        checkIcon,\n        disk,\n        diskIcon,\n        input,\n        grid,\n        isDashboard,\n    };\n});\n","import React, { useContext } from \"react\";\nimport Quill from \"quill/core\";\n\nexport interface IEmbedContext {\n    inEditor?: boolean;\n    descriptionID?: string;\n    onRenderComplete?: () => void;\n    syncBackEmbedValue?: (values: object) => void;\n    quill?: Quill | null;\n    isSelected?: boolean;\n    selectSelf?: () => void;\n    deleteSelf?: () => void;\n}\nexport const EmbedContext = React.createContext<IEmbedContext>({});\nexport function useEmbedContext() {\n    return useContext(EmbedContext);\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\n\ninterface IProps {\n    condition: boolean;\n    className?: string;\n    tag?: keyof JSX.IntrinsicElements;\n    component?: React.ComponentType<any>;\n    children?: React.ReactNode;\n    componentProps?: object;\n}\n\n/**\n * Facilitates wrapping conditionally a component\n */\nexport default function ConditionalWrap(props: IProps) {\n    const { condition, className, tag, children, component, componentProps = {} } = props;\n    const Component = component || tag || \"div\";\n    if (condition) {\n        return (\n            <Component className={className} {...componentProps}>\n                {children}\n            </Component>\n        );\n    } else {\n        return <>{children}</>;\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport classNames from \"classnames\";\nimport { t } from \"@library/utility/appUtils\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport Button from \"@library/forms/Button\";\nimport { CloseCompactIcon, CloseIcon } from \"@library/icons/common\";\n\ninterface IProps {\n    className?: string;\n    disabled?: boolean;\n    onClick: any;\n    baseClass?: ButtonTypes;\n    title?: string;\n    compact?: boolean;\n}\n\n/**\n * A standardized close button.\n */\nexport default class CloseButton extends React.PureComponent<IProps> {\n    public static defaultProps = {\n        baseClass: ButtonTypes.ICON,\n        compact: false,\n    };\n\n    /**\n     * There are 2 rendering modes. 1 with w real icon, and one using text in place of an icon.\n     */\n    public render() {\n        const closeLabel = this.props.title ? this.props.title : t(\"Close\");\n        const componentClasses = classNames(\"buttonClose\", \"closeButton\", this.props.className);\n        return (\n            <Button\n                disabled={this.props.disabled}\n                className={componentClasses}\n                title={closeLabel}\n                onClick={this.props.onClick}\n                baseClass={this.props.baseClass}\n            >\n                {this.props.compact ? <CloseCompactIcon /> : <CloseIcon />}\n            </Button>\n        );\n    }\n}\n","/**\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport Heading, { ICommonHeadingProps } from \"@library/layout/Heading\";\nimport { frameHeaderClasses } from \"@library/layout/frame/frameHeaderStyles\";\nimport { t } from \"@library/utility/appUtils\";\nimport Button from \"@library/forms/Button\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport CloseButton from \"@library/navigation/CloseButton\";\nimport classNames from \"classnames\";\nimport backLinkClasses from \"@library/routing/links/backLinkStyles\";\nimport { LeftChevronIcon } from \"@library/icons/common\";\n\nexport interface IFrameHeaderProps extends ICommonHeadingProps {\n    closeFrame?: (e) => void; // Necessary when in modal, but not if in flyouts\n    onBackClick?: () => void;\n    titleClass?: string;\n    srOnlyTitle?: boolean;\n    titleID?: string;\n    children?: React.ReactNode;\n    borderless?: boolean;\n}\n\n/**\n * Generic header for frame\n */\nexport default class FrameHeader extends React.PureComponent<IFrameHeaderProps> {\n    public static defaultProps = {\n        heading: 2,\n        srOnlyTitle: false,\n    };\n\n    public render() {\n        const backTitle = t(\"Back\");\n        const classes = frameHeaderClasses();\n\n        let backLink;\n        if (this.props.onBackClick) {\n            backLink = (\n                <Button\n                    title={backTitle}\n                    aria-label={backTitle}\n                    baseClass={ButtonTypes.ICON_COMPACT}\n                    onClick={this.props.onBackClick}\n                    className={classNames(\"frameHeader-backButton\", classes.backButton)}\n                >\n                    <LeftChevronIcon className={classNames(classes.backButtonIcon)} centred={true} />\n                </Button>\n            );\n        }\n\n        let closeButton;\n        if (this.props.closeFrame) {\n            closeButton = (\n                <div className={classes.action}>\n                    <CloseButton className={classes.close} onClick={this.props.closeFrame} compact />\n                </div>\n            );\n        }\n\n        return (\n            <header\n                className={classNames(\n                    \"frameHeader\",\n                    this.props.className,\n                    classes.root,\n                    this.props.borderless && classes.rootBorderLess,\n                )}\n            >\n                <Heading\n                    id={this.props.titleID}\n                    title={this.props.title}\n                    depth={this.props.depth}\n                    className={classNames(\"frameHeader-heading\", classes.heading, this.props.titleClass, {\n                        \"sr-only\": this.props.srOnlyTitle,\n                    })}\n                >\n                    {backLink}\n                    {this.props.title}\n                </Heading>\n                {this.props.children}\n                {closeButton}\n            </header>\n        );\n    }\n}\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\n\nexport enum EmbedContainerSize {\n    SMALL = \"small\",\n    MEDIUM = \"medium\",\n    FULL_WIDTH = \"fullwidth\",\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { produce } from \"immer\";\nimport { reducerWithInitialState } from \"typescript-fsa-reducers\";\nimport { ILocale } from \"@vanilla/i18n\";\nimport { ILoadable, LoadStatus } from \"@library/@types/api/core\";\nimport { getAllLocalesACs } from \"@library/locales/localeActions\";\n\nexport interface ILocaleState {\n    locales: ILoadable<ILocale[]>;\n}\n\nexport const INITIAL_LOCALE_STATE = {\n    locales: {\n        status: LoadStatus.PENDING,\n    },\n};\n\nexport const localeReducer = produce(\n    reducerWithInitialState<ILocaleState>(INITIAL_LOCALE_STATE)\n        .case(getAllLocalesACs.started, (nextState, payload) => {\n            nextState.locales.status = LoadStatus.LOADING;\n            return nextState;\n        })\n        .case(getAllLocalesACs.done, (nextState, payload) => {\n            nextState.locales.status = LoadStatus.SUCCESS;\n            nextState.locales.data = payload.result;\n            return nextState;\n        })\n        .case(getAllLocalesACs.failed, (nextState, payload) => {\n            nextState.locales.status = LoadStatus.ERROR;\n            nextState.locales.error = payload.error;\n            return nextState;\n        }),\n);\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nimport NotificationsActions from \"@library/features/notifications/NotificationsActions\";\nimport ReduxReducer from \"@library/redux/ReduxReducer\";\nimport produce from \"immer\";\nimport { ILoadable, LoadStatus } from \"@library/@types/api/core\";\nimport { INotification } from \"@library/@types/api/notifications\";\n\ninterface INotificationsState {\n    notificationsByID: ILoadable<{ [key: number]: INotification }>;\n}\n\nexport interface INotificationsStoreState {\n    notifications: INotificationsState;\n}\n\nexport interface IWithNotifications extends INotificationsState {}\n\n/**\n * Manage notification state in Redux.\n */\nexport default class NotificationsModel implements ReduxReducer<INotificationsState> {\n    public readonly initialState: INotificationsState = {\n        notificationsByID: {\n            data: {},\n            status: LoadStatus.PENDING,\n        },\n    };\n\n    /**\n     * Update the notifications state, based on the dispatched action.\n     *\n     * @param state Previous state of the store.\n     * @param action Name for the type of action that was dispatched.\n     */\n    public reducer = (\n        state: INotificationsState = this.initialState,\n        action: typeof NotificationsActions.ACTION_TYPES,\n    ): INotificationsState => {\n        return produce(state, (nextState) => {\n            switch (action.type) {\n                case NotificationsActions.GET_NOTIFICATIONS_REQUEST:\n                    nextState.notificationsByID.status = LoadStatus.LOADING;\n                    break;\n                case NotificationsActions.GET_NOTIFICATIONS_RESPONSE: {\n                    nextState.notificationsByID.status = LoadStatus.SUCCESS;\n                    nextState.notificationsByID.data = {};\n                    const notifications = action.payload.data as INotification[];\n                    notifications.forEach((notification) => {\n                        nextState.notificationsByID.data![notification.notificationID] = notification;\n                    });\n                    break;\n                }\n                case NotificationsActions.GET_NOTIFICATIONS_ERROR:\n                    nextState.notificationsByID.status = LoadStatus.ERROR;\n                    nextState.notificationsByID.error = action.payload;\n                    break;\n                case NotificationsActions.MARK_ALL_READ_RESPONSE: {\n                    const { data } = nextState.notificationsByID;\n                    if (data) {\n                        for (const id of Object.keys(data)) {\n                            (data[id] as INotification).read = true;\n                        }\n                    }\n                    break;\n                }\n            }\n        });\n    };\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport ReduxActions, { ActionsUnion } from \"@library/redux/ReduxActions\";\nimport { IConversation, IGetConversationsRequest } from \"@library/@types/api/conversations\";\n\n/**\n * Redux actions for the current user's conversations.\n */\nexport default class ConversationsActions extends ReduxActions {\n    public static readonly GET_CONVERSATIONS_REQUEST = \"@@conversations/GET_CONVERSATIONS_REQUEST\";\n    public static readonly GET_CONVERSATIONS_RESPONSE = \"@@conversations/GET_CONVERSATIONS_RESPONSE\";\n    public static readonly GET_CONVERSATIONS_ERROR = \"@@conversations/GET_CONVERSATIONS_ERROR\";\n\n    /**\n     * Action creators for getting a paginated list of the current user's conversations.\n     */\n    public static getConversationsACs = ReduxActions.generateApiActionCreators(\n        ConversationsActions.GET_CONVERSATIONS_REQUEST,\n        ConversationsActions.GET_CONVERSATIONS_RESPONSE,\n        ConversationsActions.GET_CONVERSATIONS_ERROR,\n        {} as IConversation[],\n        {},\n    );\n\n    /**\n     * Union of all possible action types in this class.\n     */\n    public static readonly ACTION_TYPES: ActionsUnion<typeof ConversationsActions.getConversationsACs>;\n\n    /**\n     * Get a paginated list of conversations for the current user.\n     */\n    public getConversations = (params: IGetConversationsRequest = {}) => {\n        return this.dispatchApi(\"get\", \"/conversations\", ConversationsActions.getConversationsACs, params);\n    };\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport ConversationsActions from \"@library/features/conversations/ConversationsActions\";\nimport ReduxReducer from \"@library/redux/ReduxReducer\";\nimport produce from \"immer\";\nimport { ILoadable, LoadStatus } from \"@library/@types/api/core\";\nimport { IConversation } from \"@library/@types/api/conversations\";\n\ninterface IConversationsState {\n    conversationsByID: ILoadable<{\n        [key: number]: IConversation;\n    }>;\n}\n\nexport interface IConversationsStoreState {\n    conversations: IConversationsState;\n}\n\n/**\n * Manage conversations state in Redux.\n */\nexport default class ConversationsModel implements ReduxReducer<IConversationsState> {\n    public readonly initialState: IConversationsState = {\n        conversationsByID: {\n            data: {},\n            status: LoadStatus.PENDING,\n        },\n    };\n\n    /**\n     * Update conversations state, based on the dispatched action.\n     *\n     * @param state Previous state of the store.\n     * @param action Name for the type of action that was dispatched.\n     */\n    public reducer = (\n        state: IConversationsState = this.initialState,\n        action: typeof ConversationsActions.ACTION_TYPES,\n    ): IConversationsState => {\n        return produce<IConversationsState>(state, (nextState) => {\n            switch (action.type) {\n                case ConversationsActions.GET_CONVERSATIONS_REQUEST:\n                    nextState.conversationsByID.status = LoadStatus.LOADING;\n                    break;\n                case ConversationsActions.GET_CONVERSATIONS_RESPONSE: {\n                    nextState.conversationsByID.status = LoadStatus.SUCCESS;\n                    nextState.conversationsByID.data = {};\n                    const conversations = action.payload.data as IConversation[];\n                    conversations.forEach((conversation) => {\n                        nextState.conversationsByID.data![conversation.conversationID] = conversation;\n                    });\n                    break;\n                }\n                case ConversationsActions.GET_CONVERSATIONS_ERROR:\n                    nextState.conversationsByID.status = LoadStatus.ERROR;\n                    nextState.conversationsByID.error = action.payload;\n                    break;\n            }\n        });\n    };\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport ReduxActions, { bindThunkAction, useReduxActions } from \"@vanilla/library/src/scripts/redux/ReduxActions\";\nimport actionCreatorFactory from \"typescript-fsa\";\nimport { IApiError } from \"@vanilla/library/src/scripts/@types/api/core\";\nimport { ITag } from \"@library/features/tags/TagsReducer\";\nimport debounce from \"lodash/debounce\";\n\nconst createAction = actionCreatorFactory(\"@@tags\");\n\nexport class TagsAction extends ReduxActions {\n    public static getTagsACs = createAction.async<{ name: string }, ITag[], IApiError>(\"GET\");\n    private getTagsInternal = (options: { name: string }) => {\n        const thunk = bindThunkAction(TagsAction.getTagsACs, async () => {\n            const response = await this.api.get(`/tags?query=${options.name}`);\n            return response.data;\n        })(options);\n\n        return this.dispatch(thunk);\n    };\n\n    public getTags = debounce(this.getTagsInternal, 100);\n}\n\nexport function useTagsActions() {\n    return useReduxActions(TagsAction);\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { produce } from \"immer\";\nimport { reducerWithInitialState } from \"typescript-fsa-reducers\";\nimport { ILoadable, LoadStatus } from \"@vanilla/library/src/scripts/@types/api/core\";\nimport { TagsAction } from \"@library/features/tags/TagsAction\";\nimport { useSelector } from \"react-redux\";\n\nexport interface ITag {\n    id: number;\n    name: string;\n    urlCode: string;\n}\n\nexport interface ITagState {\n    tagsByName: Record<string, ILoadable<ITag[]>>;\n}\n\nexport interface ITagsStateStoreState {\n    tags: ITagState;\n}\n\nexport const INITIAL_TAGS_STATE: ITagState = {\n    tagsByName: {},\n};\n\nexport const tagsReducer = produce(\n    reducerWithInitialState<ITagState>(INITIAL_TAGS_STATE)\n        .case(TagsAction.getTagsACs.started, (nextState, action) => {\n            nextState.tagsByName[action.name] = { status: LoadStatus.LOADING };\n            return nextState;\n        })\n        .case(TagsAction.getTagsACs.done, (nextState, payload) => {\n            nextState.tagsByName[payload.params.name] = {\n                status: LoadStatus.SUCCESS,\n                data: payload.result,\n            };\n            return nextState;\n        })\n        .case(TagsAction.getTagsACs.failed, (nextState, action) => {\n            nextState.tagsByName[action.params.name] = { status: LoadStatus.ERROR };\n            return nextState;\n        }),\n);\n\nexport function useTagsState() {\n    return useSelector((state: ITagsStateStoreState) => {\n        return state.tags;\n    });\n}\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { IApiError } from \"@library/@types/api/core\";\nimport ReduxActions, { bindThunkAction, useReduxActions } from \"@library/redux/ReduxActions\";\nimport { actionCreatorFactory } from \"typescript-fsa\";\nimport { IDiscussion } from \"@dashboard/@types/api/discussion\";\n\nconst createAction = actionCreatorFactory(\"@@discussions\");\n\nexport interface IGetDiscussionByID {\n    discussionID: number;\n}\n\nexport default class DiscussionActions extends ReduxActions {\n    public static getDiscussionByIDACs = createAction.async<{ discussionID: number }, IDiscussion, IApiError>(\n        \"GET_DISCUSSION\",\n    );\n\n    public getDiscussionByID = (query: IGetDiscussionByID) => {\n        const { discussionID } = query;\n        const thunk = bindThunkAction(DiscussionActions.getDiscussionByIDACs, async () => {\n            const reponse = await this.api.get(`/discussions/${discussionID}`, {\n                params: {\n                    expand: [\"insertUser\", \"breadcrumbs\"],\n                },\n            });\n            return reponse.data;\n        })({ discussionID });\n        return this.dispatch(thunk);\n    };\n}\n\nexport function useDiscussionActions() {\n    return useReduxActions(DiscussionActions);\n}\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ILoadable, LoadStatus } from \"@library/@types/api/core\";\nimport DiscussionActions from \"@library/features/discussions/DiscussionActions\";\nimport produce from \"immer\";\nimport { reducerWithInitialState } from \"typescript-fsa-reducers\";\nimport { IDiscussion } from \"@dashboard/@types/api/discussion\";\n\nexport interface IDiscussionsStoreState {\n    discussions: IDiscussionState;\n}\n\ninterface IDiscussionState {\n    discussionsByID: Record<number, ILoadable<IDiscussion>>;\n}\n\nexport const INITIAL_DISCUSSIONS_STATE: IDiscussionState = {\n    discussionsByID: {},\n};\n\n/**\n * Reducer for discussion related data.\n */\nexport const discussionsReducer = produce(\n    reducerWithInitialState(INITIAL_DISCUSSIONS_STATE)\n        .case(DiscussionActions.getDiscussionByIDACs.started, (state, params) => {\n            const { discussionID } = params;\n            state.discussionsByID[discussionID] = { status: LoadStatus.LOADING };\n            return state;\n        })\n        .case(DiscussionActions.getDiscussionByIDACs.done, (state, payload) => {\n            const { discussionID } = payload.params;\n            state.discussionsByID[discussionID] = {\n                data: payload.result,\n                status: LoadStatus.SUCCESS,\n            };\n            return state;\n        })\n        .case(DiscussionActions.getDiscussionByIDACs.failed, (state, payload) => {\n            const { discussionID } = payload.params;\n            state.discussionsByID[discussionID] = {\n                status: LoadStatus.ERROR,\n                error: payload.error,\n            };\n            return state;\n        }),\n);\n","/**\n * A reducer registry so that we can have dynamically loading reducers.\n *\n * @see http://nicolasgallagher.com/redux-modules-and-code-splitting/\n *\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { IThemeState, themeReducer } from \"@library/theming/themeReducer\";\nimport { usersReducer } from \"@library/features/users/userModel\";\nimport { IUsersStoreState } from \"@library/features/users/userTypes\";\nimport { Reducer, ReducersMapObject, combineReducers } from \"redux\";\nimport { ILocaleState, localeReducer } from \"@library/locales/localeReducer\";\nimport getStore from \"@library/redux/getStore\";\nimport NotificationsModel from \"@library/features/notifications/NotificationsModel\";\nimport ConversationsModel from \"@library/features/conversations/ConversationsModel\";\nimport { tagsReducer } from \"@library/features/tags/TagsReducer\";\nimport { discussionsReducer } from \"@library/features/discussions/discussionModel\";\n\nlet dynamicReducers = {};\n\nexport function registerReducer(name: string, reducer: Reducer) {\n    dynamicReducers[name] = reducer;\n    const store = getStore();\n    store.replaceReducer(combineReducers(getReducers()));\n\n    const initialActions = window.__ACTIONS__ || [];\n\n    // Re-apply initial actions.\n    initialActions.forEach(store.dispatch);\n}\n\nexport interface ICoreStoreState extends IUsersStoreState {\n    theme: IThemeState;\n    locales: ILocaleState;\n}\n\nexport function getReducers(): ReducersMapObject<any, any> {\n    return {\n        // We have a few static reducers.\n        users: usersReducer,\n        discussions: discussionsReducer,\n        locales: localeReducer,\n        tags: tagsReducer,\n        notifications: new NotificationsModel().reducer,\n        conversations: new ConversationsModel().reducer,\n        theme: themeReducer,\n        ...dynamicReducers,\n    };\n}\n\nexport function resetReducers() {\n    dynamicReducers = {};\n}\n\n/**\n * @deprecated\n */\nconst reducerRegistry = {\n    register: registerReducer,\n    getReducers,\n};\n\nexport default reducerRegistry;\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { IButtonType } from \"@library/forms/styleHelperButtonInterface\";\nimport { IThemeVariables } from \"@library/theming/themeReducer\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport { Variables } from \"@library/styles/Variables\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { ButtonPreset } from \"./ButtonPreset\";\nimport { getThemeVariables } from \"@library/theming/getThemeVariables\";\n\nexport const buttonGlobalVariables = useThemeCache((forcedVars?: IThemeVariables) => {\n    // Fetch external global variables\n    const globalVars = globalVariables(forcedVars);\n    const formElVars = formElementsVariables(forcedVars);\n    const makeThemeVars = variableFactory(\"buttonGlobals\", forcedVars);\n\n    let colors = makeThemeVars(\"colors\", {\n        fg: globalVars.mainColors.fg,\n        bg: globalVars.mainColors.bg,\n        primary: globalVars.mainColors.primary,\n        primaryContrast: globalVars.mainColors.primaryContrast,\n        standard: globalVars.mainColors.secondary,\n        standardContrast: globalVars.mainColors.primaryContrast,\n    });\n\n    const font = makeThemeVars(\n        \"font\",\n        Variables.font({\n            size: globalVars.fonts.size.medium,\n            weight: globalVars.fonts.weights.semiBold,\n        }),\n    );\n\n    const padding = makeThemeVars(\"padding\", {\n        top: 2,\n        bottom: 3,\n        horizontal: 12,\n        fullBorderRadius: {\n            extraHorizontalPadding: 8,\n        },\n    });\n\n    const sizing = makeThemeVars(\"sizing\", {\n        minHeight: formElVars.sizing.height,\n        minWidth: 104,\n        compactHeight: 24,\n    });\n\n    const border = makeThemeVars(\"border\", globalVars.borderType.formElements.buttons);\n\n    const constants = makeThemeVars(\"constants\", {\n        borderMixRatio: 0.24,\n    });\n\n    return {\n        padding,\n        sizing,\n        border,\n        font,\n        constants,\n        colors,\n    };\n});\n\nexport const buttonVariables = useThemeCache((forcedVars?: IThemeVariables) => {\n    const globalVars = globalVariables(forcedVars);\n    const makeThemeVars = variableFactory(\"button\", forcedVars);\n    const vars = buttonGlobalVariables(forcedVars);\n    const buttonGlobals = buttonGlobalVariables();\n\n    const primaryPresetInit = makeThemeVars(\"primary\", {\n        preset: {\n            style: ButtonPreset.SOLID,\n            bg: globalVars.mainColors.primary,\n            fg: globalVars.mainColors.primaryContrast,\n        },\n    });\n\n    const bgState = ColorsUtils.offsetLightness(primaryPresetInit.preset.bg, 0.05);\n    const primaryPresetInit2 = makeThemeVars(\"primary\", {\n        preset: {\n            ...primaryPresetInit.preset,\n            borders: primaryPresetInit.preset.bg,\n            bg:\n                primaryPresetInit.preset.style === ButtonPreset.SOLID\n                    ? globalVars.mainColors.primary\n                    : globalVars.mainColors.bg,\n            fg:\n                primaryPresetInit.preset.style === ButtonPreset.SOLID\n                    ? globalVars.mainColors.primaryContrast\n                    : primaryPresetInit.preset.bg,\n            bgState: bgState,\n            fgState: ColorsUtils.isLightColor(bgState)\n                ? globalVars.elementaryColors.almostBlack\n                : globalVars.elementaryColors.white,\n        },\n    });\n\n    const primaryPreset = makeThemeVars(\"primary\", {\n        preset: {\n            ...primaryPresetInit2.preset,\n            borders:\n                primaryPresetInit.preset.style === ButtonPreset.OUTLINE\n                    ? globalVars.mixBgAndFg(vars.constants.borderMixRatio)\n                    : primaryPresetInit2.preset.bg,\n            borderState:\n                primaryPresetInit.preset.style === ButtonPreset.OUTLINE\n                    ? primaryPresetInit2.preset.fgState\n                    : primaryPresetInit2.preset.bgState,\n        },\n    });\n\n    const primary = makeThemeVars(\"primary\", {\n        name: ButtonTypes.PRIMARY,\n        preset: primaryPreset.preset,\n        colors: {\n            fg: primaryPreset.preset.fg,\n            bg: primaryPreset.preset.bg,\n        },\n        borders: {\n            ...globalVars.borderType.formElements.buttons,\n            radius: buttonGlobals.border.radius,\n            color: primaryPreset.preset.borders,\n        },\n        state: {\n            colors: {\n                bg: primaryPreset.preset.bgState,\n                fg: primaryPreset.preset.fgState,\n            },\n            borders: {\n                radius: buttonGlobals.border.radius,\n                color: primaryPreset.preset.borderState,\n            },\n        },\n    });\n\n    const standardPresetInit = makeThemeVars(\"standard\", {\n        preset: {\n            style: ButtonPreset.OUTLINE,\n            borders: globalVars.mixBgAndFg(vars.constants.borderMixRatio),\n        },\n    });\n\n    const standardPresetInit1 = makeThemeVars(\"standard\", {\n        preset: {\n            ...standardPresetInit.preset,\n            bg:\n                standardPresetInit.preset.style === ButtonPreset.OUTLINE\n                    ? globalVars.mainColors.bg\n                    : standardPresetInit.preset.borders,\n            fg:\n                standardPresetInit.preset.style === ButtonPreset.OUTLINE\n                    ? globalVars.mainColors.fg\n                    : ColorsUtils.offsetLightness(globalVars.mainColors.fg, 0.1),\n        },\n    });\n\n    const standardPresetInit2 = makeThemeVars(\"standard\", {\n        preset: {\n            ...standardPresetInit1.preset,\n            bgState: primary.preset.bgState,\n            fgState: primary.preset.fgState,\n        },\n    });\n\n    const standardPreset = makeThemeVars(\"standard\", {\n        preset: {\n            ...standardPresetInit2.preset,\n            borders:\n                standardPresetInit.preset.style === ButtonPreset.OUTLINE\n                    ? standardPresetInit2.preset.borders\n                    : standardPresetInit2.preset.bg,\n            borderState:\n                standardPresetInit.preset.style === ButtonPreset.OUTLINE\n                    ? standardPresetInit2.preset.fgState\n                    : standardPresetInit2.preset.bgState,\n        },\n    });\n\n    const standard: IButtonType = makeThemeVars(\"standard\", {\n        name: ButtonTypes.STANDARD,\n        preset: standardPreset.preset,\n        colors: {\n            fg: standardPreset.preset.fg,\n            bg: standardPreset.preset.bg,\n        },\n        borders: {\n            ...globalVars.borderType.formElements.buttons,\n            radius: buttonGlobals.border.radius,\n            color: standardPreset.preset.borders,\n        },\n        state: {\n            borders: {\n                ...globalVars.borderType.formElements.buttons,\n                radius: buttonGlobals.border.radius,\n                color: standardPreset.preset.borderState,\n            },\n            colors: {\n                bg: standardPreset.preset.bgState,\n                fg: standardPreset.preset.fgState,\n            },\n        },\n    });\n\n    const transparent: IButtonType = makeThemeVars(\"transparent\", {\n        name: ButtonTypes.TRANSPARENT,\n        preset: { style: ButtonPreset.ADVANCED },\n        colors: {\n            fg: globalVars.mainColors.bg,\n            bg: globalVars.mainColors.fg.fade(0.1),\n        },\n        borders: {\n            ...globalVars.borderType.formElements.buttons,\n            color: globalVars.mainColors.bg,\n        },\n        hover: {\n            colors: {\n                bg: globalVars.mainColors.fg.fade(0.2),\n            },\n        },\n        active: {\n            colors: {\n                bg: globalVars.mainColors.fg.fade(0.2),\n            },\n        },\n        focus: {\n            colors: {\n                bg: globalVars.mainColors.fg.fade(0.2),\n            },\n        },\n        focusAccessible: {\n            colors: {\n                bg: globalVars.mainColors.fg.fade(0.2),\n            },\n        },\n    });\n\n    const translucid: IButtonType = makeThemeVars(\"translucid\", {\n        name: ButtonTypes.TRANSLUCID,\n        preset: { style: ButtonPreset.ADVANCED },\n        colors: {\n            bg: globalVars.mainColors.bg,\n            fg: globalVars.mainColors.primary,\n        },\n        borders: {\n            ...globalVars.borderType.formElements.buttons,\n            color: globalVars.mainColors.bg,\n        },\n        hover: {\n            colors: {\n                bg: globalVars.mainColors.bg.fade(0.8),\n            },\n        },\n        active: {\n            colors: {\n                bg: globalVars.mainColors.bg.fade(0.8),\n            },\n        },\n        focus: {\n            colors: {\n                bg: globalVars.mainColors.bg.fade(0.8),\n            },\n        },\n        focusAccessible: {\n            colors: {\n                bg: globalVars.mainColors.bg.fade(0.8),\n            },\n        },\n    });\n\n    const notStandard: IButtonType = makeThemeVars(\"notStandard\", {\n        name: ButtonTypes.NOT_STANDARD,\n        preset: { style: ButtonPreset.ADVANCED },\n        colors: {\n            bg: globalVars.mainColors.bg,\n            fg: globalVars.mainColors.primary,\n        },\n        borders: {\n            ...globalVars.borderType.formElements.buttons,\n            color: globalVars.mainColors.bg,\n        },\n        state: {\n            colors: {\n                bg: globalVars.mainColors.bg,\n                fg: globalVars.mainColors.primary,\n            },\n            borders: {\n                radius: buttonGlobals.border.radius,\n                color: globalVars.mainColors.bg,\n            },\n        },\n    });\n\n    const radioPresetInit1 = makeThemeVars(\"radio\", {\n        sizing: {\n            minHeight: formElementsVariables().sizing.height - 4,\n        },\n    });\n\n    const radioPresetInit2 = makeThemeVars(\"radio\", {\n        ...radioPresetInit1,\n        borders: {\n            ...globalVars.border,\n            radius: radioPresetInit1.sizing.minHeight / 2,\n        },\n        state: {\n            colors: {\n                fg: globalVars.mainColors.primary,\n            },\n            borders: {\n                color: globalVars.mainColors.primary,\n                radius: radioPresetInit1.sizing.minHeight / 2,\n            },\n        },\n        //special case\n        active: {\n            color: ColorsUtils.colorOut(globalVars.mixBgAndFg(0.1)),\n        },\n    });\n\n    const radio: IButtonType = makeThemeVars(\"radio\", {\n        name: ButtonTypes.RADIO,\n        preset: { style: ButtonPreset.ADVANCED },\n        colors: {\n            fg: globalVars.mainColors.fg,\n            bg: globalVars.mainColors.bg,\n        },\n        padding: {\n            horizontal: 12,\n        },\n        borders: radioPresetInit2.borders,\n        state: radioPresetInit2.state,\n        sizing: {\n            minHeight: radioPresetInit2.sizing.minHeight,\n        },\n        extraNested: {\n            [\"&.isActive\"]: {\n                borderColor: ColorsUtils.colorOut(radioPresetInit2.active.color),\n                backgroundColor: ColorsUtils.colorOut(radioPresetInit2.active.color),\n            },\n        },\n        skipDynamicPadding: true,\n    });\n\n    return {\n        standard,\n        primary,\n        transparent,\n        translucid,\n        notStandard,\n        radio,\n    };\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useContext, useDebugValue } from \"react\";\nimport { logWarning } from \"@vanilla/utils\";\nimport { style } from \"@library/styles/styleShim\";\n\ntype ScollOffsetSetter = (offset: number) => void;\n\ninterface IContextParams {\n    setScrollOffset: ScollOffsetSetter;\n    resetScrollOffset: () => void;\n    scrollOffset: number | null;\n    offsetClass: string;\n    getCalcedHashOffset(): number;\n    hashOffsetRef: React.RefObject<HTMLDivElement>;\n    temporarilyDisabledWatching: (duration: number) => void;\n    topOffset: number;\n    setTopOffset(pixels: number): void;\n}\n\nexport const SCROLL_OFFSET_DEFAULTS: IContextParams = {\n    setScrollOffset: () => {\n        logWarning(\"Set scroll offset called, but a proper provider was not configured.\");\n    },\n    resetScrollOffset: () => {\n        logWarning(\"Reset scroll offset called, but a proper provider was not configured.\");\n    },\n    scrollOffset: null,\n    topOffset: 0,\n    setTopOffset: (pixels: number) => {\n        logWarning(\"Set scroll offset called, but a proper provider was not configured.\");\n    },\n    getCalcedHashOffset: () => 0,\n    temporarilyDisabledWatching: () => {\n        logWarning(\"Attempted to disable watching but a proper provider was not configured.\");\n    },\n    hashOffsetRef: {\n        current: null,\n    },\n    offsetClass: \"\",\n};\n\nexport const ScrollOffsetContext = React.createContext<IContextParams>({\n    ...SCROLL_OFFSET_DEFAULTS,\n});\n\nexport interface IWithScrollOffset {\n    setScrollOffset: ScollOffsetSetter;\n}\n\ninterface IProps {\n    scrollWatchingEnabled?: boolean;\n    children: React.ReactNode;\n}\n\ninterface IState {\n    scrollOffset: number;\n    topOffset: number;\n    isScrolledOff: boolean;\n    hashOffset: number;\n    isWatchingEnabled: boolean;\n}\n\nwindow.__VANILLA_GLOBAL_SCROLL_OFFSET__ = 0;\n\n/**\n * Provider for handling a global scroll offset.\n * This wraps `ScrollOffset.Provider` with some good default behaviour.\n *\n * Using this, you can have one component declare an offset value.\n * Other components can then recieve this value through context.\n * The context itself handles watching the scroll position and provides a CSS Class styling for the offset.\n *\n * Using the CSS class provided out of this context will translate the set value into translateY value.\n * @see setScrollOffset\n */\nexport class ScrollOffsetProvider extends React.Component<IProps, IState> {\n    public state: IState = {\n        scrollOffset: 0,\n        topOffset: 0,\n        isScrolledOff: false,\n        hashOffset: 0,\n        isWatchingEnabled: true,\n    };\n\n    private hashOffsetRef = React.createRef<HTMLDivElement>();\n\n    /**\n     * @inheritdoc\n     */\n    public render() {\n        const { scrollWatchingEnabled } = this.props;\n\n        // Generate a CSS based on our calculated values.\n        const { scrollOffset, isScrolledOff } = this.state;\n        const offsetClass = style({\n            transition: \"transform 0.3s ease\",\n            willChange: \"transform\",\n            transform: isScrolledOff ? `translateY(-${scrollOffset}px)` : \"none\",\n            label: \"offsetClass\",\n        });\n\n        // Render out the context with all values and methods.\n        return (\n            <ScrollOffsetContext.Provider\n                value={{\n                    setScrollOffset: this.setScrollOffset,\n                    resetScrollOffset: this.resetScrollOffset,\n                    scrollOffset: isScrolledOff && scrollWatchingEnabled ? scrollOffset : 0,\n                    topOffset: this.state.topOffset,\n                    setTopOffset: this.setTopOffset,\n                    offsetClass: scrollWatchingEnabled ? offsetClass : \"\",\n                    getCalcedHashOffset: this.getCalcedHashOffset,\n                    hashOffsetRef: this.hashOffsetRef,\n                    temporarilyDisabledWatching: this.temporarilyDisabledWatching,\n                }}\n            >\n                {this.props.children}\n            </ScrollOffsetContext.Provider>\n        );\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public componentDidMount() {\n        window.addEventListener(\"scroll\", this.scrollHandler);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public componentWillUnmount() {\n        window.removeEventListener(\"scroll\", this.scrollHandler);\n    }\n\n    private get shouldWatchScroll() {\n        return this.props.scrollWatchingEnabled && this.state.isWatchingEnabled;\n    }\n\n    private temporarilyDisabledWatching = (duration: number) => {\n        this.setState({ isWatchingEnabled: false });\n        setTimeout(() => {\n            this.setState({ isWatchingEnabled: true });\n        }, duration);\n    };\n\n    /** Keep a local copy of our previous window scroll value. */\n    private previousScrollValue = 0;\n\n    private scrollHandler = () => {\n        // Early bailout if we aren't watching scroll position.\n        if (!this.shouldWatchScroll) {\n            return;\n        }\n\n        // Trigger the scrolled state if we've moved up or down by a certain number of pixels.\n        requestAnimationFrame(() => {\n            const wiggleRoom = 10;\n            const newScrolledValue = window.scrollY;\n\n            // Always show if we are within the initial scrolloffset.\n            if (newScrolledValue < 400) {\n                this.setState({ isScrolledOff: false });\n                return;\n            }\n\n            const isScrollingDown = newScrolledValue > this.previousScrollValue + wiggleRoom;\n            const isScrollingUp = newScrolledValue < this.previousScrollValue - wiggleRoom;\n            this.previousScrollValue = window.scrollY;\n            if (isScrollingDown) {\n                this.setState({ isScrolledOff: true });\n            } else if (isScrollingUp) {\n                this.setState({ isScrolledOff: false });\n            }\n        });\n    };\n\n    /**\n     * Reset the context state.\n     */\n    private resetScrollOffset = () => {\n        this.setState({\n            scrollOffset: 0,\n            isScrolledOff: false,\n        });\n    };\n\n    /**\n     * Set the value items will be translated by.\n     */\n    private setScrollOffset: ScollOffsetSetter = (offset) => {\n        window.__VANILLA_GLOBAL_SCROLL_OFFSET__ = offset;\n        this.setState({ scrollOffset: offset });\n    };\n\n    /**\n     * Set the value items will be translated by.\n     */\n    private setTopOffset: ScollOffsetSetter = (offset) => {\n        this.setState({ topOffset: offset });\n    };\n\n    private getCalcedHashOffset = (): number => {\n        const offsetElement = this.hashOffsetRef.current;\n        if (!offsetElement) {\n            return 0;\n        }\n\n        const rect = offsetElement.getBoundingClientRect();\n        return rect.bottom;\n    };\n}\n\nexport function useScrollOffset() {\n    const value = useContext(ScrollOffsetContext);\n    useDebugValue(value);\n    return value;\n}\n\n/**\n * Component that reports it's bottom most position to the scroll offset provider.\n *\n * Eg. If you click a link #some-hash and an element with the ID `some-hash` is present in the page\n * that item will stay below the HashOffsetReporter.\n */\nexport function HashOffsetReporter(props: { className?: string; children: React.ReactNode }) {\n    const offset = useScrollOffset();\n    return (\n        <div className={props.className} ref={offset.hashOffsetRef}>\n            {props.children}\n        </div>\n    );\n}\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { SearchActions } from \"@library/search/SearchActions\";\nimport { ALL_CONTENT_DOMAIN_NAME } from \"@library/search/searchConstants\";\nimport { ISearchForm, ISearchResults } from \"@library/search/searchTypes\";\nimport { ILoadable, LoadStatus } from \"@vanilla/library/src/scripts/@types/api/core\";\nimport { produce } from \"immer\";\nimport { reducerWithoutInitialState } from \"typescript-fsa-reducers\";\nimport { SEARCH_SCOPE_LOCAL } from \"@library/features/search/SearchScopeContext\";\n\nexport interface ISearchState {\n    form: ISearchForm;\n    results: ILoadable<ISearchResults>;\n    domainSearchResults: Record<string, ILoadable<ISearchResults>>;\n}\n\nexport const DEFAULT_CORE_SEARCH_FORM: ISearchForm = {\n    domain: ALL_CONTENT_DOMAIN_NAME,\n    query: \"\",\n    page: 1,\n    sort: \"relevance\",\n    scope: SEARCH_SCOPE_LOCAL,\n    initialized: false,\n};\n\nexport const INITIAL_SEARCH_STATE: ISearchState = {\n    form: DEFAULT_CORE_SEARCH_FORM,\n    results: {\n        status: LoadStatus.PENDING,\n    },\n    domainSearchResults: {},\n};\n\nconst reinitilizeParams = [\"sort\", \"domain\", \"scope\", \"page\"];\n\nexport const searchReducer = produce(\n    reducerWithoutInitialState<ISearchState>()\n        .case(SearchActions.updateSearchFormAC, (nextState, payload) => {\n            nextState.form.needsResearch = false;\n            if (nextState.form.initialized) {\n                for (const reinitParam of reinitilizeParams) {\n                    if (payload[reinitParam] !== undefined && nextState.form[reinitParam] !== payload[reinitParam]) {\n                        nextState.form.needsResearch = true;\n                    }\n                }\n            }\n\n            if (!nextState.form.initialized && payload.initialized) {\n                nextState.form.needsResearch = true;\n            }\n\n            nextState.form = {\n                ...nextState.form,\n                ...payload,\n            };\n\n            if (!payload.initialized) {\n                // Only when the search form changes outside of initialization.\n                if (!(\"page\" in payload)) {\n                    nextState.form.page = 1;\n                }\n\n                if (\"domain\" in payload) {\n                    delete nextState.form.types;\n                }\n            }\n\n            return nextState;\n        })\n        .case(SearchActions.performSearchACs.started, (nextState, payload) => {\n            nextState.form.needsResearch = false;\n            nextState.form.initialized = true;\n            nextState.results.status = LoadStatus.LOADING;\n\n            return nextState;\n        })\n        .case(SearchActions.performSearchACs.done, (nextState, payload) => {\n            nextState.results.status = LoadStatus.SUCCESS;\n            nextState.results.data = payload.result;\n\n            return nextState;\n        })\n        .case(SearchActions.performSearchACs.failed, (nextState, payload) => {\n            nextState.results.status = LoadStatus.ERROR;\n            nextState.results.error = payload.error;\n\n            return nextState;\n        })\n        .case(SearchActions.performDomainSearchACs.started, (nextState, payload) => {\n            const { domain } = payload;\n            nextState.domainSearchResults[domain] = {\n                status: LoadStatus.LOADING,\n            };\n\n            return nextState;\n        })\n        .case(SearchActions.performDomainSearchACs.done, (nextState, payload) => {\n            const { domain } = payload.params;\n            nextState.domainSearchResults[domain].status = LoadStatus.SUCCESS;\n            nextState.domainSearchResults[domain].data = payload.result;\n\n            return nextState;\n        })\n        .case(SearchActions.performDomainSearchACs.failed, (nextState, payload) => {\n            const { domain } = payload.params;\n            nextState.domainSearchResults[domain].status = LoadStatus.ERROR;\n            nextState.domainSearchResults[domain].error = payload.error;\n\n            return nextState;\n        })\n        .case(SearchActions.resetFormAC, (nextState) => {\n            nextState.form = { ...DEFAULT_CORE_SEARCH_FORM };\n            nextState.results = {\n                status: LoadStatus.PENDING,\n            };\n            return nextState;\n        }),\n);\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { t } from \"@library/utility/appUtils\";\nimport { buttonLoaderClasses } from \"@library/forms/buttonStyles\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport ScreenReaderContent from \"@library/layout/ScreenReaderContent\";\nimport { LoaderIcon } from \"@library/icons/common\";\nimport classNames from \"classnames\";\n\ninterface IProps {\n    className?: string;\n    buttonType?: ButtonTypes;\n    alignLeft?: boolean;\n}\n\n/**\n * A smart loading component. Takes up the full page and only displays in certain scenarios.\n */\nexport default function ButtonLoader(props: IProps) {\n    const classes = buttonLoaderClasses();\n    return (\n        <span\n            className={classNames(\n                classes.root(props.alignLeft ? \"left\" : \"center\"),\n                props.buttonType?.startsWith(\"dashboard\") && classes.reducedPadding,\n            )}\n        >\n            <LoaderIcon className={classes.svg} />\n            <ScreenReaderContent>{t(\"Loading\")}</ScreenReaderContent>\n        </span>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { EmbedContainerSize } from \"@library/embeddedContent/components/EmbedContainerSize\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { shadowHelper, shadowOrBorderBasedOnLightness } from \"@library/styles/shadowHelpers\";\nimport { userSelect } from \"@library/styles/styleHelpers\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { important, percent, px } from \"csx\";\nimport { CSSObject } from \"@emotion/css\";\n\nexport const embedContainerVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const makeThemeVars = variableFactory(\"embedContainer\");\n\n    const colors = makeThemeVars(\"colors\", {\n        bg: globalVars.mainColors.bg,\n        fg: globalVars.mainColors.fg,\n    });\n\n    const border = makeThemeVars(\"border\", {\n        style: \"none\",\n        width: 0,\n        radius: px(4),\n    });\n\n    const title = makeThemeVars(\"title\", {\n        size: globalVars.fonts.size.medium,\n        weight: globalVars.fonts.weights.bold,\n    });\n\n    const dimensions = makeThemeVars(\"dimensions\", {\n        maxEmbedWidth: 640,\n    });\n\n    const spacing = makeThemeVars(\"padding\", {\n        padding: 18,\n    });\n\n    return { border, spacing, colors, title, dimensions };\n});\n\nexport const embedContainerClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const vars = embedContainerVariables();\n    const style = styleFactory(\"embed\");\n\n    const hoverFocusStates = {\n        \"&:hover\": {\n            boxShadow: `0 0 0 ${px(globalVars.embed.select.borderWidth)} ${globalVars.embed.focus.color.fade(\n                0.5,\n            )} inset`,\n        },\n        \".embed-isSelected &\": {\n            boxShadow: `0 0 0 ${px(\n                globalVars.embed.select.borderWidth,\n            )} ${globalVars.embed.focus.color.toString()} inset`,\n        },\n    };\n\n    const sizes: { [x in EmbedContainerSize]: CSSObject } = {\n        [EmbedContainerSize.SMALL]: {\n            width: px(500),\n            maxWidth: percent(100),\n        },\n        [EmbedContainerSize.MEDIUM]: {\n            width: px(globalVars.embed.sizing.width),\n            maxWidth: percent(100),\n        },\n        [EmbedContainerSize.FULL_WIDTH]: {\n            maxWidth: percent(100),\n            width: percent(100),\n        },\n    };\n\n    const makeRootClass = (size: EmbedContainerSize, inEditor: boolean, withPadding: boolean = true) =>\n        style(size, {\n            fontSize: styleUnit(globalVars.fonts.size.medium),\n            background: ColorsUtils.colorOut(vars.colors.bg),\n            display: \"block\",\n            position: \"relative\",\n            textDecoration: \"none\",\n            color: ColorsUtils.colorOut(vars.colors.fg),\n            margin: \"auto\",\n            padding: withPadding ? vars.spacing.padding : 0,\n            ...(inEditor ? userSelect() : {}),\n            ...sizes[size],\n            ...Mixins.border(vars.border),\n            ...shadowOrBorderBasedOnLightness(\n                globalVars.body.backgroundImage.color,\n                Mixins.border(),\n                shadowHelper().embed(),\n            ),\n            ...{\n                // These 2 can't be joined together or their pseudselectors don't get created properly.\n                \"&.isLoading\": {\n                    cursor: \"pointer\",\n                    ...hoverFocusStates,\n                },\n                \"&.hasError\": {\n                    cursor: \"pointer\",\n                    background: ColorsUtils.colorOut(globalVars.messageColors.warning.bg),\n                    color: ColorsUtils.colorOut(globalVars.messageColors.warning.fg),\n                    ...hoverFocusStates,\n                },\n                \"&.embedImage\": {\n                    border: 0,\n                    boxShadow: \"none\",\n                },\n                \"&.embedImage .embedExternal-content\": {\n                    ...shadowOrBorderBasedOnLightness(\n                        globalVars.body.backgroundImage.color,\n                        Mixins.border(),\n                        shadowHelper().embed(),\n                    ),\n                },\n            },\n        });\n\n    const title = style(\"title\", {\n        ...{\n            \"&&&\": {\n                // Nested for compatibility.\n                fontSize: styleUnit(vars.title.size),\n                fontWeight: vars.title.weight,\n                marginTop: 0,\n                marginBottom: 4,\n                display: \"block\",\n                width: percent(100),\n                padding: 0,\n                lineHeight: globalVars.lineHeights.condensed,\n                color: ColorsUtils.colorOut(globalVars.mainColors.fg),\n                whiteSpace: \"nowrap\",\n                overflow: \"hidden\",\n                textOverflow: \"ellipsis\",\n            },\n        },\n    });\n\n    return { makeRootClass, title };\n});\n\nexport const embedContentClasses = useThemeCache(() => {\n    const style = styleFactory(\"embedContent\");\n\n    const small = style(\"small\", {\n        display: \"inline-flex\",\n        width: \"auto\",\n    });\n\n    const root = style(\"root\", {\n        position: \"relative\",\n    });\n\n    return { small, root };\n});\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { inputClasses } from \"@library/forms/inputStyles\";\nimport InputBlock, { IInputBlockProps } from \"@library/forms/InputBlock\";\nimport { getRequiredID } from \"@library/utility/idUtils\";\nimport classNames from \"classnames\";\nimport { inputBlockClasses } from \"@library/forms/InputBlockStyles\";\nimport { OverflowProperty, ResizeProperty } from \"csstype\";\nimport { TextareaAutosize } from \"react-autosize-textarea/lib/TextareaAutosize\";\n\nexport enum InputTextBlockBaseClass {\n    STANDARD = \"inputBlock\",\n    CUSTOM = \"\",\n}\n\nexport interface IInputProps {\n    value?: string;\n    onFocus?: (event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\n    onBlur?: (event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\n    onChange?: (event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\n    onKeyPress?: React.KeyboardEventHandler;\n    inputClassNames?: string;\n    type?: string;\n    defaultValue?: string;\n    placeholder?: string;\n    valid?: boolean;\n    required?: boolean;\n    disabled?: boolean;\n    inputRef?: React.RefObject<HTMLInputElement | HTMLTextAreaElement>;\n    multiline?: boolean;\n    maxLength?: number;\n    className?: string;\n    autoComplete?: boolean;\n    \"aria-label\"?: string;\n    \"aria-describedby\"?: string;\n}\n\nexport interface IInputTextProps extends Omit<IInputBlockProps, \"children\"> {\n    inputProps?: IInputProps;\n    multiLineProps?: {\n        onResize?: (event) => {};\n        rows?: number;\n        maxRows?: number;\n        async?: boolean;\n        resize?: ResizeProperty; // for textarea only\n        overflow?: OverflowProperty; // for textarea only\n        className?: string;\n    };\n}\n\nexport default class InputTextBlock extends React.Component<IInputTextProps> {\n    public static defaultProps = {\n        disabled: false,\n        type: \"text\",\n        errors: [],\n        baseClass: InputTextBlockBaseClass.STANDARD,\n        legacyMode: false,\n    };\n\n    private id: string;\n    private ownInputRef = React.createRef<HTMLInputElement | HTMLTextAreaElement>();\n    private get inputRef() {\n        const { inputProps = {} } = this.props;\n        return inputProps.inputRef || this.ownInputRef;\n    }\n\n    public constructor(props) {\n        super(props);\n        this.id = getRequiredID(props, \"inputText\");\n    }\n\n    public render() {\n        const classesInput = inputClasses();\n        const classesInputBlock = inputBlockClasses();\n\n        const { inputProps = {}, multiLineProps = {}, ...blockProps } = this.props;\n        const classes = classNames(classesInputBlock.inputText, inputProps.inputClassNames, {\n            InputBox: this.props.legacyMode,\n            [classesInput.text]: !this.props.legacyMode,\n        });\n\n        return (\n            <InputBlock {...blockProps} className={classNames(classesInputBlock.root, this.props.className)}>\n                {(blockParams) => {\n                    const { labelID, errorID, hasErrors } = blockParams;\n                    let describedBy = inputProps[\"aria-describedby\"];\n                    if (hasErrors) {\n                        describedBy = errorID;\n                    }\n\n                    return !inputProps.multiline ? (\n                        <input\n                            id={this.id}\n                            className={classNames(classes, inputProps.className)}\n                            defaultValue={inputProps.defaultValue}\n                            value={inputProps.value}\n                            type={inputProps.type}\n                            disabled={inputProps.disabled}\n                            required={inputProps.required}\n                            placeholder={inputProps.placeholder}\n                            aria-invalid={hasErrors}\n                            aria-describedby={describedBy}\n                            aria-labelledby={labelID}\n                            aria-label={inputProps[\"aria-label\"]}\n                            maxLength={inputProps.maxLength}\n                            onChange={this.onChange}\n                            onFocus={this.onFocus}\n                            onBlur={this.onBlur}\n                            ref={this.inputRef as any} // Typescripts ref checking a little ridiculous. Distinction without a difference.\n                            onKeyPress={inputProps.onKeyPress}\n                            autoComplete={inputProps.autoComplete ? \"on\" : \"off\"}\n                        />\n                    ) : (\n                        <TextareaAutosize\n                            {...multiLineProps}\n                            async\n                            id={this.id}\n                            className={classNames(classes, multiLineProps.className, {\n                                [classesInputBlock.multiLine(\n                                    multiLineProps.resize ? multiLineProps.resize : \"none\",\n                                    multiLineProps.overflow,\n                                )]: inputProps.multiline,\n                            })}\n                            defaultValue={inputProps.defaultValue}\n                            value={inputProps.value}\n                            type={inputProps.type}\n                            disabled={inputProps.disabled}\n                            required={inputProps.required}\n                            placeholder={inputProps.placeholder}\n                            aria-invalid={hasErrors}\n                            aria-describedby={describedBy}\n                            aria-labelledby={labelID}\n                            maxLength={inputProps.maxLength}\n                            onChange={this.onChange}\n                            onFocus={this.onFocus}\n                            onBlur={this.onBlur}\n                            ref={this.inputRef as any} // Typescripts ref checking a little ridiculous. Distinction without a difference.\n                            onKeyPress={inputProps.onKeyPress}\n                        />\n                    );\n                }}\n            </InputBlock>\n        );\n    }\n\n    /**\n     * Use a native change event instead of React's because of https://github.com/facebook/react/issues/1159\n     */\n    public componentDidMount() {\n        this.inputRef.current!.addEventListener(\"change\", this.onChange);\n    }\n\n    /**\n     * Use a native change event instead of React's because of https://github.com/facebook/react/issues/1159\n     */\n    public componentWillUnmount() {\n        this.inputRef.current!.removeEventListener(\"change\", this.onChange);\n    }\n\n    public get value(): any {\n        return this.inputRef.current ? this.inputRef.current.value : \"\";\n    }\n\n    public set value(value) {\n        if (this.inputRef.current) {\n            this.inputRef.current.value = value;\n        } else {\n            throw new Error(\"inputDom does not exist\");\n        }\n    }\n\n    public focus() {\n        this.inputRef.current!.focus();\n    }\n\n    public select() {\n        this.inputRef.current!.select();\n    }\n\n    private onChange = (event) => {\n        const { inputProps = {} } = this.props;\n        if (inputProps.onChange) {\n            inputProps.onChange(event);\n        }\n    };\n\n    private onBlur = (event) => {\n        const { inputProps = {} } = this.props;\n        if (inputProps.onBlur) {\n            inputProps.onBlur(event);\n        }\n    };\n\n    private onFocus = (event) => {\n        const { inputProps = {} } = this.props;\n        if (inputProps.onFocus) {\n            inputProps.onFocus(event);\n        }\n    };\n}\n","/**\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { frameBodyClasses } from \"@library/layout/frame/frameBodyStyles\";\nimport classNames from \"classnames\";\n\nexport interface IFrameBodyProps {\n    className?: string;\n    selfPadded?: boolean;\n    hasVerticalPadding?: boolean;\n    children: React.ReactNode;\n    scrollable?: boolean; // DON'T use at the same time as the Modal scrollable.\n}\n\n/**\n * This section goes between the header/footer.\n * Note the each child will be split into a separate \"FramePanel\". This will allow animations/transitions in the future.\n */\nexport default class FrameBody extends React.PureComponent<IFrameBodyProps> {\n    public render() {\n        const classes = frameBodyClasses();\n        return (\n            <div\n                className={classNames(\"frameBody\", this.props.className, classes.root, {\n                    isSelfPadded: this.props.selfPadded,\n                    hasVerticalPadding: this.props.hasVerticalPadding,\n                })}\n            >\n                {this.props.children}\n            </div>\n        );\n    }\n}\n\ninterface ILayoutContainer extends React.HTMLAttributes<HTMLDivElement> {\n    children?: React.ReactNode;\n}\n/**\n * Container to apply paddings inside of a frame body.\n */\nexport function FrameBodyContainer(props: ILayoutContainer) {\n    const classes = frameBodyClasses();\n    return <div {...props} className={classNames(props.className, classes.framePaddings)} />;\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { percent, viewHeight } from \"csx\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\n\nexport const frameVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const makeThemeVars = variableFactory(\"frame\");\n\n    const colors = makeThemeVars(\"colors\", {\n        bg: globalVars.body.backgroundImage.color,\n        fg: globalVars.mainColors.fg,\n    });\n\n    const sizing = makeThemeVars(\"sizing\", {\n        large: 720,\n        medium: 516,\n        small: 375,\n    });\n\n    const border = makeThemeVars(\"border\", {\n        radius: globalVars.border.radius,\n    });\n\n    const spacing = makeThemeVars(\"spacing\", {\n        padding: 16,\n    });\n\n    const header = makeThemeVars(\"header\", {\n        spacing: spacing.padding,\n        minHeight: 44,\n        fontSize: globalVars.fonts.size.subTitle,\n    });\n\n    const footer = makeThemeVars(\"footer\", {\n        spacing: spacing.padding,\n        minHeight: header.minHeight,\n    });\n\n    return {\n        colors,\n        sizing,\n        border,\n        spacing,\n        header,\n        footer,\n    };\n});\n\nexport const frameClasses = useThemeCache(() => {\n    const vars = frameVariables();\n    const style = styleFactory(\"frame\");\n    const mediaQueries = layoutVariables().mediaQueries();\n\n    const headerWrap = style(\"headerWrap\", {\n        background: ColorsUtils.colorOut(vars.colors.bg),\n        zIndex: 2,\n        willChange: \"height\",\n    });\n    const bodyWrap = style(\"bodyWrap\", {\n        position: \"relative\",\n        background: ColorsUtils.colorOut(vars.colors.bg),\n        width: percent(100),\n    });\n    const footerWrap = style(\"footerWrap\", {\n        background: ColorsUtils.colorOut(vars.colors.bg),\n        zIndex: 2,\n        willChange: \"height\",\n    });\n\n    const root = style(\n        {\n            backgroundColor: ColorsUtils.colorOut(vars.colors.bg),\n            maxHeight: viewHeight(80),\n            height: percent(100),\n            borderRadius: styleUnit(vars.border.radius),\n            width: percent(100),\n            position: \"relative\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            minHeight: 0, // https://bugs.chromium.org/p/chromium/issues/detail?id=927066\n            ...{\n                [`.${bodyWrap}`]: {\n                    flexGrow: 1,\n                    overflowY: \"auto\",\n                },\n            },\n        },\n        mediaQueries.xs({\n            maxHeight: percent(100),\n        }),\n    );\n\n    return {\n        root,\n        headerWrap,\n        bodyWrap,\n        footerWrap,\n    };\n});\n","/**\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { frameFooterClasses } from \"@library/layout/frame/frameFooterStyles\";\nimport classNames from \"classnames\";\n\nexport interface IFrameFooterProps {\n    className?: string;\n    children: React.ReactNode;\n    selfPadded?: boolean;\n    justifyRight?: boolean;\n    forDashboard?: boolean;\n}\n\n/**\n * Generic footer for frame component\n */\nexport default class FrameFooter extends React.PureComponent<IFrameFooterProps> {\n    public static defaultProps = {\n        validSelection: false,\n    };\n\n    public render() {\n        const classes = frameFooterClasses();\n        return (\n            <footer\n                className={classNames(\n                    \"frameFooter\",\n                    this.props.className,\n                    classes.root,\n                    this.props.justifyRight && classes.justifiedRight,\n                    this.props.selfPadded ? classes.selfPadded : \"\",\n                    this.props.forDashboard ? classes.forDashboard : \"\",\n                )}\n            >\n                {this.props.children}\n            </footer>\n        );\n    }\n}\n","/**\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { frameClasses } from \"@library/layout/frame/frameStyles\";\nimport classNames from \"classnames\";\nimport { TouchScrollable } from \"react-scrolllock\";\nimport { inheritHeightClass } from \"@library/styles/styleHelpers\";\nimport { cx } from \"@library/styles/styleShim\";\n\ninterface IProps {\n    className?: string;\n    header?: React.ReactNode;\n    body: React.ReactNode;\n    footer?: React.ReactNode;\n    canGrow?: boolean; // Use this when the parent has a fixed height we want to fill.\n    bodyWrapClass?: string;\n    scrollable?: boolean;\n}\n\n/**\n * Generic \"frame\" component. A frame is our generic term for flyouts or modals,\n * since they often use similar components.\n */\nexport default function Frame(props: IProps) {\n    const { scrollable = true } = props;\n    const classes = frameClasses();\n\n    let content = props.body;\n    if (scrollable) {\n        content = (\n            <TouchScrollable>\n                <div className={classNames(classes.bodyWrap, props.bodyWrapClass)}>{content}</div>\n            </TouchScrollable>\n        );\n    }\n\n    return (\n        <section className={cx(\"frame\", classes.root, props.className, props.canGrow && inheritHeightClass())}>\n            {props.header && <div className={classes.headerWrap}> {props.header}</div>}\n            {content}\n            <div className={classes.footerWrap}>{props.footer}</div>\n        </section>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { singleBorder } from \"@library/styles/styleHelpers\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { Variables } from \"@library/styles/Variables\";\nimport { shadowHelper, shadowOrBorderBasedOnLightness } from \"@library/styles/shadowHelpers\";\nimport { CSSObject } from \"@emotion/css\";\nimport { TLength } from \"@library/styles/styleShim\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { em, important, percent, px, border } from \"csx\";\nimport { lineHeightAdjustment } from \"@library/styles/textUtils\";\nimport { FontSizeProperty } from \"csstype\";\nimport { blockQuoteVariables } from \"@rich-editor/quill/components/blockQuoteStyles\";\nimport { cssOut } from \"@dashboard/compatibilityStyles/cssOut\";\nimport { media } from \"@library/styles/styleShim\";\nimport { IThemeVariables } from \"@library/theming/themeReducer\";\n\nexport enum TableStyle {\n    HORIZONTAL_BORDER = \"horizontalBorder\",\n    HORIZONTAL_BORDER_STRIPED = \"horizontalBorderStriped\",\n    VERTICAL_BORDER = \"verticalBorder\",\n    VERTICAL_BORDER_STRIPED = \"verticalBorderStriped\",\n}\n\n/**\n * @varGroup userContent\n * @commonTitle User Content\n * @description Variables affecting content created by users of the site.\n * If you input it through a text editor, it's likely user content.\n */\nexport const userContentVariables = useThemeCache((forcedVars?: IThemeVariables) => {\n    const makeThemeVars = variableFactory(\"userContent\", forcedVars);\n    const globalVars = globalVariables(forcedVars);\n    const { mainColors } = globalVars;\n\n    /**\n     * @varGroup userContent.fonts\n     */\n    const fonts = makeThemeVars(\"fonts\", {\n        /**\n         * @var userContent.fonts.size\n         * @description Default font size for user content.\n         */\n        size: globalVars.fonts.size.large,\n\n        /**\n         * @varGroup userContent.fonts.headings\n         * @commonDescription These are best specified as a relative units. (Eg. \"1.5em\", \"2em\").\n         */\n        headings: {\n            /**\n             * @var userContent.fonts.headings.h1\n             */\n            h1: \"2em\",\n            /**\n             * @var userContent.fonts.headings.h2\n             */\n            h2: \"1.5em\",\n            /**\n             * @var userContent.fonts.headings.h3\n             */\n            h3: \"1.25em\",\n            /**\n             * @var userContent.fonts.headings.h4\n             */\n            h4: \"1em\",\n            /**\n             * @var userContent.fonts.headings.h5\n             */\n            h5: \".875em\",\n            /**\n             * @var userContent.fonts.headings.h6\n             */\n            h6: \".85em\",\n        },\n    });\n\n    /**\n     * @varGroup userContent.tables\n     * @title User Content - Tables\n     */\n    const tableInit = makeThemeVars(\"tables\", {\n        /**\n         * @var userContent.tables.style\n         * @description Choose a preset for the table styles.\n         * @type string\n         * @enum horizontalBorder|horizontalBorderStriped|verticalBorder|verticalBorderStriped\n         */\n        style: TableStyle.HORIZONTAL_BORDER_STRIPED,\n        /**\n         * @varGroup userContent.tables.borders\n         * @title User Content - Tables - Borders\n         * @expand border\n         */\n        borders: globalVars.border,\n\n        cell: {\n            /**\n             * @var userContent.tables.cell.alignment\n             * @title Cell Alignment\n             * @description Choose the alignment of table cells.\n             * @type string\n             * @enum \"center\" | \"left\" | \"right\",\n             */\n            alignment: \"left\" as \"center\" | \"left\" | \"right\",\n        },\n\n        /**\n         * @var userContent.tables.mobileBreakpoint\n         * @title Mobile Breakpoint\n         * @description The device width (pixels) where the table switches to a mobile layout.\n         */\n        mobileBreakpoint: 600,\n    });\n\n    const tables = makeThemeVars(\"tables\", {\n        ...tableInit,\n        striped: [TableStyle.HORIZONTAL_BORDER_STRIPED, TableStyle.VERTICAL_BORDER_STRIPED].includes(tableInit.style),\n        stripeColor: globalVars.mixBgAndFg(0.05),\n        outerBorderRadius: [TableStyle.VERTICAL_BORDER_STRIPED, TableStyle.VERTICAL_BORDER].includes(tableInit.style)\n            ? 4\n            : 0,\n        horizontalBorders: {\n            enabled: true, // All current variants have horizontal borders.\n            borders: tableInit.borders,\n        },\n        verticalBorders: {\n            enabled: [TableStyle.VERTICAL_BORDER_STRIPED, TableStyle.VERTICAL_BORDER].includes(tableInit.style),\n            borders: tableInit.borders,\n        },\n    });\n\n    const blocks = makeThemeVars(\"blocks\", {\n        margin: fonts.size,\n        fg: mainColors.fg,\n        bg: globalVars.mixBgAndFg(0.035),\n    });\n\n    /**\n     * @varGroup userContent.embeds\n     * @title User Content - Embeds\n     */\n    const embeds = makeThemeVars(\"embeds\", {\n        /**\n         * @var userContent.embeds.bg\n         * @title Background\n         * @type string\n         * @format hex-color\n         */\n        bg: mainColors.bg,\n        /**\n         * @var userContent.embeds.fg\n         * @title Text Color\n         * @type string\n         * @format hex-color\n         */\n        fg: mainColors.fg,\n\n        /**\n         * @var userContent.embeds.borderRadius\n         * @title Border Radius\n         * @description Border radius of an embed in pixels.\n         * @type string|number\n         */\n        borderRadius: px(2),\n    });\n\n    /**\n     * @varGroup userContent.code\n     * @title User Content - Code\n     * @commonDescription Applies to inline and block style code items.\n     */\n    const code = makeThemeVars(\"code\", {\n        /**\n         * @var userContent.code.fontSize\n         * @type string|number\n         */\n        fontSize: em(0.85),\n        /**\n         * @var userContent.code.borderRadius\n         * @type string|number\n         */\n        borderRadius: 2,\n    });\n\n    /**\n     * @varGroup userContent.codeInline\n     * @title User Content - Code (Inline)\n     * @commonDescription Applies only to inline code elements. Not Blocks.\n     */\n    const codeInline = makeThemeVars(\"codeInline\", {\n        /**\n         * @var userContent.codeInline.borderRadius\n         * @type string|number\n         */\n        borderRadius: code.borderRadius,\n\n        // TODO: replace with Variables.spacing()\n        paddingVertical: em(0.2),\n        // TODO: replace with Variables.spacing()\n        paddingHorizontal: em(0.4),\n\n        /**\n         * @var userContent.codeInline.fg\n         * @title Text Color\n         * @type string\n         * @format hex-color\n         */\n        fg: blocks.fg,\n        /**\n         * @var userContent.codeInline.bg\n         * @title Background\n         * @type string\n         * @format hex-color\n         */\n        bg: blocks.bg,\n    });\n\n    /**\n     * @varGroup userContent.codeBlock\n     * @title User Content - Code (Block)\n     * @commonDescription Applies only to code block elements. Not inline code.\n     */\n    const codeBlock = makeThemeVars(\"codeBlock\", {\n        /**\n         * @var userContent.codeBlock.borderRadius\n         * @type string|number\n         */\n        borderRadius: globalVars.border.radius,\n\n        // TODO: replace with Variables.spacing()\n        paddingVertical: fonts.size,\n        // TODO: replace with Variables.spacing()\n        paddingHorizontal: fonts.size,\n\n        /**\n         * @var userContent.codeBlock.lineHeight\n         * @type number\n         */\n        lineHeight: 1.45,\n        /**\n         * @var userContent.codeBlock.fg\n         * @title Text Color\n         * @type string\n         * @format hex-color\n         */\n        fg: blocks.fg,\n        /**\n         * @var userContent.codeBlock.bg\n         * @title Background\n         * @type string\n         * @format hex-color\n         */\n        bg: blocks.bg,\n    });\n\n    /**\n     * @varGroup userContent.list\n     * @title User Content - Lists\n     */\n    const list = makeThemeVars(\"list\", {\n        /**\n         * @varGroup userContent.list.spacing\n         * @title User Content - List - Spacing\n         * @expand spacing\n         */\n        spacing: Variables.spacing({\n            top: em(0.5),\n            left: em(2),\n        }),\n        listDecoration: {\n            minWidth: em(2),\n        },\n        nestedList: {\n            margin: \"0 0 0 1em\",\n        },\n    });\n\n    const spacing = makeThemeVars(\"spacing\", {\n        base: 2 * Math.ceil((globalVars.spacer.size * 5) / 8),\n    });\n\n    return {\n        fonts,\n        list,\n        blocks,\n        code,\n        codeInline,\n        codeBlock,\n        embeds,\n        spacing,\n        tables,\n    };\n});\n\n/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nexport const userContentClasses = useThemeCache(() => {\n    const style = styleFactory(\"userContent\");\n    const vars = userContentVariables();\n    const globalVars = globalVariables();\n\n    const listItem: CSSObject = {\n        position: \"relative\",\n        ...Mixins.margin({\n            top: vars.list.spacing.top,\n            left: vars.list.spacing.left,\n        }),\n        ...{\n            \"&:first-child\": {\n                marginTop: 0,\n            },\n            \"&:last-child\": {\n                marginBottom: 0,\n            },\n        },\n    };\n\n    const headingStyle = (tag: string, fontSize: FontSizeProperty<TLength>): CSSObject => {\n        return {\n            marginTop: styleUnit(vars.spacing.base),\n            fontSize,\n            ...lineHeightAdjustment(),\n        };\n    };\n\n    const headings: CSSObject = {\n        \"& h1:not(.heading)\": headingStyle(\"h1\", vars.fonts.headings.h1),\n        \"& h2:not(.heading)\": headingStyle(\"h2\", vars.fonts.headings.h2),\n        \"& h3:not(.heading)\": headingStyle(\"h3\", vars.fonts.headings.h3),\n        \"& h4:not(.heading)\": headingStyle(\"h4\", vars.fonts.headings.h4),\n        \"& h5:not(.heading)\": headingStyle(\"h5\", vars.fonts.headings.h5),\n        \"& h6:not(.heading)\": headingStyle(\"h6\", vars.fonts.headings.h6),\n    };\n\n    const lists: CSSObject = {\n        [\"& ol, & ul\"]: {\n            listStylePosition: \"inside\",\n            margin: `1em 0 1em 2em`,\n            padding: 0,\n        },\n        [\"& ul\"]: {\n            listStyle: \"disc\",\n            ...{\n                [`& > li`]: {\n                    listStyle: \"none\",\n                    position: \"relative\",\n                },\n                [`& > li::before`]: {\n                    fontFamily: `'Arial', serif`,\n                    content: `\"•\"`,\n                    position: \"absolute\",\n                    left: em(-1),\n                },\n                [`& ol, & ul`]: {\n                    margin: vars.list.nestedList.margin,\n                },\n            },\n        },\n        [\"& ol\"]: {\n            ...{\n                [`& > li`]: {\n                    listStyle: \"decimal\",\n                },\n                [`& ol > li`]: {\n                    listStyle: \"lower-alpha\",\n                },\n                [`& ol ol > li`]: {\n                    listStyle: \"lower-roman\",\n                },\n                [`& ol ol ol > li`]: {\n                    listStyle: \"decimal\",\n                },\n                [`& ol ol ol ol > li`]: {\n                    listStyle: \"lower-alpha\",\n                },\n                [`& ol ol ol ol ol > li`]: {\n                    listStyle: \"lower-roman\",\n                },\n                [`& ol ol ol ol ol ol > li`]: {\n                    listStyle: \"decimal\",\n                },\n                [`& ol, & ul`]: {\n                    margin: vars.list.nestedList.margin,\n                },\n            },\n        },\n        [`& li`]: {\n            margin: `5px 0`,\n            ...{\n                [`&, & *:first-child`]: {\n                    marginTop: 0,\n                },\n                [`&, & *:last-child`]: {\n                    marginBottom: 0,\n                },\n            },\n        },\n    };\n\n    const paragraphSpacing: CSSObject = {\n        \"& > p\": {\n            marginTop: 0,\n            marginBottom: 0,\n            ...{\n                \"&:not(:first-child)\": {\n                    marginTop: vars.blocks.margin * 0.5,\n                },\n                \"&:first-child\": {\n                    ...lineHeightAdjustment(),\n                },\n            },\n        },\n\n        \"&& > *:not(:last-child):not(.embedResponsive)\": {\n            marginBottom: vars.blocks.margin,\n        },\n\n        \"&& > *:first-child\": {\n            marginTop: 0,\n            ...{\n                \"&::before\": {\n                    marginTop: 0,\n                },\n            },\n        },\n    };\n\n    const linkColors = Mixins.clickable.itemState();\n    const linkStyle = {\n        \"& a\": {\n            color: ColorsUtils.colorOut(linkColors.color as string),\n        },\n        \"& a:hover\": {\n            color: ColorsUtils.colorOut(globalVars.links.colors.hover),\n            textDecoration: \"underline\",\n        },\n        \"& a:focus\": {\n            color: ColorsUtils.colorOut(globalVars.links.colors.focus),\n            textDecoration: \"underline\",\n        },\n        \"& a.focus-visible\": {\n            color: ColorsUtils.colorOut(globalVars.links.colors.keyboardFocus),\n            textDecoration: \"underline\",\n        },\n        \"& a:active\": {\n            color: ColorsUtils.colorOut(globalVars.links.colors.active),\n            textDecoration: \"underline\",\n        },\n    };\n\n    const codeStyles: CSSObject = {\n        \".code\": {\n            position: \"relative\",\n            fontSize: vars.code.fontSize,\n            fontFamily: `Menlo, Monaco, Consolas, \"Courier New\", monospace`,\n            maxWidth: percent(100),\n            overflowX: \"auto\",\n            margin: 0,\n            color: ColorsUtils.colorOut(vars.blocks.fg),\n            backgroundColor: ColorsUtils.colorOut(vars.blocks.bg),\n            border: \"none\",\n        },\n        \"&& .codeInline\": {\n            whiteSpace: \"normal\",\n            ...Mixins.padding({\n                top: vars.codeInline.paddingVertical,\n                bottom: vars.codeInline.paddingVertical,\n                left: vars.codeInline.paddingHorizontal,\n                right: vars.codeInline.paddingHorizontal,\n            }),\n            color: ColorsUtils.colorOut(vars.codeInline.fg),\n            backgroundColor: ColorsUtils.colorOut(vars.codeInline.bg),\n            borderRadius: vars.codeInline.borderRadius,\n            // We CAN'T use display: `inline` & position: `relative` together.\n            // This causes the cursor to disappear in a contenteditable.\n            // @see https://bugs.chromium.org/p/chromium/issues/detail?id=724821\n            display: \"inline\",\n            position: \"static\",\n        },\n        \"&& .codeBlock\": {\n            display: \"block\",\n            wordWrap: \"normal\",\n            lineHeight: vars.codeBlock.lineHeight,\n            borderRadius: vars.codeBlock.borderRadius,\n            flexShrink: 0, // Needed so code blocks don't collapse in the editor.\n            whiteSpace: \"pre\",\n            color: ColorsUtils.colorOut(vars.codeBlock.fg),\n            backgroundColor: ColorsUtils.colorOut(vars.codeBlock.bg),\n            ...Mixins.padding({\n                top: vars.codeBlock.paddingVertical,\n                bottom: vars.codeBlock.paddingVertical,\n                left: vars.codeBlock.paddingHorizontal,\n                right: vars.codeBlock.paddingHorizontal,\n            }),\n        },\n    };\n\n    // Blockquotes & spoilers\n    // These are temporarily kludged here due to lack of time.\n    // They should be fully converted in the future but at the moment\n    // Only the bare minimum is convverted in order to make the colors work.\n    const spoilersAndQuotes: CSSObject = {\n        \".embedExternal-content\": {\n            borderRadius: vars.embeds.borderRadius,\n            ...{\n                \"&::after\": {\n                    borderRadius: vars.embeds.borderRadius,\n                },\n            },\n        },\n        \".embedText-content\": {\n            background: ColorsUtils.colorOut(vars.embeds.bg),\n            color: ColorsUtils.colorOut(vars.embeds.fg),\n            overflow: \"hidden\",\n            ...shadowOrBorderBasedOnLightness(\n                globalVars.body.backgroundImage.color,\n                Mixins.border({\n                    color: vars.embeds.fg.fade(0.3),\n                }),\n                shadowHelper().embed(),\n            ),\n        },\n        [`.embedText-title,\n          .embedLink-source,\n          .embedLink-excerpt`]: {\n            color: ColorsUtils.colorOut(vars.blocks.fg),\n        },\n        \".metaStyle\": {\n            opacity: 0.8,\n        },\n        \".embedLoader-box\": {\n            background: ColorsUtils.colorOut(vars.embeds.bg),\n            ...Mixins.border({\n                color: vars.embeds.fg.fade(0.3),\n            }),\n        },\n    };\n\n    const embeds: CSSObject = {\n        \"&& .embedExternal\": {\n            marginBottom: vars.blocks.margin,\n        },\n        [`&& .float-left,\n          && .float-right`]: {\n            marginBottom: \"0 !important\",\n        },\n        [`&& .float-left .embedExternal-content,\n          && .float-right .embedExternal-content`]: {\n            marginBottom: vars.blocks.margin,\n        },\n    };\n\n    const blockQuoteVars = blockQuoteVariables();\n\n    const blockquotes: CSSObject = {\n        \".blockquote\": {\n            color: ColorsUtils.colorOut(blockQuoteVars.colors.fg),\n        },\n    };\n\n    const tables: CSSObject = {\n        \".tableWrapper\": {\n            overflowX: \"auto\",\n            width: percent(100),\n        },\n        \"& > .tableWrapper > table\": {\n            width: percent(100),\n        },\n        // Rest of the table styles\n        \"& > .tableWrapper th\": {\n            whiteSpace: \"nowrap\",\n        },\n        \"& > .tableWrapper td, & > .tableWrapper th\": {\n            overflowWrap: \"break-word\",\n            minWidth: 80,\n            ...Mixins.padding({\n                vertical: 6,\n                horizontal: 12,\n            }),\n            border: \"none\",\n            textAlign: vars.tables.cell.alignment,\n            ...(vars.tables.horizontalBorders.enabled\n                ? {\n                      borderTop: singleBorder(vars.tables.horizontalBorders.borders),\n                      borderBottom: singleBorder(vars.tables.horizontalBorders.borders),\n                  }\n                : {}),\n            ...(vars.tables.verticalBorders.enabled\n                ? {\n                      borderLeft: singleBorder(vars.tables.verticalBorders.borders),\n                      borderRight: singleBorder(vars.tables.verticalBorders.borders),\n                  }\n                : {}),\n        },\n        \"& > .tableWrapper tr:nth-child(even)\": vars.tables.striped\n            ? {\n                  background: ColorsUtils.colorOut(vars.tables.stripeColor),\n              }\n            : {},\n        \"& > .tableWrapper th, & > .tableWrapper thead td\": {\n            fontWeight: globalVars.fonts.weights.bold,\n        },\n\n        // Mobile table styles.\n        \".mobileTableHead\": {\n            display: \"none\",\n        },\n    };\n\n    const outerBorderMixin = (): CSSObject => {\n        return {\n            borderRadius: vars.tables.outerBorderRadius,\n            borderTop: vars.tables.horizontalBorders.enabled\n                ? singleBorder(vars.tables.horizontalBorders.borders)\n                : undefined,\n            borderBottom: vars.tables.horizontalBorders.enabled\n                ? singleBorder(vars.tables.horizontalBorders.borders)\n                : undefined,\n            borderLeft: vars.tables.verticalBorders.enabled\n                ? singleBorder(vars.tables.verticalBorders.borders)\n                : undefined,\n            borderRight: vars.tables.verticalBorders.enabled\n                ? singleBorder(vars.tables.verticalBorders.borders)\n                : undefined,\n        };\n    };\n\n    // Apply outer border radii.\n    // border-collapse prevents our outer radius from applying.\n    const tableOuterRadiusQuery = media(\n        { minWidth: vars.tables.mobileBreakpoint + 1 },\n        {\n            ...{\n                \".tableWrapper\": outerBorderMixin(),\n                \"& > .tableWrapper thead tr:first-child > *, & > .tableWrapper tbody:first-child tr:first-child > *\": {\n                    // Get rid of the outer border radius.\n                    borderTop: \"none\",\n                },\n                \"& > .tableWrapper :not(thead) tr:last-child > *\": {\n                    // Get rid of the outer border radius.\n                    borderBottom: \"none\",\n                },\n                \"& > .tableWrapper tr > *:last-child\": {\n                    // Get rid of the outer border radius.\n                    borderRight: \"none\",\n                },\n                \"& > .tableWrapper tr > *:first-child, & > .tableWrapper tr > .mobileTableHead:first-child + *\": {\n                    // Get rid of the outer border radius.\n                    borderLeft: \"none\",\n                },\n            },\n        },\n    );\n\n    const tableMobileQuery = media(\n        { maxWidth: vars.tables.mobileBreakpoint },\n        {\n            ...{\n                \".tableWrapper .tableHead\": {\n                    ...Mixins.absolute.srOnly(),\n                },\n                \".tableWrapper tr\": {\n                    display: \"block\",\n                    flexWrap: \"wrap\",\n                    width: percent(100),\n                    background: \"none !important\",\n                    marginBottom: vars.blocks.margin,\n                    ...outerBorderMixin(),\n                },\n                \".tableWrapper tr .mobileStripe\": vars.tables.striped\n                    ? {\n                          borderTop: \"none\",\n                          borderBottom: \"none\",\n                          background: ColorsUtils.colorOut(vars.tables.stripeColor),\n                      }\n                    : {\n                          borderTop: \"none\",\n                          borderBottom: \"none\",\n                      },\n                // First row.\n                \".tableWrapper tr > *:first-child\": {\n                    borderTop: \"none\",\n                },\n                // Last row.\n                \".tableWrapper tr > *:last-child\": {\n                    borderBottom: \"none\",\n                },\n                \".tableWrapper .mobileTableHead\": {\n                    borderBottom: \"none\",\n                },\n                \".tableWrapper .mobileTableHead + *\": {\n                    marginTop: -6,\n                    borderTop: \"none\",\n                },\n                \".tableWrapper tr > *\": {\n                    width: percent(100),\n                    wordWrap: \"break-word\",\n                    display: \"block\",\n                    borderLeft: \"none\",\n                    borderRight: \"none\",\n                },\n                \".tableWrapper tr > :not(.mobileTableHead)\": {\n                    borderRight: \"none\",\n                },\n            },\n        },\n    );\n\n    const root = style(\n        {\n            // These CAN'T be flexed. That breaks margin collapsing.\n            display: important(\"block\"),\n            position: \"relative\",\n            width: percent(100),\n            wordBreak: \"break-word\",\n            lineHeight: globalVars.lineHeights.base,\n            fontSize: vars.fonts.size,\n            marginTop: lineHeightAdjustment()[\"::before\"]?.marginTop,\n            ...{\n                // A placeholder might be put in a ::before element. Make sure we match the line-height adjustment.\n                \"& iframe\": {\n                    width: percent(100),\n                },\n                ...tables,\n                ...headings,\n                ...lists,\n                ...paragraphSpacing,\n                ...codeStyles,\n                ...spoilersAndQuotes,\n                ...embeds,\n                ...blockquotes,\n                ...linkStyle,\n            },\n        },\n        tableOuterRadiusQuery,\n        tableMobileQuery,\n    );\n\n    return { root };\n});\n\nexport const userContentCSS = () => {\n    const globalVars = globalVariables();\n    cssOut(\n        `\n        .Container .userContent h1,\n        .Container .userContent h2,\n        .Container.userContent h3,\n        .Container .userContent h4,\n        .Container .userContent h5,\n        .Container .userContent h6`,\n        {\n            color: ColorsUtils.colorOut(globalVars.mainColors.fg),\n        },\n    );\n};\n","import { DEFAULT_CORE_SEARCH_FORM, INITIAL_SEARCH_STATE } from \"@library/search/searchReducer\";\nimport { ISearchForm, ISearchResults, ISearchFormBase } from \"@library/search/searchTypes\";\nimport { ILoadable } from \"@vanilla/library/src/scripts/@types/api/core\";\nimport React, { useContext } from \"react\";\nimport { ISearchDomain } from \"./SearchService\";\n\nexport const SearchContext = React.createContext<ISearchContextValue>({\n    getFilterComponentsForDomain: () => null,\n    updateForm: () => {},\n    resetForm: () => {},\n    results: INITIAL_SEARCH_STATE.results,\n    domainSearchResults: INITIAL_SEARCH_STATE.domainSearchResults,\n    form: DEFAULT_CORE_SEARCH_FORM,\n    search: () => {},\n    searchInDomain: () => {},\n    getDomains: () => {\n        return [];\n    },\n    getCurrentDomain: () => {\n        throw new Error(\"Context implementation is required for this method\");\n    },\n    getDefaultFormValues: () => {\n        return DEFAULT_CORE_SEARCH_FORM;\n    },\n});\ninterface ISearchContextValue<ExtraFormValues extends object = ISearchFormBase> {\n    results: ILoadable<ISearchResults>;\n\n    domainSearchResults: Record<string, ILoadable<ISearchResults>>;\n\n    form: ISearchForm<ExtraFormValues>;\n\n    /**\n     * Get all of the DOM elements for selecting query values for a search domain.\n     * @param domain The search domain to get values for.\n     */\n    getFilterComponentsForDomain(domain: string): React.ReactNode;\n\n    /**\n     * Update some form values.\n     */\n    updateForm(updateValues: Partial<ISearchForm<ExtraFormValues>>): void;\n\n    /**\n     * Update some form values.\n     */\n    resetForm(): void;\n\n    /**\n     * Perform a search.\n     */\n    search(): void;\n\n    /**\n     * Perform a separate search in any domain outside of the current domain\n     */\n    searchInDomain(domain: string): void;\n\n    /**\n     * Get all of the regitered search domains.\n     */\n    getDomains(): ISearchDomain[];\n\n    /**\n     * Get the current search domain of the form.\n     */\n    getCurrentDomain(): ISearchDomain;\n\n    /**\n     * Get the default values for the form.\n     */\n    getDefaultFormValues(): ISearchForm;\n}\n\nexport function useSearchForm<T extends object>() {\n    return useContext(SearchContext) as ISearchContextValue<T>;\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useMemo } from \"react\";\nimport { animated, useTransition } from \"react-spring\";\nimport classNames from \"classnames\";\n\ninterface IProps extends React.HtmlHTMLAttributes<HTMLDivElement> {\n    // Whether or not the element has entered the screen and should be visible.\n    // NOTE: For animations OUT to work, you need to continue to render the element throughout it's transition.\n    // This means you can't do {isVisible && <EntranceAnimation />}\n    isEntered: boolean;\n\n    // The element to render as. All HTML props are supported.\n    // If using a fixed position element, make you apply all position to THIS element.\n    // Eg. <EntranceAnimation asElement=\"header\" /> === <header {...transitionProps} {...otherProps} />\n    asElement?: string;\n\n    // The contents that are being transitioned.\n    children?: React.ReactNode;\n\n    // A delay before the transition starts.\n    delay?: number;\n\n    // Whether or not the element should fade in.\n    fade?: boolean;\n\n    // The direction to transition in from (if applicable).\n    fromDirection?: FromDirection;\n\n    // If set the element will transition from the fromDirection, but it will start halfway away.\n    halfDirection?: boolean;\n\n    // For elements that are already transformed through CSS\n    // The transition may apply it's own transform that conflicts.\n    // Give the target transform percentages here so that calculations can be correct.\n    targetTransform?: Partial<ITargetTransform>;\n\n    // Callback that is called when the animated element is removed from the DOM (transition out complete).\n    onDestroyed?: () => void;\n\n    // Special class to apply when the first child has multiple\n    firstItemProps?: React.HtmlHTMLAttributes<HTMLDivElement>;\n    lastItemProps?: React.HtmlHTMLAttributes<HTMLDivElement>;\n}\n\nexport enum FromDirection {\n    TOP = \"top\",\n    LEFT = \"left\",\n    RIGHT = \"right\",\n    BOTTOM = \"bottom\",\n}\n\nexport interface ITargetTransform {\n    xPercent?: number;\n    yPercent?: number;\n}\n\n/**\n * A component for transitioning some child entering in.\n *\n * It's transition is configurable through props.\n */\nexport const EntranceAnimation = React.forwardRef<HTMLDivElement, IProps>(function EntranceAnimation(\n    _props: IProps,\n    ref,\n) {\n    const {\n        firstItemProps,\n        lastItemProps,\n        isEntered,\n        delay,\n        fromDirection,\n        fade,\n        asElement,\n        halfDirection,\n        targetTransform,\n        children,\n        onDestroyed,\n        ...divProps\n    } = _props;\n    const config = useTransitionConfig(_props);\n\n    const transitions = useTransition(isEntered ? children : null, (item) => item?.key, config);\n    const AnimatedComponent = asElement ? animated[asElement] : animated.div;\n\n    return transitions.map(({ item, key, props: style }, i) => {\n        const isFirst = i === 0;\n        const isLast = i === transitions.length - 1;\n        const classes = classNames(\n            divProps.className,\n            isFirst && firstItemProps?.className,\n            isLast && lastItemProps?.className,\n        );\n\n        return (\n            item && (\n                <AnimatedComponent\n                    {...divProps}\n                    {...(isFirst ? firstItemProps ?? {} : {})}\n                    {...(isLast ? lastItemProps ?? {} : {})}\n                    className={classes}\n                    ref={ref}\n                    key={key}\n                    style={style}\n                >\n                    {item}\n                </AnimatedComponent>\n            )\n        );\n    });\n});\n\nconst useTransitionConfig = (props: IProps) => {\n    const { fromDirection, delay, fade, halfDirection, targetTransform, onDestroyed } = props;\n    const { xPercent = 0, yPercent = 0 } = targetTransform ?? {};\n\n    return useMemo(() => {\n        // Opacity\n        const startOpacity = fade ? 0 : 1;\n        const endOpacity = 1;\n\n        let startTransform: string | undefined = undefined;\n        let endTransform: string | undefined = undefined;\n\n        if (fromDirection) {\n            // Sliding\n            let startX = 0;\n            let endX = 0;\n            let startY = 0;\n            let endY = 0;\n            const offsetPercent = halfDirection ? 25 : 100;\n\n            switch (fromDirection) {\n                case FromDirection.BOTTOM:\n                    startX = xPercent;\n                    endX = xPercent;\n                    startY = yPercent + offsetPercent;\n                    endY = yPercent;\n                    break;\n                case FromDirection.TOP:\n                    startX = xPercent;\n                    endX = xPercent;\n                    startY = yPercent - offsetPercent;\n                    endY = yPercent;\n                    break;\n                case FromDirection.RIGHT:\n                    startX = xPercent + offsetPercent;\n                    endX = xPercent;\n                    startY = yPercent;\n                    endY = yPercent;\n                    break;\n                case FromDirection.LEFT:\n                    startX = xPercent - offsetPercent;\n                    endX = xPercent;\n                    startY = yPercent;\n                    endY = yPercent;\n                    break;\n            }\n\n            startTransform = `translate3d(${startX}%, ${startY}%, 0)`;\n            endTransform = `translate3d(${endX}%, ${endY}%, 0)`;\n        }\n\n        const result = {\n            config: {\n                tension: 250,\n                friction: 30,\n                clamp: true,\n            },\n            trail: delay || 0,\n            onDestroyed: () => {\n                onDestroyed?.();\n            },\n            from: {\n                pointerEvents: \"none\",\n                opacity: startOpacity,\n                transform: startTransform,\n            },\n            enter: {\n                opacity: endOpacity,\n                pointerEvents: \"initial\",\n                transform: endTransform,\n            },\n            leave: {\n                opacity: startOpacity,\n                pointerEvents: \"none\",\n                transform: startTransform,\n            },\n        };\n\n        // Cleanup undefined values that useTransition can't handle.\n        if (!result.from.transform) {\n            delete result.from.transform;\n        }\n        if (!result.enter.transform) {\n            delete result.enter.transform;\n        }\n        if (!result.leave.transform) {\n            delete result.leave.transform;\n        }\n        return result;\n    }, [fade, fromDirection, delay, halfDirection, xPercent, yPercent, onDestroyed]);\n};\n","/**\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport ModalSizes from \"@library/modal/ModalSizes\";\nimport { modalClasses } from \"@library/modal/modalStyles\";\nimport { uniqueIDFromPrefix } from \"@library/utility/idUtils\";\nimport classNames from \"classnames\";\nimport React, { useMemo, useRef, useState, useLayoutEffect, useCallback } from \"react\";\nimport ScrollLock, { TouchScrollable } from \"react-scrolllock\";\nimport { EntranceAnimation, ITargetTransform, FromDirection } from \"@library/animation/EntranceAnimation\";\nimport { useLastValue } from \"@vanilla/react-utils\";\n\ninterface IProps {\n    id?: string;\n    onOverlayClick: React.MouseEventHandler;\n    onModalClick: React.MouseEventHandler;\n    onKeyDown: React.KeyboardEventHandler;\n    description?: string;\n    titleID?: string;\n    label?: string;\n    className?: boolean;\n    scrollable?: boolean;\n    size: ModalSizes;\n    modalRef?: React.RefObject<HTMLDivElement>;\n    children?: React.ReactNode;\n    isVisible: boolean;\n    onDestroyed: () => void;\n    onKeyPress?: (e) => void;\n}\n\n/**\n * Render the contents into a portal.\n */\nexport function ModalView(props: IProps) {\n    const { titleID, label, size, isVisible, onDestroyed } = props;\n    const [isAnimatingOut, setIsAnimatingOut] = useState(false);\n\n    const lastVisible = useLastValue(isVisible);\n    useLayoutEffect(() => {\n        if (lastVisible && !isVisible) {\n            setIsAnimatingOut(true);\n        }\n    }, [isVisible, lastVisible]);\n\n    const handleDestroy = useCallback(() => {\n        setIsAnimatingOut(false);\n        onDestroyed();\n    }, [onDestroyed]);\n\n    const domID = useMemo(() => uniqueIDFromPrefix(\"modal\"), []);\n    const descriptionID = domID + \"-description\";\n\n    const ownRef = useRef<HTMLDivElement>(null);\n    const modalRef = props.modalRef || ownRef;\n\n    const classes = modalClasses();\n\n    let contents = (\n        <>\n            {props.description && (\n                <div id={descriptionID} className=\"sr-only\">\n                    {props.description}\n                </div>\n            )}\n            {props.children}\n        </>\n    );\n\n    if (props.scrollable) {\n        contents = (\n            <TouchScrollable>\n                <div className={classes.scroll}>{contents}</div>\n            </TouchScrollable>\n        );\n    }\n\n    const targetTransform: Partial<ITargetTransform> | undefined = useMemo(() => {\n        switch (size) {\n            case ModalSizes.SMALL:\n            case ModalSizes.MEDIUM:\n            case ModalSizes.LARGE:\n            case ModalSizes.XL:\n                return {\n                    xPercent: -50,\n                    yPercent: -50,\n                };\n            default:\n                return undefined;\n        }\n    }, [size]);\n\n    const contentTransition = (() => {\n        switch (props.size) {\n            case ModalSizes.SMALL:\n            case ModalSizes.MEDIUM:\n            case ModalSizes.LARGE:\n                return {\n                    fade: true,\n                    fromDirection: FromDirection.BOTTOM,\n                    halfDirection: true,\n                };\n            case ModalSizes.XL:\n                return {\n                    fade: true,\n                };\n            case ModalSizes.FULL_SCREEN:\n                return {\n                    fade: false,\n                };\n            case ModalSizes.MODAL_AS_DROP_DOWN:\n                return {\n                    fade: false,\n                    fromDirection: FromDirection.TOP,\n                };\n            case ModalSizes.MODAL_AS_SIDE_PANEL_RIGHT:\n            case ModalSizes.MODAL_AS_SIDE_PANEL_RIGHT_LARGE:\n                return {\n                    fade: false,\n                    fromDirection: FromDirection.RIGHT,\n                };\n            case ModalSizes.MODAL_AS_SIDE_PANEL_LEFT:\n                return {\n                    fade: false,\n                    fromDirection: FromDirection.LEFT,\n                };\n        }\n    })();\n\n    return (\n        <div onKeyPress={props.onKeyPress}>\n            <EntranceAnimation\n                fade\n                isEntered={props.isVisible}\n                className={classes.overlayScrim}\n                onDestroyed={handleDestroy}\n            >\n                <span />\n            </EntranceAnimation>\n            <ScrollLock isActive={props.isVisible || lastVisible || isAnimatingOut}>\n                <div\n                    className={classes.overlayContent}\n                    onClick={props.onOverlayClick}\n                    style={{ pointerEvents: props.isVisible ? \"initial\" : \"none\" }}\n                >\n                    <EntranceAnimation\n                        id={props.id}\n                        {...contentTransition}\n                        targetTransform={targetTransform}\n                        isEntered={props.isVisible}\n                        role=\"dialog\"\n                        aria-modal={true}\n                        className={classNames(\n                            classes.root,\n                            {\n                                isFullScreen:\n                                    size === ModalSizes.FULL_SCREEN ||\n                                    size === ModalSizes.MODAL_AS_SIDE_PANEL_RIGHT ||\n                                    size === ModalSizes.MODAL_AS_SIDE_PANEL_LEFT,\n                                isSidePanelRight: size === ModalSizes.MODAL_AS_SIDE_PANEL_RIGHT,\n                                isSidePanelRightLarge: size === ModalSizes.MODAL_AS_SIDE_PANEL_RIGHT_LARGE,\n                                isSidePanelLeft: size === ModalSizes.MODAL_AS_SIDE_PANEL_LEFT,\n                                isDropDown: size === ModalSizes.MODAL_AS_DROP_DOWN,\n                                isXL: size === ModalSizes.XL,\n                                isLarge: size === ModalSizes.LARGE,\n                                isMedium: size === ModalSizes.MEDIUM,\n                                isSmall: size === ModalSizes.SMALL,\n                                isShadowed: size === ModalSizes.LARGE || ModalSizes.MEDIUM || ModalSizes.SMALL,\n                            },\n                            props.className,\n                        )}\n                        ref={modalRef}\n                        onKeyDown={props.onKeyDown}\n                        onClick={props.onModalClick}\n                        aria-label={label}\n                        aria-labelledby={titleID}\n                        aria-describedby={props.description ? descriptionID : undefined}\n                    >\n                        {contents}\n                    </EntranceAnimation>\n                </div>\n            </ScrollLock>\n        </div>\n    );\n}\n","/**\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport ModalSizes from \"@library/modal/ModalSizes\";\nimport { ModalView } from \"@library/modal/ModalView\";\nimport { logWarning, debug } from \"@vanilla/utils\";\nimport React, { ReactElement } from \"react\";\nimport { TabHandler } from \"@vanilla/dom-utils\";\nimport { mountPortal } from \"@vanilla/react-utils\";\n\nReact.memo(\n    function MyComponent() {\n        return <div></div>;\n    },\n    () => {\n        return true;\n    },\n);\n\ninterface IProps {\n    id?: string;\n    className?: string;\n    exitHandler?: (event?: React.SyntheticEvent<any>) => void;\n    pageContainer?: Element | null;\n    container?: Element;\n    description?: string;\n    children: React.ReactNode;\n    elementToFocus?: HTMLElement;\n    size: ModalSizes;\n    scrollable?: boolean;\n    elementToFocusOnExit?: HTMLElement; // Should either be a specific element or use document.activeElement\n    isWholePage?: boolean;\n    isVisible: boolean;\n    afterContent?: React.ReactNode;\n    titleID?: string;\n    label?: string; // Necessary if there's no proper title\n    onKeyPress?: (e) => void;\n}\n\ninterface IState {\n    wasDestroyed: boolean;\n}\n\nexport const MODAL_CONTAINER_ID = \"modals\";\nexport const PAGE_CONTAINER_ID = \"page\";\n\n/**\n * Mount a modal from a top level context.\n *\n * If you are already in a react context, just use `<Modal />`.\n */\nexport function mountModal(node: ReactElement<any>) {\n    return mountPortal(node, MODAL_CONTAINER_ID);\n}\n\n/**\n * An accessible Modal component.\n *\n * - Renders into the `#modals` element with a React portal.\n * - Implements tab trapping.\n * - Closes with the escape key.\n * - Sets aria-hidden on the main application.\n * - Prevents scrolling of the body.\n * - Focuses the first focusable element in the Modal.\n */\nexport default class Modal extends React.Component<IProps, IState> {\n    public static stack: Modal[] = [];\n    private closeFocusElement: HTMLElement | null = null;\n    private selfRef = React.createRef<HTMLDivElement>();\n\n    public state: IState = {\n        wasDestroyed: !this.props.isVisible,\n    };\n\n    /**\n     * Render the contents into a portal.\n     */\n    public render() {\n        if (this.state.wasDestroyed) {\n            return null;\n        }\n\n        return mountPortal(\n            <>\n                <ModalView\n                    id={this.props.id}\n                    onDestroyed={this.handleDestroyed}\n                    scrollable={this.props.scrollable}\n                    onKeyDown={this.handleTabbing}\n                    onModalClick={this.handleModalClick}\n                    onOverlayClick={this.handleScrimClick}\n                    description={this.props.description}\n                    size={this.props.size}\n                    modalRef={this.selfRef}\n                    titleID={\"titleID\" in this.props ? this.props.titleID : undefined}\n                    label={\"label\" in this.props ? this.props.label : undefined}\n                    isVisible={this.props.isVisible}\n                    onKeyPress={this.props.onKeyPress}\n                >\n                    {this.props.children}\n                </ModalView>\n                {this.props.afterContent}\n            </>,\n            MODAL_CONTAINER_ID,\n            true,\n        );\n    }\n\n    /**\n     * Get a fresh instance of the TabHandler.\n     *\n     * Since the contents of the modal could be changing constantly\n     * we are creating a new instance every time we need it.\n     */\n    private get tabHandler(): TabHandler | null {\n        return this.selfRef.current ? new TabHandler(this.selfRef.current) : null;\n    }\n\n    /**\n     * Initial component setup.\n     *\n     * Everything here should be torn down in componentWillUnmount\n     */\n    public componentDidMount() {\n        const pageContainer = this.getPageContainer();\n        if (!pageContainer) {\n            logWarning(`\nA modal was mounted, but the page container could not be found.\nPlease wrap your primary content area with the ID \"${PAGE_CONTAINER_ID}\" so it can be hidden to screenreaders.\n            `);\n        }\n    }\n\n    public onMountIn = () => {\n        const pageContainer = this.getPageContainer();\n        this.setCloseFocusElement();\n        this.focusInitialElement();\n        pageContainer && pageContainer.setAttribute(\"aria-hidden\", true);\n\n        // Add the escape keyboard listener only on the first modal in the stack.\n        if (Modal.stack.length === 0) {\n            document.addEventListener(\"keydown\", this.handleDocumentEscapePress);\n        }\n        Modal.stack.push(this);\n    };\n\n    public handleDestroyed = () => {\n        // Do some quick state updates to bump the modal to the top of the portal stack.\n        // When we set this to true we render null once.\n        // The in the update we set back to false.\n        // The second render will re-create the portal.\n        this.setState({ wasDestroyed: true });\n\n        const pageContainer = this.getPageContainer();\n        // Set aria-hidden on page and reenable scrolling if we're removing the last modal\n        Modal.stack.pop();\n        if (Modal.stack.length === 0) {\n            pageContainer && pageContainer.removeAttribute(\"aria-hidden\");\n\n            // This event listener is only added once (on the top modal).\n            // So we only remove when clearing the last one.\n            document.removeEventListener(\"keydown\", this.handleDocumentEscapePress);\n        } else {\n            pageContainer && pageContainer.setAttribute(\"aria-hidden\", true);\n        }\n\n        // We were destroyed so we should focus back to the last element.\n        this.closeFocusElement?.focus();\n    };\n\n    public componentDidUpdate(prevProps: IProps, prevState: IState) {\n        if (this.props.elementToFocusOnExit !== prevProps.elementToFocusOnExit) {\n            this.setCloseFocusElement();\n        }\n\n        if (prevState.wasDestroyed && !this.state.wasDestroyed) {\n            this.onMountIn();\n        }\n\n        if (!prevProps.isVisible && this.props.isVisible) {\n            this.setState({ wasDestroyed: false });\n        }\n    }\n\n    private getPageContainer(): HTMLElement | null {\n        return document.getElementById(PAGE_CONTAINER_ID);\n    }\n\n    /**\n     * Focus the initial element in the Modal.\n     */\n    private focusInitialElement() {\n        const focusElement = this.props.elementToFocus ? this.props.elementToFocus : this.tabHandler?.getInitial();\n        if (focusElement) {\n            focusElement!.focus();\n        }\n    }\n\n    /**\n     * Set focus on element to target when we close the modal\n     */\n    private setCloseFocusElement() {\n        // if we need to rerender the component, we don't want to include a bad value in the focus history\n        if (this.props.elementToFocusOnExit) {\n            this.closeFocusElement = this.props.elementToFocusOnExit;\n        } else {\n            // Get the last focused element\n            this.closeFocusElement = document.activeElement as HTMLElement;\n        }\n\n        if (debug() && (!this.closeFocusElement || this.closeFocusElement === document.documentElement)) {\n            const message = `\nDev Mode Error: Could not detect an element to focus on <Modal /> close.\n\nIt seems auto-detection isn't working, so you'll need to specify the \"elementToFocusOnExit\" props.`;\n            throw new Error(message);\n        }\n    }\n\n    /**\n     * Handle tab keyboard presses.\n     */\n    private handleTabbing = (event: React.KeyboardEvent) => {\n        const tabKey = 9;\n\n        if (event.shiftKey && event.keyCode === tabKey) {\n            this.handleShiftTab(event);\n        } else if (!event.shiftKey && event.keyCode === tabKey) {\n            this.handleTab(event);\n        }\n    };\n\n    /**\n     * Handle escape press and close the top modal.\n     *\n     * This listener is added to the document in the event a non-focusable element inside the modal is clicked.\n     * In that case focus will be on the document.\n     *\n     * Because of this we have to be smarter and call only the top modal's escape handler.\n     */\n    private handleDocumentEscapePress = (event: React.SyntheticEvent | KeyboardEvent) => {\n        const topModal = Modal.stack[Modal.stack.length - 1];\n        const escKey = 27;\n\n        if (\"keyCode\" in event && event.keyCode === escKey) {\n            event.preventDefault();\n            event.stopPropagation();\n            if (Modal.stack.length === 1 && this.props.isWholePage) {\n                return;\n            } else {\n                if (topModal.props.exitHandler) {\n                    topModal.props.exitHandler(event as any);\n                }\n            }\n        }\n    };\n\n    /**\n     * Stop propagation of events at the top of the modal so they don't make it\n     * to the scrim click handler.\n     */\n    private handleModalClick = (event: React.MouseEvent) => {\n        event.stopPropagation();\n    };\n\n    /**\n     * Call the exit handler when the scrim is clicked directly.\n     */\n    private handleScrimClick = (event: React.MouseEvent) => {\n        event.preventDefault();\n        if (this.props.exitHandler) {\n            this.props.exitHandler(event);\n        }\n    };\n\n    /**\n     * Handle shift tab key presses.\n     *\n     * - Focuses the previous element in the modal.\n     * - Loops if we are at the beginning\n     *\n     * @param event The react event.\n     */\n    private handleShiftTab(event: React.KeyboardEvent) {\n        const nextElement = this.tabHandler?.getNext(undefined, true);\n        if (nextElement) {\n            event.preventDefault();\n\n            event.stopPropagation();\n            nextElement.focus();\n        }\n    }\n\n    /**\n     * Handle tab key presses.\n     *\n     * - Focuses the next element in the modal.\n     * - Loops if we are at the end.\n     *\n     * @param event The react event.\n     */\n    private handleTab(event: React.KeyboardEvent) {\n        const previousElement = this.tabHandler?.getNext();\n        if (previousElement) {\n            event.preventDefault();\n            event.stopPropagation();\n            previousElement.focus();\n        }\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { History } from \"history\";\nimport { useEffect } from \"react\";\n\nexport type PageViewHandler = (params: { history: History }) => void | Promise<void>;\n\nconst EVENT_NAME = \"pageView\";\n\n/**\n * Register a callback for a when a pageview is triggered.\n *\n * @param handler The handler for the page view.\n */\nexport function onPageView(handler: PageViewHandler) {\n    const eventListener = (e: CustomEvent) => {\n        const history = e.detail;\n        handler(history);\n    };\n    document.addEventListener(EVENT_NAME, eventListener);\n    return () => {\n        document.removeEventListener(EVENT_NAME, eventListener);\n    };\n}\n\nexport function usePageChangeListener(handler: PageViewHandler) {\n    useEffect(() => {\n        return onPageView(handler);\n    }, [handler]);\n}\n\nlet previousPath: string | null = null;\n\nfunction getPreviousPath() {\n    return previousPath;\n}\n\nfunction setPreviousPath(path: string) {\n    previousPath = path;\n}\n\n/**\n * Initialize tracking of the page history and fire the handlers for the current page.\n */\nexport function initPageViewTracking(history: History) {\n    document.dispatchEvent(new CustomEvent(EVENT_NAME, { detail: history }));\n    setPreviousPath(history.location.pathname);\n\n    history.listen(() => {\n        if (getPreviousPath() !== history.location.pathname) {\n            document.dispatchEvent(new CustomEvent(EVENT_NAME, { detail: history }));\n        }\n\n        setPreviousPath(history.location.pathname);\n    });\n}\n","/**\n * A module to isolate meta data passed from the server into a single dependency.\n * This should always be used instead of accessing window.gdn directly.\n *\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nimport { uniqueIDFromPrefix } from \"@library/utility/idUtils\";\nimport { TabHandler } from \"@vanilla/dom-utils/src\";\nimport { translate } from \"@vanilla/i18n/src\";\n\ninterface IGdn {\n    meta: AnyObject;\n    permissions: AnyObject;\n    translations: AnyObject;\n    [key: string]: any;\n}\n\n/** The gdn object may be set in an inline script in the head of the document. */\nconst gdn = window.gdn || {};\n\nif (!(\"meta\" in gdn)) {\n    gdn.meta = {};\n}\n\nif (!(\"permissions\" in gdn)) {\n    gdn.permissions = {};\n}\n\nif (!(\"translations\" in gdn)) {\n    gdn.translations = {};\n}\n\nif (!(\"translate\" in gdn)) {\n    gdn.translate = translate;\n}\n\nif (!(\"makeAccessiblePopup\" in gdn)) {\n    gdn.makeAccessiblePopup = ($popupEl, settings, sender) => {\n        if (sender) {\n            let id = sender.id;\n            if (!id) {\n                id = uniqueIDFromPrefix(\"popup\");\n                sender.setAttribute(\"id\", id);\n            }\n            $popupEl.attr(\"aria-labelledby\", id);\n            $popupEl.attr(\"aria-describedby\", id);\n        }\n\n        $.each($popupEl.find(\"a, input\"), function (i, link) {\n            if (link.tagName && link.tagName.toLowerCase() === \"a\") {\n                link.setAttribute(\"tabindex\", \"0\");\n            }\n        });\n\n        const tabHandler = new TabHandler($popupEl[0]);\n\n        tabHandler.getInitial()?.focus();\n        if (!tabHandler) {\n            return;\n        }\n        const elements = tabHandler.getAll() ?? [];\n        elements.map((element, i) => {\n            if (element.tagName.toLowerCase() === \"a\") {\n                element.setAttribute(\"tabindex\", \"0\");\n            }\n            element.addEventListener(\"keydown\", (e) => {\n                const tabKey = 9;\n                if (e.keyCode === tabKey) {\n                    if (!e.shiftKey) {\n                        const nextElement = tabHandler.getNext(document.activeElement, false, true);\n                        if (nextElement) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            nextElement.focus();\n                        }\n                    } else {\n                        const nextElement = tabHandler.getNext(document.activeElement, true, true);\n                        if (nextElement) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            nextElement.focus();\n                        }\n                    }\n                }\n            });\n        });\n    };\n}\n\nexport default gdn as IGdn;\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { userSelect } from \"@library/styles/styleHelpers\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { componentThemeVariables, styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { important, percent, px } from \"csx\";\n\nexport const tokensVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const themeVars = componentThemeVariables(\"tokens\");\n\n    const token = {\n        fontSize: globalVars.meta.text.size,\n        bg: globalVars.mixBgAndFg(0.1),\n        textShadow: `${globalVars.mainColors.bg} 0 0 1px`,\n        minHeight: 26,\n    };\n\n    const clearIcon = {\n        width: 8,\n        ...themeVars.subComponentStyles(\"clearIcon\"),\n    };\n\n    return {\n        clearIcon,\n        token,\n    };\n});\n\nexport const tokensClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const vars = tokensVariables();\n    const formElVars = formElementsVariables();\n    const style = styleFactory(\"tokens\");\n\n    const root = style({\n        ...{\n            \".tokens__value-container\": {\n                display: \"flex\",\n                flexWrap: \"wrap\",\n                alignItems: \"center\",\n                justifyContent: \"flexStart\",\n                minHeight: styleUnit(formElVars.sizing.height),\n                paddingTop: 0,\n                paddingRight: px(12),\n                paddingBottom: 0,\n                paddingLeft: px(12),\n                ...Mixins.border(globalVars.borderType.formElements.default),\n                ...{\n                    \"&.tokens__value-container--has-value\": {\n                        ...Mixins.padding({\n                            horizontal: 4,\n                            vertical: 0,\n                        }),\n                    },\n                    \".tokens__multi-value + div:not(.tokens__multi-value)\": {\n                        display: \"flex\",\n                        flexWrap: \"wrap\",\n                        alignItems: \"center\",\n                        justifyContent: \"flexStart\",\n                        flexGrow: 1,\n                    },\n                    \".tokens__input\": {\n                        flexGrow: 1,\n                        display: important(\"inline-flex\"),\n                        alignItems: \"center\",\n                        justifyContent: \"stretch\",\n                        ...Mixins.margin({\n                            vertical: 0,\n                        }),\n                        minHeight: styleUnit(vars.token.minHeight),\n                    },\n                    input: {\n                        width: percent(100),\n                        minWidth: styleUnit(45),\n                        minHeight: 0,\n                    },\n                },\n            },\n            \".tokens__multi-value\": {\n                display: \"flex\",\n                alignItems: \"center\",\n                flexWrap: \"nowrap\",\n                fontSize: styleUnit(vars.token.fontSize),\n                fontWeight: globalVars.fonts.weights.bold,\n                textShadow: vars.token.textShadow,\n                margin: px((formElVars.sizing.height - vars.token.minHeight) / 2 - formElVars.border.width),\n                backgroundColor: ColorsUtils.colorOut(vars.token.bg),\n                minHeight: styleUnit(vars.token.minHeight),\n                borderRadius: px(2),\n                ...userSelect(),\n            },\n            \".tokens__multi-value__label\": {\n                paddingLeft: px(6),\n                fontWeight: globalVars.fonts.weights.normal,\n                fontSize: globalVars.fonts.size.small,\n            },\n            \".tokens--is-disabled\": {\n                opacity: formElVars.disabled.opacity,\n            },\n            \".tokens-clear\": {\n                background: 0,\n                border: 0,\n                height: styleUnit(globalVars.icon.sizes.default),\n                width: styleUnit(globalVars.icon.sizes.default),\n                padding: 0,\n                ...{\n                    \"&:hover, &:focus\": {\n                        color: globalVars.mainColors.primary.toString(),\n                    },\n                },\n            },\n        },\n    });\n\n    const inputWrap = style(\"inputWrarp\", {\n        ...{\n            \"&.hasFocus .inputBlock-inputText\": {\n                ...Mixins.border({\n                    ...globalVars.borderType.formElements.default,\n                    color: globalVars.mainColors.primary,\n                }),\n            },\n        },\n    });\n\n    const removeIcon = style(\"removeIcon\", {\n        ...{\n            \"&.icon\": {\n                width: styleUnit(vars.clearIcon.width),\n                height: styleUnit(vars.clearIcon.width),\n            },\n        },\n    });\n\n    const withIndicator = style(\"withIndicator\", {\n        ...{\n            \".inputText.inputText\": {\n                fontSize: \"inherit\",\n            },\n        },\n    });\n\n    return { root, removeIcon, inputWrap, withIndicator };\n});\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useContext, useCallback } from \"react\";\nimport { formatUrl } from \"@library/utility/appUtils\";\nimport { createPath, LocationDescriptor, LocationDescriptorObject } from \"history\";\nimport { useHistory } from \"react-router\";\n\nexport interface IWithLinkContext {\n    linkContexts: string[];\n    pushSmartLocation(location: LocationDescriptor);\n    isDynamicNavigation(location: LocationDescriptor): boolean;\n    makeHref(location: LocationDescriptor): string;\n}\n\nconst defaultMakeHref = (location: LocationDescriptor) => {\n    const stringUrl = typeof location === \"string\" ? location : createPath(location);\n    return formatUrl(stringUrl, true);\n};\nexport const LinkContext = React.createContext<IWithLinkContext>({\n    linkContexts: [formatUrl(\"/\")],\n    pushSmartLocation: (location) => {\n        const href = defaultMakeHref(location);\n        window.location.href = href;\n    },\n    isDynamicNavigation: () => {\n        return false;\n    },\n    makeHref: defaultMakeHref,\n});\n\ninterface IProps {\n    linkContexts: string[];\n    children: React.ReactNode;\n    urlFormatter?: (url: string, withDomain?: boolean) => string;\n}\n\nexport const LinkContextProvider = (props: IProps) => {\n    const history = useHistory();\n    const { urlFormatter, linkContexts } = props;\n\n    const makeHref = useCallback(\n        (location: LocationDescriptor): string => {\n            const finalUrlFormatter = urlFormatter ? urlFormatter : formatUrl;\n            const stringUrl = typeof location === \"string\" ? location : createPath(location);\n            const href = finalUrlFormatter(stringUrl, true);\n            return href;\n        },\n        [urlFormatter],\n    );\n\n    /**\n     * Determine if the URL is one that we are able to navigate to dynamically.\n     *\n     * This should be true if we are nested inside of or are the linkContext.\n     * The current URL is excluded so that a click on your own page does something the user can see.\n     *\n     * @param href The URL to check.\n     */\n    const isDynamicNavigation = useCallback(\n        (href: string): boolean => {\n            const link = new URL(href, window.location.href);\n            const isCurrentPage = link.pathname === window.location.pathname && link.search === window.location.search;\n\n            let matchesContext = false;\n            for (const context of linkContexts) {\n                if (href.startsWith(context)) {\n                    matchesContext = true;\n                    break;\n                }\n            }\n\n            return matchesContext && !isCurrentPage;\n        },\n        [linkContexts],\n    );\n\n    const pushSmartLocation = useCallback(\n        (location: LocationDescriptor) => {\n            const href = makeHref(location);\n            if (isDynamicNavigation(href)) {\n                history.push(makeLocationDescriptorObject(location, href));\n            } else {\n                window.location.href = href;\n            }\n        },\n        [makeHref, isDynamicNavigation, history],\n    );\n\n    return (\n        <LinkContext.Provider\n            value={{\n                linkContexts: props.linkContexts,\n                pushSmartLocation,\n                isDynamicNavigation,\n                makeHref,\n            }}\n        >\n            {props.children}\n        </LinkContext.Provider>\n    );\n};\n\nexport function useLinkContext() {\n    return useContext(LinkContext);\n}\n\n/**\n * Create a new LocationDescriptor with a \"relative\" path.\n *\n * This way we ensure we use react-router's navigation and not a full refresh.\n *\n * @param initial The starting location. We may want to preserve state here if we can.\n * @param newHref The new string url to point to.\n */\nexport function makeLocationDescriptorObject(initial: LocationDescriptor, newHref: string): LocationDescriptorObject {\n    // Get the search and pathName\n    const link = new URL(newHref, window.location.href);\n    const { search, pathname } = link;\n\n    const appRelativeLink = pathname.replace(formatUrl(\"/\"), \"/\");\n\n    if (typeof initial === \"string\") {\n        return {\n            pathname: appRelativeLink,\n            search,\n        };\n    } else {\n        return {\n            ...initial,\n            pathname: appRelativeLink,\n            search,\n        };\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { flexHelper, pointerEvents } from \"@library/styles/styleHelpers\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { calc, percent } from \"csx\";\nimport { inputMixin, inputVariables } from \"@library/forms/inputStyles\";\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { checkRadioClasses } from \"@library/forms/checkRadioStyles\";\n\nexport const selectOneVariables = useThemeCache(() => {\n    const vars = variableFactory(\"selectOne\");\n\n    const padding = vars(\"padding\", {\n        right: 30,\n        left: inputMixin().paddingRight as string,\n    });\n\n    return { padding };\n});\n\nexport const selectOneClasses = useThemeCache(() => {\n    const style = styleFactory(\"selectOne\");\n    const vars = selectOneVariables();\n    const globalVars = globalVariables();\n\n    const singleValueOffset = 26;\n    const rightSpacing = 6;\n\n    const inputWrap = style(\"inputWrap\", {\n        ...{\n            \"&.hasFocus .inputBlock-inputText\": {\n                ...Mixins.border({\n                    ...globalVars.borderType.formElements.default,\n                    color: globalVars.mainColors.primary,\n                }),\n            },\n            \".inputBlock-inputText\": {\n                paddingRight: styleUnit(vars.padding.right),\n                paddingLeft: styleUnit(vars.padding.left),\n                position: \"relative\",\n            },\n            \".SelectOne__indicators\": {\n                position: \"absolute\",\n                top: 0,\n                right: styleUnit(rightSpacing),\n                bottom: 0,\n                display: \"flex\",\n                justifyContent: \"flex-end\",\n                alignItems: \"center\",\n                width: styleUnit(inputVariables().sizing.height),\n            },\n            \".SelectOne__indicator-separator\": {\n                display: \"none\",\n            },\n            \".SelectOne__indicator\": {\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                width: styleUnit(inputVariables().sizing.height / 2),\n                cursor: \"pointer\",\n            },\n            \".suggestedTextInput-head\": {\n                ...flexHelper().middleLeft(),\n                justifyContent: \"space-between\",\n            },\n            \".SelectOne__single-value\": {\n                textOverflow: \"ellipsis\",\n                maxWidth: calc(`100% - ${styleUnit(vars.padding.right + singleValueOffset)}`),\n            },\n            \".SelectOne__single-value + div\": {\n                textOverflow: \"ellipsis\",\n                maxWidth: calc(`100% - ${styleUnit(vars.padding.right)}`),\n            },\n            \".SelectOne__value-container.inputText.inputText\": {\n                paddingRight: styleUnit(inputVariables().sizing.height + rightSpacing),\n                ...pointerEvents(), // sometimes this element blocks the click to focus the input.\n            },\n            \".SelectOne__value-container > *\": {\n                width: percent(100),\n                overflow: \"hidden\",\n                lineHeight: \"inherit\",\n            },\n            \".SelectOne--is-disabled\": {\n                cursor: \"pointer\",\n                opacity: 0.5,\n            },\n            \".SelectOne__menu-notice--no-options\": {\n                padding: 10,\n                overflow: \"hidden\",\n            },\n            \".suggestedTextInput-option\": {\n                width: \"100%\",\n                textAlign: \"left\",\n                ...Mixins.padding({\n                    vertical: 6,\n                    horizontal: 12,\n                }),\n            },\n            \".suggestedTextInput-option:hover\": {\n                backgroundColor: ColorsUtils.colorOut(globalVars.states.hover.highlight),\n            },\n            \".icon-selectedCategory\": {\n                ...Mixins.margin({\n                    horizontal: 4,\n                }),\n            },\n            \".inputBlock\": inputMixin(),\n        },\n    });\n\n    const checkIcon = style(\"checkIcon\", {\n        color: ColorsUtils.colorOut(globalVars.mainColors.primary),\n    });\n\n    const checkBoxAfterInput = style(\"checkBoxAfterInput\", {\n        marginTop: styleUnit(12),\n        ...{\n            [`.${checkRadioClasses().root}`]: {\n                paddingLeft: 0,\n            },\n        },\n    });\n\n    const chevron = style(\"chevron\", {\n        marginRight: 8,\n    });\n\n    return { inputWrap, checkIcon, checkBoxAfterInput, chevron };\n});\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { AriaAttributes } from \"react\";\nimport { t } from \"@library/utility/appUtils\";\nimport classNames from \"classnames\";\nimport { iconClasses } from \"@library/icons/iconStyles\";\nimport { areaHiddenType } from \"@library/styles/styleHelpersVisibility\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\n\nexport function HelpIcon(props: { className?: string }) {\n    const title = t(\"Help\");\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 16 16\"\n            className={classNames(classes.compact, \"icon-help\", props.className)}\n            role=\"img\"\n            aria-label={title}\n        >\n            <title>{title}</title>\n            <path\n                d=\"M12,19a7,7,0,1,0-7-7A7,7,0,0,0,12,19Zm0,1a8,8,0,1,1,8-8A8,8,0,0,1,12,20Zm-.866-6.5v-.338a2,2,0,0,1,.211-.969,2.757,2.757,0,0,1,.741-.8,4.09,4.09,0,0,0,.812-.773,1.156,1.156,0,0,0,.183-.656.826.826,0,0,0-.3-.683,1.333,1.333,0,0,0-.851-.238A2.941,2.941,0,0,0,11,9.185a6.65,6.65,0,0,0-.836.344L9.721,8.6a4.653,4.653,0,0,1,2.3-.6,2.485,2.485,0,0,1,1.645.508,1.727,1.727,0,0,1,.609,1.4,1.983,1.983,0,0,1-.117.706,2.006,2.006,0,0,1-.352.59,5.653,5.653,0,0,1-.812.731,3.088,3.088,0,0,0-.659.64,1.229,1.229,0,0,0-.166.682V13.5Zm-.217,1.688a.7.7,0,0,1,.778-.8.775.775,0,0,1,.582.209.818.818,0,0,1,.2.59.838.838,0,0,1-.2.595.878.878,0,0,1-1.156.006A.844.844,0,0,1,10.917,15.185Z\"\n                transform=\"translate(-4 -4)\"\n                fill=\"currentColor\"\n            />\n        </svg>\n    );\n}\n\nexport function ComposeIcon(props: { className?: string }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            className={classNames(classes.standard, \"icon-compose\", props.className)}\n            aria-hidden=\"true\"\n        >\n            <path\n                fill=\"currentColor\"\n                d=\"M23.591,1.27l-.9-.9a1.289,1.289,0,0,0-1.807,0l-.762.863,2.6,2.587.868-.751a1.24,1.24,0,0,0,.248-.373,1.255,1.255,0,0,0,0-1.052A1.232,1.232,0,0,0,23.591,1.27ZM19.5,20.5H3.5V4.5H15.4l1.4-1.431H2.751A1,1,0,0,0,2,4.07V20.939a1,1,0,0,0,1,1H20.011a1,1,0,0,0,1-1V7L19.5,8.445ZM21.364,3.449l-9.875,9.8-.867-.861,9.874-9.8-.867-.863-4.938,4.9-4.938,4.9L8.74,15.167l3.617-1.055,9.875-9.8Z\"\n            />\n        </svg>\n    );\n}\n\nexport function DownloadIcon(props: { className?: string }) {\n    const title = t(\"Download\");\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            className={classNames(classes.standard, \"icon-compose\", props.className)}\n            role=\"img\"\n            aria-label={title}\n        >\n            <title>{title}</title>\n            <path\n                d=\"M6.483,10.462h.005a.5.5,0,0,1,.707.01l3.954,4.066V3.887a.5.5,0,0,1,.5-.5h.621a.5.5,0,0,1,.5.5V14.533l4.035-4.073h0a.5.5,0,0,1,.707,0l.437.437a.5.5,0,0,1,0,.707h0l-5.6,5.6a.5.5,0,0,1-.707,0h0l-5.6-5.6a.5.5,0,0,1,0-.707h0ZM20.25,19.5V17.25a.75.75,0,0,1,1.5,0v3A.75.75,0,0,1,21,21H3a.75.75,0,0,1-.75-.75v-3a.75.75,0,0,1,1.5,0V19.5Z\"\n                fill=\"currentColor\"\n            />\n        </svg>\n    );\n}\n\nexport function VanillaLogo(props: { className?: string; fill?: string; isMobile?: boolean }) {\n    const { className, isMobile } = props;\n    const title = `Vanilla`;\n    const classes = iconClasses();\n    const fill = props.fill ? props.fill : \"currentColor\";\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className={classNames(props.className, {\n                [classes.vanillaLogo]: !isMobile,\n                [classes.vanillaLogoMobile]: isMobile,\n            })}\n            viewBox=\"0 0 296.866 119.883\"\n            role=\"img\"\n            aria-label={title}\n        >\n            <title>{title}</title>\n            <path\n                d=\"M107.031,93.8a11.987,11.987,0,0,1-4.588-3.006c-1.349-1.609-2.163-4.3-2.687-6.309-1.277-4.909-.906-10.05-.531-15.051.186-2.492.421-4.98.67-7.467.2-2.026.42-4.049.607-6.077a17.515,17.515,0,0,0,.181-3.355.63.63,0,0,0-.014-.1c-.576-3.325-5.01-4.707-8.435-2.27a8.433,8.433,0,0,0-3.044,5.032c-.252,1-.419,2.018-.593,3.033a15.146,15.146,0,0,1-.606,2.957c-.249.633-.44-.04-.635-.392a10.111,10.111,0,0,0-.787-1.217,9.962,9.962,0,0,0-1.941-1.945A11.521,11.521,0,0,0,79.5,55.5a17.266,17.266,0,0,0-4.669-.143,13.178,13.178,0,0,0-2.5.52c-6.04,1.9-9.562,8.271-11.488,14.013a35.571,35.571,0,0,0-1.681,8.376,40.449,40.449,0,0,0,.22,8.653A36.014,36.014,0,0,0,61.393,95a25.329,25.329,0,0,0,3.692,6.681c3.27,4.142,8.059,6.5,13.376,5.376,5.916-1.244,11.448-7.1,13.25-12.745.23-.72.243-2.379,1.166-1.986.481.2,1.271,2.328,1.608,2.835A14.728,14.728,0,0,0,99.021,99.7c2.893,1.747,12.325,3.29,11.44-2.6C110.159,95.1,108.662,94.491,107.031,93.8ZM87.125,89.332a8.331,8.331,0,0,1-4.608,3.676c-8.591,2.91-12.453-6.761-12.418-13.194.018-3.509,1.116-7.516,3.7-10.067a10.819,10.819,0,0,1,8.8-2.793,6,6,0,0,1,3.031,1.455c1.782,1.594,2.263,3.82,2.64,6.014a41.431,41.431,0,0,1,.657,6.527A15.8,15.8,0,0,1,87.125,89.332Z\"\n                fill={fill}\n            />\n            <path\n                d=\"M144.421,86.531c-.9-7.164,6.483-17.488,6.237-25.784-.117-3.939-1.216-8.582-4.991-10.579A7.246,7.246,0,0,0,144,49.546a16.508,16.508,0,0,0-5.386-.172,17.9,17.9,0,0,0-5.824,1.568,26.016,26.016,0,0,0-8.6,7.126c-1.2,1.415-2.328,2.883-3.468,4.342.091-.116-.685-1.323-.776-1.479q-.445-.765-.961-1.488a16.611,16.611,0,0,0-2.324-2.638,9.659,9.659,0,0,0-5.719-2.737,7.376,7.376,0,0,0-3.453.671,5.485,5.485,0,0,0-2.441,1.825c-.73,1.229-.391,2.852-.02,4.138,1.153,3.989,3.474,7.577,5.192,11.331.18.393.355.789.52,1.188,1.771,4.257,3.91,8.588,4.159,12.893.17,2.942-1.623,7.1.832,7.486,7.989.954,5.764-12.772,7.484-19.963A16.019,16.019,0,0,1,133.728,61.7a1.824,1.824,0,0,1,2.585,1.755c.227,3.507-1.259,7.688-1.937,11.126a78.288,78.288,0,0,0-1.643,12.1c-.293,7.721,2,15.561,10.436,17.4,4.15.906,7.977,1.071,11.322-1.9,2.976-2.643,4.715-6.779,1.989-10.255C150.9,92.26,145.225,92.93,144.421,86.531Z\"\n                fill={fill}\n            />\n            <path\n                d=\"M60.774,114.764c-.59-1.313-1.177-2.628-1.748-3.951-1.492-3.462-2.876-6.972-4.089-10.544C48.983,82.728,46.572,60.9,61.494,47.027a37.626,37.626,0,0,1,16.914-8.781c1.521-.37,6.336-.913,7.03-1.159,1.678-.6.964-4.956.685-6.2-1.45-6.476-9.885-8.881-15.658-8.33-5.986.571-11.164,4.164-15.138,8.487a47.922,47.922,0,0,0-8.6,13.562c-8.145,19.013-4.241,50.08,1.041,58.816-1.489-2.381-4.769-4.529-6.815-6.473-1.976-1.877-3.983-3.723-5.912-5.65A57.731,57.731,0,0,1,24.531,77.77C20.7,70.557,17.91,62.356,17.858,54.148c-.029-4.749.575-10.126,3.241-14.2-4.969-.946-9.68,1.9-13.308,5C3.577,48.546-.487,53.691.047,59.5c.591,6.424,4.5,12.558,7.563,18.083,5.932,10.709,14.266,19.769,23.636,27.6a111.456,111.456,0,0,0,16.287,11.246c3.855,2.2,8.913,4.791,13.336,2.654.4-.2,1.158-.479,1.277-.95.125-.5-.274-1.135-.468-1.563C61.4,115.958,61.052,115.378,60.774,114.764Z\"\n                fill={fill}\n            />\n            <path d=\"M7.791,44.946\" fill={fill} />\n            <path\n                d=\"M167.28,66.51c2.04-3.913,7.259-9.81,5.71-14.594a7.188,7.188,0,0,0-11.143-3.162c-5.4,4.456-5.088,30.312-3.17,34.111,1.021,4.243,7.938,7.332,10.939,3.185a1.75,1.75,0,0,0-.265-2.461h0l-.035-.027a3.983,3.983,0,0,0-1.732-.21c-2.729-.161-3.345-5.914-3.256-7.912C164.467,72.273,165.838,69.275,167.28,66.51Z\"\n                fill={fill}\n            />\n            <path\n                d=\"M291.726,67.85c-4.677-.667-8.018,3.9-11.228,5.406,2.768-7.411-3.456-12.191-4.988-13.723-21.435-14.167-51.728,23.317-36.6,37.842,6.541,5.14,16.874,6.412,24.121.832,1.019,11.687,23.945,13.514,24.118,2.078-27.916,7.189,5.087-16.211,9.15-24.952C297.936,71.817,295.906,68.443,291.726,67.85ZM272.873,78.4a36.587,36.587,0,0,1-5.69,8.773c-2.284,2.779-4.846,5.587-8.354,5.936a7.864,7.864,0,0,1-2.155-.093c-4.034-.724-6.165-3.017-5.937-7.245A17.967,17.967,0,0,1,256.076,74C262.482,67.756,277.819,66.512,272.873,78.4Z\"\n                fill={fill}\n            />\n            <path\n                d=\"M238.05,103.619a21.449,21.449,0,0,1-3.981-1.923,22.521,22.521,0,0,1-6.186-5.578c-3.555-4.656-5.269-10.456-6.017-16.2a65.7,65.7,0,0,1-.46-10.389c30.989-6.622,46.037-40.689,41.17-49.071-4.42-7.613-13.253-5.3-21.08-.23a69.362,69.362,0,0,0-30.177,45.207,12.444,12.444,0,0,1-5.719.042c-.738-.161-1.851-.786-2.592-.536a1.344,1.344,0,0,0-.735,1.753h0c.009.021.018.042.028.063a3.273,3.273,0,0,0,1.641,1.5,18.358,18.358,0,0,0,6.34,2.089c-1.466,13.033,2.769,34.078,11.125,42.85a11.474,11.474,0,0,0,11.389,3.093c3.756-1.037,9.94-4.814,8.5-9.513A4.914,4.914,0,0,0,238.05,103.619Zm17.394-81.455c4.186,1.82-7.493,31.419-32.376,39.883,4.667-15.91,26.575-42.462,32.376-39.884Z\"\n                fill={fill}\n            />\n            <path\n                d=\"M204.208,98.1a21.29,21.29,0,0,1-5.391-1.808,14.9,14.9,0,0,1-3.412-2.7,20.436,20.436,0,0,1-4.333-7.525A39.316,39.316,0,0,1,189.2,73.617a62.079,62.079,0,0,1,2.008-15.76,50.976,50.976,0,0,1,2.27-6.874c.354-.848,1.106-2.384,1.106-2.384s3.1-.121,4.23-.325c11.838-2.139,22.332-12,28.136-22.125C230.93,19.2,235.11,7.9,226.676,2.4c-13.238-8.62-25.25,8.079-30.466,16.7a115.671,115.671,0,0,0-7.479,15.043c-.929,2.2-1.814,4.425-2.683,6.652-.307.787-1.327,3.282-1.327,3.282s-1.626-.273-2.058-.379a23.111,23.111,0,0,1-3.051-.97c-2.76-1.1-6.1-2.994-6.912-6.1,11.01,3.7,16.084-14.924,4.157-17.049-7-.96-10.982,4.883-10.256,11.358a18.377,18.377,0,0,0,4.543,10.506,23.143,23.143,0,0,0,9.23,5.414c.747.264,2.259.739,2.259.739l.852.226s-.371,1.406-.471,1.753c-.62,2.154-1.222,4.312-1.782,6.483a105.862,105.862,0,0,0-2.686,13.678,70.63,70.63,0,0,0-.306,13.427c.587,8.4,2.151,19.117,8.93,24.945,3.11,2.675,9.048,4.589,12.839,2.238,3.312-2.053,4.169-6.421,5.374-9.814a1.869,1.869,0,0,0-.279-2.047A2.238,2.238,0,0,0,204.208,98.1Zm16.448-92.26C235.415,5.6,208.029,44,196.469,43.68,201.529,31.274,213.243,5.933,220.656,5.842Z\"\n                fill={fill}\n            />\n        </svg>\n    );\n}\n\nexport function SettingsIcon(props: { className?: string }) {\n    const title = t(\"Settings\");\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 20 18\"\n            className={classNames(classes.settings, \"icon-settings\", props.className)}\n            aria-hidden=\"true\"\n        >\n            <title>{title}</title>\n            <path\n                d=\"M6,18v-.5a.5.5,0,0,1,.5-.5h4a.5.5,0,0,1,.5.5V18H22v2H11v.5a.5.5,0,0,1-.5.5h-4a.5.5,0,0,1-.5-.5V20H2V18Zm9-7v-.5a.5.5,0,0,1,.5-.5h4a.5.5,0,0,1,.5.5V11h2v2H20v.5a.5.5,0,0,1-.5.5h-4a.5.5,0,0,1-.5-.5V13H2V11ZM4,4V3.5A.5.5,0,0,1,4.5,3h4a.5.5,0,0,1,.5.5V4H22V6H9v.5a.5.5,0,0,1-.5.5h-4A.5.5,0,0,1,4,6.5V6H2V4ZM5,4V6H8V4Zm11,7v2h3V11ZM7,18v2h3V18Z\"\n                transform=\"translate(-2 -3)\"\n                fill=\"currentColor\"\n            />\n        </svg>\n    );\n}\n\nexport function SearchIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType; \"aria-labelledby\"?: string }) {\n    const title = t(\"Search\");\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 13.312 13.311\"\n            className={classNames(classes.search, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            aria-label={title}\n            aria-labelledby={props[\"aria-labelledby\"] || \"\"}\n        >\n            <title>{title}</title>\n            <path\n                d=\"M5.193,1.143A4.059,4.059,0,1,0,9.267,5.2,4.059,4.059,0,0,0,5.193,1.143h0M13.043,13.08a1.019,1.019,0,0,1-1.349-.054L8.125,9.456A5.182,5.182,0,1,1,9.477,8.113l3.559,3.559a1.033,1.033,0,0,1,0,1.409Z\"\n                transform=\"translate(-0.031 0.01)\"\n                fill=\"currentColor\"\n            />\n        </svg>\n    );\n}\n\nexport function NotificationsIcon(props: { filled?: boolean; className?: string }) {\n    const title = t(\"Notifications\");\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 18 20\"\n            className={classNames(classes.notifications, \"icon-notifications\", props.className)}\n            aria-hidden=\"true\"\n        >\n            <title>{title}</title>\n            {!props.filled && (\n                <path\n                    d=\"M10,1.066A5.742,5.742,0,0,1,15,7v3q0,2.288,2.51,4.574A1.5,1.5,0,0,1,18,15.683V16.5A1.5,1.5,0,0,1,16.5,18H11a2,2,0,0,1-4,0H1.5A1.5,1.5,0,0,1,0,16.5v-.817a1.5,1.5,0,0,1,.49-1.109Q3,12.287,3,10V7A5.742,5.742,0,0,1,8,1.066V.958C8,.429,8.3,0,8.677,0h.646C9.7,0,10,.422,10,.951ZM1.5,16.5h15v-.817C14.541,13.9,13.5,12,13.5,10V7A4.262,4.262,0,0,0,9.49,2.5,4.45,4.45,0,0,0,9,2.5,4.262,4.262,0,0,0,4.5,6.51,4.45,4.45,0,0,0,4.5,7v3c0,2-1.041,3.9-3,5.682Z\"\n                    fill=\"currentColor\"\n                />\n            )}\n            {!!props.filled && (\n                <path\n                    d=\"M10,1.066A5.742,5.742,0,0,1,15,7v3q0,2.288,2.51,4.574A1.5,1.5,0,0,1,18,15.683V16.5A1.5,1.5,0,0,1,16.5,18H11a2,2,0,0,1-4,0H1.5A1.5,1.5,0,0,1,0,16.5v-.817a1.5,1.5,0,0,1,.49-1.109Q3,12.287,3,10V7A5.742,5.742,0,0,1,8,1.066V.958C8,.429,8.3,0,8.677,0h.646C9.7,0,10,.422,10,.951Z\"\n                    fill=\"currentColor\"\n                />\n            )}\n        </svg>\n    );\n}\n\nexport function MessagesIcon(props: { filled?: boolean; className?: string }) {\n    const title = t(\"Messages\");\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 20.051 14.016\"\n            className={classNames(classes.messages, \"icon-messages\", props.className)}\n            aria-hidden=\"true\"\n        >\n            <title>{title}</title>\n            {!props.filled && (\n                <path\n                    d=\"M8.7,10.991,4,7.339V17.5H21V7.339l-4.7,3.652.016.017S19.725,15.819,19.5,16s-4.346-3.966-4.346-3.966a.435.435,0,0,1-.06-.1l-1.827,1.42a1.249,1.249,0,0,1-1.534,0l-1.827-1.42C9.888,11.973,5.725,16.181,5.5,16S8.69,11,8.7,10.991ZM19.636,6.5H5.364L12.5,12.05ZM4,5H21a1.5,1.5,0,0,1,1.5,1.5v11A1.5,1.5,0,0,1,21,19H4a1.5,1.5,0,0,1-1.5-1.5V6.5A1.5,1.5,0,0,1,4,5Z\"\n                    transform=\"translate(-2.5 -4.984)\"\n                    fill=\"currentColor\"\n                />\n            )}\n            {!!props.filled && (\n                <React.Fragment>\n                    <path\n                        d=\"M22.466,6.187l-6.162,4.8c.3.421,3.37,4.857,3.2,5.009-.216.189-4.377-4.057-4.376-4.083L13.3,13.337a1.418,1.418,0,0,1-.7.262,1.473,1.473,0,0,1-.831-.262l-1.827-1.42S8.922,12.954,8.1,13.753a20.909,20.909,0,0,1-2.49,2.217c-.038.017-.068.025-.081.014-.211-.169,2.83-4.489,3.2-5.009,0,0-6.1-4.816-6.184-4.816a.865.865,0,0,0-.042.29c0,.076.03,11.035.03,11.035a1.5,1.5,0,0,0,1.5,1.5h17a1.5,1.5,0,0,0,1.5-1.5S22.606,6.41,22.466,6.187Z\"\n                        transform=\"translate(-2.5 -4.984)\"\n                        fill=\"currentColor\"\n                    />\n                    <path\n                        d=\"M21.463,5.08a1.694,1.694,0,0,0-.433-.1h-17a1.861,1.861,0,0,0-.5.1L12.5,12.05Z\"\n                        transform=\"translate(-2.5 -4.984)\"\n                        fill=\"currentColor\"\n                    />\n                </React.Fragment>\n            )}\n        </svg>\n    );\n}\n\nexport enum UserIconTypes {\n    DEFAULT = \"default\",\n    SELECTED_INACTIVE = \"fg background added\",\n    SELECTED_ACTIVE = \"primary color and primary background added\",\n}\n\ninterface IUserIconType {\n    head: {\n        outline: string | undefined;\n        bg: string | undefined;\n    };\n    body: {\n        outline: string | undefined;\n        bg: string | undefined;\n    };\n    circle: {\n        outline: string;\n        bg: string;\n    };\n}\n\nconst userIconStyles = (type: UserIconTypes): IUserIconType => {\n    const mainColors = globalVariables().mainColors;\n    const fg = ColorsUtils.colorOut(mainColors.fg) as string;\n    const bg = ColorsUtils.colorOut(mainColors.bg) as string;\n    const primary = ColorsUtils.colorOut(mainColors.primary) as string;\n\n    const styles: IUserIconType = {\n        head: {\n            outline: undefined,\n            bg: undefined,\n        },\n        body: {\n            outline: undefined,\n            bg: undefined,\n        },\n        circle: {\n            outline: fg,\n            bg: bg,\n        },\n    };\n\n    switch (type) {\n        case UserIconTypes.SELECTED_INACTIVE:\n            styles.head.bg = bg;\n            styles.body.bg = bg;\n            styles.circle.bg = fg;\n            break;\n        case UserIconTypes.SELECTED_ACTIVE:\n            styles.head.bg = bg;\n            styles.body.bg = bg;\n            styles.circle.outline = primary;\n            styles.circle.bg = primary;\n            break;\n        default:\n            // DEFAULT\n            styles.head.outline = fg;\n            styles.body.outline = fg;\n    }\n    return styles;\n};\n\nexport function UserIcon(props: { styleType?: UserIconTypes; className?: string; title: string; alt: string }) {\n    const { styleType = UserIconTypes.DEFAULT, className, title = t(\"Me\"), alt } = props;\n    const classes = iconClasses();\n\n    const { head, body, circle } = userIconStyles(styleType);\n\n    return (\n        <svg\n            role={\"image\"}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 20 20\"\n            className={classNames(classes.user, className)}\n            aria-label={title}\n        >\n            <title>{title}</title>\n            <desc>{alt}</desc>\n\n            {/*Background for whole Icon*/}\n            {circle.bg && <path d=\"M10,0A10,10,0,1,0,20,10,10,10,0,0,0,10,0Z\" style={{ fill: circle.bg }} />}\n\n            {/*Body bg*/}\n            {body.bg && (\n                <path\n                    d=\"M15.415,17.3a8.761,8.761,0,0,0,.761-.653c.18-.175.325-.335.436-.463A4.027,4.027,0,0,0,12.656,12.5c-.827,0-1.226.459-2.581.459S8.325,12.5,7.494,12.5a4.023,4.023,0,0,0-3.823,3.17,3.034,3.034,0,0,0,.486.916,3.559,3.559,0,0,0,.909.781,10.755,10.755,0,0,0,4.8,1.616A10.634,10.634,0,0,0,15.415,17.3Z\"\n                    style={{ fill: body.bg }}\n                />\n            )}\n\n            {/*Body Outline */}\n            {body.outline && (\n                <path\n                    d=\"M12.663,12.5c-.827,0-1.226.459-2.581.459S8.332,12.5,7.5,12.5a4.022,4.022,0,0,0-3.824,3.173,13.175,13.175,0,0,0,1.4,1.7l-.02-.512a2.486,2.486,0,0,1,2.488-2.982h.049a10.754,10.754,0,0,0,2.5.475,10.684,10.684,0,0,0,2.487-.472c1.408.059,2.474.732,2.52,3.1l.325.326a6.453,6.453,0,0,0,1.2-1.117A4.025,4.025,0,0,0,12.663,12.5Z\"\n                    style={{ fill: body.outline }}\n                />\n            )}\n\n            {/*Head Background */}\n            {head.bg && (\n                <path\n                    d=\"M10.141,4.514h0a3.55,3.55,0,1,0,3.533,3.567V8.063a3.54,3.54,0,0,0-3.531-3.549h0Z\"\n                    style={{ fill: head.bg }}\n                />\n            )}\n\n            {/*Head Outline*/}\n            {head.outline && (\n                <path\n                    d=\"M10.141,4.514h0a3.55,3.55,0,1,0,3.533,3.567V8.063a3.54,3.54,0,0,0-3.531-3.549h0Zm0,5.808a2.26,2.26,0,1,1,2.253-2.267v.009a2.254,2.254,0,0,1-2.25,2.258Z\"\n                    style={{ fill: head.outline }}\n                />\n            )}\n\n            {/*Circle Border*/}\n            {circle.outline && (\n                <path\n                    d=\"M10,0A10,10,0,1,0,20,10,10,10,0,0,0,10,0Zm0,18.419A8.418,8.418,0,1,1,18.417,10,8.418,8.418,0,0,1,10,18.419Z\"\n                    style={{ fill: circle.outline }}\n                />\n            )}\n        </svg>\n    );\n}\n\nexport function NoUserPhotoIcon(props: { className?: string; photoAlt?: string }) {\n    const title = t(\"User\");\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            className={classNames(classes.standard, \"icon-noUserPhoto\", props.className)}\n            aria-hidden=\"true\"\n            aria-label={props.photoAlt}\n        >\n            <title>{props.photoAlt || title}</title>\n            <path\n                d=\"M12.046,12.907c-2.225,0-4.03-2.218-4.03-4.954C8.016,4.16,9.82,3,12.046,3s4.03,1.16,4.03,4.953C16.076,10.689,14.271,12.907,12.046,12.907Zm8.9,6.452a17.94,17.94,0,0,1-.194,4.2A1.025,1.025,0,0,1,19.9,24H3.96a1.024,1.024,0,0,1-.852-.443,17.956,17.956,0,0,1,.04-4.2l2.033-4.39a1,1,0,0,1,.46-.469L8.8,12.926a.211.211,0,0,1,.217.017,5.149,5.149,0,0,0,6.068,0,.211.211,0,0,1,.216-.017L18.452,14.5a1,1,0,0,1,.46.469Z\"\n                fill=\"currentColor\"\n            />\n        </svg>\n    );\n}\n\nexport function UserWarningIcon(props: { className?: string }) {\n    const title = t(\"Warning\");\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 40 40\"\n            className={classNames(classes.userWarning, props.className)}\n            aria-hidden=\"true\"\n        >\n            <title>{title}</title>\n            <path\n                d=\"M32.707,25.862a2.167,2.167,0,0,1-1.876,3.249H9.169a2.168,2.168,0,0,1-1.877-3.249L18.123,7.083a2.168,2.168,0,0,1,3.754,0Z\"\n                fill=\"#d0021b\"\n                stroke=\"#fff\"\n                strokeWidth=\"1px\"\n            />\n            <path\n                d=\"M20,20.979a2.077,2.077,0,1,0,2.076,2.077A2.076,2.076,0,0,0,20,20.979Zm-1.971-7.463.335,6.139a.541.541,0,0,0,.54.512H21.1a.543.543,0,0,0,.541-.512l.334-6.139a.542.542,0,0,0-.54-.572H18.569A.542.542,0,0,0,18.029,13.516Z\"\n                fill=\"#fff\"\n            />\n        </svg>\n    );\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport classNames from \"classnames\";\nimport { iconClasses } from \"@library/icons/iconStyles\";\nimport { areaHiddenType } from \"@library/styles/styleHelpersVisibility\";\nimport { SearchIcon } from \"./titleBar\";\nimport { t } from \"@vanilla/i18n/src\";\n\nexport function TypeAllIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType; centred?: boolean }) {\n    const classes = iconClasses();\n    return <SearchIcon {...props} className={classNames(classes.typeAll, props.className)} />;\n}\n\nexport function TypeDiscussionsIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            className={classNames(classes.typeDiscussions, props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 18.869 15.804\"\n        >\n            <title>{t(\"Discussions\")}</title>\n            <path\n                d=\"M18.911,8.991a7.516,7.516,0,0,0-3.346-1.476c-.607-2.508-3.854-4.13-6.544-4.13h0c-3.8,0-6.952,2.446-6.952,5.572a4.9,4.9,0,0,0,1.453,3.417l-.484,1.97a.772.772,0,0,0,1.092.875l2.242-1.106a8.334,8.334,0,0,0,.894.235,5.371,5.371,0,0,0,1.8,2.522,7.876,7.876,0,0,0,4.92,1.63,8.447,8.447,0,0,0,2.649-.417l2.242,1.106.608-2.845a4.932,4.932,0,0,0,1.453-3.417A5.038,5.038,0,0,0,18.911,8.991ZM6.321,13.018l-2.533,1.51.764-2.4A4.184,4.184,0,0,1,3.062,8.96c0-2.652,2.546-4.58,5.959-4.58s5.362,1.986,5.362,2.98c0,.007.017.022.024.032-.141-.006-.278-.033-.421-.033A7.877,7.877,0,0,0,9.061,8.99a5.038,5.038,0,0,0-2.027,3.94c0,.134.013.265.024.4C6.831,13.238,6.616,13.129,6.321,13.018Zm12.361,2.729-.106.1-.4,1.886L16.7,17.011l-.2.07a7.4,7.4,0,0,1-2.515.43,6.881,6.881,0,0,1-4.3-1.415A4.073,4.073,0,0,1,8.027,12.93,4.068,4.068,0,0,1,9.682,9.765a6.88,6.88,0,0,1,4.3-1.414,6.867,6.867,0,0,1,4.3,1.415,4.066,4.066,0,0,1,1.655,3.164A3.923,3.923,0,0,1,18.682,15.747Z\"\n                transform=\"translate(-2.069 -3.385)\"\n                style={{ fill: \"currentColor\" }}\n            />\n        </svg>\n    );\n}\n\nexport function TypeArticlesIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            className={classNames(classes.typeArticles, props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 14.666 14.666\"\n        >\n            <title>{t(\"Articles\")}</title>\n            <path\n                d=\"M17.417,3.667a.916.916,0,0,1,.916.916h0V17.417a.916.916,0,0,1-.916.916H4.583a.916.916,0,0,1-.916-.916h0V4.583a.916.916,0,0,1,.916-.916Zm0,.916H4.583V17.417H17.417ZM12.833,13.75v.917H6.417V13.75Zm2.75-1.833v.916H6.417v-.916ZM11,6.417V11H6.417V6.417Zm4.583,3.666V11H11.917v-.917Zm-5.5-2.75H7.333v2.75h2.75Zm5.5.917v.917H11.917V8.25Zm0-1.833v.916H11.917V6.417Z\"\n                transform=\"translate(-3.667 -3.667)\"\n                style={{ fill: \"currentColor\", fillRule: \"evenodd\" }}\n            />\n        </svg>\n    );\n}\n\nexport function TypeCategoriesAndGroupsIcon(props: {\n    className?: string;\n    \"aria-hidden\"?: areaHiddenType;\n    title?: string;\n}) {\n    const classes = iconClasses();\n    return (\n        <svg\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            className={classNames(classes.typeCategoriesAndGroups, props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 16 16\"\n        >\n            <title>{props.title ?? t(\"Categories & Groups\")}</title>\n            <defs>\n                <filter id=\"2etungn3ea\">\n                    <feColorMatrix in=\"SourceGraphic\" values=\"currentColor\" />\n                </filter>\n            </defs>\n            <g style={{ fill: \"none\", fillRule: \"evenodd\" }}>\n                <g filter=\"url(#2etungn3ea)\" transform=\"translate(-120 -263)\">\n                    <g>\n                        <g style={{ stroke: \"currentColor\", strokeWidth: \".667px\" }}>\n                            <path\n                                d=\"M10.654 8.896l2.574 1.417L7.47 13.69l-6.328-3.265c.136-.062.325-.138.472-.229.665-.414 1.606-.935 2.262-1.296.653.384 1.95 1.066 2.692 1.44.57.242 2.371-.575 3.611-1.205.173-.088.333-.169.475-.239h0z\"\n                                transform=\"translate(120 263) translate(1.333 .667)\"\n                            />\n                            <path\n                                d=\"M10.389 5.695l2.84 1.562-5.759 3.377-6.33-3.266c.15-.068.366-.157.537-.262.717-.442 1.73-1.003 2.438-1.393 1.007.713 3.073 1.62 3.15 1.62.052 0 .924-.386 1.852-.895.614-.344.987-.562 1.272-.743h0z\"\n                                transform=\"translate(120 263) translate(1.333 .667)\"\n                            />\n                            <path\n                                d=\"M7.066.734l6.146 3.171L7.47 7.273 1.324 4.102 7.066.734z\"\n                                transform=\"translate(120 263) translate(1.333 .667)\"\n                            />\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </svg>\n    );\n}\n\nexport function TypeMemberIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            className={classNames(classes.typeMember, props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 20 20\"\n        >\n            <title>{t(\"Members\")}</title>\n            <path\n                d=\"M13.49,11.415l.064.015a8.462,8.462,0,0,1,4.354,3.113,11.459,11.459,0,0,1-.034,3.156,1.016,1.016,0,0,1-.756.3H2.861a1.016,1.016,0,0,1-.756-.3,11.428,11.428,0,0,1,.013-3.156A9.494,9.494,0,0,1,6.471,11.43a.232.232,0,0,1,.193.012A7.144,7.144,0,0,0,9.99,12.675a7.339,7.339,0,0,0,3.372-1.233.234.234,0,0,1,.192-.012ZM10.012,2c1.974,0,3.575,1.029,3.575,4.395,0,2.427-1.6,4.394-3.575,4.394S6.437,8.822,6.437,6.4C6.437,3.029,8.038,2,10.013,2Z\"\n                style={{ fill: \"none\", stroke: \"currentColor\" }}\n            />\n        </svg>\n    );\n}\n\nexport function TypeCategoriesIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    return <TypeCategoriesAndGroupsIcon {...props} title={t(\"Categories\")} />;\n}\n\nexport function TypeIdeasIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            className={classNames(classes.typeIdeasIcon, props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 18.444 16.791\"\n        >\n            <title>{t(\"Ideas\")}</title>\n            <path\n                d=\"M14.618,20.686a.388.388,0,0,1,0,.753H11.381a.387.387,0,0,1,0-.753h3.237Zm.79-1.793a.377.377,0,1,1,0,.753H10.592a.377.377,0,1,1,0-.753h4.817ZM13,5.148a5.544,5.544,0,0,1,5.623,5.434,5.406,5.406,0,0,1-1.861,4.028l-.06.058a4.1,4.1,0,0,0-.79,2.718.367.367,0,0,1-.1.254.341.341,0,0,1-.243.1H10.411a.385.385,0,0,1-.243-.1.319.319,0,0,1-.1-.254,3.988,3.988,0,0,0-.79-2.718,5.4,5.4,0,0,1-1.9-4.085A5.546,5.546,0,0,1,13,5.148Zm-.02.645a4.849,4.849,0,0,0-4.936,4.77,4.7,4.7,0,0,0,1.7,3.6,4.44,4.44,0,0,1,1.01,2.893h4.47a4.471,4.471,0,0,1,.951-2.815c0-.02.04-.058.061-.078a4.68,4.68,0,0,0,1.679-3.6A4.848,4.848,0,0,0,12.979,5.793Zm-.472.77a4.345,4.345,0,0,1,4.522,4.187.357.357,0,0,1-.712,0,3.677,3.677,0,0,0-3.81-3.527.331.331,0,1,1,0-.66Z\"\n                transform=\"translate(-3.84 -4.898)\"\n                style={{ fill: \"currentColor\", stroke: \"currentColor\", strokeWidth: \"0.5px\" }}\n            />\n            <path\n                d=\"M19.658,5.213a.542.542,0,0,1,.766.767L19.341,7.063a.542.542,0,1,1-.766-.766l1.083-1.083ZM22.28,9.979a.542.542,0,0,1-.471.6l-1.521.186a.542.542,0,1,1-.132-1.075l1.52-.187A.542.542,0,0,1,22.28,9.979ZM4.438,9.38l1.524.16a.542.542,0,0,1-.113,1.078l-1.524-.16a.542.542,0,0,1,.113-1.079ZM5.521,5.316a.541.541,0,0,1,.762-.08L7.474,6.2a.542.542,0,0,1-.682.842L5.6,6.077a.54.54,0,0,1-.08-.761Z\"\n                transform=\"translate(-3.84 -4.898)\"\n                style={{ fill: \"currentColor\", fillRule: \"evenodd\" }}\n            />\n        </svg>\n    );\n}\n\nexport function TypePollsIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            className={classNames(classes.typePollsIcon, props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 26 26\"\n        >\n            <title>{t(\"Polls\")}</title>\n            <rect\n                x=\"4.603\"\n                y=\"14.818\"\n                width=\"8.938\"\n                height=\"4.063\"\n                rx=\"1.3\"\n                style={{ fill: \"none\", stroke: \"currentColor\", strokeWidth: \"0.9750000238418579px\" }}\n            />\n            <rect\n                x=\"4.604\"\n                y=\"6.987\"\n                width=\"5.958\"\n                height=\"4.063\"\n                rx=\"1.3\"\n                style={{ fill: \"none\", stroke: \"currentColor\", strokeWidth: \"0.9750000238418579px\" }}\n            />\n            <path\n                d=\"M18.211,9.062H13.955\"\n                style={{\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: \"1.4620000123977661px\",\n                }}\n            />\n            <path\n                d=\"M12.083,9.062l2.043-2.031v4.063Z\"\n                style={{\n                    fill: \"currentColor\",\n                    stroke: \"currentColor\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: \"0.7310000061988831px;fill-rule: evenodd\",\n                }}\n            />\n            <path\n                d=\"M15.4,16.681h4.256\"\n                style={{\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: \"1.4620000123977661px\",\n                }}\n            />\n            <path\n                d=\"M21.526,16.681l-2.043,2.031V14.649Z\"\n                style={{\n                    fill: \"currentColor\",\n                    stroke: \"currentColor\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: \"0.7310000061988831px;fill-rule: evenodd\",\n                }}\n            />\n        </svg>\n    );\n}\n\nexport function TypeQuestionIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            className={classNames(classes.typeQuestion, props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 26 26\"\n        >\n            <title>{t(\"Question\")}</title>\n            <path\n                d=\"M13.245,15.427v-.34a1.756,1.756,0,0,1,.238-.973,4.438,4.438,0,0,1,.94-.914,8.084,8.084,0,0,0,1.159-1.042,2.689,2.689,0,0,0,.668-1.849,2.465,2.465,0,0,0-.868-2,3.547,3.547,0,0,0-2.348-.726,6.653,6.653,0,0,0-3.284.853l.634,1.33a9.357,9.357,0,0,1,1.193-.492,4.2,4.2,0,0,1,1.329-.2,1.9,1.9,0,0,1,1.215.34,1.174,1.174,0,0,1,.423.973,1.655,1.655,0,0,1-.26.936,5.8,5.8,0,0,1-1.16,1.1,3.941,3.941,0,0,0-1.056,1.14,2.844,2.844,0,0,0-.3,1.382v.483h1.479ZM12.565,19a1.074,1.074,0,0,0,.828-.313,1.205,1.205,0,0,0,.29-.85,1.159,1.159,0,0,0-.287-.841,1.093,1.093,0,0,0-.83-.3,1,1,0,0,0-1.11,1.14,1.2,1.2,0,0,0,.287.857,1.074,1.074,0,0,0,.823.306Z\"\n                style={{ fill: \"currentColor\" }}\n            />\n            <circle\n                cx=\"13\"\n                cy=\"13\"\n                r=\"8.667\"\n                style={{ fill: \"none\", stroke: \"currentColor\", strokeWidth: \"1.083px\" }}\n            />\n        </svg>\n    );\n}\n\nexport function TypeFlagIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            className={classNames(classes.typeFlag, props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 20 20\"\n        >\n            <title>{t(\"Flag\")}</title>\n            <path\n                strokeLinecap=\"round\"\n                d=\"M0.595 0.417L0.595 14.5\"\n                transform=\"translate(5) rotate(-11 12.731 -4.133)\"\n                style={{ fill: \"none\", stroke: \"currentColor\", strokeWidth: \".833px\" }}\n            />\n            <path\n                d=\"M2.305 1.25L7.916 1.25 5.63 3.847 7.916 6.445 0.643 6.445 0.643 1.25z\"\n                transform=\"translate(5) rotate(-11 12.731 -4.133)\"\n                style={{ fill: \"none\", stroke: \"currentColor\", strokeWidth: \".833px\" }}\n            />\n            <ellipse\n                cx=\"4.286\"\n                cy=\"16.429\"\n                rx=\"4.286\"\n                ry=\"1.429\"\n                style={{ fill: \"none\", stroke: \"currentColor\", strokeWidth: \".833px\" }}\n                transform=\"translate(5)\"\n            />\n        </svg>\n    );\n}\n\nexport function TypePlacesIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType; title?: string }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            className={classNames(classes.typePlaces, props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 15.122 16.416\"\n        >\n            <title>{props.title ?? t(\"Places\")}</title>\n            <defs>\n                <filter id=\"2etungn3ea\">\n                    <feColorMatrix in=\"SourceGraphic\" values=\"currentColor\" />\n                </filter>\n            </defs>\n            <g style={{ fill: \"none\", fillRule: \"evenodd\" }}>\n                <g filter=\"url(#2etungn3ea)\" transform=\"translate(-120 -263)\">\n                    <g>\n                        <g style={{ stroke: \"currentColor\", strokeWidth: \".667px\" }}>\n                            <path\n                                d=\"M10.654 8.896l2.574 1.417L7.47 13.69l-6.328-3.265c.136-.062.325-.138.472-.229.665-.414 1.606-.935 2.262-1.296.653.384 1.95 1.066 2.692 1.44.57.242 2.371-.575 3.611-1.205.173-.088.333-.169.475-.239h0z\"\n                                transform=\"translate(120 263) translate(1.333 .667)\"\n                            />\n                            <path\n                                d=\"M10.389 5.695l2.84 1.562-5.759 3.377-6.33-3.266c.15-.068.366-.157.537-.262.717-.442 1.73-1.003 2.438-1.393 1.007.713 3.073 1.62 3.15 1.62.052 0 .924-.386 1.852-.895.614-.344.987-.562 1.272-.743h0z\"\n                                transform=\"translate(120 263) translate(1.333 .667)\"\n                            />\n                            <path\n                                d=\"M7.066.734l6.146 3.171L7.47 7.273 1.324 4.102 7.066.734z\"\n                                transform=\"translate(120 263) translate(1.333 .667)\"\n                            />\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </svg>\n    );\n}\n\nexport function TypeGroupsIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            className={classNames(classes.typeGroups, props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 17 16\"\n        >\n            <title>{t(\"Groups\")}</title>\n            <g style={{ fill: \"none\", stroke: \"currentColor\", strokeWidth: \".867px\", fillRule: \"evenodd\" }}>\n                <g style={{ fill: \"none\", stroke: \"currentColor\", strokeWidth: \"0.0.64px\", fillRule: \"nonzero\" }}>\n                    <g>\n                        <g>\n                            <path\n                                d=\"M5.182 4.218l.028.006c.674.185 1.298.65 1.873 1.395.053.092.057 1.33-.015 1.414-.072.085-.193.135-.325.135h0H.61c-.132 0-.253-.05-.325-.135C.214 6.95.238 5.711.291 5.62c.374-.558.998-1.022 1.873-1.395.026-.01.059-.008.083.006.34.197.865.553 1.43.553s1.11-.356 1.45-.553c.024-.014.056-.016.083-.006zM3.687 0c.85 0 1.538.46 1.538 1.969 0 1.087-.689 1.969-1.538 1.969-.85 0-1.538-.882-1.538-1.97C2.15.462 2.838 0 3.687 0z\"\n                                transform=\"translate(-625 -263) translate(625 263) translate(8.533 4.8)\"\n                            />\n                        </g>\n                        <g>\n                            <path\n                                d=\"M5.182 4.218l.028.006c.674.185 1.298.65 1.873 1.395.053.092.057 1.33-.015 1.414-.072.085-.193.135-.325.135h0H.61c-.132 0-.253-.05-.325-.135C.214 6.95.238 5.711.291 5.62c.374-.558.998-1.022 1.873-1.395.026-.01.059-.008.083.006.34.197.865.553 1.43.553s1.11-.356 1.45-.553c.024-.014.056-.016.083-.006zM3.687 0c.85 0 1.538.46 1.538 1.969 0 1.087-.689 1.969-1.538 1.969-.85 0-1.538-.882-1.538-1.97C2.15.462 2.838 0 3.687 0z\"\n                                transform=\"translate(-625 -263) translate(625 263) translate(0 4.8)\"\n                            />\n                        </g>\n                        <g fill=\"#FFF\">\n                            <path\n                                d=\"M7.403 6.026l.04.009c.962.264 1.854.928 2.675 1.992.076.132.082 1.9-.02 2.02-.103.121-.277.193-.465.193h0-8.76c-.188 0-.362-.072-.464-.193-.103-.12-.07-1.888.007-2.02.533-.796 1.425-1.46 2.675-1.992.038-.015.084-.012.118.008.487.28 1.237.79 2.044.79.807 0 1.585-.51 2.072-.79.034-.02.08-.023.118-.008zM5.267 0C6.48 0 7.464.658 7.464 2.813c0 1.553-.984 2.812-2.197 2.812S3.07 4.365 3.07 2.813C3.07.658 4.054 0 5.267 0z\"\n                                transform=\"translate(-625 -263) translate(625 263) translate(2.667 2.667)\"\n                            />\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </svg>\n    );\n}\n\nexport function TypeKnowledgeBaseIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classes = iconClasses();\n    return (\n        <svg\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            className={classNames(classes.typeKnowledgeBase, props.className)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 16 16\"\n        >\n            <title>{t(\"Knowledge Base\")}</title>\n            <g style={{ fill: \"none\", fillRule: \"evenodd\" }}>\n                <g style={{ stroke: \"currentColor\" }}>\n                    <g>\n                        <g transform=\"translate(-243 -263) translate(243 263) translate(3 2)\">\n                            <path style={{ strokeWidth: \"0.64px\" }} d=\"M1.75 0L1.75 8.565\" />\n                            <rect style={{ strokeWidth: \"0.64px\" }} width=\"9.1\" height=\"10.541\" x=\".35\" rx=\".8\" />\n                            <path\n                                style={{ strokeWidth: \"0.64px\" }}\n                                d=\"M.35 9.882s0-1.317 1.4-1.317h6.3c.933 0 1.4-.44 1.4-1.318\"\n                            />\n                            <path\n                                style={{ strokeWidth: \"0.72px\", strokeLinecap: \"round\" }}\n                                d=\"M3.5 2.965L7 2.965M3.5 4.282L7 4.282\"\n                            />\n                            <path\n                                style={{ fill: \"currentColor\", strokeWidth: \"0.64px\" }}\n                                d=\"M2.45 8.565L2.45 11.765 3.15 11.125 3.85 11.765 3.85 8.565z\"\n                            />\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </svg>\n    );\n}\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { IApiError, LoadStatus } from \"@library/@types/api/core\";\nimport { IMe, IMeCounts, IUser, IInvitees } from \"@library/@types/api/users\";\nimport ReduxActions, { bindThunkAction, useReduxActions } from \"@library/redux/ReduxActions\";\nimport { actionCreatorFactory } from \"typescript-fsa\";\nimport { IPermissions } from \"@library/features/users/userTypes\";\nimport { IComboBoxOption } from \"@library/features/search/SearchBar\";\n\nconst createAction = actionCreatorFactory(\"@@users\");\n\nexport interface IGetUserByIDQuery {\n    userID: number;\n}\n\nexport interface IInviteUsersByGroupIDQuery {\n    userID: number;\n    groupID: number; // The group to be invited\n    userIDs: number[]; // The invitees\n    emails: string[]; // The invitees\n}\n\n// The duration we wait to check for new counts.\nconst COUNT_CACHE_PERIOD = 60; // 60 Seconds\n\n/**\n * Redux actions for the users data.\n */\nexport default class UserActions extends ReduxActions {\n    public static getMeACs = createAction.async<{}, IMe, IApiError>(\"GET_ME\");\n    /**\n     * Request the currently signed in user data if it's not loaded.\n     */\n    public getMe = () => {\n        const currentUser = this.getState().users.current;\n        if (currentUser.status === LoadStatus.LOADING) {\n            // Don't request the user more than once.\n            return;\n        }\n        const apiThunk = bindThunkAction(UserActions.getMeACs, async () => {\n            const response = await this.api.get(\"/users/me\");\n            return response.data;\n        })();\n\n        return this.dispatch(apiThunk);\n    };\n\n    public static getPermissionsACs = createAction.async<{}, IPermissions, IApiError>(\"GET_PERMISSIONS\");\n    /**\n     * Request the currently signed in user data if it's not loaded.\n     */\n    public getPermissions = () => {\n        const permissions = this.getState().users.permissions;\n        if (permissions.status === LoadStatus.LOADING) {\n            // Don't request the user more than once.\n            return;\n        }\n        const apiThunk = bindThunkAction(UserActions.getPermissionsACs, async () => {\n            const response = await this.api.get(\"/users/$me/permissions\");\n            return response.data;\n        })();\n\n        return this.dispatch(apiThunk);\n    };\n\n    public static getCountsACs = createAction.async<{}, { counts: IMeCounts }, IApiError>(\"GET_ME_COUNTS\");\n\n    /**\n     * Check if we have valid count data and request it again if it is stale.\n     */\n    public checkCountData = () => {\n        const currentTime = new Date().getTime();\n        const { lastRequested } = this.getState().users.countInformation;\n\n        if (lastRequested !== null && currentTime < lastRequested + COUNT_CACHE_PERIOD) {\n            // Bailout if we've requested this data within the previous cache period\n            return;\n        }\n        const apiThunk = bindThunkAction(UserActions.getCountsACs, async () => {\n            const response = await this.api.get(\"/users/me-counts\");\n            return response.data;\n        })();\n\n        return this.dispatch(apiThunk);\n    };\n\n    public static getUserACs = createAction.async<{ userID: number }, IUser, IApiError>(\"GET_USER\");\n\n    public getUserByID = (query: IGetUserByIDQuery) => {\n        const { userID } = query;\n        const thunk = bindThunkAction(UserActions.getUserACs, async () => {\n            const reponse = await this.api.get(`/users/${userID}/?expand[]=all`);\n            return reponse.data;\n        })({ userID });\n        return this.dispatch(thunk);\n    };\n\n    public static clearInviteUsersAC = createAction<{ userID: number }>(\"CLEAR_INVITE_USER\");\n    public clearInviteUsers = this.bindDispatch(UserActions.clearInviteUsersAC);\n\n    public static inviteUsersACs = createAction.async<IInviteUsersByGroupIDQuery, IInvitees[], IApiError>(\n        \"INVITE_USERS\",\n    );\n\n    public inviteUsersByGroupID = (query: IInviteUsersByGroupIDQuery) => {\n        const { groupID, userIDs, emails } = query;\n        const body = { userIDs, emails };\n        const thunk = bindThunkAction(UserActions.inviteUsersACs, async () => {\n            const response = await this.api.post(`/groups/${groupID}/invitations`, body);\n            return response.data;\n        })(query);\n        return this.dispatch(thunk);\n    };\n\n    public static updateInviteeIDsAC = createAction<{ userID: number; IDs: number[] }>(\"UPDATE_INVITEE_IDS\");\n    public updateIDs = ({ userID, IDs }) => {\n        this.dispatch(UserActions.updateInviteeIDsAC({ userID, IDs }));\n    };\n\n    public static updateInviteeEmailsAC = createAction<{ userID: number; emails: string[] }>(\"UPDATE_INVITEE_EMAIlS\");\n    public updateEmails = ({ userID, emails }) => {\n        this.dispatch(UserActions.updateInviteeEmailsAC({ userID, emails }));\n    };\n\n    public static updateInviteeEmailsStringAC = createAction<{ userID: number; emailsString: string }>(\n        \"UPDATE_INVITEE_EMAIlS_STRING\",\n    );\n    public updateEmailsString = ({ userID, emailsString }) => {\n        this.dispatch(UserActions.updateInviteeEmailsStringAC({ userID, emailsString }));\n    };\n\n    public static updateInviteesAC = createAction<{ userID: number; invitees: IComboBoxOption[] }>(\"UPDATE_INVITEES\");\n    public updateInvitees = ({ userID, invitees }) => {\n        this.dispatch(UserActions.updateInviteesAC({ userID, invitees }));\n    };\n}\n\nexport function useUserActions() {\n    return useReduxActions(UserActions);\n}\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nimport { LoadStatus } from \"@library/@types/api/core\";\nimport { IUserFragment } from \"@library/@types/api/users\";\nimport UserSuggestionModel from \"@library/features/users/suggestion/UserSuggestionModel\";\nimport UserActions, { useUserActions } from \"@library/features/users/UserActions\";\nimport produce from \"immer\";\nimport { reducerWithInitialState } from \"typescript-fsa-reducers\";\nimport { ICoreStoreState } from \"@library/redux/reducerRegistry\";\nimport NotificationsActions from \"@library/features/notifications/NotificationsActions\";\nimport { useSelector } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport { IUsersState, IInjectableUserState } from \"./userTypes\";\n\nconst suggestionReducer = new UserSuggestionModel().reducer;\n\nexport const INITIAL_USERS_STATE: IUsersState = {\n    current: {\n        status: LoadStatus.PENDING,\n    },\n    permissions: {\n        status: LoadStatus.PENDING,\n    },\n    countInformation: {\n        counts: [],\n        lastRequested: null,\n    },\n    suggestions: suggestionReducer(undefined, \"\" as any),\n    usersByID: {},\n    usersInvitationsByID: {},\n};\n\nexport const GUEST_USER_ID = 0;\n\n/**\n * Determine if a user fragment is a guest.\n */\nexport function isUserGuest(user: IUserFragment | null | undefined) {\n    return user && user.userID === GUEST_USER_ID;\n}\n/**\n * Reducer for user related data.\n */\nexport const usersReducer = produce(\n    reducerWithInitialState(INITIAL_USERS_STATE)\n        .case(UserActions.getMeACs.started, (state) => {\n            state.current.status = LoadStatus.LOADING;\n            return state;\n        })\n        .case(UserActions.getMeACs.done, (state, payload) => {\n            state.current.data = payload.result;\n            state.current.status = LoadStatus.SUCCESS;\n            return state;\n        })\n        .case(UserActions.getMeACs.failed, (state, payload) => {\n            state.current.status = LoadStatus.ERROR;\n            state.current.error = payload.error;\n            return state;\n        })\n        .case(UserActions.getPermissionsACs.started, (state) => {\n            state.permissions.status = LoadStatus.LOADING;\n            return state;\n        })\n        .case(UserActions.getPermissionsACs.done, (state, payload) => {\n            state.permissions.data = payload.result;\n            state.permissions.status = LoadStatus.SUCCESS;\n            return state;\n        })\n        .case(UserActions.getPermissionsACs.failed, (state, payload) => {\n            state.permissions.status = LoadStatus.ERROR;\n            state.permissions.error = payload.error;\n            return state;\n        })\n        .case(UserActions.getCountsACs.started, (state) => {\n            state.countInformation.lastRequested = new Date().getTime();\n            return state;\n        })\n        .case(UserActions.getCountsACs.done, (state, payload) => {\n            state.countInformation.counts = payload.result.counts;\n            return state;\n        })\n        .case(UserActions.getUserACs.started, (state, params) => {\n            const { userID } = params;\n            state.usersByID[userID] = { status: LoadStatus.LOADING };\n            return state;\n        })\n        .case(UserActions.getUserACs.done, (state, payload) => {\n            const { userID } = payload.params;\n            state.usersByID[userID] = {\n                data: payload.result,\n                status: LoadStatus.SUCCESS,\n            };\n            return state;\n        })\n        .case(UserActions.getUserACs.failed, (state, payload) => {\n            const { userID } = payload.params;\n            state.usersByID[userID] = {\n                status: LoadStatus.ERROR,\n                error: payload.error,\n            };\n            return state;\n        })\n        .case(UserActions.inviteUsersACs.started, (state, params) => {\n            const { userID } = params;\n            state.usersInvitationsByID[userID].results = { status: LoadStatus.LOADING };\n            return state;\n        })\n        .case(UserActions.inviteUsersACs.done, (state, payload) => {\n            const { userID } = payload.params;\n            // The data returned is currently not used\n            state.usersInvitationsByID[userID].results = {\n                status: LoadStatus.SUCCESS,\n                data: payload.result,\n            };\n            // So that after invitations are sent out, the forms are cleared\n            state.usersInvitationsByID[userID].emailsString = \"\";\n            state.usersInvitationsByID[userID].invitees = [];\n            return state;\n        })\n        .case(UserActions.clearInviteUsersAC, (state, payload) => {\n            const { userID } = payload;\n            delete state.usersInvitationsByID[userID];\n            return state;\n        })\n        .case(UserActions.inviteUsersACs.failed, (state, payload) => {\n            const { userID } = payload.params;\n            state.usersInvitationsByID[userID].results = {\n                status: LoadStatus.ERROR,\n                error: payload.error,\n            };\n            return state;\n        })\n        .case(UserActions.updateInviteeIDsAC, (state, payload) => {\n            const { userID, IDs } = payload;\n            state.usersInvitationsByID[userID] = {\n                ...state.usersInvitationsByID[userID],\n                userIDs: [...(state.usersInvitationsByID[userID]?.userIDs ?? []), ...IDs],\n            };\n\n            return state;\n        })\n        .case(UserActions.updateInviteesAC, (state, payload) => {\n            const { userID, invitees } = payload;\n            state.usersInvitationsByID[userID] = {\n                ...state.usersInvitationsByID[userID],\n                invitees: invitees,\n            };\n            return state;\n        })\n        .case(UserActions.updateInviteeEmailsAC, (state, payload) => {\n            const { userID, emails } = payload;\n            state.usersInvitationsByID[userID] = {\n                ...state.usersInvitationsByID[userID],\n                emails: [...(state.usersInvitationsByID[userID]?.emails ?? []), ...emails],\n            };\n            return state;\n        })\n        .case(UserActions.updateInviteeEmailsStringAC, (state, payload) => {\n            const { userID, emailsString } = payload;\n            state.usersInvitationsByID[userID] = {\n                ...state.usersInvitationsByID[userID],\n                emailsString: emailsString,\n            };\n            return state;\n        })\n        .default((state, action) => {\n            if (action.type === NotificationsActions.MARK_ALL_READ_RESPONSE) {\n                if (state.current.data) {\n                    state.current.data.countUnreadNotifications = 0;\n                }\n            }\n            state.suggestions = suggestionReducer(state.suggestions, action as any);\n            return state;\n        }),\n);\n\nexport function mapUsersStoreState(state: ICoreStoreState): IInjectableUserState {\n    if (!state.users || !state.users.current) {\n        throw new Error(\n            `It seems you did not initialize the users model correctly. Could not find \"users.current\" in state: ${state}`,\n        );\n    }\n\n    return {\n        currentUser: state.users.current,\n    };\n}\n\nexport function useUsersState(): IInjectableUserState {\n    return useSelector(mapUsersStoreState);\n}\n\nexport function usePermissions() {\n    const permissions = useSelector((state: ICoreStoreState) => state.users.permissions);\n    const { getPermissions } = useUserActions();\n    const { status } = permissions;\n\n    useEffect(() => {\n        if ([LoadStatus.PENDING, LoadStatus.LOADING].includes(status)) {\n            void getPermissions();\n        }\n    }, [status, getPermissions]);\n\n    return permissions;\n}\n","import { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { IThemeVariables } from \"@library/theming/themeReducer\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { userSelect } from \"@library/styles/styleHelpers\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { Variables } from \"@library/styles/Variables\";\n\nexport const dateTimeVariables = useThemeCache((forcedVars?: IThemeVariables) => {\n    const makeVars = variableFactory(\"dateTime\", forcedVars);\n    const globalVars = globalVariables();\n\n    const compact = makeVars(\"compact\", {\n        container: {\n            size: 38, // cheated to align with text\n            bg: globalVars.mixBgAndFg(0.1),\n            border: {\n                radius: 8,\n            },\n        },\n        month: {\n            font: Variables.font({\n                size: 10,\n                transform: \"uppercase\",\n                lineHeight: 1,\n            }),\n        },\n        day: {\n            font: Variables.font({\n                size: 16,\n                weight: globalVars.fonts.weights.bold,\n                lineHeight: 1,\n            }),\n        },\n    });\n\n    return { compact };\n});\n\nexport const dateTimeClasses = useThemeCache(() => {\n    const style = styleFactory(\"dateTime\");\n    const vars = dateTimeVariables();\n    const compactVars = vars.compact;\n\n    const compactRoot = style(\"compactRoot\", {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        backgroundColor: ColorsUtils.colorOut(compactVars.container.bg),\n        minWidth: styleUnit(compactVars.container.size),\n        minHeight: styleUnit(compactVars.container.size),\n        ...userSelect(),\n        ...{\n            \"&&\": {\n                borderRadius: styleUnit(compactVars.container.border.radius),\n            },\n        },\n    });\n\n    const compactDay = style(\"compactDay\", {\n        ...Mixins.font(compactVars.day.font),\n    });\n\n    const compactMonth = style(\"compactMonth\", {\n        ...Mixins.font(compactVars.month.font),\n    });\n\n    return { compactRoot, compactDay, compactMonth };\n});\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { t } from \"@library/utility/appUtils\";\nimport React, { Component } from \"react\";\nimport moment from \"moment\";\nimport { getJSLocaleKey } from \"@vanilla/i18n\";\nimport { dateTimeClasses } from \"@library/content/dateTimeStyles\";\n\nexport enum DateFormats {\n    DEFAULT = \"default\",\n    EXTENDED = \"extended\",\n    COMPACT = \"compact\",\n}\n\ninterface IDateTimeProps {\n    /** The timestamp to format and display */\n    timestamp: string;\n    /** Pass an explicit time zone to format in. */\n    timezone?: string;\n    /** An additional classname to apply to the root of the component */\n    className?: string;\n    /** Display a fixed or relative visible time. */\n    mode?: \"relative\" | \"fixed\";\n    type?: DateFormats;\n}\n\n/**\n * Component for displaying an accessible nicely formatted time string.\n */\nexport default class DateTime extends Component<IDateTimeProps> {\n    public static defaultProps: Partial<IDateTimeProps> = {\n        mode: \"fixed\",\n        type: DateFormats.DEFAULT,\n    };\n    private interval;\n\n    public render() {\n        return (\n            <time className={this.props.className} dateTime={this.props.timestamp} title={this.titleTime}>\n                {this.humanTime}\n            </time>\n        );\n    }\n\n    public componentDidMount() {\n        if (this.props.mode === \"relative\") {\n            this.interval = setInterval(() => {\n                this.forceUpdate();\n            }, 30000);\n        }\n    }\n\n    public componentWillUnmount() {\n        if (this.interval) {\n            clearInterval(this.interval);\n        }\n    }\n\n    /**\n     * Get the title of the time tag (long extended date)\n     */\n    private get titleTime(): string {\n        const date = new Date(this.props.timestamp);\n        return date.toLocaleString(getJSLocaleKey(), {\n            year: \"numeric\",\n            month: \"long\",\n            day: \"numeric\",\n            weekday: \"long\",\n            hour: \"numeric\",\n            minute: \"numeric\",\n            timeZone: this.props.timezone,\n        });\n    }\n\n    private get options() {\n        switch (this.props.type) {\n            case DateFormats.EXTENDED:\n                return {\n                    year: \"numeric\",\n                    month: \"short\",\n                    day: \"numeric\",\n                    hour: \"numeric\",\n                    minute: \"numeric\",\n                    timeZone: this.props.timezone,\n                };\n            default:\n                return {\n                    year: \"numeric\",\n                    month: \"short\",\n                    day: \"numeric\",\n                    timeZone: this.props.timezone,\n                };\n        }\n    }\n\n    /**\n     * Get a shorter human readable time for the time tag.\n     */\n    private get humanTime(): React.ReactNode {\n        const inputMoment = moment(this.props.timestamp);\n\n        if (this.props.mode === \"relative\") {\n            const difference = moment.duration(moment().diff(inputMoment));\n            const seconds = difference.asSeconds();\n            if (seconds >= 0 && seconds <= 5) {\n                return t(\"just now\");\n            }\n            return inputMoment.from(moment());\n        } else {\n            if (this.props.type !== DateFormats.COMPACT) {\n                // If it's the same day, return the time.\n                if (moment().isSame(inputMoment, \"day\")) {\n                    return inputMoment.format(\"h:mm a\");\n                }\n                // Otherwise return the date.\n                return inputMoment.toDate().toLocaleString(getJSLocaleKey(), this.options);\n            } else {\n                const classes = dateTimeClasses();\n                return (\n                    <span className={classes.compactRoot}>\n                        <span className={classes.compactMonth} key={\"month\"}>\n                            {inputMoment.toDate().toLocaleString(getJSLocaleKey(), {\n                                month: \"short\",\n                                timeZone: this.props.timezone,\n                            })}\n                        </span>\n                        <span className={classes.compactDay} key={\"day\"}>\n                            {inputMoment.toDate().toLocaleString(getJSLocaleKey(), {\n                                day: \"numeric\",\n                                timeZone: this.props.timezone,\n                            })}\n                        </span>\n                    </span>\n                );\n            }\n        }\n    }\n}\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { logError } from \"@vanilla/utils\";\nimport { LoadStatus } from \"@library/@types/api/core\";\nimport { IUsersStoreState } from \"@library/features/users/userTypes\";\nimport ReduxActions, { ActionsUnion } from \"@library/redux/ReduxActions\";\nimport { IUserSuggestion } from \"@library/features/users/suggestion/IUserSuggestion\";\nimport UserSuggestionModel from \"@library/features/users/suggestion/UserSuggestionModel\";\nimport { Dispatch } from \"redux\";\nimport apiv2 from \"@library/apiv2\";\nimport debounce from \"lodash/debounce\";\n\ninterface ILookupUserOptions {\n    username: string;\n}\n\nexport default class UserSuggestionActions extends ReduxActions {\n    public static readonly SET_ACTIVE_SUGGESTION = \"@@mentions/SET_ACTIVE_SUGGESTION\";\n    public static readonly LOAD_USERS_REQUEST = \"@@mentions/GET_USERS_REQUEST\";\n    public static readonly LOAD_USERS_RESPONSE = \"@@mentions/LOAD_USERS_RESPONSE\";\n    public static readonly LOAD_USERS_ERROR = \"@@mentions/LOAD_USERS_ERROR\";\n\n    public static readonly ACTION_TYPES:\n        | ActionsUnion<typeof UserSuggestionActions.loadUsersACs>\n        | ReturnType<typeof UserSuggestionActions.setActiveAC>;\n\n    // The number of characters that we will lookup to try and invalidate a lookup early.\n    private static USER_LIMIT = 50;\n\n    // Action creators\n    public static loadUsersACs = ReduxActions.generateApiActionCreators(\n        UserSuggestionActions.LOAD_USERS_REQUEST,\n        UserSuggestionActions.LOAD_USERS_RESPONSE,\n        UserSuggestionActions.LOAD_USERS_ERROR,\n        {} as IUserSuggestion[],\n        {} as ILookupUserOptions,\n    );\n\n    public static setActiveAC(suggestionID: string, suggestionIndex: number) {\n        return ReduxActions.createAction(UserSuggestionActions.SET_ACTIVE_SUGGESTION, {\n            suggestionID,\n            suggestionIndex,\n        });\n    }\n\n    /**\n     * Filter users down to a list that loosely matches the current searchName\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Collator\n     */\n    public static filterSuggestions(users: IUserSuggestion[], searchName: string) {\n        const searchCollator = Intl.Collator(\"en\", {\n            usage: \"search\",\n            sensitivity: \"base\",\n            ignorePunctuation: true,\n            numeric: true,\n        });\n\n        return users.filter((userSuggestion: IUserSuggestion) => {\n            if (userSuggestion.name.length < searchName.length) {\n                return false;\n            }\n\n            const suggestionIDPartial = userSuggestion.name.substring(0, searchName.length);\n            return searchCollator.compare(suggestionIDPartial, searchName) === 0;\n        });\n    }\n\n    public setActive = this.bindDispatch(UserSuggestionActions.setActiveAC);\n\n    /**\n     * Make an API request for mention suggestions. These results are cached by the lookup username.\n     */\n    private interalLoadUsers = (username: string) => {\n        return this.dispatch((dispatch: Dispatch<any>, getState: () => IUsersStoreState) => {\n            const trie = UserSuggestionModel.selectSuggestionsTrie(getState());\n            // Attempt an exact lookup first.\n            const exactLookup = trie.getValue(username);\n            if (exactLookup != null) {\n                switch (exactLookup.status) {\n                    case LoadStatus.SUCCESS:\n                        if (exactLookup.data) {\n                            return dispatch(\n                                UserSuggestionActions.loadUsersACs.response(\n                                    { data: exactLookup.data, status: 200 },\n                                    { username },\n                                ),\n                            );\n                        }\n                        break;\n                    case LoadStatus.LOADING:\n                        // Already handled\n                        return;\n                    case LoadStatus.ERROR:\n                        // Previously failed.\n                        if (exactLookup.error) {\n                            return dispatch(UserSuggestionActions.loadUsersACs.error(exactLookup.error, { username }));\n                        }\n                }\n            }\n\n            // Attempt a partial lookup to try and see if we can get results without an API request\n            const partialLookup = trie.getValueFromPartialsOfWord(username);\n            if (partialLookup != null) {\n                switch (partialLookup.status) {\n                    case LoadStatus.SUCCESS: {\n                        if (partialLookup.data && partialLookup.data.length < UserSuggestionActions.USER_LIMIT) {\n                            // The previous match already found the maximum amount of users that the server had\n                            // Return the previous results.\n                            return dispatch(\n                                UserSuggestionActions.loadUsersACs.response(\n                                    {\n                                        data: UserSuggestionActions.filterSuggestions(partialLookup.data, username),\n                                        status: 200,\n                                    },\n                                    { username },\n                                ),\n                            );\n                        }\n                        break;\n                    }\n                    case LoadStatus.ERROR:\n                        break;\n                    // Previously failed. We still want to proceed to a real lookup so do nothing.\n                    case LoadStatus.PENDING:\n                        break;\n                    // We still want to proceed to a real lookup so do nothing.\n                }\n            }\n\n            // Start the lookup.\n            dispatch(UserSuggestionActions.loadUsersACs.request({ username }));\n\n            const params = {\n                name: username + \"*\",\n                order: \"mention\",\n                limit: UserSuggestionActions.USER_LIMIT,\n            };\n            return apiv2\n                .get(\"/users/by-names/\", { params /*, cancelToken: this.apiCancelSource.token*/ })\n                .then((response) => {\n                    if (response.status >= 500) {\n                        throw new Error(response.data);\n                    }\n\n                    // Add unique domIDs to each user.\n                    response.data = response.data.map((data) => {\n                        data.domID = \"mentionSuggestion\" + data.userID;\n                        return data;\n                    });\n\n                    // Result is good. Lets GO!\n                    dispatch(UserSuggestionActions.loadUsersACs.response(response, { username }));\n                })\n                .catch((error) => {\n                    logError(error);\n                    dispatch(UserSuggestionActions.loadUsersACs.error(error, { username }));\n                });\n        });\n    };\n\n    public loadUsers = debounce(this.interalLoadUsers, 50);\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport ReduxActions, { ActionsUnion } from \"@library/redux/ReduxActions\";\nimport { INotification, INotificationWritable } from \"@library/@types/api/notifications\";\n\n/**\n * Redux actions for the current user's notification data.\n */\nexport default class NotificationsActions extends ReduxActions {\n    public static readonly GET_NOTIFICATION_REQUEST = \"@@notifications/GET_NOTIFICATION_REQUEST\";\n    public static readonly GET_NOTIFICATION_RESPONSE = \"@@notifications/GET_NOTIFICATION_RESPONSE\";\n    public static readonly GET_NOTIFICATION_ERROR = \"@@notifications/GET_NOTIFICATION_ERROR\";\n\n    /**\n     * Action creators for getting a single notification.\n     */\n    public static getNotificationACs = ReduxActions.generateApiActionCreators(\n        NotificationsActions.GET_NOTIFICATION_REQUEST,\n        NotificationsActions.GET_NOTIFICATION_RESPONSE,\n        NotificationsActions.GET_NOTIFICATION_ERROR,\n        {} as INotification,\n        {},\n    );\n\n    public static readonly GET_NOTIFICATIONS_REQUEST = \"@@notifications/GET_NOTIFICATIONS_REQUEST\";\n    public static readonly GET_NOTIFICATIONS_RESPONSE = \"@@notifications/GET_NOTIFICATIONS_RESPONSE\";\n    public static readonly GET_NOTIFICATIONS_ERROR = \"@@notifications/GET_NOTIFICATIONS_ERROR\";\n\n    /**\n     * Action creators for getting a paginated list of the current user's notifications.\n     */\n    public static getNotificationsACs = ReduxActions.generateApiActionCreators(\n        NotificationsActions.GET_NOTIFICATIONS_REQUEST,\n        NotificationsActions.GET_NOTIFICATIONS_RESPONSE,\n        NotificationsActions.GET_NOTIFICATIONS_ERROR,\n        {} as INotification[],\n        {},\n    );\n\n    public static readonly MARK_READ_REQUEST = \"@@notifications/MARK_READ_REQUEST\";\n    public static readonly MARK_READ_RESPONSE = \"@@notifications/MARK_READ_RESPONSE\";\n    public static readonly MARK_READ_ERROR = \"@@notifications/MARK_READ_ERROR\";\n\n    /**\n     * Action creators for marking a single notification as read.\n     */\n    public static markReadACs = ReduxActions.generateApiActionCreators(\n        NotificationsActions.MARK_READ_REQUEST,\n        NotificationsActions.MARK_READ_RESPONSE,\n        NotificationsActions.MARK_READ_ERROR,\n        {} as INotification,\n        {} as INotificationWritable,\n    );\n\n    public static readonly MARK_ALL_READ_REQUEST = \"@@notifications/MARK_ALL_READ_REQUEST\";\n    public static readonly MARK_ALL_READ_RESPONSE = \"@@notifications/MARK_ALL_READ_RESPONSE\";\n    public static readonly MARK_ALL_READ_ERROR = \"@@notifications/MARK_ALL_READ_ERROR\";\n\n    /**\n     * Action creators for marking all of the current user's notifications as read.\n     */\n    public static markAllReadACs = ReduxActions.generateApiActionCreators(\n        NotificationsActions.MARK_ALL_READ_REQUEST,\n        NotificationsActions.MARK_ALL_READ_RESPONSE,\n        NotificationsActions.MARK_ALL_READ_ERROR,\n        {},\n        {} as INotificationWritable,\n    );\n\n    /**\n     * Union of all possible action types in this class.\n     */\n    public static readonly ACTION_TYPES:\n        | ActionsUnion<typeof NotificationsActions.getNotificationACs>\n        | ActionsUnion<typeof NotificationsActions.getNotificationsACs>\n        | ActionsUnion<typeof NotificationsActions.markReadACs>\n        | ActionsUnion<typeof NotificationsActions.markAllReadACs>;\n\n    /**\n     * Get a single notification.\n     *\n     * @param id Unique ID of the notification.\n     */\n    public getNotification = (id: number) => {\n        return this.dispatchApi(\"get\", `/notifications/${id}`, NotificationsActions.getNotificationACs, {});\n    };\n\n    /**\n     * Get a paginated list of notifications for the current user.\n     */\n    public getNotifications = () => {\n        return this.dispatchApi(\"get\", \"/notifications\", NotificationsActions.getNotificationsACs, {});\n    };\n\n    /**\n     * Mark a single notification as read.\n     *\n     * @param id Unique ID of the notification.\n     */\n    public markRead = (id: number) => {\n        return this.dispatchApi(\"patch\", `/notifications/${id}`, NotificationsActions.markReadACs, {\n            read: true,\n        });\n    };\n\n    /**\n     * Mark all notifications for the current user as read.\n     */\n    public markAllRead = () => {\n        return this.dispatchApi(\"patch\", \"/notifications\", NotificationsActions.markAllReadACs, {\n            read: true,\n        });\n    };\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { t } from \"@library/utility/appUtils\";\nimport { richEditorClasses } from \"@rich-editor/editor/richEditorStyles\";\nimport classNames from \"classnames\";\nimport { areaHiddenType } from \"@library/styles/styleHelpersVisibility\";\n\nconst currentColorFill = {\n    fill: \"currentColor\",\n};\n\nexport function BoldIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Bold\")}</title>\n            <path\n                d=\"M6.511,18v-.62a4.173,4.173,0,0,0,.845-.093.885.885,0,0,0,.736-.79,5.039,5.039,0,0,0,.063-.884V8.452a6.585,6.585,0,0,0-.047-.876,1.116,1.116,0,0,0-.194-.527.726.726,0,0,0-.4-.263,3.658,3.658,0,0,0-.674-.1v-.62h4.975a7.106,7.106,0,0,1,3.6.752A2.369,2.369,0,0,1,16.68,8.964q0,1.843-2.651,2.6v.062a4.672,4.672,0,0,1,1.542.24,3.39,3.39,0,0,1,1.171.674,3.036,3.036,0,0,1,.744,1.023,3.125,3.125,0,0,1,.263,1.287,2.49,2.49,0,0,1-.38,1.379,3.05,3.05,0,0,1-1.092.992,7.794,7.794,0,0,1-3.8.775Zm6.076-.945q2.5,0,2.5-2.248a2.3,2.3,0,0,0-.9-2.015,3.073,3.073,0,0,0-1.2-.465,9.906,9.906,0,0,0-1.806-.139h-.744v3.1a1.664,1.664,0,0,0,.5,1.364A2.659,2.659,0,0,0,12.587,17.055Zm-1.24-5.8a4.892,4.892,0,0,0,1.21-.131,2.69,2.69,0,0,0,.868-.38,1.8,1.8,0,0,0,.743-1.6,2.107,2.107,0,0,0-.557-1.635,2.645,2.645,0,0,0-1.8-.5h-1.1q-.279,0-.279.264v3.983Z\"\n                style={currentColorFill}\n            />\n        </svg>\n    );\n}\n\nexport function ItalicIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Italic\")}</title>\n            <path\n                d=\"M11.472,15.4a4.381,4.381,0,0,0-.186,1.085.744.744,0,0,0,.333.713,2.323,2.323,0,0,0,1.077.186L12.51,18H7.566l.17-.62a3.8,3.8,0,0,0,.791-.07,1.282,1.282,0,0,0,.566-.271,1.62,1.62,0,0,0,.41-.558,5.534,5.534,0,0,0,.326-.93L11.642,8.7a5.332,5.332,0,0,0,.233-1.271.577.577,0,0,0-.349-.612,3.714,3.714,0,0,0-1.186-.132l.171-.62h5.038l-.171.62a3.058,3.058,0,0,0-.852.1,1.246,1.246,0,0,0-.59.38,2.578,2.578,0,0,0-.441.774,11.525,11.525,0,0,0-.4,1.287Z\"\n                style={currentColorFill}\n            />\n        </svg>\n    );\n}\n\nexport function StrikeIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Strikethrough\")}</title>\n            <path\n                d=\"M12.258,13H6V12h4.2l-.05-.03a4.621,4.621,0,0,1-1.038-.805,2.531,2.531,0,0,1-.55-.892A3.285,3.285,0,0,1,8.4,9.2a3.345,3.345,0,0,1,.256-1.318,3.066,3.066,0,0,1,.721-1.046,3.242,3.242,0,0,1,1.1-.682,3.921,3.921,0,0,1,1.4-.24,3.641,3.641,0,0,1,1.271.217,4.371,4.371,0,0,1,1.194.7l.4-.7h.357l.171,3.085h-.574A3.921,3.921,0,0,0,13.611,7.32a2.484,2.484,0,0,0-1.7-.619,2.269,2.269,0,0,0-1.5.465,1.548,1.548,0,0,0-.558,1.255,1.752,1.752,0,0,0,.124.674,1.716,1.716,0,0,0,.4.574,4.034,4.034,0,0,0,.729.542,9.854,9.854,0,0,0,1.116.566,20.49,20.49,0,0,1,1.906.953q.232.135.435.27h4.6v1H15.675a2.263,2.263,0,0,1,.3.544,3.023,3.023,0,0,1,.186,1.093,3.236,3.236,0,0,1-1.177,2.541,4.014,4.014,0,0,1-1.334.721,5.393,5.393,0,0,1-1.7.256,4.773,4.773,0,0,1-1.588-.248,4.885,4.885,0,0,1-1.434-.837l-.434.76H8.132L7.9,14.358h.573a3.886,3.886,0,0,0,.411,1.255A3.215,3.215,0,0,0,10.7,17.155a3.872,3.872,0,0,0,1.294.21,2.786,2.786,0,0,0,1.813-.543,1.8,1.8,0,0,0,.667-1.473,1.752,1.752,0,0,0-.573-1.34,4.04,4.04,0,0,0-.83-.6Q12.723,13.217,12.258,13Z\"\n                style={currentColorFill}\n            />\n        </svg>\n    );\n}\n\nexport function CodeIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Paragraph Code Block\")}</title>\n            <path\n                fill=\"currentColor\"\n                fillRule=\"evenodd\"\n                d=\"M4.818,14.032q0-1.27-1.818-1.271V11.455a2.429,2.429,0,0,0,1.371-.311,1.075,1.075,0,0,0,.447-.947V8.071A1.763,1.763,0,0,1,5.56,6.5,4,4,0,0,1,7.785,6V7.244a1.949,1.949,0,0,0-1.131.318,1.019,1.019,0,0,0-.352.844v2.031q0,1.359-1.566,1.626v.083q1.566.246,1.566,1.62V15.81a1.034,1.034,0,0,0,.348.847,1.836,1.836,0,0,0,1.135.3v1.251a3.89,3.89,0,0,1-2.273-.537,1.982,1.982,0,0,1-.694-1.692ZM9.009,15.14a1.05,1.05,0,0,1,.26-.766,1,1,0,0,1,.752-.267.992.992,0,0,1,.758.277,1.063,1.063,0,0,1,.26.756,1.089,1.089,0,0,1-.263.769.98.98,0,0,1-.755.283.973.973,0,0,1-.752-.28A1.088,1.088,0,0,1,9.009,15.14Zm3.848,0a1.054,1.054,0,0,1,.26-.766,1.185,1.185,0,0,1,1.511.01,1.063,1.063,0,0,1,.26.756,1.089,1.089,0,0,1-.263.769,1.151,1.151,0,0,1-1.508,0A1.093,1.093,0,0,1,12.857,15.14Zm6.105.991a1.811,1.811,0,0,1-.68,1.565,3.788,3.788,0,0,1-2.178.513V16.958a1.765,1.765,0,0,0,1.012-.263,1.009,1.009,0,0,0,.363-.885V14.019a1.994,1.994,0,0,1,.362-1.279,1.879,1.879,0,0,1,1.2-.594v-.083q-1.566-.266-1.565-1.626V8.406a1.084,1.084,0,0,0-.312-.844A1.69,1.69,0,0,0,16.1,7.244V6a3.583,3.583,0,0,1,2.191.523,2.044,2.044,0,0,1,.667,1.712V10.2a1.077,1.077,0,0,0,.434.971,2.356,2.356,0,0,0,1.289.287v1.306a2.342,2.342,0,0,0-1.282.29,1.087,1.087,0,0,0-.441.981Z\"\n            />\n        </svg>\n    );\n}\n\nexport function LinkIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Link\")}</title>\n            <path\n                d=\"M13.575,10.4a3.824,3.824,0,0,1,.266,5.107c-.17.211-.076.106-2.318,2.348a3.821,3.821,0,0,1-5.4-5.4l1.731-1.731a.327.327,0,0,1,.559.223,4.735,4.735,0,0,0,.129,1.033.325.325,0,0,1-.087.3L7.2,13.53a2.293,2.293,0,0,0,3.243,3.242L12.5,14.72a2.293,2.293,0,0,0-.623-3.685.329.329,0,0,1-.179-.337,1.412,1.412,0,0,1,.4-.829l.12-.12a.324.324,0,0,1,.375-.062A3.792,3.792,0,0,1,13.575,10.4ZM17.853,6.12a3.819,3.819,0,0,0-5.4,0C10.207,8.362,10.3,8.257,10.131,8.468a3.82,3.82,0,0,0,1.25,5.818.325.325,0,0,0,.375-.063l.12-.119a1.412,1.412,0,0,0,.4-.83.329.329,0,0,0-.179-.337,2.291,2.291,0,0,1-.623-3.684L13.53,7.2a2.293,2.293,0,1,1,3.242,3.243l-1.251,1.251a.322.322,0,0,0-.087.3,4.726,4.726,0,0,1,.129,1.032.328.328,0,0,0,.559.224c.316-.315.836-.837,1.731-1.732A3.819,3.819,0,0,0,17.853,6.12Z\"\n                style={currentColorFill}\n            />\n        </svg>\n    );\n}\n\nexport function EmojiIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Emoji\")}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M12,4a8,8,0,1,0,8,8A8,8,0,0,0,12,4Zm0,14.644A6.644,6.644,0,1,1,18.644,12,6.651,6.651,0,0,1,12,18.644ZM10.706,10.2a1.25,1.25,0,1,0-1.249,1.25A1.249,1.249,0,0,0,10.706,10.2Zm3.837-1.249a1.25,1.25,0,1,0,1.25,1.249A1.249,1.249,0,0,0,14.543,8.953Zm.2,5.237a.357.357,0,0,0-.493.1,2.825,2.825,0,0,1-4.494,0,.355.355,0,1,0-.593.392,3.532,3.532,0,0,0,5.68,0A.354.354,0,0,0,14.74,14.19Z\"\n            />\n        </svg>\n    );\n}\n\nexport function EmbedErrorIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Warning\")}</title>\n            <path\n                d=\"M11.651,3.669,2.068,21.75H21.234Zm.884-1,10,18.865A1,1,0,0,1,21.649,23h-20a1,1,0,0,1-.884-1.468l10-18.865a1,1,0,0,1,1.767,0Zm.232,13.695H10.547L10.2,10h2.905Zm-2.535,2.354a1.239,1.239,0,0,1,.363-.952,1.491,1.491,0,0,1,1.056-.34,1.443,1.443,0,0,1,1.039.34,1.258,1.258,0,0,1,.353.952,1.224,1.224,0,0,1-.367.945A1.452,1.452,0,0,1,11.65,20a1.5,1.5,0,0,1-1.042-.34A1.207,1.207,0,0,1,10.231,18.716Z\"\n                style={currentColorFill}\n            />\n        </svg>\n    );\n}\n\nexport function PilcrowIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Paragraph\")}</title>\n            <path\n                fill=\"currentColor\"\n                fillRule=\"evenodd\"\n                d=\"M15,6 L17,6 L17,18 L15,18 L15,6 Z M11,6 L13.0338983,6 L13.0338983,18 L11,18 L11,6 Z M11,13.8666667 C8.790861,13.8666667 7,12.1056533 7,9.93333333 C7,7.76101332 8.790861,6 11,6 C11,7.68571429 11,11.6190476 11,13.8666667 Z\"\n            />\n        </svg>\n    );\n}\n\nexport function Heading2Icon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"H2\")}</title>\n            <path\n                d=\"M12.3,17H10.658V12.5H6.051V17H4.417V7.006H6.051v4.088h4.607V7.006H12.3Zm8,0H13.526V15.783L16.1,13.192a22.007,22.007,0,0,0,1.514-1.657,3.978,3.978,0,0,0,.543-.92,2.475,2.475,0,0,0,.171-.923,1.4,1.4,0,0,0-.407-1.066,1.557,1.557,0,0,0-1.124-.39,3,3,0,0,0-1.111.212,5.239,5.239,0,0,0-1.241.766l-.868-1.06a5.612,5.612,0,0,1,1.62-1,4.744,4.744,0,0,1,1.675-.294,3.294,3.294,0,0,1,2.235.728,2.46,2.46,0,0,1,.841,1.959,3.453,3.453,0,0,1-.242,1.285,5.212,5.212,0,0,1-.746,1.254,17.041,17.041,0,0,1-1.671,1.747l-1.736,1.682v.068H20.3Z\"\n                style={currentColorFill}\n            />\n        </svg>\n    );\n}\n\nexport function Heading3Icon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"H3\")}</title>\n            <path\n                d=\"M10.658,7.006H12.3V17H10.658V12.5H6.051V17H4.417V7.006H6.051v4.088h4.607Zm8.93,5.533a3.016,3.016,0,0,0-1.806-.748v-.055a2.789,2.789,0,0,0,1.56-.851A2.315,2.315,0,0,0,19.9,9.3a2.131,2.131,0,0,0-.848-1.791,3.8,3.8,0,0,0-2.36-.65,5.251,5.251,0,0,0-3.2,1.012l.786,1.121a5.226,5.226,0,0,1,1.245-.625,3.76,3.76,0,0,1,1.1-.161,1.881,1.881,0,0,1,1.232.349,1.22,1.22,0,0,1,.417.991q0,1.654-2.4,1.654H14.99v1.306h.869a4.066,4.066,0,0,1,2,.376,1.267,1.267,0,0,1,.636,1.176,1.559,1.559,0,0,1-.574,1.333,2.89,2.89,0,0,1-1.738.43,5.794,5.794,0,0,1-1.369-.171,6.372,6.372,0,0,1-1.347-.485V16.6a6.532,6.532,0,0,0,2.8.54,4.676,4.676,0,0,0,2.9-.783,2.637,2.637,0,0,0,1.019-2.225A2.143,2.143,0,0,0,19.588,12.539Z\"\n                style={currentColorFill}\n            />\n        </svg>\n    );\n}\n\nexport function Heading4Icon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"H4\")}</title>\n            <path style={currentColorFill} d=\"M12.3,17h-1.6v-4.5H6.1V17H4.4V7h1.6v4.1h4.6V7h1.6V17z\" />\n            <path\n                style={currentColorFill}\n                d=\"M20.8,14.9h-1.3v2.2h-1.6v-2.2h-4.6v-1.2l4.6-6.6h1.6v6.5h1.3V14.9z M17.9,13.6v-2.5c0-0.9,0-1.6,0.1-2.2h-0.1\n\t\tc-0.1,0.3-0.3,0.7-0.6,1.1l-2.5,3.6H17.9z\"\n            />\n        </svg>\n    );\n}\n\nexport function Heading5Icon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"H5\")}</title>\n            <path style={currentColorFill} d=\"M12.3,17H10.7V12.5H6.1V17H4.4V7H6v4.1h4.6V7h1.6V17Z\" />\n            <path\n                style={currentColorFill}\n                d=\"M17,10.7a3.649,3.649,0,0,1,2.4.8,2.792,2.792,0,0,1,.9,2.2,3.04,3.04,0,0,1-1,2.5,4.1,4.1,0,0,1-2.8.9,5.991,5.991,0,0,1-2.6-.5V15.2a5.023,5.023,0,0,0,1.3.5,6.882,6.882,0,0,0,1.3.2,2.348,2.348,0,0,0,1.6-.5,1.678,1.678,0,0,0,.6-1.4c0-1.2-.8-1.8-2.3-1.8a2.485,2.485,0,0,0-.8.1c-.3,0-.6.1-.8.1l-.8-.5L14.4,7h5.2V8.4H15.8l-.2,2.5c.2,0,.4-.1.6-.1S16.6,10.7,17,10.7Z\"\n            />\n        </svg>\n    );\n}\n\nexport function BlockquoteIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Quote\")}</title>\n            <path\n                d=\"M10.531,17.286V12.755H8.122a9.954,9.954,0,0,1,.1-1.408,4.22,4.22,0,0,1,.388-1.286,2.62,2.62,0,0,1,.735-.918A1.815,1.815,0,0,1,10.49,8.8V6.755a3.955,3.955,0,0,0-2,.49A4.164,4.164,0,0,0,7.082,8.551a5.84,5.84,0,0,0-.817,1.9A9.65,9.65,0,0,0,6,12.755v4.531Zm7.469,0V12.755H15.592a9.954,9.954,0,0,1,.1-1.408,4.166,4.166,0,0,1,.388-1.286,2.606,2.606,0,0,1,.734-.918A1.819,1.819,0,0,1,17.959,8.8V6.755a3.958,3.958,0,0,0-2,.49,4.174,4.174,0,0,0-1.408,1.306,5.86,5.86,0,0,0-.816,1.9,9.649,9.649,0,0,0-.266,2.306v4.531Z\"\n                style={currentColorFill}\n            />\n        </svg>\n    );\n}\n\nexport function CodeBlockIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Paragraph Code Block\")}</title>\n            <path\n                fill=\"currentColor\"\n                fillRule=\"evenodd\"\n                d=\"M9.11588626,16.5074223 L3.14440918,12.7070466 L3.14440918,11.6376386 L9.11588626,7.32465415 L9.11588626,9.04808032 L4.63575044,12.0883808 L9.11588626,14.7663199 L9.11588626,16.5074223 Z M14.48227,5.53936141 L11.1573124,18.4606386 L9.80043634,18.4606386 L13.131506,5.53936141 L14.48227,5.53936141 Z M15.1729321,14.7663199 L19.6530679,12.0883808 L15.1729321,9.04808032 L15.1729321,7.32465415 L21.1444092,11.6376386 L21.1444092,12.7070466 L15.1729321,16.5074223 L15.1729321,14.7663199 Z\"\n            />\n        </svg>\n    );\n}\n\nexport function SpoilerIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    // Exceptionally, this SVG needs a hard coded class, because it's also rendered through PHP and doesn't have access to JS classes\n    return (\n        <svg\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            className={classNames(\"spoiler-icon\", props.className)}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Spoiler\")}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M11.469 15.47c-2.795-.313-4.73-3.017-4.06-5.8l4.06 5.8zM12 16.611a9.65 9.65 0 0 1-8.333-4.722 9.569 9.569 0 0 1 3.067-3.183L5.778 7.34a11.235 11.235 0 0 0-3.547 3.703 1.667 1.667 0 0 0 0 1.692A11.318 11.318 0 0 0 12 18.278c.46 0 .92-.028 1.377-.082l-1.112-1.589a9.867 9.867 0 0 1-.265.004zm9.77-3.876a11.267 11.267 0 0 1-4.985 4.496l1.67 2.387a.417.417 0 0 1-.102.58l-.72.504a.417.417 0 0 1-.58-.102L5.545 4.16a.417.417 0 0 1 .102-.58l.72-.505a.417.417 0 0 1 .58.103l1.928 2.754A11.453 11.453 0 0 1 12 5.5c4.162 0 7.812 2.222 9.77 5.543.307.522.307 1.17 0 1.692zm-1.437-.846A9.638 9.638 0 0 0 12.828 7.2a1.944 1.944 0 1 0 3.339 1.354 4.722 4.722 0 0 1-1.283 5.962l.927 1.324a9.602 9.602 0 0 0 4.522-3.952z\"\n            />\n        </svg>\n    );\n}\n\nexport function EmbedIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Embed\")}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M4.5,5.5a1,1,0,0,0-1,1v11a1,1,0,0,0,1,1h15a1,1,0,0,0,1-1V6.5a1,1,0,0,0-1-1ZM4.5,4h15A2.5,2.5,0,0,1,22,6.5v11A2.5,2.5,0,0,1,19.5,20H4.5A2.5,2.5,0,0,1,2,17.5V6.5A2.5,2.5,0,0,1,4.5,4Zm5.592,12.04-1.184.92-3.5-4.5v-.92l3.5-4.5,1.184.92L6.95,12Zm3.816,0L17.05,12,13.908,7.96l1.184-.92,3.5,4.5v.92l-3.5,4.5Z\"\n                style={currentColorFill}\n            />\n        </svg>\n    );\n}\n\nexport function ImageIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Image\")}</title>\n            <path\n                fill=\"currentColor\"\n                fillRule=\"nonzero\"\n                d=\"M5,17V15l2.294-3.212a.3.3,0,0,1,.418-.07h0c.013.01.025.021.037.032L10,14l4.763-5.747a.3.3,0,0,1,.422-.041h0l.02.018L19,12v5ZM4.5,5.5a1,1,0,0,0-1,1v11a1,1,0,0,0,1,1h15a1,1,0,0,0,1-1V6.5a1,1,0,0,0-1-1ZM4.5,4h15A2.5,2.5,0,0,1,22,6.5v11A2.5,2.5,0,0,1,19.5,20H4.5A2.5,2.5,0,0,1,2,17.5V6.5A2.5,2.5,0,0,1,4.5,4Zm3,6.2A1.7,1.7,0,1,1,9.2,8.5h0A1.7,1.7,0,0,1,7.5,10.2Z\"\n            />\n        </svg>\n    );\n}\n\nexport function AttachmentIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Attachment\")}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M17.25,9.045a.75.75,0,0,1,1.5,0v6.91A6.63,6.63,0,0,1,12,22.75a6.63,6.63,0,0,1-6.75-6.795V7.318A4.811,4.811,0,0,1,10.286,2.25a4.81,4.81,0,0,1,5.035,5.068v7.773c0,2.308-1.254,4.2-3.321,4.2s-3.321-1.9-3.321-4.2V9.045a.75.75,0,0,1,1.5,0v6.046c0,1.578.745,2.7,1.821,2.7s1.821-1.126,1.821-2.7V7.318A3.319,3.319,0,0,0,10.286,3.75,3.319,3.319,0,0,0,6.75,7.318v8.637A5.132,5.132,0,0,0,12,21.25a5.132,5.132,0,0,0,5.25-5.295Z\"\n                style={currentColorFill}\n            />\n        </svg>\n    );\n}\n\nexport function ListUnorderedIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"List Unordered\")}</title>\n            <path\n                fill=\"currentColor\"\n                fillRule=\"nonzero\"\n                d=\"M10.5 7a1 1 0 1 1 0-2h8a1 1 0 0 1 0 2h-8zm0 6a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2h-8zm0 6a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2h-8zM4.7 7c-.11 0-.2-.448-.2-1s.09-1 .2-1h1.6c.11 0 .2.448.2 1s-.09 1-.2 1H4.7zm0 6c-.11 0-.2-.448-.2-1s.09-1 .2-1h1.6c.11 0 .2.448.2 1s-.09 1-.2 1H4.7zm0 6c-.11 0-.2-.448-.2-1s.09-1 .2-1h1.6c.11 0 .2.448.2 1s-.09 1-.2 1H4.7z\"\n            />\n        </svg>\n    );\n}\n\nexport function ListOrderedIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"List Ordered\")}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M10.5 7a1 1 0 1 1 0-2h8a1 1 0 0 1 0 2h-8zM6.479 8h-.906V5.521l.009-.407.015-.445c-.15.15-.255.249-.314.296l-.492.395-.437-.545 1.38-1.098h.745V8zm4.021 5a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2h-8zm-3.266 1H4.24v-.63l1.075-1.087a9.93 9.93 0 0 0 .624-.678c.098-.126.168-.243.211-.35a.891.891 0 0 0 .065-.334c0-.172-.048-.3-.142-.384a.551.551 0 0 0-.38-.126c-.166 0-.327.038-.483.114-.156.077-.32.185-.49.326l-.491-.583c.21-.18.385-.307.524-.381.139-.075.29-.132.454-.172.164-.04.348-.06.55-.06.268 0 .505.05.71.147.205.097.364.234.477.41.114.176.17.377.17.603 0 .198-.034.383-.104.556-.07.172-.177.35-.322.531-.146.182-.402.44-.77.777l-.55.518v.041h1.866V14zm3.266 5a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2h-8zm-3.433-2.325c0 .267-.08.495-.243.682-.162.188-.39.317-.682.387v.018c.345.043.607.148.785.315.177.167.266.392.266.675 0 .412-.15.733-.448.962-.299.23-.725.345-1.28.345-.465 0-.877-.078-1.236-.232v-.77c.166.084.348.152.547.205.2.052.397.079.592.079.299 0 .52-.051.662-.153.143-.101.214-.264.214-.489 0-.201-.082-.344-.246-.428-.164-.084-.426-.125-.785-.125h-.325v-.695h.33c.333 0 .575-.043.729-.13.153-.087.23-.236.23-.447 0-.324-.203-.486-.61-.486-.14 0-.283.023-.429.07a2.097 2.097 0 0 0-.485.243l-.419-.624c.391-.281.857-.422 1.398-.422.443 0 .793.09 1.05.27.257.18.385.43.385.75z\"\n            />\n        </svg>\n    );\n}\n\nexport function IndentIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Indent\")}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M10.5 11a1 1 0 1 1 0-2h8a1 1 0 1 1 0 2h-8zm0 4a1 1 0 1 1 0-2h8a1 1 0 1 1 0 2h-8zM5.438 19h13.125c.517 0 .937-.448.937-1s-.42-1-.938-1H5.438c-.517 0-.937.448-.937 1s.42 1 .938 1zM5.438 7h13.125c.517 0 .937-.448.937-1s-.42-1-.938-1H5.438C4.92 5 4.5 5.448 4.5 6s.42 1 .938 1zM8.5 12l-3 3V9z\"\n            />\n        </svg>\n    );\n}\n\nexport function OutdentIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Outdent\")}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M10.5 11a1 1 0 1 1 0-2h8a1 1 0 1 1 0 2h-8zm0 4a1 1 0 1 1 0-2h8a1 1 0 1 1 0 2h-8zM5.438 19h13.125c.517 0 .937-.448.937-1s-.42-1-.938-1H5.438c-.517 0-.937.448-.937 1s.42 1 .938 1zM5.438 7h13.125c.517 0 .937-.448.937-1s-.42-1-.938-1H5.438C4.92 5 4.5 5.448 4.5 6s.42 1 .938 1zM4.5 12l3-3v6z\"\n            />\n        </svg>\n    );\n}\n\nexport function AlignCenterIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Center\")}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M17 12v2H0v-2h17zM11.5 0c1.105 0 2 .895 2 2v6c0 1.105-.895 2-2 2h-6c-1.105 0-2-.895-2-2V2c0-1.105.895-2 2-2h6z\"\n                transform=\"translate(3.5 5)\"\n            />\n        </svg>\n    );\n}\n\nexport function FloatLeftIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Float Left\")}</title>\n            <path\n                fill=\"currentColor\"\n                d=\"M17 12v2H0v-2h17zM8 0c1.105 0 2 .895 2 2v6c0 1.105-.895 2-2 2H2c-1.105 0-2-.895-2-2V2C0 .895.895 0 2 0h6zm9 8v2h-5V8h5zm0-4v2h-5V4h5zm0-4v2h-5V0h5z\"\n                transform=\"translate(3.5 5)\"\n            />\n        </svg>\n    );\n}\n\nexport function FloatRightIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Float Right\")}</title>\n            <g fill=\"none\" fillRule=\"evenodd\">\n                <g fill=\"currentColor\" transform=\"translate(3.5 5)\">\n                    <rect width=\"10\" height=\"10\" x=\"7\" rx=\"2\" />\n                    <g>\n                        <path d=\"M17 12v2H0v-2h17zM5 8v2H0V8h5zm0-4v2H0V4h5zm0-4v2H0V0h5z\" />\n                    </g>\n                </g>\n            </g>\n        </svg>\n    );\n}\n\nexport function ResizeLargeIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Large\")}</title>\n            <g fill=\"none\" fillRule=\"evenodd\">\n                <g transform=\"translate(4 4)\">\n                    <rect width=\"16\" height=\"16\" fill=\"currentColor\" stroke=\"currentColor\" strokeWidth=\"1.5\" rx=\"2\" />\n                    <g stroke=\"#FFF\" strokeLinecap=\"round\">\n                        <g>\n                            <path d=\"M0 6.737L6.737 0\" transform=\"translate(3.5 4) translate(1.5)\" />\n                            <path\n                                strokeLinejoin=\"round\"\n                                d=\"M2.994 0L6.737 0 6.737 3.743\"\n                                transform=\"translate(3.5 4) translate(1.5)\"\n                            />\n                        </g>\n                        <g>\n                            <path d=\"M0 6.737L6.737 0\" transform=\"translate(3.5 4) rotate(-180 3.5 4)\" />\n                            <path\n                                strokeLinejoin=\"round\"\n                                d=\"M2.994 0L6.737 0 6.737 3.743\"\n                                transform=\"translate(3.5 4) rotate(-180 3.5 4)\"\n                            />\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </svg>\n    );\n}\n\nexport function ResizeMediumIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Medium\")}</title>\n            <g fill=\"none\" fillRule=\"evenodd\">\n                <g>\n                    <path\n                        fill=\"currentColor\"\n                        d=\"M5 9.03h10v9.5c0 1.105-.895 2-2 2H3v-9.5c0-1.105.895-2 2-2z\"\n                        transform=\"rotate(90 9 14.78)\"\n                    />\n                    <path\n                        stroke=\"currentColor\"\n                        strokeWidth=\"1.5\"\n                        d=\"M4 8V7c0-2 1-3 3-3h10c2 0 3 1 3 3v10c0 2-1 3-3 3h-1\"\n                    />\n                </g>\n            </g>\n        </svg>\n    );\n}\n\nexport function ResizeSmallIcon(props: { className?: string; \"aria-hidden\"?: areaHiddenType }) {\n    const classesRichEditor = richEditorClasses(false);\n    return (\n        <svg\n            className={classNames(\"richEditorButton-icon\", classesRichEditor.icon, props.className)}\n            aria-hidden={props[\"aria-hidden\"] !== undefined ? props[\"aria-hidden\"] : \"true\"}\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{t(\"Medium\")}</title>\n            <g fill=\"none\" fillRule=\"evenodd\">\n                <g>\n                    <g fill=\"currentColor\" fillRule=\"nonzero\">\n                        <path\n                            d=\"M0 3.104v5.714h5.714c1.105 0 2-.895 2-2V1.104H2c-1.105 0-2 .896-2 2z\"\n                            transform=\"translate(3 4) matrix(-1 0 0 1 7.914 8)\"\n                        />\n                    </g>\n                    <path\n                        stroke=\"currentColor\"\n                        strokeWidth=\"1.5\"\n                        d=\"M1 8V3c0-2 1-3 3-3h10c2 0 3 1 3 3v10c0 2-1 3-3 3H9\"\n                        transform=\"translate(3 4)\"\n                    />\n                </g>\n            </g>\n        </svg>\n    );\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\n\nexport const defaultTransition = (...properties: string[]) => {\n    const vars = globalVariables();\n    return timedTransition(vars.animation.defaultTiming, ...properties);\n};\n\nexport const timedTransition = (timing: string, ...properties: string[]) => {\n    const vars = globalVariables();\n    properties = properties.length === 0 ? [\"all\"] : properties;\n    return {\n        transition: `${properties.map((prop, index) => {\n            return `${prop} ${timing} ${vars.animation.defaultEasing}${index === properties.length ? \", \" : \"\"}`;\n        })}`,\n    };\n};\n","/**\n * @copyright 2020 Adam (charrondev) Charron\n * @license Proprietary\n */\n\nexport const EMBED_FOCUS_CLASS = \"embed-focusableElement\";\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { logError } from \"@vanilla/utils\";\nimport { t } from \"@library/utility/appUtils\";\n\ntype TranslateCallback = (contents: string) => React.ReactNode;\n\ninterface IProps {\n    source: string;\n    shortSource?: string;\n    errorHandler?: (...values) => void;\n    translateFunction?: (source: string, fallback?: string) => string;\n    c0?: TranslateCallback | React.ReactNode;\n    c1?: TranslateCallback | React.ReactNode;\n    c2?: TranslateCallback | React.ReactNode;\n    c3?: TranslateCallback | React.ReactNode;\n    c4?: TranslateCallback | React.ReactNode;\n}\n\n/**\n * Component for translating text with interpolated components.\n * Can accept source strings with interpolated translation components in a form such as:\n * - \"Published on <0/> by <1 />.\"\n * - \"For more information, please see our <0>public documentation</0>.\"\n *\n * About the placeholders:\n * - Self closing placeholders will be replace with the result from the prop that has a correspsonding ID.\n *   Eg. \"<0/>\" will be replaced by prop `c0`.\n *   \"<3 />\" will be replaced by prop `c3`.\n * - Placeholders content will have their translated content passed as an argument to their callback prop.\n *\n * Limitations\n * - Only placeholders 0-4 are currently allowed. Break up your translation strings!\n * - These tag's CANNOT be nested currently.\n *\n * Examples\n * <Translate source=\"test\" />\n *   -> translated text of \"test\"\n * <Translate source=\"Hello <0/>\" />\n *   -> Error because c0 was not provided.\n * <Translate source=\"Hello <0/> world!\" c0={<SomeComponent />}/>\n *   -> Hello <SomeComponent/> world!\n * <Translate source=\"Visit <0>our site</0> for help.\" c0={content => <a href=\"http://site.com\">{content}</a>}/>\"\n *   -> Visit <a href=\"http://site.com\">our site</a> for help.\n */\nexport default class Translate extends React.Component<IProps> {\n    public static defaultProps: Partial<IProps> = {\n        errorHandler: logError,\n        translateFunction: t,\n    };\n\n    /**\n     * @inheritDoc\n     */\n    public render(): React.ReactNode {\n        // First parse out the self closing elements.\n        const tagRegex = /<([\\d ]+)>(.*?)<\\/\\1>|<([\\d ]+)\\/>|([^<]+|<)/g;\n\n        const result: React.ReactNode[] = [];\n        this.translatedSource.replace(tagRegex, (match, childrenID, childrenMatch, standaloneID, textMatch, index) => {\n            if (textMatch != null) {\n                result.push(<React.Fragment key={index}>{textMatch}</React.Fragment>);\n            }\n\n            if (standaloneID != null) {\n                result.push(this.getInterpolatedComponent(standaloneID, index));\n            }\n\n            if (childrenMatch != null && childrenID != null) {\n                result.push(this.getInterpolatedComponent(childrenID, index, childrenMatch));\n            }\n            return match;\n        });\n\n        return result;\n    }\n\n    /**\n     * Create an interpolated component inside of a react fragment.\n     *\n     * @param id The id of the component we are replacing. Eg. <0/> -> 0.\n     * @param key The key of the fragment (index).\n     * @param value The content to pass along to the prop callback.\n     */\n    private getInterpolatedComponent(id: string, key: number, value?: string): React.ReactNode {\n        id = id.trim();\n\n        if (!(`c${id}` in this.props)) {\n            this.logIDNotFound(id);\n            return null;\n        }\n\n        const prop = this.props[`c${id}`];\n        const contents = typeof prop === \"function\" ? prop(value) : prop;\n\n        return <React.Fragment key={key}>{contents}</React.Fragment>;\n    }\n\n    /**\n     * Get a translated version of the source string.\n     */\n    private get translatedSource(): string {\n        return this.props.translateFunction!(this.props.shortSource ?? this.props.source, this.props.source);\n    }\n\n    /**\n     * Log that an ID has not been found with some context.\n     */\n    private logIDNotFound(id) {\n        this.props.errorHandler!(\n            `A translation interpolation value #${id} was not provided for source string ${this.props.source}. \\nThe translated value of source is ${this.translatedSource}.`,\n        );\n    }\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { componentThemeVariables, styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { calc, px } from \"csx\";\n\nexport const attachmentIconVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const themeVars = componentThemeVariables(\"attachmentIcon\");\n\n    const spacing = {\n        default: 12,\n        ...themeVars.subComponentStyles(\"spacing\"),\n    };\n\n    const shadow = {\n        color: globalVars.mixBgAndFg(0.1),\n        ...themeVars.subComponentStyles(\"shadow\"),\n    };\n\n    const icon = {\n        size: 16,\n        errorIconHeight: 14.39,\n    };\n\n    return { spacing, shadow, icon };\n});\n\nexport const attachmentIconsClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const vars = attachmentIconVariables();\n    const style = styleFactory(\"attachmentIcons\");\n\n    const root = style({\n        display: \"block\",\n        position: \"relative\",\n    });\n\n    const items = style(\"items\", {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-end\",\n        width: calc(`100% + ${px(vars.spacing.default * 2)}`),\n        overflow: \"hidden\",\n        ...Mixins.margin({\n            top: -vars.spacing.default,\n            left: -vars.spacing.default,\n            right: globalVars.meta.spacing.default,\n        }),\n    });\n\n    const item = style(\"item\", {\n        margin: vars.spacing.default,\n    });\n\n    return { root, items, item };\n});\n\nexport const attachmentIconClasses = useThemeCache(() => {\n    const vars = attachmentIconVariables();\n    const style = styleFactory(\"attachmentIcon\");\n\n    const root = style({\n        display: \"block\",\n        width: px(vars.icon.size),\n        height: px(vars.icon.size),\n        boxShadow: `0 0 0 1px ${vars.shadow.color}`,\n    });\n\n    const error = style(\"error\", {\n        width: px(vars.icon.size),\n        height: px(vars.icon.errorIconHeight),\n    });\n\n    return { root, error };\n});\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useRef } from \"react\";\nimport { tokensClasses } from \"@library/forms/select/tokensStyles\";\nimport { t } from \"@library/utility/appUtils\";\nimport { getRequiredID, IOptionalComponentID } from \"@library/utility/idUtils\";\nimport Select from \"react-select\";\nimport { IComboBoxOption } from \"@library/features/search/SearchBar\";\nimport Paragraph from \"@library/layout/Paragraph\";\nimport classNames from \"classnames\";\nimport * as selectOverrides from \"@library/forms/select/overwrites\";\nimport { inputBlockClasses } from \"@library/forms/InputBlockStyles\";\nimport MutationObserver from \"react-mutation-observer\";\n\nexport interface ITokenProps extends IOptionalComponentID {\n    label: string | null;\n    labelNote?: string;\n    disabled?: boolean;\n    className?: string;\n    placeholder?: string;\n    options: IComboBoxOption[] | undefined;\n    isLoading?: boolean;\n    value: IComboBoxOption[];\n    onFocus?: () => void;\n    onChange: (tokens: IComboBoxOption[]) => void;\n    onInputChange?: (value: string) => void;\n    menuPlacement?: string;\n    showIndicator?: boolean;\n}\n\ninterface IState {\n    inputValue: string;\n    focus: boolean;\n}\n\n/**\n * Implements the search bar component\n */\nexport default class Tokens extends React.Component<ITokenProps, IState> {\n    private prefix = \"tokens\";\n    private id: string = getRequiredID(this.props, this.prefix);\n    private inputID: string = this.id + \"-tokenInput\";\n\n    public state: IState = {\n        inputValue: \"\",\n        focus: false,\n    };\n\n    public render() {\n        const { className, disabled, options, isLoading } = this.props;\n        const classes = tokensClasses();\n        const classesInputBlock = inputBlockClasses();\n\n        return (\n            <>\n                <div\n                    className={classNames(\"tokens\", classesInputBlock.root, this.props.className, classes.root, {\n                        [classes.withIndicator]: this.props.showIndicator,\n                    })}\n                >\n                    {this.props.label !== null && (\n                        <label htmlFor={this.inputID} className={classesInputBlock.labelAndDescription}>\n                            <span className={classesInputBlock.labelText}>{this.props.label}</span>\n                            <Paragraph className={classesInputBlock.labelNote}>{this.props.labelNote}</Paragraph>\n                        </label>\n                    )}\n\n                    <div\n                        className={classNames(classesInputBlock.inputWrap, classes.inputWrap, {\n                            hasFocus: this.state.focus,\n                        })}\n                    >\n                        <Select\n                            id={this.id}\n                            inputId={this.inputID}\n                            components={this.componentOverwrites}\n                            onChange={this.props.onChange}\n                            inputValue={this.state.inputValue}\n                            value={this.props.value}\n                            onInputChange={this.handleInputChange}\n                            isClearable={true}\n                            isDisabled={disabled}\n                            options={options}\n                            isLoading={this.showLoader}\n                            classNamePrefix={this.prefix}\n                            className={classNames(this.prefix, className)}\n                            placeholder={this.props.placeholder}\n                            aria-label={t(\"Search\")}\n                            escapeClearsValue={true}\n                            pageSize={20}\n                            theme={this.getTheme}\n                            styles={this.getStyles()}\n                            backspaceRemovesValue={true}\n                            isMulti={true}\n                            onFocus={this.onFocus}\n                            onBlur={this.onBlur}\n                        />\n                    </div>\n\n                    <MutationObserver\n                        onAttributeChange={(e) => {\n                            if (e.to && e.to !== e.from) {\n                                this.props.onChange(JSON.parse(e.to));\n                            }\n                        }}\n                    >\n                        <input\n                            className={\"js-\" + this.prefix + \"-tokenInput\"}\n                            aria-hidden={true}\n                            value={JSON.stringify(this.props.value)}\n                            type=\"hidden\"\n                            tabIndex={-1}\n                        />\n                    </MutationObserver>\n                </div>\n            </>\n        );\n    }\n\n    private get showLoader(): boolean {\n        return !!this.props.isLoading && this.state.inputValue.length > 0;\n    }\n\n    private handleInputChange = (val) => {\n        this.setState({ inputValue: val });\n        this.props.onInputChange?.(val);\n    };\n\n    /*\n     * Overwrite components in Select component\n     */\n    private get componentOverwrites() {\n        const overwrites = {\n            ClearIndicator: selectOverrides.NullComponent,\n            LoadingMessage: selectOverrides.OptionLoader,\n            Menu:\n                !this.props.options || this.props.options?.length > 0\n                    ? selectOverrides.Menu\n                    : selectOverrides.NullComponent,\n            MenuList: selectOverrides.MenuList,\n            Option: selectOverrides.SelectOption,\n            ValueContainer: selectOverrides.ValueContainer,\n            Control: selectOverrides.Control,\n            MultiValueRemove: selectOverrides.MultiValueRemove,\n            NoOptionsMessage: this.showLoader\n                ? selectOverrides.OptionLoader\n                : this.state.inputValue.length > 0\n                ? selectOverrides.NoOptionsMessage\n                : selectOverrides.NullComponent,\n            LoadingIndicator: selectOverrides.NullComponent,\n            DropdownIndicator: selectOverrides.DropdownIndicator,\n        };\n\n        if (!this.props.showIndicator) {\n            overwrites[\"DropdownIndicator\"] = selectOverrides.NullComponent;\n        }\n\n        return overwrites;\n    }\n\n    /**\n     * Overwrite theme in Select component\n     */\n    private getTheme = (theme) => {\n        return {\n            ...theme,\n            border: {},\n            colors: {},\n            spacing: {},\n        };\n    };\n\n    /**\n     * Set class for focus\n     */\n    private onFocus = () => {\n        if (this.props.onFocus) {\n            this.props.onFocus();\n        }\n        this.setState({\n            focus: true,\n        });\n    };\n\n    /**\n     * Set class for blur\n     */\n    private onBlur = () => {\n        this.setState({\n            focus: false,\n        });\n    };\n\n    /**\n     * Overwrite styles in Select component\n     */\n    private getStyles = () => {\n        return {\n            option: (provided: React.CSSProperties) => ({\n                ...provided,\n            }),\n            menu: (provided: React.CSSProperties, state) => {\n                return { ...provided, backgroundColor: undefined, boxShadow: undefined };\n            },\n            control: (provided: React.CSSProperties) => ({\n                ...provided,\n                borderWidth: 0,\n            }),\n            multiValue: (provided: React.CSSProperties, state) => {\n                return {\n                    ...provided,\n                    borderRadius: undefined,\n                    opacity: state.isFocused ? 1 : 0.85,\n                };\n            },\n            multiValueLabel: (provided: React.CSSProperties) => {\n                return { ...provided, borderRadius: undefined, padding: 0 };\n            },\n        };\n    };\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nexport enum AttachmentType {\n    FILE = \"A file\",\n    PDF = \"Adobe Portable Document Format (PDF)\",\n    EXCEL = \"Microsoft Excel Spreadsheet\",\n    WORD = \"Microsoft Word Document\",\n    PPT = \"Microsoft PowerPoint Presentation\",\n    ARCHIVE = \"An archived file or files\",\n    IMAGE = \"An image file\",\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { t } from \"@library/utility/appUtils\";\nimport classNames from \"classnames\";\nimport { AttachmentType } from \"@library/content/attachments/AttatchmentType\";\nimport { iconClasses } from \"@library/icons/iconStyles\";\n\nconst currentColorFill = {\n    fill: \"currentColor\",\n};\n\nexport function FileTypeGenericIcon(props: { className?: string; fileType?: string }) {\n    const title = props.fileType ? props.fileType : t(\"File\");\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 16 16\"\n            className={classNames(\"attachmentIcon-fileGeneric\", \"attachmentIcon\", classes.fileType, props.className)}\n            role=\"img\"\n            aria-label={title}\n        >\n            <title>{title}</title>\n            <rect width=\"16\" height=\"16\" rx=\"1\" style={{ fill: \"#777b81\" }} />\n            <path\n                d=\"M11.5,6v4a3.418,3.418,0,0,1-3.334,3.5H8a3.418,3.418,0,0,1-3.5-3.334c0-.055,0-.111,0-.166V5A2.362,2.362,0,0,1,6.715,2.5,2.259,2.259,0,0,1,7,2.5,2.362,2.362,0,0,1,9.5,4.715,2.258,2.258,0,0,1,9.5,5V9.5c0,1-.5,2-1.5,2s-1.5-1-1.5-2V6\"\n                style={{ fill: \"none\", stroke: \"#f1f2f2\", strokeLinecap: \"round\" }}\n            />\n        </svg>\n    );\n}\n\nexport function FileTypeWordIcon(props: { className?: string }) {\n    const title = t(\"Word\");\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 16 16\"\n            className={classNames(\"attachmentIcon-fileWord\", \"attachmentIcon\", classes.fileType, props.className)}\n            role=\"img\"\n            aria-label={t(AttachmentType.WORD)}\n        >\n            <title>{title}</title>\n            <rect width=\"16\" height=\"16\" rx=\"1\" style={{ fill: \"#0175fc\" }} />\n            <rect x=\"3\" y=\"3\" width=\"10\" height=\"1\" style={{ fill: \"#cce3fe\" }} />\n            <rect x=\"3\" y=\"5\" width=\"10\" height=\"1\" style={{ fill: \"#cce3fe\" }} />\n            <rect x=\"3\" y=\"12\" width=\"10\" height=\"1\" style={{ fill: \"#cce3fe\" }} />\n            <rect x=\"3\" y=\"10\" width=\"10\" height=\"1\" style={{ fill: \"#cce3fe\" }} />\n            <rect x=\"3\" y=\"7\" width=\"6\" height=\"1\" style={{ fill: \"#cce3fe\" }} />\n        </svg>\n    );\n}\n\nexport function FileTypeExcelIcon(props: { className?: string }) {\n    const title = t(\"Excel\");\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 16 16\"\n            className={classNames(\"attachmentIcon-fileExcel\", \"attachmentIcon\", classes.fileType, props.className)}\n            role=\"img\"\n            aria-label={t(AttachmentType.EXCEL)}\n        >\n            <title>{title}</title>\n            <rect width=\"16\" height=\"16\" fill=\"#2f7d32\" />\n            <polygon\n                style={{ fill: \"#fff\" }}\n                points=\"9.334 10.361 7.459 13.543 6 13.543 8.613 9.166 6.164 5 7.629 5 9.334 7.965 11.039 5 12.498 5 10.055 9.166 12.668 13.543 11.203 13.543 9.334 10.361\"\n            />\n        </svg>\n    );\n}\n\nexport function FileTypePDFIcon(props: { className?: string }) {\n    const unabbreviatedType = t(AttachmentType.PDF);\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 16 16\"\n            className={classNames(\"attachmentIcon-filePDF\", \"attachmentIcon\", classes.fileType, props.className)}\n            role=\"img\"\n            aria-label={t(AttachmentType.PDF)}\n        >\n            <title>\n                <abbr title={unabbreviatedType || undefined}>{AttachmentType.PDF}</abbr>\n            </title>\n            <rect width=\"16\" height=\"16\" rx=\"1\" style={{ fill: \"#c80000\" }} />\n            <path\n                d=\"M2.5,11V8.5m4.5,2v-5H8q1.5,0,1.5,2.143v.714Q9.5,10.5,8,10.5Zm-4.5-2v-3h1Q5,5.5,5,6.786v.428Q5,8.5,3.5,8.5Z\"\n                style={{ stroke: \"#fff\", fill: \"none\" }}\n            />\n            <polygon\n                points=\"11 11 11 5 14 5 14 6 12.007 6 12 7.5 13.493 7.5 13.493 8.5 12 8.5 12 11 11 11\"\n                style={{ fill: \"#fff\" }}\n            />\n        </svg>\n    );\n}\n\nexport function FileTypeImageIcon(props: { className?: string }) {\n    const title = t(\"Image\");\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 16 16\"\n            className={classNames(\"attachmentIcon-fileImage\", \"attachmentIcon\", classes.fileType, props.className)}\n            role=\"img\"\n            aria-label={t(AttachmentType.IMAGE)}\n        >\n            <title>{title}</title>\n\n            <rect width=\"16\" height=\"16\" rx=\"1\" style={{ fill: \"#c80090\" }} />\n            <path\n                d=\"M3,12.5a1,1,0,0,1-1-1V6A1,1,0,0,1,3,5h.5V4.75a.25.25,0,0,1,.25-.25h.5a.25.25,0,0,1,.25.25V5a.81.81,0,0,0,.724-.447l.5-1A1,1,0,0,1,6.618,3H9.382a1,1,0,0,1,.894.553l.448.894A1,1,0,0,0,11.618,5H13a1,1,0,0,1,1,1v5.5a1,1,0,0,1-1,1Zm5-2a2,2,0,1,1,2-2A2,2,0,0,1,8,10.5Zm0,1a3,3,0,1,0-3-3A3,3,0,0,0,8,11.5ZM11.5,6V7H13V6Z\"\n                style={{ fill: \"#fff\", fillOpacity: 0.97 }}\n            />\n        </svg>\n    );\n}\n\nexport function FileTypePowerPointIcon(props: { className?: string }) {\n    const textFill = \"#fff\";\n    const title = t(\"PPT\");\n    const unabbreviatedType = t(AttachmentType.PPT);\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 16 16\"\n            className={classNames(\"attachmentIcon-filePowerPoint\", \"attachmentIcon\", classes.fileType, props.className)}\n            role=\"img\"\n            aria-label={t(AttachmentType.IMAGE)}\n        >\n            <title>\n                {unabbreviatedType ? <abbr title={unabbreviatedType}>{AttachmentType.PDF}</abbr> : AttachmentType.PDF}\n            </title>\n            <rect width=\"16\" height=\"16\" rx=\"1\" style={{ fill: \"#ee6a01\" }} />\n            <path d=\"M8,4V7.5h3.55A3.5,3.5,0,1,1,8,4Z\" style={{ fill: \"#fbe1cc\" }} />\n            <path d=\"M9,3h.05a3.5,3.5,0,0,1,3.5,3.5H9Z\" style={{ fill: \"#fbe1cc\" }} />\n            <rect x=\"3\" y=\"12\" width=\"10\" height=\"1\" style={{ fill: \"#fbe1cc\" }} />\n        </svg>\n    );\n}\n\nexport function FileTypeZipIcon(props: { className?: string }) {\n    const title = t(\"Zip\");\n    const unabbreviatedType = t(AttachmentType.ARCHIVE);\n    const barStyle = { fill: \"#fff\", fillOpacity: 0.9 };\n    const classes = iconClasses();\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 16 16\"\n            className={classNames(\"attachmentIcon-fileZip\", \"attachmentIcon\", classes.fileType, props.className)}\n            role=\"img\"\n            aria-label={t(AttachmentType.IMAGE)}\n        >\n            <title>\n                {unabbreviatedType ? <abbr title={unabbreviatedType}>{AttachmentType.PDF}</abbr> : AttachmentType.PDF}\n            </title>\n            <rect width=\"16\" height=\"16\" rx=\"1\" style={{ fill: \"#eeb601\" }} />\n            <path\n                d=\"M6,7.5h4l.45,4.955A.5.5,0,0,1,10,13H6.054a.5.5,0,0,1-.5-.5.338.338,0,0,1,0-.045Zm.99,3a.149.149,0,0,0-.149.14l-.08,1.2v.01a.15.15,0,0,0,.15.15H9.1a.149.149,0,0,0,.139-.16l-.08-1.2a.149.149,0,0,0-.149-.14Z\"\n                style={{ fill: \"#fdf7e6\" }}\n            />\n            <rect x=\"6\" y=\"6\" width=\"2\" height=\"1\" style={barStyle} />\n            <rect x=\"8\" y=\"5\" width=\"2\" height=\"1\" style={barStyle} />\n            <rect x=\"6\" y=\"4\" width=\"2\" height=\"1\" style={barStyle} />\n            <rect x=\"8\" y=\"3\" width=\"2\" height=\"1\" style={barStyle} />\n            <rect x=\"6\" y=\"2\" width=\"2\" height=\"1\" style={barStyle} />\n            <rect x=\"8\" y=\"1\" width=\"2\" height=\"1\" style={barStyle} />\n            <rect x=\"6\" width=\"2\" height=\"1\" style={barStyle} />\n        </svg>\n    );\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nimport React from \"react\";\nimport { AttachmentType } from \"@library/content/attachments/AttatchmentType\";\nimport {\n    FileTypeGenericIcon,\n    FileTypeWordIcon,\n    FileTypeExcelIcon,\n    FileTypePDFIcon,\n    FileTypeImageIcon,\n    FileTypePowerPointIcon,\n    FileTypeZipIcon,\n} from \"@library/icons/fileTypes\";\n/**\n * Map a mimeType into an AttachmentType.\n *\n * @param mimeType\n */\nexport function mimeTypeToAttachmentType(mimeType?: string | null): AttachmentType {\n    if (!mimeType) {\n        return AttachmentType.FILE;\n    }\n\n    if (mimeType.startsWith(\"image/\")) {\n        return AttachmentType.IMAGE;\n    }\n\n    switch (mimeType) {\n        case \"application/pdf\":\n            return AttachmentType.PDF;\n        case \"application/vnd.ms-excel\":\n        case \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":\n            return AttachmentType.EXCEL;\n        case \"application/msword\":\n        case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n            return AttachmentType.WORD;\n        case \"application/vnd.ms-powerpoint\":\n        case \"application/vnd.openxmlformats-officedocument.presentationml.presentation\":\n            return AttachmentType.PPT;\n        case \"application/zip\":\n        case \"application/x-7z-compressed\":\n        case \"application/x-bzip\":\n        case \"application/x-bzip2\":\n        case \"application/x-rar-compressed\":\n            return AttachmentType.ARCHIVE;\n        default:\n            return AttachmentType.FILE;\n    }\n}\n\nexport function GetAttachmentIcon(props: { type: AttachmentType; className?: string }) {\n    switch (props.type) {\n        case AttachmentType.PDF:\n            return <FileTypePDFIcon className={props.className} />;\n        case AttachmentType.EXCEL:\n            return <FileTypeExcelIcon className={props.className} />;\n        case AttachmentType.WORD:\n            return <FileTypeWordIcon className={props.className} />;\n        case AttachmentType.PPT:\n            return <FileTypePowerPointIcon className={props.className} />;\n        case AttachmentType.ARCHIVE:\n            return <FileTypeZipIcon className={props.className} />;\n        case AttachmentType.IMAGE:\n            return <FileTypeImageIcon className={props.className} />;\n        default:\n            return <FileTypeGenericIcon className={props.className} />;\n    }\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { absolutePosition, flexHelper, ISpinnerProps, spinnerLoader } from \"@library/styles/styleHelpers\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { TLength } from \"@library/styles/styleShim\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { percent } from \"csx\";\n\nexport const loaderVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const makeThemeVars = variableFactory(\"loader\");\n\n    const colors = makeThemeVars(\"colors\", {\n        fg: globalVars.mainColors.primary,\n    });\n\n    const fullPage: ISpinnerProps = makeThemeVars(\"fullPage\", {\n        size: 100,\n        thickness: 6,\n        color: colors.fg,\n    });\n\n    const medium: ISpinnerProps = makeThemeVars(\"medium\", {\n        size: 50,\n        thickness: 4,\n        color: colors.fg,\n    });\n\n    const small: ISpinnerProps = makeThemeVars(\"small\", {\n        size: 36,\n        thickness: 4,\n        color: colors.fg,\n    });\n\n    return { fullPage, small, medium };\n});\n\nexport const loaderClasses = useThemeCache(() => {\n    const vars = loaderVariables();\n    const flex = flexHelper();\n    const style = styleFactory(\"loader\");\n    const fullPageLoader = style(\"fullPageLoader\", {\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        margin: \"auto\",\n        height: styleUnit(vars.fullPage.size),\n        width: styleUnit(vars.fullPage.size),\n        ...{\n            \"&:after\": {\n                ...spinnerLoader(vars.fullPage),\n            },\n        },\n        zIndex: 1,\n    });\n    const mediumLoader = style(\"mediumLoader\", {\n        ...absolutePosition.fullSizeOfParent(),\n        ...flex.middle(),\n        height: percent(100),\n        width: percent(100),\n        ...{\n            \"&:after\": {\n                ...spinnerLoader(vars.medium),\n            },\n        },\n    });\n    const smallLoader = style(\"smallLoader\", {\n        ...flex.middle(),\n        height: percent(46),\n        width: percent(46),\n        margin: \"auto\",\n        ...{\n            \"&:after\": {\n                ...spinnerLoader(vars.small),\n            },\n        },\n    });\n\n    const loaderContainer = (size: TLength) => {\n        return style(\"loaderContainer\", {\n            position: \"relative\",\n            display: \"block\",\n            margin: \"auto\",\n            height: styleUnit(size),\n            width: styleUnit(size),\n        });\n    };\n\n    return {\n        fullPageLoader,\n        mediumLoader,\n        smallLoader,\n        loaderContainer,\n    };\n});\n","/**\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { TLength } from \"@library/styles/styleShim\";\nimport { t } from \"@library/utility/appUtils\";\nimport { loaderClasses } from \"@library/loaders/loaderStyles\";\nimport ScreenReaderContent from \"@library/layout/ScreenReaderContent\";\nimport { style } from \"@library/styles/styleShim\";\nimport { PaddingProperty } from \"csstype\";\nimport ConditionalWrap from \"@library/layout/ConditionalWrap\";\nimport classNames from \"classnames\";\n\ninterface IProps {\n    minimumTime?: number;\n    loaderStyleClass?: string;\n    size?: number;\n    padding?: PaddingProperty<TLength>;\n    small?: boolean;\n}\n\ninterface IState {\n    showLoader: boolean;\n}\n\n/**\n * A smart loading component. Takes up the full page and only displays in certain scenarios.\n */\nexport default class Loader extends React.Component<IProps, IState> {\n    public state: IState = {\n        showLoader: false,\n    };\n\n    public render() {\n        if (this.props.minimumTime && this.props.minimumTime > 0 && !this.state.showLoader) {\n            return null;\n        }\n        const styleClass = this.props.small\n            ? loaderClasses().smallLoader\n            : this.props.loaderStyleClass || loaderClasses().fullPageLoader;\n        return (\n            <React.Fragment>\n                <ConditionalWrap\n                    condition={!!this.props.padding || !!this.props.size}\n                    className={classNames(\n                        this.props.padding && style({ padding: styleUnit(this.props.padding) }),\n                        this.props.size && loaderClasses().loaderContainer(this.props.size),\n                    )}\n                >\n                    <div className={styleClass} aria-hidden=\"true\" />\n                    <ScreenReaderContent>\n                        <p>{t(\"Loading\")}</p>\n                    </ScreenReaderContent>\n                </ConditionalWrap>\n            </React.Fragment>\n        );\n    }\n\n    private timeout: NodeJS.Timeout;\n\n    public componentDidMount() {\n        const duration = this.props.minimumTime || 150;\n        this.timeout = setTimeout(() => {\n            this.setState({ showLoader: true });\n        }, duration);\n    }\n\n    public componentWillUnmount() {\n        this.timeout && clearTimeout(this.timeout);\n    }\n}\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { IUserSuggestion } from \"@library/features/users/suggestion/IUserSuggestion\";\nimport { ILoadable } from \"@library/@types/api/core\";\n\nexport type ISuggestionValue = ILoadable<IUserSuggestion[]>;\n\nexport interface ISuggestionNode {\n    children?: {\n        [key: string]: ISuggestionNode;\n    };\n    value?: ISuggestionValue;\n}\n\n/**\n * A trie for storage of mention data.\n */\nexport default class SuggestionTrie {\n    public MAX_PARTIAL_LOOKUP_ITERATIONS = 10;\n    private root: ISuggestionNode = {};\n\n    /**\n     * Insert a value into a node for the word. This will overwrite whatever value the node already has\n     *\n     * @param word - The location in the trie.\n     * @param value - The value for the node.\n     */\n    public insert(word: string, value: ISuggestionValue): void {\n        let current = this.root;\n\n        for (let i = 0; i < word.length; i++) {\n            const letter = word[i];\n            if (!current.children) {\n                current.children = {};\n            }\n\n            if (!(letter in current.children)) {\n                const contents: ISuggestionNode = i !== word.length - 1 ? {} : { children: {} };\n                current.children[letter] = contents;\n            }\n\n            current = current.children[letter];\n        }\n\n        current.value = value;\n    }\n\n    /**\n     * Get a node for a given word.\n     *\n     * If no word is passed the root node will be returned.\n     *\n     * @param word - The word to lookup.\n     */\n    public getNode(word?: string): ISuggestionNode | null {\n        let node = this.root;\n        if (word === undefined) {\n            return node;\n        }\n\n        for (let i = 0; i < word.length; i++) {\n            const char = word.charAt(i);\n            if (node.children && node.children[char]) {\n                node = node.children[char];\n            } else {\n                return null;\n            }\n        }\n        return node;\n    }\n\n    /**\n     * Get the value out of a particular node.\n     *\n     * @param word - The word to lookup.\n     */\n    public getValue(word: string): ISuggestionValue | null {\n        const node = this.getNode(word);\n        return (node && node.value) || null;\n    }\n\n    /**\n     * Lookup the value for a word using increasingly small substrings of the current string.\n     *\n     * Number of iterations is capped at MAX_PARTIAL_LOOKUP_ITERATIONS.\n     *\n     * ex. this.getValueFormPartials(\"test\") will lookup for\n     * - \"test\",\n     * - \"tes\",\n     * - \"te\",\n     * - \"t\"\n     *\n     * And return immediately if it finds a result.\n     */\n    public getValueFromPartialsOfWord(word: string): ISuggestionValue | null {\n        const startingLength = Math.min(this.MAX_PARTIAL_LOOKUP_ITERATIONS, word.length);\n        for (let x = startingLength; x > 0; x--) {\n            const substring = word.substring(0, x);\n            const potentialValue = this.getValue(substring);\n            if (potentialValue != null) {\n                return potentialValue;\n            }\n        }\n\n        return null;\n    }\n}\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ILoadable, LoadStatus } from \"@library/@types/api/core\";\nimport { IUsersStoreState } from \"@library/features/users/userTypes\";\nimport SuggestionTrie from \"@library/features/users/suggestion/SuggestionTrie\";\nimport { IUserSuggestion } from \"@library/features/users/suggestion/IUserSuggestion\";\nimport UserSuggestionActions from \"@library/features/users/suggestion/UserSuggestionActions\";\nimport ReduxReducer from \"@library/redux/ReduxReducer\";\nimport moment from \"moment\";\n\nexport interface IUserSuggestionState {\n    lastSuccessfulUsername: string | null;\n    currentUsername: string | null;\n    trie: SuggestionTrie;\n    activeSuggestionID: string;\n    activeSuggestionIndex: number;\n}\n\nexport interface IInjectableSuggestionsProps {\n    lastSuccessfulUsername: string | null;\n    currentUsername: string | null;\n    activeSuggestionID: string;\n    activeSuggestionIndex: number;\n    suggestions: ILoadable<IUserSuggestion[]>;\n    isLoading: boolean;\n}\n\nexport default class UserSuggestionModel implements ReduxReducer<IUserSuggestionState> {\n    private static readonly defaultSuggestions: ILoadable<IUserSuggestion[]> = {\n        status: LoadStatus.PENDING,\n    };\n\n    public static mapStateToProps(state: IUsersStoreState): IInjectableSuggestionsProps {\n        const stateSlice = { ...UserSuggestionModel.stateSlice(state) };\n        const { trie, ...rest } = stateSlice;\n        const suggestions = stateSlice.lastSuccessfulUsername\n            ? trie.getValue(stateSlice.lastSuccessfulUsername) || UserSuggestionModel.defaultSuggestions\n            : UserSuggestionModel.defaultSuggestions;\n\n        const currentNode = stateSlice.currentUsername && trie.getValue(stateSlice.currentUsername);\n        const isLoading = !!currentNode && currentNode.status === LoadStatus.LOADING;\n\n        return {\n            ...rest,\n            suggestions,\n            isLoading,\n        };\n    }\n\n    public static selectSuggestionsTrie(state: IUsersStoreState): SuggestionTrie {\n        return UserSuggestionModel.stateSlice(state).trie;\n    }\n\n    private static stateSlice(state: IUsersStoreState): IUserSuggestionState {\n        if (!state.users || !state.users.suggestions) {\n            throw new Error(\n                `Could not find users.suggestions in state ${state}. Be sure to initialize the usersReducer()`,\n            );\n        }\n\n        return state.users.suggestions;\n    }\n\n    /**\n     * Sort a list of user suggestions.\n     *\n     * Priorities\n     * [Exact Match]\n     * [Users active in the last 90 days, sorted loosely with transliteration]\n     * [Users not active in the last 90 days, sorted loosely with transliteration]\n     *\n     * @param users The users to sort.\n     * @param searchName The current search text.\n     * @param currentMoment The current time.\n     */\n    public static sortSuggestions(users: IUserSuggestion[], searchName: string, currentMoment = moment()) {\n        const looseCollator = Intl.Collator(\"en\", {\n            usage: \"sort\",\n            sensitivity: \"variant\",\n            ignorePunctuation: true,\n            numeric: true,\n        });\n\n        // Days of recent activity to look at.\n        const ACTIVE_THRESHOLD = 90;\n\n        // Fan out into most recently active users & less active users.\n        let recentlyActive: IUserSuggestion[] = [];\n        let lessActive: IUserSuggestion[] = [];\n\n        const daysAgo90 = currentMoment.subtract(ACTIVE_THRESHOLD, \"days\");\n\n        for (const user of users) {\n            if (!user.dateLastActive) {\n                lessActive.push(user);\n                continue;\n            }\n\n            const lastActiveMoment = moment(user.dateLastActive);\n            if (lastActiveMoment.isSameOrAfter(daysAgo90)) {\n                recentlyActive.push(user);\n            } else {\n                lessActive.push(user);\n            }\n        }\n\n        const sortByName = (userA: IUserSuggestion, userB: IUserSuggestion) => {\n            const casedSearchName = searchName.toLocaleLowerCase();\n            const aCasedName = userA.name.toLocaleLowerCase();\n            const bCasedName = userB.name.toLocaleLowerCase();\n\n            // Return partial matches first.\n            if (aCasedName.startsWith(casedSearchName) && !bCasedName.startsWith(casedSearchName)) {\n                return -1;\n            }\n            if (bCasedName.startsWith(casedSearchName) && !aCasedName.startsWith(casedSearchName)) {\n                return 1;\n            }\n            return looseCollator.compare(userA.name.toLocaleLowerCase(), userB.name.toLocaleLowerCase());\n        };\n\n        const exactToTheTop = (userA: IUserSuggestion, userB: IUserSuggestion) => {\n            const casedSearchName = searchName.toLocaleLowerCase();\n            const aCasedName = userA.name.toLocaleLowerCase();\n\n            //  Return exact matches first.\n            if (aCasedName === casedSearchName) {\n                return -1;\n            }\n\n            // Don't affect the sorts otherwise.\n            return 0;\n        };\n\n        // Sort each set of users separately.\n        recentlyActive.sort(sortByName);\n        lessActive.sort(sortByName);\n\n        // Join them back together.\n        const allUsers = [...recentlyActive, ...lessActive];\n\n        // Sort exact matches to the top.\n        allUsers.sort(exactToTheTop);\n        return allUsers;\n    }\n\n    public readonly initialState: IUserSuggestionState = {\n        lastSuccessfulUsername: null,\n        currentUsername: null,\n        trie: new SuggestionTrie(),\n        activeSuggestionID: \"\",\n        activeSuggestionIndex: 0,\n    };\n\n    public reducer = (\n        state = this.initialState,\n        action: typeof UserSuggestionActions.ACTION_TYPES,\n    ): IUserSuggestionState => {\n        switch (action.type) {\n            case UserSuggestionActions.LOAD_USERS_REQUEST: {\n                const { username } = action.meta;\n                state.trie.insert(username, {\n                    status: LoadStatus.LOADING,\n                });\n\n                // We want to invalidate the previous results unless:\n                // - The new string is longer than the old one\n                // - The new string is a superset of the old one.\n                let shouldKeepPreviousResults = false;\n                const previousSuccessfulName = state.lastSuccessfulUsername;\n                if (previousSuccessfulName != null && username.length >= previousSuccessfulName.length) {\n                    const newNameSubstring = username.substring(0, previousSuccessfulName.length);\n                    if (newNameSubstring === previousSuccessfulName) {\n                        shouldKeepPreviousResults = true;\n                    }\n                }\n\n                return {\n                    ...state,\n                    currentUsername: username,\n                    lastSuccessfulUsername: shouldKeepPreviousResults ? state.lastSuccessfulUsername : null,\n                };\n            }\n            case UserSuggestionActions.LOAD_USERS_ERROR: {\n                const error = action.payload;\n                const { username } = action.meta;\n                state.trie.insert(username, {\n                    status: LoadStatus.ERROR,\n                    data: undefined,\n                    error,\n                });\n                return state;\n            }\n            case UserSuggestionActions.LOAD_USERS_RESPONSE: {\n                const users = action.payload.data;\n                const { username } = action.meta;\n                state.trie.insert(username, {\n                    status: LoadStatus.SUCCESS,\n                    data: UserSuggestionModel.sortSuggestions(users, username),\n                });\n\n                const firstUserID = users.length > 0 ? users[0].domID : \"\";\n                return {\n                    ...state,\n                    activeSuggestionID: firstUserID,\n                    activeSuggestionIndex: 0,\n                    lastSuccessfulUsername: username,\n                    currentUsername: username,\n                };\n            }\n            case UserSuggestionActions.SET_ACTIVE_SUGGESTION: {\n                const { suggestionID, suggestionIndex } = action.payload;\n                return {\n                    ...state,\n                    activeSuggestionID: suggestionID,\n                    activeSuggestionIndex: suggestionIndex,\n                };\n            }\n            default:\n                return state;\n        }\n    };\n}\n","/*\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { viewHeight } from \"csx\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { defaultTransition, absolutePosition } from \"@library/styles/styleHelpers\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\n\nexport const textEditorVariables = useThemeCache(() => {\n    const makeTextEditorVars = variableFactory(\"textEditor\");\n    const themeToggleIcon = makeTextEditorVars(\"themeToggleIcon\", {\n        top: 12,\n        right: 26,\n    });\n    const editorPadding = makeTextEditorVars(\"editorPadding\", {\n        padding: {\n            top: 15,\n            left: 25,\n        },\n    });\n    return {\n        themeToggleIcon,\n        editorPadding,\n    };\n});\n\nexport const textEditorClasses = useThemeCache(() => {\n    const vars = textEditorVariables();\n    const style = styleFactory(\"textEditor\");\n    const globalVars = globalVariables();\n\n    const root = (theme: string, minimal?: boolean, noPadding?: boolean) => {\n        return style({\n            transition: \"backgroundColor 0.25s ease\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"stretch\",\n            height: minimal ? \"300px\" : viewHeight(100),\n            backgroundColor:\n                theme === \"vs-dark\"\n                    ? ColorsUtils.colorOut(\"#1E1E1E\")\n                    : ColorsUtils.colorOut(globalVars.elementaryColors.white),\n            position: \"relative\",\n            paddingTop: styleUnit(vars.editorPadding.padding.top),\n            paddingLeft: minimal || noPadding ? 0 : styleUnit(vars.editorPadding.padding.left),\n            ...{\n                \".decorationsOverviewRuler\": {\n                    display: \"none\",\n                },\n                \".monaco-editor .overflow-guard\": {\n                    borderRadius: 6,\n                },\n                \".monaco-editor\": {\n                    borderRadius: 6,\n                },\n            },\n            ...(minimal\n                ? {\n                      ...Mixins.border(),\n                  }\n                : {}),\n        });\n    };\n    const themeToggleIcon = style(\"themeToggleIcon\", {\n        position: \"absolute\",\n        zIndex: 1,\n        top: vars.themeToggleIcon.top,\n        right: vars.themeToggleIcon.right,\n        border: \"none\",\n        padding: 0,\n        margin: 0,\n        background: \"none\",\n        ...defaultTransition(\"transform\"),\n    });\n\n    const colorChangeOverlay = (theme) =>\n        style(\"colorChangeOverlay\", {\n            ...absolutePosition.fullSizeOfParent(),\n            backgroundColor:\n                theme === \"vs-dark\"\n                    ? ColorsUtils.colorOut(\"#1E1E1E\")\n                    : ColorsUtils.colorOut(globalVars.elementaryColors.white),\n        });\n\n    return {\n        root,\n        themeToggleIcon,\n        colorChangeOverlay,\n    };\n});\n\nexport default textEditorClasses;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport {\n    ControlledEditor,\n    ControlledEditorOnChange,\n    DiffEditorDidMount,\n    EditorDidMount,\n    monaco,\n} from \"@monaco-editor/react\";\nimport { DarkThemeIcon, LightThemeIcon } from \"@library/icons/common\";\nimport textEditorClasses from \"./textEditorStyles\";\nimport { assetUrl, getMeta, siteUrl } from \"@library/utility/appUtils\";\nimport { editor as Monaco } from \"monaco-editor/esm/vs/editor/editor.api\";\n\nmonaco.config({\n    paths: {\n        vs: assetUrl(\"/dist/monaco-editor-21-2/min/vs\"),\n    },\n});\nexport interface ITextEditorProps {\n    language: string;\n    // A URI pointing to a JSON schema to validate the document with.\n    jsonSchemaUri?: string;\n    value?: string;\n    onChange?: ControlledEditorOnChange;\n    editorDidMount?: DiffEditorDidMount;\n    minimal?: boolean;\n    noPadding?: boolean;\n}\n\ntype VsTheme = \"vs-light\" | \"vs-dark\";\n\ninterface IContext {\n    theme: VsTheme;\n    setTheme: (theme: VsTheme) => void;\n}\n\nconst context = React.createContext<IContext>({\n    theme: \"vs-dark\",\n    setTheme: () => {},\n});\n\nexport function TextEditorContextProvider(props: { children: React.ReactNode }) {\n    const [theme, setTheme] = useState<VsTheme>(\"vs-light\");\n\n    return <context.Provider value={{ theme, setTheme }}>{props.children}</context.Provider>;\n}\n\nfunction useTextEditorContext() {\n    return useContext(context);\n}\n\nconst minimalOptions: Monaco.IEditorConstructionOptions = {\n    lineNumbers: \"on\",\n    minimap: { enabled: false },\n    scrollbar: {\n        vertical: \"hidden\",\n        verticalScrollbarSize: 0,\n    },\n    overviewRulerLanes: 0,\n    glyphMargin: false,\n    folding: false,\n    lineDecorationsWidth: 12,\n    lineNumbersMinChars: 3,\n};\n\nconst fullOptions: Monaco.IEditorConstructionOptions = {\n    lineNumbers: \"on\",\n    minimap: { enabled: false },\n    glyphMargin: false,\n    lineDecorationsWidth: 12,\n    overviewRulerLanes: 0,\n    lineNumbersMinChars: 3,\n};\n\n// Force expand suggestions open.\n// https://github.com/microsoft/monaco-editor/issues/2241#issuecomment-751985364\nconst overrideServices = {\n    storageService: {\n        get() {},\n        remove() {},\n        getBoolean(key) {\n            // Yes this makes all boolean settings \"true\".\n            // There isn't really a good way to inherit the original values while still doing the override.\n            // Better than making all booleans false?\n            // We definitely want to remove this as soon as that issue is resolved.\n            return true;\n        },\n        store() {},\n        onWillSaveState() {},\n        onDidChangeStorage() {},\n    },\n};\n\nexport default function TextEditor(props: ITextEditorProps) {\n    const { language, value, onChange } = props;\n    const { theme, setTheme } = useTextEditorContext();\n    const [useColorChangeOverlay, setColorChangeOverlay] = useState(false);\n    const [isEditorReady, setIsEditorReady] = useState(false);\n    const classes = textEditorClasses();\n\n    useJsonSchema(props.jsonSchemaUri ?? null);\n\n    const handleEditorDidMount: EditorDidMount = (_, editor) => {\n        setIsEditorReady(true);\n    };\n\n    function toggleTheme() {\n        setTheme(theme === \"vs-light\" ? \"vs-dark\" : \"vs-light\");\n        setColorChangeOverlay(true);\n\n        setTimeout(() => {\n            setColorChangeOverlay(false);\n        }, 300);\n    }\n\n    const loadingOverlay = useColorChangeOverlay && <div className={classes.colorChangeOverlay(theme)}></div>;\n\n    const themeModeButton = theme === \"vs-light\" ? <LightThemeIcon /> : <DarkThemeIcon />;\n    return (\n        <div className={classes.root(theme, props.minimal, props.noPadding)}>\n            <button type=\"button\" onClick={toggleTheme} className={classes.themeToggleIcon} disabled={!isEditorReady}>\n                {themeModeButton}\n            </button>\n            <ControlledEditor\n                theme={theme}\n                language={language}\n                editorDidMount={handleEditorDidMount}\n                options={props.minimal ? minimalOptions : fullOptions}\n                value={value}\n                onChange={onChange}\n                overrideServices={overrideServices}\n            />\n            {loadingOverlay}\n        </div>\n    );\n}\n\nfunction useJsonSchema(schemaUri: string | null) {\n    useEffect(() => {\n        if (!schemaUri) {\n            return;\n        }\n        const busterUrl = schemaUri + `?h=${getMeta(\"context.cacheBuster\")}`;\n        monaco.init().then((monaco) => {\n            monaco.languages.json.jsonDefaults.setModeConfiguration({\n                colors: true,\n                completionItems: true,\n                diagnostics: true,\n                documentFormattingEdits: true,\n                documentRangeFormattingEdits: true,\n                documentSymbols: true,\n                foldingRanges: true,\n                hovers: true,\n                selectionRanges: true,\n                tokens: true,\n            });\n            fetch(busterUrl)\n                .then((res) => res.json())\n                .then((json) => {\n                    monaco.languages.json.jsonDefaults.setDiagnosticsOptions({\n                        validate: true,\n                        enableSchemaRequest: true,\n                        schemas: [\n                            {\n                                uri: busterUrl,\n                                fileMatch: [\"*\"],\n                                schema: json,\n                            },\n                        ],\n                    });\n                });\n        });\n    }, [schemaUri]);\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\n\nexport const embedButtonClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const style = styleFactory(\"embedButton\");\n\n    const button = style(\"button\", {\n        width: 36,\n        height: 36,\n        display: \"flex\",\n        alignItems: \"center\",\n        border: 0,\n        background: \"none\",\n        cursor: \"pointer\",\n        borderRadius: globalVars.border.radius,\n        ...{\n            \"&:hover, &:focus\": {\n                color: ColorsUtils.colorOut(globalVars.mainColors.primary),\n            },\n            \"&.isActive\": {\n                color: ColorsUtils.colorOut(globalVars.mainColors.primary),\n                background: ColorsUtils.colorOut(globalVars.mainColors.primary.fade(0.1)),\n            },\n        },\n    });\n\n    return { button };\n});\n","/**\n * @author Dominic Lacaille <dominic.lacaille@vanillaforums.com>\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\n\nimport Button, { IButtonProps } from \"@library/forms/Button\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport classNames from \"classnames\";\nimport React, { PropsWithChildren, KeyboardEvent, useLayoutEffect, useState, useRef } from \"react\";\nimport { embedButtonClasses } from \"./embedButtonStyles\";\n\ninterface IProps extends IButtonProps {\n    isActive?: boolean;\n}\n\nexport function EmbedButton(props: PropsWithChildren<IProps>) {\n    const { isActive, children, buttonRef, onKeyDown, ...otherProps } = props;\n    const classes = embedButtonClasses();\n    const [isFirst, setIsFirst] = useState(false);\n\n    return (\n        <Button\n            buttonRef={(button) => {\n                if (typeof buttonRef === \"function\") buttonRef(button);\n                else if (buttonRef && typeof buttonRef === \"object\") (buttonRef as any).current = button;\n                if (!button) return;\n                setIsFirst(button.previousSibling === null);\n            }}\n            tabIndex={isFirst ? 0 : -1}\n            onKeyDown={(e: React.KeyboardEvent<HTMLElement>) => {\n                const key = e.key;\n                let target = e.target as HTMLElement & EventTarget;\n                const firstSibling = () => target.parentElement?.firstChild as HTMLElement | undefined;\n                const lastSibling = () => target.parentElement?.lastChild as HTMLElement | undefined;\n                switch (key) {\n                    case \"ArrowRight\": {\n                        e.preventDefault();\n                        let nextSibling = target.nextSibling as HTMLElement | undefined;\n                        if (!nextSibling && target.parentElement) {\n                            nextSibling = firstSibling();\n                        }\n                        (nextSibling as HTMLElement).focus();\n                        break;\n                    }\n                    case \"ArrowLeft\": {\n                        e.preventDefault();\n                        let previousSibling = target.previousSibling as HTMLElement | undefined;\n                        if (!previousSibling && target.parentElement) {\n                            previousSibling = lastSibling();\n                        }\n                        (previousSibling as HTMLElement).focus();\n                        break;\n                    }\n                    case \"Home\": {\n                        e.preventDefault();\n                        (firstSibling() as HTMLElement)?.focus();\n                        break;\n                    }\n                    case \"End\": {\n                        e.preventDefault();\n                        (lastSibling() as HTMLElement)?.focus();\n                        break;\n                    }\n                    default:\n                        break;\n                }\n                if (onKeyDown) onKeyDown(e);\n            }}\n            baseClass={ButtonTypes.CUSTOM}\n            className={classNames({ [classes.button]: true, isActive })}\n            {...otherProps}\n        >\n            {children}\n        </Button>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ILocale } from \"@vanilla/i18n\";\nimport { actionCreatorFactory } from \"typescript-fsa\";\nimport { IApiError } from \"@library/@types/api/core\";\n\nconst createAction = actionCreatorFactory(\"@@locales\");\nexport const getAllLocalesACs = createAction.async<{}, ILocale[], IApiError>(\"GET_ALL\");\n","/**\n * @copyright 2020 Adam (charrondev) Charron\n * @license Proprietary\n */\n\nexport const fontFallbacks = [\n    \"-apple-system\",\n    \"BlinkMacSystemFont\",\n    \"HelveticaNeue-Light\",\n    \"Segoe UI\",\n    \"Helvetica Neue\",\n    \"Helvetica\",\n    \"Raleway\",\n    \"Arial\",\n    \"sans-serif\",\n    \"Apple Color Emoji\",\n    \"Segoe UI Emoji\",\n    \"Segoe UI Symbol\",\n];\n\nexport const monoFallbacks = [\n    \"Consolas\",\n    \"Andale Mono WT\",\n    \"Andale Mono\",\n    \"Lucida Console\",\n    \"Lucida Sans Typewriter\",\n    \"DejaVu Sans Mono\",\n    \"Bitstream Vera Sans Mono\",\n    \"Liberation Mono\",\n    \"Nimbus Mono L\",\n    \"Monaco\",\n    \"Courier New\",\n    \"Courier\",\n    \"monospace\",\n];\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { importantUnit } from \"@library/styles/styleHelpers\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { frameVariables } from \"@library/layout/frame/frameStyles\";\nimport { inputBlockClasses } from \"@library/forms/InputBlockStyles\";\nimport { percent } from \"csx\";\nimport { Mixins } from \"@library/styles/Mixins\";\n\nexport const frameBodyClasses = useThemeCache(() => {\n    const vars = frameVariables();\n    const globalVars = globalVariables();\n    const style = styleFactory(\"frameBody\");\n    const classesInputBlock = inputBlockClasses();\n\n    const root = style({\n        position: \"relative\",\n        width: percent(100),\n        ...Mixins.padding({\n            horizontal: vars.spacing.padding,\n        }),\n        ...{\n            \"&.isSelfPadded\": {\n                ...Mixins.padding({\n                    left: 0,\n                    right: 0,\n                }),\n            },\n            \"&.hasVerticalPadding\": {\n                ...Mixins.padding({\n                    vertical: vars.spacing.padding,\n                }),\n            },\n            [`& > .${classesInputBlock.root}`]: {\n                ...{\n                    \"&.isFirst\": {\n                        marginTop: styleUnit(globalVars.gutter.half),\n                    },\n                    \"&.isLast\": {\n                        marginBottom: styleUnit(globalVars.gutter.half),\n                    },\n                },\n            },\n        },\n    });\n\n    const framePaddings = style(\"framePaddings\", {\n        ...Mixins.padding({\n            left: vars.spacing.padding,\n            right: vars.spacing.padding,\n        }),\n    });\n\n    const noContentMessage = style(\"noContentMessage\", {\n        ...Mixins.padding({\n            top: vars.header.spacing * 2,\n            right: vars.header.spacing,\n            bottom: vars.header.spacing * 2,\n            left: vars.header.spacing,\n        }),\n    });\n    const contents = style(\"contents\", {\n        ...Mixins.padding({\n            top: vars.spacing.padding,\n            right: 0,\n            bottom: vars.spacing.padding,\n            left: 0,\n        }),\n        fontSize: importantUnit(globalVars.fonts.size.medium),\n        minHeight: styleUnit(50),\n        color: ColorsUtils.colorOut(globalVars.mainColors.fg),\n    });\n    return {\n        root,\n        framePaddings,\n        noContentMessage,\n        contents,\n    };\n});\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { titleBarVariables } from \"@library/headers/TitleBar.variables\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { shadowHelper } from \"@library/styles/shadowHelpers\";\nimport { sticky } from \"@library/styles/styleHelpers\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { calc, percent, translate, translateX, viewHeight } from \"csx\";\nimport { CSSObject } from \"@emotion/css\";\nimport { cssRule } from \"@library/styles/styleShim\";\nimport { dropDownClasses } from \"@library/flyouts/dropDownStyles\";\n\nexport const modalVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const makeThemeVars = variableFactory(\"modal\");\n\n    const { elementaryColors } = globalVars;\n\n    const colors = makeThemeVars(\"colors\", {\n        fg: globalVars.mainColors.fg,\n        bg: globalVars.mainColors.bg,\n        overlayBg:\n            globalVars.mainColors.fg.lightness() > 0.5\n                ? elementaryColors.white.fade(0.4)\n                : elementaryColors.black.fade(0.4),\n    });\n\n    const sizing = makeThemeVars(\"sizing\", {\n        xl: 1022, // from legacy back-end modals\n        large: 720,\n        medium: 516,\n        small: 375,\n        height: percent(96), // VH units cause issues on iOS.\n        zIndex: 1050, // Sorry it's so high. Our dashboard uses some bootstrap which specifies 1040 for the old modals.\n        // When nesting our modals on top we need to be higher.\n    });\n\n    const spacing = makeThemeVars(\"spacing\", {\n        horizontalMargin: 40,\n    });\n\n    const border = makeThemeVars(\"border\", {\n        radius: globalVars.borderType.modals.radius,\n    });\n\n    const dropDown = makeThemeVars(\"dropDown\", {\n        padding: globalVars.spacer.size,\n    });\n\n    const header = makeThemeVars(\"header\", {\n        minHeight: 60,\n        verticalPadding: 12,\n        boxShadow: `0 1px 2px 0 ${ColorsUtils.colorOut(globalVars.overlay.bg)}`,\n    });\n\n    const footer = makeThemeVars(\"footer\", {\n        minHeight: header.minHeight,\n        verticalPadding: header.verticalPadding,\n        boxShadow: `0 -1px 2px 0 ${ColorsUtils.colorOut(globalVars.overlay.bg)}`,\n    });\n\n    const fullScreenTitleSpacing = makeThemeVars(\"fullScreenModalTitle\", {\n        gap: 52,\n    });\n\n    return {\n        colors,\n        sizing,\n        spacing,\n        border,\n        dropDown,\n        header,\n        footer,\n        fullScreenTitleSpacing,\n    };\n});\n\nexport const modalClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const vars = modalVariables();\n    const style = styleFactory(\"modal\");\n    const mediaQueries = layoutVariables().mediaQueries();\n    const shadows = shadowHelper();\n    const titleBarVars = titleBarVariables();\n\n    cssRule(\"#modals\", {\n        position: \"relative\",\n        zIndex: 1050, // Sorry it's so high. Our dashboard uses some bootstrap which specifies 1040 for the old modals.\n        // When nesting our modals on top we need to be higher.\n    });\n\n    const overlayMixin: CSSObject = {\n        position: \"fixed\",\n        // Viewport units are useful here because\n        // we're actually fine this being taller than the initially visible viewport.\n        height: viewHeight(100),\n        width: percent(100),\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        zIndex: 10,\n    };\n\n    const overlayScrim = style(\"overlayScrim\", {\n        ...overlayMixin,\n        background: ColorsUtils.colorOut(vars.colors.overlayBg),\n    });\n\n    const overlayContent = style(\"overlayContent\", {\n        ...overlayMixin,\n    });\n\n    const sidePanelMixin: CSSObject = {\n        left: styleUnit(vars.dropDown.padding),\n        width: calc(`100% - ${styleUnit(vars.dropDown.padding)}`),\n        display: \"flex\",\n        flexDirection: \"column\",\n        top: 0,\n        bottom: 0,\n        transform: \"none\",\n        borderTopRightRadius: 0,\n        borderBottomRightRadius: 0,\n        maxWidth: 400,\n        ...{\n            [`.${dropDownClasses().action}`]: {\n                fontWeight: globalVars.fonts.weights.normal,\n            },\n        },\n    };\n\n    const root = style({\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: percent(100),\n        maxWidth: percent(100),\n        maxHeight: styleUnit(vars.sizing.height),\n        zIndex: 1,\n        backgroundColor: ColorsUtils.colorOut(vars.colors.bg),\n        color: ColorsUtils.colorOut(vars.colors.fg),\n        position: \"fixed\",\n        top: percent(50),\n        left: percent(50),\n        bottom: \"initial\",\n        overflow: \"hidden\",\n        borderRadius: styleUnit(vars.border.radius),\n        // NOTE: This transform can cause issues if anything inside of us needs fixed positioning.\n        // See http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/\n        // See also https://www.w3.org/TR/2009/WD-css3-2d-transforms-20091201/#introduction\n        // This is why fullscreen unsets the transforms.\n        transform: translate(`-50%`, `-50%`),\n        ...Mixins.margin({ all: \"auto\" }),\n        ...{\n            \"&&.isFullScreen\": {\n                width: percent(100),\n                height: percent(100),\n                maxHeight: percent(100),\n                maxWidth: percent(100),\n                borderRadius: 0,\n                border: \"none\",\n                top: 0,\n                bottom: 0,\n                transform: \"none\",\n                left: 0,\n                right: 0,\n            },\n            \"&.isXL\": {\n                width: styleUnit(vars.sizing.xl),\n                height: percent(100),\n                maxWidth: calc(`100% - ${styleUnit(vars.spacing.horizontalMargin)}`),\n            },\n            \"&.isLarge\": {\n                width: styleUnit(vars.sizing.large),\n                maxWidth: calc(`100% - ${styleUnit(vars.spacing.horizontalMargin)}`),\n            },\n            \"&.isMedium\": {\n                width: styleUnit(vars.sizing.medium),\n                maxWidth: calc(`100% - ${styleUnit(vars.spacing.horizontalMargin)}`),\n            },\n            \"&.isSmall\": {\n                width: styleUnit(vars.sizing.small),\n                maxWidth: calc(`100% - ${styleUnit(vars.spacing.horizontalMargin)}`),\n            },\n            \"&&&.isSidePanelRight\": {\n                ...sidePanelMixin,\n                right: 0,\n                left: \"initial\",\n            },\n            \"&&&.isSidePanelRightLarge\": {\n                ...sidePanelMixin,\n                right: 0,\n                left: \"initial\",\n                width: styleUnit(vars.sizing.xl),\n                maxWidth: calc(`100% - ${styleUnit(vars.spacing.horizontalMargin)}`),\n                height: percent(100),\n                maxHeight: percent(100),\n                top: 0,\n                bottom: 0,\n            },\n            \"&&&.isSidePanelLeft\": {\n                ...sidePanelMixin,\n                left: 0,\n                right: \"initial\",\n            },\n            \"&&.isDropDown\": {\n                top: 0,\n                left: 0,\n                right: 0,\n                width: percent(100),\n                marginBottom: \"auto\",\n                transform: \"none\",\n                maxHeight: calc(`100% - ${styleUnit(globalVars.gutter.size)}`),\n                borderTopLeftRadius: 0,\n                borderTopRightRadius: 0,\n                border: \"none\",\n            },\n            \"&.isShadowed\": {\n                ...shadows.dropDown(),\n                ...Mixins.border(globalVars.borderType.modals),\n            },\n            \".form-group\": {\n                marginLeft: styleUnit(-16),\n                marginRight: styleUnit(-16),\n            },\n        },\n    });\n\n    const scroll = style(\"scroll\", {\n        // ...absolutePosition.fullSizeOfParent(),\n        width: percent(100),\n        height: percent(100),\n        maxHeight: percent(100),\n        overflow: \"auto\",\n    });\n\n    const content = style(\"content\", shadows.modal());\n\n    const pageHeader = style(\n        \"pageHeader\",\n        sticky(),\n        {\n            ...shadows.embed(),\n            top: 0,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            height: styleUnit(titleBarVars.sizing.height),\n            minHeight: styleUnit(titleBarVars.sizing.height),\n            zIndex: 2,\n            background: ColorsUtils.colorOut(vars.colors.bg),\n            ...{\n                \"&.noShadow\": {\n                    boxShadow: \"none\",\n                },\n            },\n        },\n        mediaQueries.oneColumnDown({\n            height: styleUnit(titleBarVars.sizing.mobile.height),\n            minHeight: styleUnit(titleBarVars.sizing.mobile.height),\n        }),\n    );\n\n    const frameWrapper = style(\"frameWrapper\", {\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: percent(100),\n        maxHeight: percent(100),\n        minHeight: percent(0),\n        width: percent(100),\n        ...{\n            \".frame\": {\n                maxHeight: \"100%\",\n                flex: 1,\n            },\n        },\n    });\n\n    return {\n        root,\n        scroll,\n        content,\n        pageHeader,\n        overlayScrim,\n        overlayContent,\n        frameWrapper,\n    };\n});\n","/**\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { singleBorder, userSelect } from \"@library/styles/styleHelpers\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { shadowHelper } from \"@library/styles/shadowHelpers\";\nimport { translateX, percent, px, important } from \"csx\";\nimport { modalVariables } from \"@library/modal/modalStyles\";\n\nexport const tooltipVariables = useThemeCache(() => {\n    const makeThemeVars = variableFactory(\"toolTips\");\n    const globalVars = globalVariables();\n\n    // Main colors\n    const sizes = makeThemeVars(\"sizes\", {\n        min: 150,\n        max: 250,\n    });\n\n    const nub = makeThemeVars(\"nub\", {\n        width: 12,\n    });\n\n    return {\n        sizes,\n        nub,\n    };\n});\n\nexport const toolTipClasses = useThemeCache(() => {\n    const style = styleFactory(\"toolTip\");\n    const globalVars = globalVariables();\n    const vars = tooltipVariables();\n    const shadow = shadowHelper();\n\n    const noPointerContent = style(\"content\", {\n        position: \"relative\",\n        display: \"inline-flex\",\n        ...{\n            \"& *\": {\n                pointerEvents: \"none\",\n            },\n        },\n    });\n\n    const noPointerTrigger = style(\"noPointerTrigger\", {\n        pointerEvents: important(\"initial\"),\n        position: \"absolute\",\n        top: percent(50),\n        left: percent(50),\n        minWidth: px(45),\n        minHeight: px(45),\n        transform: \"translate(-50%, -50%)\",\n        zIndex: 1,\n    });\n\n    const box = style(\"box\", {\n        position: \"absolute\",\n        fontSize: styleUnit(globalVars.fonts.size.medium),\n        minWidth: styleUnit(vars.sizes.min),\n        maxWidth: styleUnit(vars.sizes.max),\n        color: ColorsUtils.colorOut(globalVars.mainColors.fg),\n        backgroundColor: ColorsUtils.colorOut(globalVars.mainColors.bg),\n        lineHeight: globalVars.lineHeights.base,\n        ...Mixins.border(),\n        ...Mixins.padding({\n            all: globalVars.fonts.size.medium,\n        }),\n        ...shadow.dropDown(),\n        zIndex: modalVariables().sizing.zIndex + 1,\n    });\n\n    const nubPosition = style(\"nubPosition\", {\n        position: \"absolute\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        overflow: \"hidden\",\n        width: styleUnit(vars.nub.width * 2),\n        height: styleUnit(vars.nub.width * 2),\n        transform: translateX(\"-50%\"),\n        marginLeft: styleUnit(vars.nub.width),\n        pointerEvents: \"none\",\n        zIndex: modalVariables().sizing.zIndex + 2,\n        ...userSelect(),\n    });\n\n    const nub = style(\"nub\", {\n        position: \"relative\",\n        display: \"block\",\n        width: styleUnit(vars.nub.width),\n        height: styleUnit(vars.nub.width),\n        borderTop: singleBorder({\n            width: globalVars.border.width,\n        }),\n        borderRight: singleBorder({\n            width: globalVars.border.width,\n        }),\n        boxShadow: globalVars.overlay.dropShadow,\n        background: ColorsUtils.colorOut(globalVars.mainColors.bg),\n        zIndex: 1,\n        ...{\n            [`&.isUp`]: {\n                transform: `rotate(-45deg)`,\n            },\n            [`&.isDown`]: {\n                transform: `rotate(135deg)`,\n            },\n        },\n    });\n\n    return {\n        box,\n        nub,\n        nubPosition,\n        noPointerContent,\n        noPointerTrigger,\n    };\n});\n","/**\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport classNames from \"classnames\";\nimport React, { cloneElement, ReactElement, useState, useEffect, useRef } from \"react\";\nimport { useTooltip, TooltipPopup } from \"@reach/tooltip\";\nimport Portal from \"@reach/portal\";\nimport { toolTipClasses, tooltipVariables } from \"@library/toolTip/toolTipStyles\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport throttle from \"lodash/throttle\";\n\nconst nubPosition = (triggerRect, hasOverflow) => {\n    const toolTipVars = tooltipVariables();\n    const globalVars = globalVariables();\n\n    const overTriggerPosition =\n        triggerRect.top - toolTipVars.nub.width * 2 + globalVars.border.width * 2 + window.scrollY;\n    const underTriggerPosition = triggerRect.bottom - globalVars.border.width * 2 + window.scrollY;\n\n    return {\n        left: triggerRect.left + triggerRect.width / 2 - toolTipVars.nub.width,\n        top: hasOverflow ? overTriggerPosition : underTriggerPosition,\n    };\n};\n\nfunction TriangleTooltip(props: { children: React.ReactNode; label: React.ReactNode; ariaLabel?: React.ReactNode }) {\n    const globalVars = globalVariables();\n    const { children, label, ariaLabel } = props;\n\n    // get the props from useTooltip\n    const [trigger, tooltip] = useTooltip();\n\n    // destructure off what we need to position the triangle\n    const { isVisible, triggerRect } = tooltip;\n\n    const [hasOverflow, setHasOverflow] = useState(false);\n    const classes = toolTipClasses();\n    const toolTipVars = tooltipVariables();\n    const borderOffset = globalVars.border.width * 2;\n\n    const toolBoxPosition = (triggerRect, tooltipRect) => {\n        const triangleHeight = toolTipVars.nub.width / 2;\n        const triggerCenter = triggerRect.left + triggerRect.width / 2;\n        const left = triggerCenter - tooltipRect.width / 2;\n        const maxLeft = window.innerWidth - tooltipRect.width - 2;\n        const hasOverflow = triggerRect.bottom + tooltipRect.height + triangleHeight > window.innerHeight;\n\n        setHasOverflow(hasOverflow);\n\n        const overTriggerPosition =\n            triggerRect.top - tooltipRect.height + borderOffset - toolTipVars.nub.width + window.scrollY;\n        const underTriggerPosition = triggerRect.bottom - borderOffset + toolTipVars.nub.width + window.scrollY;\n\n        return {\n            left: Math.min(Math.max(2, left), maxLeft) + window.scrollX,\n            top: hasOverflow ? overTriggerPosition : underTriggerPosition,\n        };\n    };\n    const isScrolling = useIsScrolling();\n\n    return (\n        <>\n            {cloneElement(children as any, trigger)}\n            {isVisible && !isScrolling && triggerRect && (\n                // The Triangle. We position it relative to the trigger, not the popup\n                // so that collisions don't have a triangle pointing off to nowhere.\n                // Using a Portal may seem a little extreme, but we can keep the\n                // positioning logic simpler here instead of needing to consider\n                // the popup's position relative to the trigger and collisions\n                <>\n                    <Portal>\n                        <div className={classes.nubPosition} style={nubPosition(triggerRect, hasOverflow) as any}>\n                            <div className={classNames(classes.nub, hasOverflow ? \"isDown\" : \"isUp\")} />\n                        </div>\n                    </Portal>\n                    <TooltipPopup\n                        {...tooltip}\n                        label={label}\n                        aria-label={ariaLabel ? ariaLabel : label}\n                        position={toolBoxPosition}\n                        className={classes.box}\n                    />\n                </>\n            )}\n        </>\n    );\n}\n\nfunction useIsScrolling() {\n    let scrollTimeout = useRef<NodeJS.Timeout | null>(null);\n    const [isScrolling, setIsScrolling] = useState(false);\n\n    useEffect(() => {\n        const listener = throttle(() => {\n            if (scrollTimeout.current) {\n                clearTimeout(scrollTimeout.current);\n            }\n\n            setIsScrolling(true);\n            scrollTimeout.current = setTimeout(() => {\n                setIsScrolling(false);\n            }, 200);\n        }, 100);\n\n        window.addEventListener(\"scroll\", listener);\n        return () => {\n            window.removeEventListener(\"scroll\", listener);\n        };\n    }, []);\n\n    return isScrolling;\n}\n\n/**\n * Tooltip component.\n *\n * Custom children (not base dom nodes), must use React.forwardRef().\n */\nexport function ToolTip(props: { children: React.ReactNode; label: React.ReactNode; ariaLabel?: React.ReactNode }) {\n    const { children, label, ariaLabel } = props;\n\n    return (\n        <TriangleTooltip label={label} ariaLabel={ariaLabel}>\n            {children}\n        </TriangleTooltip>\n    );\n}\n\ninterface IIconProps extends React.HTMLAttributes<HTMLSpanElement> {}\n\n/**\n * Class for reprenting to wrap an icon inside of a tooltip.\n */\nexport const ToolTipIcon = React.forwardRef(function ToolTipIcon(\n    props: IIconProps,\n    ref: React.RefObject<HTMLSpanElement>,\n) {\n    const classes = toolTipClasses();\n    return (\n        <span {...props} ref={ref} tabIndex={0} className={classes.noPointerContent}>\n            <span className={classes.noPointerTrigger}></span>\n            {props.children}\n        </span>\n    );\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\n\nexport const embedDropdownClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const style = styleFactory(\"embedDropdown\");\n    const container = style(\"container\", {\n        listStyle: \"none !important\", // Overrides default ul/li style\n        margin: \"0 !important\", // Overrides default ul/li style\n        position: \"absolute\",\n        top: \"100%\",\n        left: -1,\n        right: -1,\n        background: \"white\",\n        ...Mixins.border(),\n        borderTopLeftRadius: 0,\n        borderTopRightRadius: 0,\n    });\n\n    const option = style(\"option\", {\n        display: \"flex\",\n        ...Mixins.padding({ horizontal: 8, vertical: 4 }),\n        alignItems: \"center\",\n        margin: \"4px !important\", // Overrides default ul/li style\n        height: 32,\n        borderRadius: globalVars.border.radius,\n        ...{\n            \"&:hover\": {\n                color: ColorsUtils.colorOut(globalVars.mainColors.primary),\n            },\n            \"&:before\": {\n                display: \"none\",\n            },\n        },\n    });\n\n    const optionLabel = style(\"optionLabel\", {\n        flex: 1,\n        textAlign: \"left\",\n        marginLeft: 12,\n    });\n\n    const check = style(\"check\", {\n        color: ColorsUtils.colorOut(globalVars.mainColors.primary),\n        marginBottom: -1,\n    });\n\n    return { container, option, optionLabel, check };\n});\n","/**\n * @author Dominic Lacaille <dominic.lacaille@vanillaforums.com>\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\n\nimport React, { createContext, PropsWithChildren, useContext, useEffect, useRef } from \"react\";\nimport { EmbedMenuContext } from \"@rich-editor/editor/pieces/EmbedMenu\";\nimport { embedDropdownClasses } from \"@library/embeddedContent/components/embedDropdownStyles\";\nimport { CheckIcon } from \"@library/icons/common\";\nimport { EmbedButton } from \"@library/embeddedContent/components/EmbedButton\";\nimport { useUniqueID } from \"@library/utility/idUtils\";\n\ninterface IEmbedDropdownContext {\n    selected?: string;\n}\n\nconst EmbedDropdownContext = createContext<IEmbedDropdownContext>({ selected: undefined });\n\ninterface IEmbedDropdownProps {\n    Icon: React.FunctionComponent;\n    name: string;\n    value: string;\n    label: string;\n}\n\nexport function EmbedDropdown(props: PropsWithChildren<IEmbedDropdownProps>) {\n    const { Icon, name, children, value, label } = props;\n    const { selected, setSelected } = useContext(EmbedMenuContext);\n\n    const isSelected = name === selected;\n    const buttonRef = useRef<HTMLButtonElement>(null);\n\n    const id = useUniqueID(\"embedDropdown\");\n    const buttonId = id + \"-button\";\n    const contentId = id + \"-content\";\n\n    return (\n        <>\n            <EmbedButton\n                id={buttonId}\n                aria-aria-haspopup=\"true\"\n                aria-controls={contentId}\n                aria-expanded={isSelected ? \"true\" : \"false\"}\n                aria-label={label}\n                buttonRef={buttonRef}\n                isActive={isSelected}\n                onKeyDown={(e) => {\n                    const key = e.key;\n                    switch (key) {\n                        case \"Enter\":\n                        case \"\":\n                        case \"ArrowDown\": {\n                            e.preventDefault();\n                            setSelected(name);\n                            break;\n                        }\n                        default:\n                            break;\n                    }\n                }}\n                onClick={() => {\n                    if (isSelected) setSelected(undefined);\n                    else setSelected(name);\n                }}\n            >\n                <Icon />\n            </EmbedButton>\n            {isSelected && (\n                <EmbedDropdownMenuContainer\n                    buttonRef={buttonRef}\n                    setSelected={setSelected}\n                    label={label}\n                    id={contentId}\n                >\n                    <EmbedDropdownContext.Provider value={{ selected: value }}>\n                        {children}\n                    </EmbedDropdownContext.Provider>\n                </EmbedDropdownMenuContainer>\n            )}\n        </>\n    );\n}\ninterface IEmbedDropdownMenuContainerProps {\n    setSelected: (name: string | undefined) => void;\n    id: string;\n    label: string;\n    buttonRef: React.RefObject<HTMLButtonElement>;\n}\n\nfunction EmbedDropdownMenuContainer(props: PropsWithChildren<IEmbedDropdownMenuContainerProps>) {\n    const { children, setSelected, label, buttonRef, id } = props;\n    const classes = embedDropdownClasses();\n    const menuRef = useRef<HTMLUListElement | null>(null);\n\n    useEffect(() => {\n        if (menuRef && menuRef.current) {\n            (menuRef.current.firstChild as HTMLElement).focus();\n        }\n    }, [menuRef]);\n\n    return (\n        <ul\n            role=\"menu\"\n            aria-label={label}\n            id={id}\n            tabIndex={-1}\n            onKeyDown={(e: React.KeyboardEvent<HTMLElement>) => {\n                const key = e.key;\n                let target = e.target as HTMLElement & EventTarget;\n                const firstSibling = () => target.parentElement?.firstChild as HTMLElement | undefined;\n                const lastSibling = () => target.parentElement?.lastChild as HTMLElement | undefined;\n                switch (key) {\n                    case \"ArrowDown\": {\n                        e.preventDefault();\n                        let nextSibling = target.nextSibling as HTMLElement | undefined;\n                        if (!nextSibling && target.parentElement) {\n                            nextSibling = firstSibling();\n                        }\n                        (nextSibling as HTMLElement).focus();\n                        break;\n                    }\n                    case \"ArrowUp\": {\n                        e.preventDefault();\n                        let previousSibling = target.previousSibling as HTMLElement | undefined;\n                        if (!previousSibling && target.parentElement) {\n                            previousSibling = lastSibling();\n                        }\n                        (previousSibling as HTMLElement).focus();\n                        break;\n                    }\n                    case \"Home\": {\n                        e.preventDefault();\n                        (firstSibling() as HTMLElement)?.focus();\n                        break;\n                    }\n                    case \"End\": {\n                        e.preventDefault();\n                        (lastSibling() as HTMLElement)?.focus();\n                        break;\n                    }\n                    case \"Escape\":\n                        e.preventDefault();\n                        setSelected(undefined);\n                        buttonRef.current?.focus();\n                        break;\n                    default:\n                        break;\n                }\n            }}\n            ref={menuRef}\n            className={classes.container}\n        >\n            {children}\n        </ul>\n    );\n}\n\ninterface IEmbedDropdownOptionProps {\n    Icon: React.FunctionComponent;\n    value: string;\n    label: string;\n    onClick(e): void;\n}\n\nEmbedDropdown.Option = function EmbedDropdownOption(props: IEmbedDropdownOptionProps) {\n    const { Icon, value, label, onClick } = props;\n    const { selected } = useContext(EmbedDropdownContext);\n    const isSelected = selected === value;\n    const classes = embedDropdownClasses();\n\n    return (\n        <li\n            role=\"menuitemradio\"\n            aria-label={label}\n            aria-checked={isSelected ? \"true\" : \"false\"}\n            tabIndex={-1}\n            className={classes.option}\n            onClick={onClick}\n            onKeyDown={(e: React.KeyboardEvent<HTMLElement>) => {\n                const key = e.key;\n                switch (key) {\n                    case \"Enter\":\n                    case \" \":\n                        e.preventDefault();\n                        onClick((e) => undefined);\n                        break;\n                    default:\n                        break;\n                }\n            }}\n        >\n            <Icon />\n            <div className={classes.optionLabel}>{label}</div>\n            {isSelected && (\n                <div className={classes.check}>\n                    <CheckIcon />\n                </div>\n            )}\n        </li>\n    );\n};\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ColorHelper, important, percent, px } from \"csx\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { MaxWidthProperty, OverflowXProperty, TextOverflowProperty, WhiteSpaceProperty } from \"csstype\";\nimport { CSSObject } from \"@emotion/css\";\nimport { TLength } from \"@library/styles/styleShim\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { paddingOffsetBasedOnBorderRadius } from \"@library/forms/paddingOffsetFromBorderRadius\";\nimport { EMPTY_SPACING } from \"@library/styles/cssUtilsTypes\";\nimport { Mixins } from \"@library/styles/Mixins\";\n\nexport function inputLineHeight(height: number, paddingTop: number, fullBorderWidth: number) {\n    return styleUnit(height - (2 * paddingTop + fullBorderWidth));\n}\n\nexport const textInputSizingFromSpacing = (fontSize: number, paddingTop: number, fullBorderWidth: number) => {\n    return {\n        fontSize: styleUnit(fontSize),\n        width: percent(100),\n        lineHeight: 1.5,\n        ...Mixins.padding({\n            ...EMPTY_SPACING,\n            top: styleUnit(paddingTop),\n            bottom: styleUnit(paddingTop),\n            left: styleUnit(paddingTop * 2),\n            right: styleUnit(paddingTop * 2),\n        }),\n    };\n};\n\nexport const getVerticalPaddingForTextInput = (height: number, fontSize: number, fullBorderWidth: number) => {\n    return (height - fullBorderWidth - fontSize * 1.5) / 2;\n};\n\nexport const getHorizontalPaddingForTextInput = (height: number, fontSize: number, fullBorderWidth: number) => {\n    return getVerticalPaddingForTextInput(height, fontSize, fullBorderWidth) * 2;\n};\n\nexport const textInputSizingFromFixedHeight = (\n    height: number,\n    fontSize: number,\n    fullBorderWidth: number,\n    borderRadius?: number | string,\n): CSSObject => {\n    const paddingVertical = getVerticalPaddingForTextInput(height, fontSize, fullBorderWidth);\n    const paddingHorizontal = getHorizontalPaddingForTextInput(height, fontSize, fullBorderWidth);\n\n    const formElementVars = formElementsVariables();\n\n    const paddingOffsets = paddingOffsetBasedOnBorderRadius({\n        radius: borderRadius ?? globalVariables().borderType.formElements.default.radius,\n        extraPadding: formElementVars.spacing.fullBorderRadius.extraHorizontalPadding,\n        height: height,\n    });\n\n    return {\n        fontSize: styleUnit(fontSize),\n        width: percent(100),\n        lineHeight: 1.5,\n        minHeight: styleUnit(height),\n        ...Mixins.padding({\n            vertical: styleUnit(px(paddingVertical)),\n            left: px(paddingHorizontal + paddingOffsets.left ?? 0),\n            right: px(paddingHorizontal + paddingOffsets.right ?? 0),\n        }),\n    };\n};\n\n// must be nested\nexport const placeholderStyles = (styles: CSSObject): CSSObject => {\n    return {\n        \"&::-webkit-input-placeholder\": {\n            ...styles,\n        },\n        \"&::-moz-placeholder\": {\n            ...styles,\n        },\n        \"&::-ms-input-placeholder\": {\n            ...styles,\n        },\n    };\n};\n\nexport const autoFillReset = (fg?: ColorHelper, bg?: ColorHelper) => {\n    return {\n        \"&&&:-webkit-autofill, &&&&:-webkit-autofill:hover, &&&&:-webkit-autofill:focus\": {\n            [\"-webkit-text-fill-color\"]: important(ColorsUtils.colorOut(fg) as string),\n            [\"-webkit-box-shadow\"]: important(`0 0 0px 1000px ${ColorsUtils.colorOut(bg)} inset`),\n            [\"transition\"]: important(`background-color 5000s ease-in-out 0s`),\n        },\n        \"&&&:-webkit-autofill\": {\n            fontSize: important(\"inherit\"),\n        },\n    };\n};\n\nexport const singleLineEllipsis = () => {\n    return {\n        whiteSpace: \"nowrap\" as WhiteSpaceProperty,\n        textOverflow: \"ellipsis\" as TextOverflowProperty,\n        overflow: \"hidden\" as OverflowXProperty,\n        maxWidth: percent(100) as MaxWidthProperty<TLength>,\n    };\n};\n\nexport const longWordEllipsis = (): CSSObject => {\n    return {\n        textOverflow: \"ellipsis\",\n        overflowX: \"hidden\",\n        maxWidth: percent(100),\n    };\n};\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { BackgroundImageProperty } from \"csstype\";\nimport { important, percent, px, quote, url, viewHeight, viewWidth } from \"csx\";\nimport { CSSObject } from \"@emotion/css\";\nimport { assetUrl, themeAsset } from \"@library/utility/appUtils\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\n\nexport const getBackgroundImage = (image?: BackgroundImageProperty) => {\n    if (!image) {\n        return undefined;\n    }\n    image = image.toString();\n    if (image.charAt(0) === \"~\") {\n        // Relative path to theme folder\n        image = themeAsset(image.substr(1, image.length - 1));\n        return `url(${image})`;\n    }\n\n    if (image.startsWith(\"data:image/\")) {\n        return `url(${image})`;\n    }\n\n    if (image.startsWith(\"linear-gradient(\")) {\n        return image;\n    }\n\n    // Fallback to a general asset URL.\n    return `url(${assetUrl(image)})`;\n};\n\nexport const objectFitWithFallback = (): CSSObject => {\n    return {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        margin: \"auto\",\n        height: \"auto\",\n        width: percent(100),\n        ...{\n            \"@supports (object-fit: cover)\": {\n                position: important(\"relative\"),\n                objectFit: \"cover\",\n                objectPosition: \"center\",\n                height: important(percent(100).toString()),\n            },\n        },\n    };\n};\nexport function fakeBackgroundFixed() {\n    return {\n        content: quote(\"\"),\n        display: \"block\",\n        position: \"fixed\",\n        top: px(0),\n        left: px(0),\n        width: viewWidth(100),\n        height: viewHeight(100),\n    };\n}\n\nexport function centeredBackgroundProps() {\n    return {\n        backgroundPosition: `50% 50%`,\n        backgroundRepeat: \"no-repeat\",\n    };\n}\n\nexport function centeredBackground() {\n    const style = styleFactory(\"centeredBackground\");\n    return style(centeredBackgroundProps());\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { reducerWithInitialState } from \"typescript-fsa-reducers\";\nimport ThemeActions from \"@library/theming/ThemeActions\";\nimport { ILoadable, LoadStatus } from \"@library/@types/api/core\";\nimport produce from \"immer\";\nimport { useSelector } from \"react-redux\";\nimport { ICoreStoreState } from \"@library/redux/reducerRegistry\";\nimport { IUserFragment } from \"@library/@types/api/users\";\nimport { RecordID } from \"@vanilla/utils\";\n\nexport enum ThemeType {\n    DB = \"themeDB\",\n    FS = \"themeFile\",\n}\n\nexport interface ITheme {\n    assets: IThemeAssets;\n    features: Record<string, boolean>;\n    supportedSections?: string[];\n    preview: IThemePreview;\n    themeID: RecordID;\n    name: string;\n    type: ThemeType;\n    parentTheme?: string;\n    current: boolean;\n    version: string;\n    insertUser?: IUserFragment;\n    dateInserted?: string;\n    revisionID: number | null;\n}\n\nexport interface IThemePreview {\n    info?: Record<\n        string,\n        {\n            type: string;\n            value: string;\n        }\n    >;\n    imageUrl?: string | null;\n    variables?: {\n        globalBg?: string | null;\n        globalFg?: string | null;\n        globalPrimary?: string | null;\n        titleBarBg?: string | null;\n        titleBarFg?: string | null;\n        backgroundImage?: string | null;\n    };\n}\n\nexport interface IThemeRevision extends ITheme {\n    active: boolean;\n    revisionID: number;\n}\n\ninterface IThemeAsset<DataType = string> {\n    type: string;\n    url?: string;\n    data?: DataType;\n}\n\nexport interface IThemeAssets {\n    fonts?: IThemeAsset<IThemeFont[]>;\n    logo?: IThemeAsset;\n    mobileLogo?: IThemeAsset;\n    variables?: IThemeAsset<IThemeVariables>;\n    header?: IThemeAsset;\n    footer?: IThemeAsset;\n    javascript?: IThemeAsset;\n    styles?: IThemeAsset;\n}\n\nexport interface IThemeFont {\n    name: string;\n    url: string;\n    fallbacks?: string[];\n}\n\nexport type IThemeVariables = Record<string, any>;\n\nexport interface IThemeState {\n    assets: ILoadable<IThemeAssets>;\n    forcedVariables: IThemeVariables | null;\n    themeRevisions: ILoadable<IThemeRevision[]>;\n    upDateRevision: ILoadable<ITheme>;\n}\n\nexport interface IThemesStoreState extends ICoreStoreState {\n    theme: IThemeState;\n}\n\nexport const INITIAL_THEME_STATE: IThemeState = {\n    assets: {\n        status: LoadStatus.PENDING,\n    },\n    forcedVariables: null,\n    themeRevisions: {\n        status: LoadStatus.PENDING,\n    },\n    upDateRevision: {\n        status: LoadStatus.PENDING,\n    },\n};\n\nexport const themeReducer = produce(\n    reducerWithInitialState(INITIAL_THEME_STATE)\n        .case(ThemeActions.getAssets.started, (state) => {\n            state.assets.status = LoadStatus.LOADING;\n            return state;\n        })\n        .case(ThemeActions.getAssets.done, (state, payload) => {\n            state.assets.status = LoadStatus.SUCCESS;\n            state.assets.data = payload.result.assets;\n            return state;\n        })\n        .case(ThemeActions.getAssets.failed, (state, payload) => {\n            if (payload.error.response && payload.error.response.status === 404) {\n                // This theme just doesn't have variables. Use the defaults.\n                state.assets.data = {};\n                state.assets.status = LoadStatus.SUCCESS;\n                return state;\n            } else {\n                state.assets.status = LoadStatus.ERROR;\n                state.assets.error = payload.error;\n                return state;\n            }\n        })\n        .case(ThemeActions.forceVariablesAC, (state, payload) => {\n            state.forcedVariables = payload;\n            return state;\n        })\n        .case(ThemeActions.getThemeRevisions_ACs.started, (state, payload) => {\n            state.themeRevisions.status = LoadStatus.LOADING;\n            return state;\n        })\n        .case(ThemeActions.getThemeRevisions_ACs.failed, (state, payload) => {\n            if (state.themeRevisions) {\n                state.themeRevisions.status = LoadStatus.ERROR;\n                state.themeRevisions.error = payload.error;\n            }\n            return state;\n        })\n        .case(ThemeActions.getThemeRevisions_ACs.done, (state, payload) => {\n            if (state.themeRevisions) {\n                state.themeRevisions.status = LoadStatus.SUCCESS;\n                state.themeRevisions.data = payload.result;\n            }\n            return state;\n        })\n        .case(ThemeActions.patchTheme_ACs.started, (state, payload) => {\n            state.upDateRevision.status = LoadStatus.LOADING;\n            return state;\n        })\n        .case(ThemeActions.patchTheme_ACs.failed, (state, payload) => {\n            state.upDateRevision.status = LoadStatus.ERROR;\n            state.upDateRevision.error = payload.error;\n            return state;\n        })\n        .case(ThemeActions.patchTheme_ACs.done, (state, payload) => {\n            state.upDateRevision.status = LoadStatus.SUCCESS;\n            state.upDateRevision.data = payload.result;\n            const { revisionID, themeID } = payload.result;\n\n            // Go through any active revisions if we have them, and modify their active status.\n            if (state.themeRevisions.data) {\n                state.themeRevisions.data = state.themeRevisions.data.map((revision) => {\n                    if (revision.themeID !== themeID) {\n                        return revision;\n                    }\n\n                    revision.active = revision.revisionID === revisionID;\n                    return revision;\n                });\n            }\n            return state;\n        }),\n);\n\nexport function useGetThemeState() {\n    return useSelector((state: IThemesStoreState) => {\n        return state.theme;\n    });\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { t } from \"@library/utility/appUtils\";\n\ninterface IHumanFileSize {\n    amount: number;\n    unit: string;\n    unitAbbr: string;\n}\n\nenum FileSizeUnit {\n    B = \"B\",\n    KB = \"KB\",\n    MB = \"MB\",\n    GB = \"GB\",\n    TB = \"TB\",\n}\n\n/**\n * Parse a number of bytes into pieces of a human readable file size.\n *\n * @param size File size in bytes\n */\nexport function humanFileSize(size: number): IHumanFileSize {\n    const i: number = Math.floor(Math.log(size) / Math.log(1024));\n    const unitAbbr = Object.values(FileSizeUnit)[i];\n\n    const fullValue: number = size / Math.pow(1024, i);\n    // 2 digits\n    const value = Number.parseFloat(fullValue.toFixed(2));\n    const unit = getUnabbreviatedFileSizeUnit(unitAbbr);\n    return {\n        amount: value,\n        unit,\n        unitAbbr,\n    };\n}\n\n/**\n * Component for rendering the results of `humanFileSize`.\n */\nexport function HumanFileSize(props: { numBytes: number }) {\n    const humanSize = humanFileSize(props.numBytes);\n    return (\n        <>\n            {humanSize.amount}\n            <abbr title={humanSize.unit}>{` ${humanSize.unitAbbr}`}</abbr>\n        </>\n    );\n}\n\n/**\n * Convert from FileSizeUnit to the unabbreviated version.\n *\n * @param unit The unit to translate.\n */\nfunction getUnabbreviatedFileSizeUnit(unit: FileSizeUnit): string {\n    switch (unit) {\n        case FileSizeUnit.B:\n            return t(\"Byte\");\n        case FileSizeUnit.KB:\n            return t(\"Kilobyte\");\n        case FileSizeUnit.MB:\n            return t(\"Megabyte\");\n        case FileSizeUnit.GB:\n            return t(\"Gigabyte\");\n        case FileSizeUnit.TB:\n            return t(\"Terabyte\");\n    }\n}\n","import { formElementsVariables } from \"@library/forms/formElementStyles\";\n\nexport interface IPaddingBasedOnRadius {\n    radius?: number | string; // pixel value in integer or percentage in string\n    extraPadding?: number | string; // If undefined, return 0 for both sides\n    height?: number; // Min height of element\n    side?: \"horizontal\" | \"left\" | \"right\"; // defaults to horizontal\n    debug?: boolean;\n}\n\nexport const paddingOffsetBasedOnBorderRadius = (props: IPaddingBasedOnRadius) => {\n    let leftOffset = 0;\n    let rightOffset = 0;\n    const height = props.height ?? formElementsVariables().sizing.height;\n    const debug = props.debug;\n\n    if (props && props.radius && props.extraPadding) {\n        const maxValue = parseInt(props.extraPadding.toString());\n        const rawRadius = props.radius.toString().trim();\n        const workingBorderRadius = parseFloat(rawRadius);\n        const halfHeight = height / 2;\n\n        let finalBorderRadiusRatio = 0;\n        if (rawRadius.endsWith(\"%\")) {\n            const percent = Math.min(50, workingBorderRadius); // you can't go over 50% anyways.\n            finalBorderRadiusRatio = percent * height;\n        } else {\n            //assume pixels, we don't currently support \"ems\" or any other units.\n            finalBorderRadiusRatio =\n                (Math.min(halfHeight, parseInt(workingBorderRadius.toString())) / halfHeight) * 100; // anything above have half the height is too much\n        }\n\n        const offset = (finalBorderRadiusRatio / 100) * maxValue;\n        if (props.side !== \"right\") {\n            leftOffset = offset;\n        }\n        if (props.side !== \"left\") {\n            rightOffset = offset;\n        }\n    }\n\n    const result = {\n        left: leftOffset,\n        right: rightOffset,\n    };\n\n    return result;\n};\n","import { CSSObject } from \"@emotion/css\";\nimport {\n    IThreeColumnLayoutMediaQueries,\n    IThreeColumnLayoutMediaQueryStyles,\n} from \"@library/layout/types/interface.threeColumns\";\nimport {\n    ITwoColumnLayoutMediaQueries,\n    ITwoColumnLayoutMediaQueryStyles,\n    twoColumnLayoutDevices,\n} from \"@library/layout/types/interface.twoColumns\";\nimport { LayoutTypes } from \"@library/layout/types/interface.layoutTypes\";\n\nexport enum fallbackLayoutVariables {\n    XS = \"xs\",\n    MOBILE = \"mobile\",\n    TABLET = \"tablet\",\n    DESKTOP = \"desktop\",\n    NO_BLEED = \"no_bleed\", // Not enough space for back link which goes outside the margin.\n}\n\nexport interface IPanelLayoutMediaQueryStyles {\n    noBleed?: CSSObject;\n    noBleedDown?: CSSObject;\n    oneColumn?: CSSObject;\n    oneColumnDown?: CSSObject;\n    aboveOneColumn?: CSSObject;\n    twoColumns?: CSSObject;\n    twoColumnsDown?: CSSObject;\n    xs?: CSSObject;\n}\n\nexport interface IPanelLayoutMediaQueries {\n    noBleed: (styles: CSSObject) => CSSObject;\n    oneColumn: (styles: CSSObject) => CSSObject;\n    oneColumnDown: (styles: CSSObject) => CSSObject;\n    aboveOneColumn: (styles: CSSObject) => CSSObject;\n    twoColumns: (styles: CSSObject) => CSSObject;\n    twoColumnsDown: (styles: CSSObject) => CSSObject;\n    noBleedDown: (styles: CSSObject) => CSSObject;\n    xs: (styles: CSSObject) => CSSObject;\n}\n\nexport type IAllMediaQueries = IThreeColumnLayoutMediaQueries | ITwoColumnLayoutMediaQueries | IPanelLayoutMediaQueries;\n\nexport interface IPanelLayoutVariables {\n    type: string;\n    Devices: any;\n    colors?: any;\n    foundationalWidths: any;\n    gutter: any;\n    panel: any;\n    middleColumn: any;\n    contentWidth: number;\n    mediaQueries: () => IAllMediaQueries;\n    isFullWidth: (currentDevice) => boolean;\n    isCompact: (currentDevice) => boolean;\n    panelLayoutSpacing: any;\n    breakPoints: any;\n    calculateDevice: () => string;\n    rightPanelCondition?: (currentDevice, shouldRenderLeftPanel) => boolean;\n}\n\nexport interface IAllLayoutMediaQueries {\n    [LayoutTypes.TWO_COLUMNS]?: ITwoColumnLayoutMediaQueryStyles;\n    [LayoutTypes.THREE_COLUMNS]?: IThreeColumnLayoutMediaQueryStyles;\n}\n\nexport type ILayoutMediaQueryFunction = (styles: IAllLayoutMediaQueries) => CSSObject;\n\nexport type IAllLayoutDevices = twoColumnLayoutDevices | fallbackLayoutVariables;\n\nexport type IAllMediaQueriesForLayouts = ITwoColumnLayoutMediaQueries | IThreeColumnLayoutMediaQueries | {};\n\nexport type IMediaQueryFunction = (mediaQueriesForAllLayouts: IAllLayoutMediaQueries) => CSSObject;\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { absolutePosition, negative, userSelect } from \"@library/styles/styleHelpers\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { important, percent, px, translateY } from \"csx\";\nimport { titleBarVariables } from \"@library/headers/TitleBar.variables\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\n\nconst backLinkVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const makeThemeVars = variableFactory(\"backLink\");\n\n    const sizing = makeThemeVars(\"backLink\", {\n        height: globalVars.icon.sizes.default,\n        width: (globalVars.icon.sizes.default * 12) / 21, // From SVG ratio\n    });\n\n    // We do a best guess based on calculations for the vertical position of the back link.\n    // However, it might visually be a little off and need some adjustment\n    const position = makeThemeVars(\"position\", {\n        verticalOffset: globalVars.fonts.alignment.headings.verticalOffsetForAdjacentElements,\n    });\n\n    return {\n        sizing,\n        position,\n    };\n});\n\nconst backLinkClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const mediaQueries = layoutVariables().mediaQueries();\n    const style = styleFactory(\"backLink\");\n    const titleBarVars = titleBarVariables();\n    const vars = backLinkVariables();\n\n    const root = style(\n        {\n            ...userSelect(),\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"flex-start\",\n            overflow: \"visible\",\n            height: styleUnit(vars.sizing.height),\n            minWidth: styleUnit(vars.sizing.width),\n            ...Mixins.margin({\n                left: negative(22),\n                right: globalVars.gutter.half,\n            }),\n            transform: translateY(\"-0.1em\"),\n        },\n        mediaQueries.oneColumnDown({\n            ...Mixins.margin({\n                left: 0,\n            }),\n        }),\n    );\n\n    const link = style(\"link\", {\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        color: \"inherit\",\n        height: styleUnit(vars.sizing.height),\n        ...{\n            \"&:hover, &:focus\": {\n                color: ColorsUtils.colorOut(globalVars.mainColors.primary),\n                outline: 0,\n            },\n        },\n    });\n\n    const inHeading = (fontSize?: number | null) => {\n        if (fontSize) {\n            return style(\"inHeading\", {\n                ...absolutePosition.topLeft(\".5em\"),\n                fontSize: styleUnit(fontSize),\n                transform: `translateY(-50%)`,\n                marginTop: styleUnit(vars.position.verticalOffset),\n            });\n        } else {\n            return \"\";\n        }\n    };\n\n    const label = style(\n        \"label\",\n        {\n            fontWeight: globalVars.fonts.weights.semiBold,\n            whiteSpace: \"nowrap\",\n            paddingLeft: px(12),\n        },\n        mediaQueries.xs(Mixins.absolute.srOnly()),\n    );\n\n    const icon = style(\"icon\", {\n        height: styleUnit(vars.sizing.height),\n        width: styleUnit(vars.sizing.width),\n    });\n\n    // Since the back link needs to be outside the heading, we need a way to get the height of one line of text to center the link vertically.\n    // We need to get the height from the text, so this element is a hidden space used for aligning.\n    const getLineHeight = style(\"getLineHeight\", {\n        visibility: important(\"hidden\"),\n    });\n\n    return {\n        root,\n        link,\n        label,\n        icon,\n        getLineHeight,\n        inHeading,\n    };\n});\n\nexport default backLinkClasses;\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { ReactNode } from \"react\";\nimport ErrorMessages from \"@library/forms/ErrorMessages\";\nimport { getRequiredID, IOptionalComponentID } from \"@library/utility/idUtils\";\nimport classNames from \"classnames\";\nimport Paragraph from \"@library/layout/Paragraph\";\nimport { inputBlockClasses } from \"@library/forms/InputBlockStyles\";\nimport { IError } from \"@library/errorPages/CoreErrorMessages\";\n\nexport enum InputTextBlockBaseClass {\n    STANDARD = \"inputBlock\",\n    CUSTOM = \"\",\n}\n\ninterface ICallbackProps {\n    labelID: string;\n    hasErrors: boolean;\n    errorID: string;\n}\ntype CallbackChildren = (props: ICallbackProps) => React.ReactNode;\n\nexport interface IInputBlockProps extends IOptionalComponentID {\n    label?: ReactNode;\n    legend?: boolean;\n    children: React.ReactNode | CallbackChildren;\n    className?: string;\n    wrapClassName?: string;\n    labelClassName?: string;\n    noteAfterInput?: string;\n    labelNote?: string;\n    labelID?: string;\n    descriptionID?: string;\n    errors?: IError[];\n    baseClass?: InputTextBlockBaseClass;\n    legacyMode?: boolean;\n    noMargin?: boolean;\n    grid?: boolean;\n    tight?: boolean;\n}\n\ninterface IState {\n    id: string;\n}\n\nexport default class InputBlock extends React.Component<IInputBlockProps, IState> {\n    public static defaultProps = {\n        errors: [],\n        baseClass: InputTextBlockBaseClass.STANDARD,\n    };\n\n    public constructor(props: IInputBlockProps) {\n        super(props);\n        this.state = {\n            id: getRequiredID(props, \"inputText\") as string,\n        };\n    }\n\n    public render() {\n        const { label, legend } = this.props;\n        const classesInputBlock = inputBlockClasses();\n        const componentClasses = classNames(\n            this.props.baseClass === InputTextBlockBaseClass.STANDARD ? classesInputBlock.root : \"\",\n            this.props.className,\n        );\n        const hasErrors = !!this.props.errors && this.props.errors.length > 0;\n\n        let children;\n        if (typeof this.props.children === \"function\") {\n            // Type is checked, but typechecker not accepting it.\n            // eslint-disable-next-line @typescript-eslint/ban-types\n            children = (this.props.children as Function)({ hasErrors, errorID: this.errorID, labelID: this.labelID });\n        } else {\n            children = this.props.children;\n        }\n\n        const OuterTag = label ? (legend ? \"fieldset\" : \"label\") : \"div\";\n        const LabelTag = label && legend ? \"legend\" : \"span\";\n\n        return (\n            <OuterTag className={componentClasses}>\n                {this.props.label && (\n                    <span id={this.labelID} className={classesInputBlock.labelAndDescription}>\n                        <LabelTag className={classNames(classesInputBlock.labelText, this.props.labelClassName)}>\n                            {this.props.label}\n                        </LabelTag>\n                        <Paragraph className={classesInputBlock.labelNote}>{this.props.labelNote}</Paragraph>\n                    </span>\n                )}\n\n                <span\n                    className={classNames(\n                        classesInputBlock.inputWrap,\n                        this.props.wrapClassName,\n                        [classesInputBlock.fieldsetGroup],\n                        { [classesInputBlock.grid]: this.props.grid },\n                        { [classesInputBlock.tight]: this.props.tight },\n                        { noMargin: this.props.noMargin },\n                    )}\n                >\n                    {children}\n                </span>\n                <Paragraph className={classesInputBlock.labelNote}>{this.props.noteAfterInput}</Paragraph>\n                <ErrorMessages id={this.errorID} errors={this.props.errors} padded />\n            </OuterTag>\n        );\n    }\n\n    private get labelID(): string {\n        return this.state.id + \"-label\";\n    }\n\n    private get errorID(): string {\n        return this.state.id + \"-errors\";\n    }\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { singleBorder } from \"@library/styles/styleHelpers\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { important } from \"csx\";\nimport { frameVariables } from \"@library/layout/frame/frameStyles\";\nimport { Mixins } from \"@library/styles/Mixins\";\n\nexport const frameFooterClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const style = styleFactory(\"frameFooter\");\n    const vars = frameVariables();\n\n    const root = style({\n        display: \"flex\",\n        minHeight: styleUnit(vars.footer.minHeight),\n        alignItems: \"center\",\n        position: \"relative\",\n        zIndex: 1,\n        borderTop: singleBorder(),\n        flexWrap: \"wrap\",\n        justifyContent: \"space-between\",\n        ...Mixins.padding({\n            top: 0,\n            bottom: 0,\n            left: vars.footer.spacing,\n            right: vars.footer.spacing,\n        }),\n    });\n\n    const justifiedRight = style(\"justifiedRight\", {\n        ...{\n            \"&&\": {\n                justifyContent: \"flex-end\",\n            },\n        },\n    });\n\n    const markRead = style(\"markRead\", {\n        ...{\n            \"&.buttonAsText\": {\n                fontWeight: globalVars.fonts.weights.semiBold,\n                color: ColorsUtils.colorOut(globalVars.mainColors.primary),\n            },\n        },\n    });\n\n    const actionButton = style(\"actionButton\", {\n        marginLeft: styleUnit(24),\n    });\n\n    const selfPadded = style({\n        paddingLeft: important(0),\n        paddingRight: important(0),\n    });\n\n    const forDashboard = style({\n        minHeight: styleUnit(65),\n    });\n\n    return {\n        root,\n        markRead,\n        selfPadded,\n        actionButton,\n        justifiedRight,\n        forDashboard,\n    };\n});\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { appearance, singleBorder, flexHelper } from \"@library/styles/styleHelpers\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { calc, em, percent } from \"csx\";\nimport { frameVariables } from \"@library/layout/frame/frameStyles\";\nimport { Mixins } from \"@library/styles/Mixins\";\n\nexport const frameHeaderClasses = useThemeCache(() => {\n    const vars = frameVariables();\n    const globalVars = globalVariables();\n    const formElVars = formElementsVariables();\n    const style = styleFactory(\"frameHeader\");\n\n    const root = style({\n        display: \"flex\",\n        position: \"relative\",\n        alignItems: \"center\",\n        flexWrap: \"nowrap\",\n        width: percent(100),\n        color: ColorsUtils.colorOut(vars.colors.fg),\n        zIndex: 1,\n        borderBottom: singleBorder(),\n        ...Mixins.padding({\n            top: 4,\n            right: vars.footer.spacing,\n            bottom: 4,\n            left: vars.footer.spacing,\n        }),\n        ...{\n            \".button + .button\": {\n                marginLeft: styleUnit(12 - formElVars.border.width),\n            },\n        },\n    });\n\n    const rootBorderLess = style(\"rootBorderless\", {\n        borderBottom: \"none\",\n    });\n\n    const rootMinimal = style(\"rootMinimal\", {\n        display: \"block\",\n    });\n\n    const backButton = style(\"backButton\", {\n        display: \"flex\",\n        flexWrap: \"nowrap\",\n        justifyContent: \"center\",\n        alignItems: \"flex-end\",\n        flexShrink: 1,\n        transform: `translateX(-6px) translateY(-1px)`,\n    });\n\n    const heading = style(\"heading\", {\n        display: \"flex\",\n        alignItems: \"center\",\n        flexGrow: 1,\n        margin: 0,\n        textOverflow: \"ellipsis\",\n        width: calc(`100% - ${styleUnit(formElVars.sizing.height)}`),\n        flexBasis: calc(`100% - ${styleUnit(formElVars.sizing.height)}`),\n        fontWeight: globalVars.fonts.weights.semiBold,\n        fontSize: styleUnit(globalVars.fonts.size.large),\n    });\n\n    const headingMinimal = style(\"headingMinimal\", {\n        ...flexHelper().middle(),\n        ...Mixins.padding({ horizontal: 24 }),\n        ...{\n            \"& *\": {\n                textTransform: \"uppercase\",\n                fontSize: styleUnit(globalVars.fonts.size.small),\n            },\n        },\n    });\n\n    const left = style(\"left\", {\n        fontSize: styleUnit(vars.header.fontSize),\n    });\n\n    const centred = style(\"centred\", {\n        textAlign: \"center\",\n        textTransform: \"uppercase\",\n        fontSize: styleUnit(globalVars.fonts.size.small),\n        color: ColorsUtils.colorOut(globalVars.mixBgAndFg(0.6)),\n        fontWeight: globalVars.fonts.weights.semiBold,\n    });\n\n    const spacerWidth = globalVars.icon.sizes.large - (globalVars.gutter.half + globalVars.gutter.quarter);\n\n    const leftSpacer = style(\"leftSpacer\", {\n        display: \"block\",\n        height: styleUnit(spacerWidth),\n        flexBasis: styleUnit(spacerWidth),\n        width: styleUnit(spacerWidth),\n    });\n\n    const action = style(\"action\", {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        position: \"relative\",\n        flexShrink: 1,\n        height: styleUnit(formElVars.sizing.height),\n        width: styleUnit(formElVars.sizing.height),\n        flexBasis: styleUnit(formElVars.sizing.height),\n        color: ColorsUtils.colorOut(vars.colors.fg),\n        transform: `translateX(10px)`,\n        marginLeft: \"auto\",\n        ...{\n            \"&:not(.focus-visible)\": {\n                outline: 0,\n            },\n            \"&:hover, &:focus, &.focus-visible\": {\n                color: ColorsUtils.colorOut(globalVars.mainColors.primary),\n            },\n        },\n    });\n\n    const backButtonIcon = style(\"backButtonIcon\", {\n        display: \"block\",\n    });\n\n    const close = style(\"close\", {\n        ...appearance(),\n        cursor: \"pointer\",\n        height: styleUnit(formElVars.sizing.height),\n        width: styleUnit(formElVars.sizing.height),\n        flexBasis: styleUnit(formElVars.sizing.height),\n        padding: 0,\n        border: 0,\n    });\n\n    const closeMinimal = style(\"closeMinimal\", {\n        color: ColorsUtils.colorOut(globalVars.mixBgAndFg(0.6)),\n        position: \"absolute\",\n        top: 0,\n        bottom: 0,\n        ...Mixins.margin({ vertical: \"auto\" }),\n        right: styleUnit(6),\n    });\n\n    const categoryIcon = style(\"categoryIcon\", {\n        flexBasis: styleUnit(18),\n        marginRight: 0,\n        opacity: 0.8,\n    });\n\n    return {\n        closeMinimal,\n        root,\n        rootMinimal,\n        rootBorderLess,\n        backButton,\n        heading,\n        left,\n        centred,\n        leftSpacer,\n        action,\n        backButtonIcon,\n        close,\n        categoryIcon,\n        headingMinimal,\n    };\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { keyframes } from \"@library/styles/styleShim\";\n\nexport const standardAnimations = () => {\n    return {\n        fadeIn: keyframes({\n            label: \"animation-fadeIn\",\n            \"0%\": { opacity: 0 },\n            \"100%\": { opacity: 1 },\n        }),\n    };\n};\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { useMeasure } from \"@vanilla/react-utils\";\nimport React, { useEffect, useRef } from \"react\";\nimport shave from \"shave\";\n\ninterface IProps {\n    tag?: string;\n    className?: string;\n    children: React.ReactNode;\n    useMaxHeight?: boolean;\n    lines?: number;\n    expand?: boolean;\n    maxCharCount?: number;\n}\n\nconst TruncatedText = React.memo(function TruncatedText(_props: IProps) {\n    const ref = useRef<HTMLDivElement | null>(null);\n    const props = {\n        lines: 3,\n        expand: false,\n        ..._props,\n    };\n\n    const measure = useMeasure(ref);\n\n    useEffect(() => {\n        truncate();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [measure]);\n\n    function truncate() {\n        if (props.useMaxHeight) {\n            truncateTextBasedOnMaxHeight();\n        } else {\n            truncateBasedOnLines();\n        }\n    }\n\n    /**\n     * Truncate element text based on a certain number of lines.\n     *\n     * @param excerpt - The excerpt to truncate.\n     */\n    function truncateBasedOnLines() {\n        const lineHeight = calculateLineHeight();\n        if (lineHeight !== null && !Number.isNaN(lineHeight)) {\n            const maxHeight = props.lines! * lineHeight;\n            shave(ref.current!, maxHeight);\n        }\n    }\n\n    /**\n     * Truncate element text based on max-height\n     *\n     * @param excerpt - The excerpt to truncate.\n     */\n    function truncateTextBasedOnMaxHeight() {\n        const element = ref.current!;\n        const maxHeight = parseInt(getComputedStyle(element)[\"max-height\"], 10);\n        if (maxHeight && maxHeight > 0) {\n            shave(element, maxHeight);\n        }\n    }\n\n    function calculateLineHeight(): number | null {\n        if (ref.current) {\n            return parseInt(getComputedStyle(ref.current)[\"line-height\"], 10);\n        } else {\n            return null;\n        }\n    }\n\n    const Tag = (props.tag || \"span\") as \"span\";\n\n    let { children } = props;\n    if (props.maxCharCount && typeof children === \"string\") {\n        let newChildren = children.slice(0, props.maxCharCount);\n\n        if (newChildren.length < children.length) {\n            newChildren += \"…\";\n        }\n\n        children = newChildren;\n    }\n\n    return (\n        <Tag className={props.className} ref={ref}>\n            {children}\n        </Tag>\n    );\n});\n\nexport default TruncatedText;\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nimport { useScrollOffset } from \"@library/layout/ScrollOffsetContext\";\nimport { useEffect } from \"react\";\nimport { initAllUserContent } from \"@library/content/index\";\n\nlet previousHashOffset = 0;\n\n/**\n * Hook for handling hash scrolling and user content rendering.\n *\n * @param content The content being displayed. Pass this to refresh the content when filled.\n * @param disabled Whether or not hash scrolling is disabled.\n */\nexport function useHashScrolling(content: string, disabled?: boolean) {\n    const { temporarilyDisabledWatching, getCalcedHashOffset } = useScrollOffset();\n    const calcedOffset = getCalcedHashOffset();\n    previousHashOffset = calcedOffset;\n\n    useEffect(() => {\n        if (disabled) {\n            return;\n        }\n        void initAllUserContent().then(() => {\n            initHashScrolling(calcedOffset, () => temporarilyDisabledWatching(500));\n        });\n    }, [calcedOffset, temporarilyDisabledWatching, disabled, content]);\n}\n\n/**\n * Scroll to a particular HTML element.\n */\nexport function scrollToElement(element?: HTMLElement, offset?: number, beforeScrollHandler?: () => void) {\n    const currentOffset = offset == null ? previousHashOffset : offset;\n    if (element) {\n        beforeScrollHandler && beforeScrollHandler();\n        setTimeout(() => {\n            const top = window.pageYOffset + element.getBoundingClientRect().top - currentOffset;\n            window.scrollTo({ top, behavior: \"smooth\" });\n        }, 10);\n    }\n}\n\n/**\n * Scroll to the window's current hash value.\n */\nexport function scrollToCurrentHash(offset?: number, beforeScrollHandler?: () => void) {\n    const currentOffset = offset == null ? previousHashOffset : offset;\n    const targetID = window.location.hash.replace(\"#\", \"\");\n    const element =\n        (document.querySelector(`[data-id=\"${targetID}\"]`) as HTMLElement) || document.getElementById(targetID);\n    scrollToElement(element, currentOffset, beforeScrollHandler);\n}\n\nexport function initHashScrolling(offset: number = 0, beforeScrollHandler?: () => void) {\n    scrollToCurrentHash(offset, beforeScrollHandler);\n    const hashChangeHandler = (e: HashChangeEvent) => {\n        e.preventDefault();\n        scrollToCurrentHash(offset, beforeScrollHandler);\n    };\n\n    window.addEventListener(\"hashchange\", hashChangeHandler);\n    return () => {\n        window.removeEventListener(\"hashchange\", hashChangeHandler);\n    };\n}\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\n\nimport React, { useContext } from \"react\";\nimport { ISelectBoxItem } from \"@library/forms/select/SelectBox\";\n\nexport const SEARCH_SCOPE_LOCAL = \"site\";\nexport const SEARCH_SCOPE_EVERYWHERE = \"hub\";\n\ninterface ISearchScope {\n    optionsItems: ISelectBoxItem[];\n    value?: ISelectBoxItem;\n    onChange?: (value: ISelectBoxItem) => void;\n    setValue?: (value: string) => void;\n    compact?: boolean;\n}\n\nexport interface ISearchScopeNoCompact extends Omit<ISearchScope, \"compact\"> {}\n\nexport const SearchScopeContext = React.createContext<ISearchScope>({\n    optionsItems: [],\n});\n\nexport function useSearchScope() {\n    return useContext(SearchScopeContext);\n}\n\nconst emptyItems = [];\n\nexport function EmptySearchScopeProvider(props: { children: React.ReactNode }) {\n    return (\n        <SearchScopeContext.Provider\n            value={{\n                optionsItems: emptyItems,\n            }}\n        >\n            {props.children}\n        </SearchScopeContext.Provider>\n    );\n}\n","/**\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { visibility } from \"@library/styles/styleHelpers\";\nimport { ToolTip } from \"@library/toolTip/ToolTip\";\nimport { t } from \"@library/utility/appUtils\";\nimport { IOptionalComponentID, useUniqueID } from \"@library/utility/idUtils\";\nimport classNames from \"classnames\";\nimport React from \"react\";\nimport { checkRadioClasses } from \"./checkRadioStyles\";\n\ninterface IProps extends IOptionalComponentID {\n    id?: string;\n    className?: string;\n    checked?: boolean;\n    disabled?: boolean;\n    onChange?: (event: React.ChangeEvent<HTMLInputElement>) => void;\n    label: React.ReactNode;\n    labelBold?: boolean;\n    isHorizontal?: boolean;\n    fakeFocus?: boolean;\n    defaultChecked?: boolean;\n    tooltipLabel?: boolean;\n    excludeFromICheck?: boolean;\n}\n\nexport default function CheckBox(props: IProps) {\n    const labelID = useUniqueID(\"checkbox_label\");\n    const classes = checkRadioClasses();\n\n    const { isHorizontal, labelBold = true } = props;\n\n    const icon = (\n        <span className={classes.iconContainer} aria-hidden=\"true\">\n            <svg className={classNames(classes.checkIcon)} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10 10\">\n                <title>{t(\"✓\")}</title>\n                <path\n                    fill=\"currentColor\"\n                    d=\"M10,2.7c0-0.2-0.1-0.3-0.2-0.4L8.9,1.3c-0.2-0.2-0.6-0.2-0.9,0L3.8,5.6L1.9,3.7c-0.2-0.2-0.6-0.2-0.9,0L0.2,4.6c-0.2,0.2-0.2,0.6,0,0.9l3.2,3.2c0.2,0.2,0.6,0.2,0.9,0l5.5-5.5C9.9,3,10,2.8,10,2.7z\"\n                />\n            </svg>\n        </span>\n    );\n\n    return (\n        <label className={classNames(props.className, classes.root, { isHorizontal })}>\n            <input\n                className={classNames(classes.input, props.fakeFocus && \"focus-visible\", {\n                    \"exclude-icheck\": props.excludeFromICheck,\n                })}\n                aria-labelledby={labelID}\n                type=\"checkbox\"\n                onChange={props.onChange}\n                checked={props.checked}\n                defaultChecked={props.defaultChecked}\n                disabled={props.disabled}\n                tabIndex={0}\n            />\n            {props.tooltipLabel && props.label ? <ToolTip label={props.label}>{icon}</ToolTip> : icon}\n            {props.label && (\n                <span\n                    id={labelID}\n                    className={classNames(classes.label, props.tooltipLabel && visibility().visuallyHidden, {\n                        [classes.labelBold]: labelBold,\n                    })}\n                >\n                    {props.label}\n                </span>\n            )}\n        </label>\n    );\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { onContent } from \"@library/utility/appUtils\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\n\ntype HLJS = typeof import(\"@library/content/highlightJs\").default;\n\nexport function initCodeHighlighting() {\n    void highlightCodeBlocks();\n    onContent(() => void highlightCodeBlocks());\n}\n\nexport async function highlightCodeBlocks(domNode: HTMLElement = document.body) {\n    // Make sure we actually have some codeblocks before initializing.\n    const blocks = domNode.querySelectorAll(\".code.codeBlock\");\n    if (blocks.length === 0) {\n        return;\n    }\n\n    const hljs = await importHLJS();\n    blocks.forEach((node) => {\n        hljs.highlightBlock(node);\n    });\n}\n\nlet hljsCache: HLJS | null = null;\n\n/**\n * Highlight some text and return HTML for it.\n *\n * @param text Some text to highlight.\n */\nexport async function highlightText(text: string): Promise<string> {\n    const hljs = await importHLJS();\n    return hljs.highlightAuto(text).value;\n}\n\n/**\n * Like hihglightText, but returns synchronously.\n *\n * If null is returned, ignore the result, because the highlighter isn't initialized yet.\n */\nexport function highlightTextSync(text: string): string | null {\n    if (hljsCache) {\n        return hljsCache.highlightAuto(text).value;\n    } else {\n        void importHLJS(); // Don't care when it finishes.\n        return null;\n    }\n}\n\nlet requestPromise: Promise<HLJS> | null = null;\n\n/**\n * Ensure we only import this once.\n */\nfunction importHLJS(): Promise<HLJS> {\n    if (requestPromise !== null) {\n        return requestPromise;\n    }\n\n    const innerImport = async () => {\n        // Lazily initialize this because it can be rather heavy.\n        const hljs = await import(\"@library/content/highlightJs\" /* webpackChunkName: \"highlightJs\" */);\n\n        // Start fetching the styles.\n        const vars = globalVariables();\n        const useLight = vars.mainColors.bg.lightness() >= 0.5;\n        if (useLight) {\n            await import(\"./_codeLight.scss\" /* webpackChunkName: \"highlightJs-light\" */ as any); // Sorry typescript.\n        } else {\n            await import(\"./_codeDark.scss\" /* webpackChunkName: \"highlightJs-dark\" */ as any); // Sorry typescript.\n        }\n\n        hljsCache = hljs.default;\n\n        return hljs.default;\n    };\n\n    requestPromise = innerImport();\n    return requestPromise;\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { delegateEvent } from \"@vanilla/dom-utils\";\n\nexport function initSpoilers() {\n    // Setup\n    delegateEvent(\"click\", \".js-toggleSpoiler\", handleToggleSpoiler);\n}\n\n/**\n * Toggle a spoiler open and closed.\n */\nfunction handleToggleSpoiler(event: MouseEvent, triggeringElement: HTMLElement) {\n    const toggleButton = triggeringElement;\n\n    const spoilerContainer = toggleButton.closest(\".spoiler\");\n    if (spoilerContainer) {\n        spoilerContainer.classList.toggle(\"isShowingSpoiler\");\n    }\n}\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ensureScript } from \"@vanilla/dom-utils\";\nimport { EmbedContent } from \"@library/embeddedContent/components/EmbedContent\";\nimport { IBaseEmbedProps } from \"@library/embeddedContent/embedService\";\nimport React, { useLayoutEffect } from \"react\";\nimport { EmbedContainer } from \"@library/embeddedContent/components/EmbedContainer\";\n\ninterface IProps extends IBaseEmbedProps {\n    account: string;\n    videoID: string;\n    playerID: string;\n    playerEmbed: string;\n}\n\n/**\n * A class for rendering Brightcove video embeds.\n */\nexport function BrightcoveEmbed(props: IProps): JSX.Element {\n    const playerId = \"player-\" + Math.random().toString(36).substr(2, 9);\n\n    const SCRIPT_PLAYER =\n        \"https://players.brightcove.net/\" +\n        props.account +\n        \"/\" +\n        props.playerID +\n        \"_\" +\n        props.playerEmbed +\n        \"/index.min.js\";\n    //Load JS based on account and player information.\n    useLayoutEffect(() => {\n        void ensureScript(SCRIPT_PLAYER);\n    });\n    const VideoJS = \"video-js\";\n    // Aspect Ratio: Using `vjs-fluid` class - Waits for the video metadata to load then calculate the correct aspect ratio to use.\n    return (\n        <>\n            <EmbedContainer className=\"embedVideo\">\n                <EmbedContent type={props.embedType}>\n                    <VideoJS\n                        id={playerId}\n                        data-account={props.account}\n                        data-player={props.playerID}\n                        data-embed={props.playerEmbed}\n                        data-video-id={props.videoID}\n                        class=\"video-js vjs-fluid\"\n                        controls\n                    ></VideoJS>\n                </EmbedContent>\n            </EmbedContainer>\n        </>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { EmbedContainer } from \"@library/embeddedContent/components/EmbedContainer\";\nimport { EmbedContent } from \"@library/embeddedContent/components/EmbedContent\";\nimport { IBaseEmbedProps } from \"@library/embeddedContent/embedService\";\nimport React from \"react\";\n\ninterface IProps extends IBaseEmbedProps {\n    author: string;\n    codePenID: string;\n    height?: number;\n    name?: string;\n}\n\nconst MIN_HEIGHT = 350;\n\n/**\n * A class for rendering CodePen embeds.\n */\nexport function CodePenEmbed(props: IProps): JSX.Element {\n    const src = `https://codepen.io/${props.author}/embed/preview/${props.codePenID}`;\n\n    return (\n        <EmbedContent type={props.embedType}>\n            <iframe src={src} height={Math.max(props.height || MIN_HEIGHT, MIN_HEIGHT)} width=\"100%\" scrolling=\"no\" />\n        </EmbedContent>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { flexHelper } from \"@library/styles/styleHelpers\";\nimport { px } from \"csx\";\n\nexport const embedErrorClasses = useThemeCache(() => {\n    const style = styleFactory(\"embedError\");\n    const renderErrorRoot = style(\"renderErrorRoot\", {\n        display: \"block\",\n        textAlign: \"left\",\n    });\n\n    const renderErrorIconLink = style(\"renderErrorIconLink\", {\n        paddingLeft: px(4),\n        verticalAlign: \"middle\",\n    });\n\n    return { renderErrorRoot, renderErrorIconLink };\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { WarningIcon } from \"@library/icons/common\";\nimport { t } from \"@library/utility/appUtils\";\nimport { embedErrorClasses } from \"@library/embeddedContent/components/embedErrorStyles\";\nimport SmartLink from \"@library/routing/links/SmartLink\";\nimport { EMBED_FOCUS_CLASS } from \"@library/embeddedContent/embedConstants\";\nimport classNames from \"classnames\";\nimport { iconClasses } from \"@library/icons/iconStyles\";\n\ninterface IProps {\n    url: string;\n}\n\nexport function EmbedRenderError(props: IProps) {\n    const warningTitle = t(\"This embed could not be loaded in your browser.\");\n    const classes = embedErrorClasses();\n    const helpUrl =\n        \"https://success.vanillaforums.com/kb/articles/13-rich-editor#what-causes-the-warning-icon-while-inserting-a-rich-embed\";\n\n    return (\n        <div className={classNames(EMBED_FOCUS_CLASS, classes.renderErrorRoot, \"embedLinkLoader-link\")} tabIndex={-1}>\n            <SmartLink to={props.url} rel=\"nofollow\">\n                {props.url}\n            </SmartLink>\n            <SmartLink className={classes.renderErrorIconLink} to={helpUrl}>\n                <WarningIcon className={iconClasses().errorFgColor} warningMessage={warningTitle} />\n            </SmartLink>\n        </div>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { EmbedRenderError } from \"@library/embeddedContent/components/EmbedRenderError\";\n\ninterface IProps {\n    url: string;\n    children: React.ReactNode;\n}\n\ninterface IState {\n    error: Error | null;\n}\n\n/**\n * Error boundary for catching rendering errors from embeds.\n */\nexport class EmbedErrorBoundary extends React.PureComponent<IProps, IState> {\n    public state: IState = {\n        error: null,\n    };\n\n    public render() {\n        if (this.state.error) {\n            return <EmbedRenderError url={this.props.url} />;\n        } else {\n            return this.props.children;\n        }\n    }\n\n    public componentDidCatch(error: Error) {\n        this.setState({ error });\n    }\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { absolutePosition, allLinkStates, negative } from \"@library/styles/styleHelpers\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { percent, px } from \"csx\";\n\nexport const attachmentVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const makeThemeVars = variableFactory(\"attachment\");\n\n    const padding = makeThemeVars(\"padding\", {\n        default: 12,\n    });\n\n    const text = makeThemeVars(\"text\", {\n        fontSize: globalVars.fonts.size.medium,\n    });\n\n    const title = makeThemeVars(\"title\", {\n        color: globalVars.mixBgAndFg(0.9),\n    });\n\n    const loading = makeThemeVars(\"loading\", {\n        opacity: 0.5,\n    });\n\n    return { padding, text, title, loading };\n});\n\nexport const attachmentClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const formElementVars = formElementsVariables();\n    const vars = attachmentVariables();\n    const style = styleFactory(\"attachment\");\n\n    const link = style(\"link\", {\n        display: \"block\",\n        width: \"100%\",\n        ...allLinkStates({\n            allStates: {\n                textDecoration: \"none\",\n            },\n        }),\n    });\n\n    const box = style(\"box\", {\n        position: \"relative\",\n        display: \"flex\",\n        flexWrap: \"nowrap\",\n        alignItems: \"flex-start\",\n        justifyContent: \"space-between\",\n        padding: vars.padding.default,\n        width: percent(100),\n        ...Mixins.border({\n            color: globalVars.elementaryColors.transparent,\n            width: 2,\n            radius: 0,\n        }),\n    });\n\n    const format = style(\"format\", {\n        flexBasis: px(globalVars.icon.sizes.small + vars.padding.default),\n        height: styleUnit(globalVars.icon.sizes.small),\n        paddingRight: styleUnit(vars.padding.default),\n        flexShrink: 1,\n    });\n\n    const main = style(\"main\", {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        flexGrow: 1,\n    });\n\n    const title = style(\"title\", {\n        fontSize: px(vars.text.fontSize),\n        color: vars.title.color.toString(),\n        fontWeight: globalVars.fonts.weights.semiBold,\n        lineHeight: px(globalVars.icon.sizes.small),\n    });\n\n    const metas = style(\"metas\", {\n        ...Mixins.margin({\n            left: styleUnit(negative(vars.padding.default / 2)),\n            right: styleUnit(negative(vars.padding.default / 2)),\n            bottom: 0,\n        }),\n        lineHeight: globalVars.lineHeights.condensed,\n    });\n\n    const close = style(\"close\", {\n        ...Mixins.margin({\n            top: px(-((formElementVars.sizing.height - globalVars.icon.sizes.default) / 2)),\n            right: px(-((formElementVars.sizing.height - globalVars.icon.sizes.default) / 2)),\n        }),\n        pointerEvents: \"all\",\n    });\n\n    const loadingProgress = style(\"loadingProgress\", {\n        ...absolutePosition.bottomLeft(),\n        transition: `width ease-out .2s`,\n        height: px(3),\n        marginBottom: px(0),\n        width: 0,\n        maxWidth: percent(100),\n        backgroundColor: globalVars.mainColors.primary.toString(),\n    });\n\n    const loadingContent = style(\"loadingContent\", {\n        ...{\n            [`.${format}`]: {\n                opacity: vars.loading.opacity,\n            },\n            [`.${main}`]: {\n                opacity: vars.loading.opacity,\n            },\n        },\n    });\n\n    return { link, box, format, main, title, metas, close, loadingProgress, loadingContent };\n});\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { HumanFileSize } from \"@library/utility/fileUtils\";\nimport { GetAttachmentIcon } from \"@library/content/attachments/attachmentUtils\";\nimport { AttachmentType } from \"@library/content/attachments/AttatchmentType\";\nimport { attachmentClasses } from \"@library/content/attachments/attachmentStyles\";\nimport { metasClasses } from \"@library/styles/metasStyles\";\nimport Translate from \"@library/content/Translate\";\nimport DateTime from \"@library/content/DateTime\";\nimport { attachmentIconClasses } from \"@library/content/attachments/attachmentIconsStyles\";\nimport classNames from \"classnames\";\nimport SmartLink from \"@library/routing/links/SmartLink\";\nimport { EmbedContainer } from \"@library/embeddedContent/components/EmbedContainer\";\nimport { EmbedContainerSize } from \"@library/embeddedContent/components/EmbedContainerSize\";\nimport { EmbedContent } from \"@library/embeddedContent/components/EmbedContent\";\nimport { useEmbedContext } from \"@library/embeddedContent/IEmbedContext\";\n\nexport interface IFileAttachment {\n    name: string; // File name\n    title?: string; // Optional other label for file\n    dateUploaded: string;\n    mimeType?: string;\n    deleteAttachment?: () => void;\n}\n\ninterface IProps extends IFileAttachment {\n    type: AttachmentType;\n    size: number; // bytes\n    url: string;\n}\n\nexport default function Attachment(props) {\n    const { title, name, url, dateUploaded, type, mimeType, size } = props;\n    const label = title || name;\n    const classes = attachmentClasses();\n    const iconClasses = attachmentIconClasses();\n    const classesMetas = metasClasses();\n    const { inEditor } = useEmbedContext();\n\n    return (\n        <EmbedContainer size={EmbedContainerSize.SMALL}>\n            <EmbedContent type={props.type}>\n                <SmartLink\n                    to={url}\n                    className={classNames(classes.link, classes.box)}\n                    type={mimeType}\n                    download={name}\n                    tabIndex={inEditor ? -1 : 0}\n                >\n                    {type && (\n                        <div className={classNames(classes.format)}>\n                            <GetAttachmentIcon type={type} className={iconClasses.root} />\n                        </div>\n                    )}\n                    <div className={classNames(classes.main)}>\n                        <div className={classNames(classes.title)}>{label}</div>\n                        <div className={classNames(classes.metas, classesMetas.root)}>\n                            {dateUploaded && (\n                                <span className={classesMetas.meta}>\n                                    <Translate source=\"Uploaded <0/>\" c0={<DateTime timestamp={dateUploaded} />} />\n                                </span>\n                            )}\n                            <span className={classesMetas.meta}>\n                                <HumanFileSize numBytes={size} />\n                            </span>\n                        </div>\n                    </div>\n                </SmartLink>\n            </EmbedContent>\n        </EmbedContainer>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { IBaseEmbedProps } from \"@library/embeddedContent/embedService\";\nimport Attachment from \"@library/content/attachments/Attachment\";\nimport { mimeTypeToAttachmentType } from \"@library/content/attachments/attachmentUtils\";\n\ninterface IProps extends IBaseEmbedProps {\n    type: string; // Mime type.\n    size: number;\n    dateInserted: string;\n    name: string;\n}\n\n/**\n * An embed class for quoted user content on the same site.\n */\nexport function FileEmbed(props: IProps) {\n    const { type, size, dateInserted, name, url } = props;\n    const attachmentType = mimeTypeToAttachmentType(type);\n    return (\n        <Attachment\n            type={attachmentType}\n            size={size}\n            name={name}\n            url={url}\n            dateUploaded={dateInserted}\n            mimeType={type}\n        />\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ensureScript } from \"@vanilla/dom-utils\";\nimport { escapeHTML } from \"@vanilla/dom-utils\";\nimport { EmbedContent } from \"@library/embeddedContent/components/EmbedContent\";\nimport { IBaseEmbedProps } from \"@library/embeddedContent/embedService\";\nimport React, { useLayoutEffect } from \"react\";\nimport { useThrowError } from \"@vanilla/react-utils\";\n\ninterface IProps extends IBaseEmbedProps {\n    height: number;\n    width: number;\n    name?: string;\n    photoUrl?: string;\n    photoID: string;\n    foreignID: string;\n    embedSignature: string;\n}\n\n/**\n * A class for rendering Getty Images embeds.\n */\nexport function GettyImagesEmbed(props: IProps): JSX.Element {\n    const throwError = useThrowError();\n\n    useLayoutEffect(() => {\n        void convertGettyEmbeds().catch(throwError);\n    });\n\n    return (\n        <EmbedContent type={props.embedType}>\n            <a\n                className=\"embedExternal-content gie-single js-gettyEmbed\"\n                href={`https://www.gettyimages.com/detail/${props.photoID}`}\n                id={props.foreignID}\n                data-height={props.height}\n                data-width={props.width}\n                data-sig={props.embedSignature}\n                data-items={props.photoID}\n            >\n                {props.url}\n            </a>\n        </EmbedContent>\n    );\n}\n\nasync function convertGettyEmbeds() {\n    const gettyPosts = document.querySelectorAll(\".js-gettyEmbed\");\n    if (gettyPosts.length > 0) {\n        for (const post of gettyPosts) {\n            const url = post.getAttribute(\"href\") || \"\";\n            const foreignID = post.getAttribute(\"id\") || \"\";\n            const embedSignature = post.getAttribute(\"data-sig\") || \"\";\n            const height = Number(post.getAttribute(\"data-height\")) || 1;\n            const width = Number(post.getAttribute(\"data-width\")) || 1;\n            const items = escapeHTML(post.getAttribute(\"data-items\") || \"\");\n            const data: IProps = {\n                embedType: \"gettyimages\",\n                url,\n                height,\n                width,\n                foreignID,\n                embedSignature,\n                photoID: items,\n            };\n            await loadGettyImages(data);\n            post.classList.remove(\"js-gettyEmbed\");\n        }\n    }\n}\n\nasync function loadGettyImages(props: IProps) {\n    const fallbackCallback = (c: any) => {\n        (window.gie.q = window.gie.q || []).push(c);\n    };\n    // This is part of Getty's embed code, we need to ensure embeds are loaded and sent to their widget.js script.\n    window.gie = window.gie || fallbackCallback;\n\n    window.gie(() => {\n        window.gie.widgets.load({\n            id: props.foreignID,\n            sig: props.embedSignature,\n            w: props.width + \"px\",\n            h: props.height + \"px\",\n            items: props.photoID,\n            caption: false,\n            is360: false,\n            tld: \"com\",\n        });\n    });\n\n    /// DO NOT IGNORE\n    /// This will turn totally sideways if window.gie is not populated before the script is initially loaded.\n    await ensureScript(\"https://embed-cdn.gettyimages.com/widgets.js\");\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { IBaseEmbedProps } from \"@library/embeddedContent/embedService\";\nimport { EmbedContainer } from \"@library/embeddedContent/components/EmbedContainer\";\nimport { EmbedContent } from \"@library/embeddedContent/components/EmbedContent\";\n\ninterface IProps extends IBaseEmbedProps {\n    giphyID: string;\n    height: number;\n    width: number;\n}\n\n/**\n * A class for rendering Giphy embeds.\n */\nexport function GiphyEmbed(props: IProps): JSX.Element {\n    const paddingBottom = ((props.height || 1) / (props.width || 1)) * 100 + \"%\";\n    const ratioStyle: React.CSSProperties = {\n        maxWidth: props.width ? props.width + \"px\" : \"100%\",\n        paddingBottom,\n    };\n\n    if (!props.giphyID) {\n        throw new Error(\"Giphy embed fail, the post could not be found\");\n    }\n    const src = `https://giphy.com/embed/${props.giphyID}`;\n\n    return (\n        <EmbedContainer className=\"embedGiphy\">\n            <EmbedContent type={props.embedType}>\n                <div className=\"embedExternal-ratio\" style={ratioStyle}>\n                    <iframe src={src} className=\"giphy-embed embedGiphy-iframe\" />\n                </div>\n            </EmbedContent>\n        </EmbedContainer>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { IBaseEmbedProps } from \"@library/embeddedContent/embedService\";\nimport { EmbedContainer } from \"@library/embeddedContent/components/EmbedContainer\";\nimport { EmbedContent } from \"@library/embeddedContent/components/EmbedContent\";\n\ninterface IProps extends IBaseEmbedProps {\n    height: number;\n    width: number;\n}\n\nlet _supportFrames = false;\n\nexport function supportsFrames(newValue?: boolean): boolean {\n    if (newValue != null) {\n        _supportFrames = newValue;\n    }\n    return _supportFrames;\n}\n\n/**\n * A class for rendering Giphy embeds.\n */\nexport function IFrameEmbed(props: IProps): JSX.Element {\n    const paddingBottom = ((props.height || 1) / (props.width || 1)) * 100 + \"%\";\n    const ratioStyle: React.CSSProperties = {\n        maxWidth: props.width ? props.width + \"px\" : \"100%\",\n        paddingBottom,\n    };\n\n    return (\n        <EmbedContainer className=\"embedIFrame\">\n            <EmbedContent type={props.embedType}>\n                <div className=\"embedExternal-ratio\" style={ratioStyle}>\n                    <iframe\n                        // We're excluding the following capabiltiies.\n                        // allow-popups - Don't allow popups (window.open(), showModalDialog(), target=”_blank”, etc.).\n                        // allow-pointer-lock - Don't allow the frame to lock the pointer.\n                        // allow-top-navigation - Don't allow the document to break out of the frame by navigating the top-level window.\n                        sandbox=\"allow-same-origin allow-scripts allow-forms\"\n                        src={props.url}\n                        className=\"embedIFrame-iframe\"\n                        frameBorder={0}\n                    />\n                </div>\n            </EmbedContent>\n        </EmbedContainer>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ensureScript } from \"@vanilla/dom-utils\";\nimport { EmbedContent } from \"@library/embeddedContent/components/EmbedContent\";\nimport { IBaseEmbedProps } from \"@library/embeddedContent/embedService\";\nimport React, { useLayoutEffect } from \"react\";\nimport { useThrowError } from \"@vanilla/react-utils\";\n\ninterface IProps extends IBaseEmbedProps {\n    height: number;\n    imgurID: string;\n    isAlbum: boolean;\n    width: number;\n}\n\n/**\n * A class for rendering Imgur embeds.\n */\nexport function ImgurEmbed(props: IProps): JSX.Element {\n    const throwError = useThrowError();\n\n    useLayoutEffect(() => {\n        void convertImgurEmbeds().catch(throwError);\n    });\n\n    return (\n        <EmbedContent type={props.embedType}>\n            <blockquote className=\"imgur-embed-pub\" data-id={props.imgurID} />\n        </EmbedContent>\n    );\n}\n\nasync function convertImgurEmbeds() {\n    const images = Array.from(document.querySelectorAll(\".imgur-embed-pub\"));\n    if (images.length > 0) {\n        await ensureScript(\"https://s.imgur.com/min/embed.js\");\n\n        if (!window.imgurEmbed) {\n            throw new Error(\"The Imgur post failed to load\");\n        }\n\n        if (window.imgurEmbed.createIframe) {\n            const imagesLength = images.length;\n            for (let i = 0; i < imagesLength; i++) {\n                window.imgurEmbed.createIframe();\n            }\n        } else {\n            window.imgurEmbed.tasks = images.length;\n        }\n    }\n}\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\n\nimport React from \"react\";\n\ninterface IProps {\n    postID: string;\n}\n\n/**\n * A static dump of the instagram placeholder.\n *\n * We don't want to trust their arbitrary HTML so we've copied it as a react component here.\n */\nexport function InstagramPlaceholder(props: IProps) {\n    const url = `https://www.instagram.com/p/${props.postID}/?utm_source=ig_embed&utm_campaign=loading`;\n    return (\n        <blockquote\n            className=\"instagram-media\"\n            data-instgrm-captioned\n            data-instgrm-permalink={url}\n            data-instgrm-version={13}\n            style={{\n                background: \"#fff\",\n                border: 0,\n                borderRadius: \"3px\",\n                boxShadow: \"0 0 1px 0 rgba(0, 0, 0, 0.5), 0 1px 10px 0 rgba(0, 0, 0, 0.15)\",\n                margin: \"1px\",\n                padding: 0,\n            }}\n        >\n            <div style={{ padding: \"16px\" }}>\n                <a\n                    href={url}\n                    style={{\n                        background: \"#ffffff\",\n                        lineHeight: 0,\n                        padding: \"0 0\",\n                        textAlign: \"center\",\n                        textDecoration: \"none\",\n                        width: \"100%\",\n                    }}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                >\n                    <div style={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\" }}>\n                        <div\n                            style={{\n                                backgroundColor: \"#f4f4f4\",\n                                borderRadius: \"50%\",\n                                flexGrow: 0,\n                                height: \"40px\",\n                                marginRight: \"14px\",\n                                width: \"40px\",\n                            }}\n                        />\n                        <div\n                            style={{ display: \"flex\", flexDirection: \"column\", flexGrow: 1, justifyContent: \"center\" }}\n                        >\n                            <div\n                                style={{\n                                    backgroundColor: \"#f4f4f4\",\n                                    borderRadius: \"4px\",\n                                    flexGrow: 0,\n                                    height: \"14px\",\n                                    marginBottom: \"6px\",\n                                    width: \"100px\",\n                                }}\n                            />\n                            <div\n                                style={{\n                                    backgroundColor: \"#f4f4f4\",\n                                    borderRadius: \"4px\",\n                                    flexGrow: 0,\n                                    height: \"14px\",\n                                    width: \"60px\",\n                                }}\n                            />\n                        </div>\n                    </div>\n                    <div style={{ padding: \"19% 0\" }} />\n                    <div style={{ display: \"block\", height: \"50px\", margin: \"0 auto 12px\", width: \"50px\" }}>\n                        <svg\n                            width=\"50px\"\n                            height=\"50px\"\n                            viewBox=\"0 0 60 60\"\n                            version=\"1.1\"\n                            xmlns=\"https://www.w3.org/2000/svg\"\n                            xmlnsXlink=\"https://www.w3.org/1999/xlink\"\n                        >\n                            <g stroke=\"none\" strokeWidth={1} fill=\"none\" fillRule=\"evenodd\">\n                                <g transform=\"translate(-511.000000, -20.000000)\" fill=\"#000000\">\n                                    <g>\n                                        <path d=\"M556.869,30.41 C554.814,30.41 553.148,32.076 553.148,34.131 C553.148,36.186 554.814,37.852 556.869,37.852 C558.924,37.852 560.59,36.186 560.59,34.131 C560.59,32.076 558.924,30.41 556.869,30.41 M541,60.657 C535.114,60.657 530.342,55.887 530.342,50 C530.342,44.114 535.114,39.342 541,39.342 C546.887,39.342 551.658,44.114 551.658,50 C551.658,55.887 546.887,60.657 541,60.657 M541,33.886 C532.1,33.886 524.886,41.1 524.886,50 C524.886,58.899 532.1,66.113 541,66.113 C549.9,66.113 557.115,58.899 557.115,50 C557.115,41.1 549.9,33.886 541,33.886 M565.378,62.101 C565.244,65.022 564.756,66.606 564.346,67.663 C563.803,69.06 563.154,70.057 562.106,71.106 C561.058,72.155 560.06,72.803 558.662,73.347 C557.607,73.757 556.021,74.244 553.102,74.378 C549.944,74.521 548.997,74.552 541,74.552 C533.003,74.552 532.056,74.521 528.898,74.378 C525.979,74.244 524.393,73.757 523.338,73.347 C521.94,72.803 520.942,72.155 519.894,71.106 C518.846,70.057 518.197,69.06 517.654,67.663 C517.244,66.606 516.755,65.022 516.623,62.101 C516.479,58.943 516.448,57.996 516.448,50 C516.448,42.003 516.479,41.056 516.623,37.899 C516.755,34.978 517.244,33.391 517.654,32.338 C518.197,30.938 518.846,29.942 519.894,28.894 C520.942,27.846 521.94,27.196 523.338,26.654 C524.393,26.244 525.979,25.756 528.898,25.623 C532.057,25.479 533.004,25.448 541,25.448 C548.997,25.448 549.943,25.479 553.102,25.623 C556.021,25.756 557.607,26.244 558.662,26.654 C560.06,27.196 561.058,27.846 562.106,28.894 C563.154,29.942 563.803,30.938 564.346,32.338 C564.756,33.391 565.244,34.978 565.378,37.899 C565.522,41.056 565.552,42.003 565.552,50 C565.552,57.996 565.522,58.943 565.378,62.101 M570.82,37.631 C570.674,34.438 570.167,32.258 569.425,30.349 C568.659,28.377 567.633,26.702 565.965,25.035 C564.297,23.368 562.623,22.342 560.652,21.575 C558.743,20.834 556.562,20.326 553.369,20.18 C550.169,20.033 549.148,20 541,20 C532.853,20 531.831,20.033 528.631,20.18 C525.438,20.326 523.257,20.834 521.349,21.575 C519.376,22.342 517.703,23.368 516.035,25.035 C514.368,26.702 513.342,28.377 512.574,30.349 C511.834,32.258 511.326,34.438 511.181,37.631 C511.035,40.831 511,41.851 511,50 C511,58.147 511.035,59.17 511.181,62.369 C511.326,65.562 511.834,67.743 512.574,69.651 C513.342,71.625 514.368,73.296 516.035,74.965 C517.703,76.634 519.376,77.658 521.349,78.425 C523.257,79.167 525.438,79.673 528.631,79.82 C531.831,79.965 532.853,80.001 541,80.001 C549.148,80.001 550.169,79.965 553.369,79.82 C556.562,79.673 558.743,79.167 560.652,78.425 C562.623,77.658 564.297,76.634 565.965,74.965 C567.633,73.296 568.659,71.625 569.425,69.651 C570.167,67.743 570.674,65.562 570.82,62.369 C570.966,59.17 571,58.147 571,50 C571,41.851 570.966,40.831 570.82,37.631\" />\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    </div>\n                    <div style={{ paddingTop: \"8px\" }}>\n                        <div\n                            style={{\n                                color: \"#3897f0\",\n                                fontFamily: \"Arial, sans-serif\",\n                                fontSize: \"14px\",\n                                fontStyle: \"normal\",\n                                fontWeight: 550,\n                                lineHeight: \"18px\",\n                            }}\n                        >\n                            View this post on Instagram\n                        </div>\n                    </div>\n                    <div style={{ padding: \"12.5% 0\" }} />\n                    <div style={{ display: \"flex\", flexDirection: \"row\", marginBottom: \"14px\", alignItems: \"center\" }}>\n                        <div>\n                            <div\n                                style={{\n                                    backgroundColor: \"#f4f4f4\",\n                                    borderRadius: \"50%\",\n                                    height: \"12.5px\",\n                                    width: \"12.5px\",\n                                    transform: \"translateX(0px) translateY(7px)\",\n                                }}\n                            />\n                            <div\n                                style={{\n                                    backgroundColor: \"#f4f4f4\",\n                                    height: \"12.5px\",\n                                    transform: \"rotate(-45deg) translateX(3px) translateY(1px)\",\n                                    width: \"12.5px\",\n                                    flexGrow: 0,\n                                    marginRight: \"14px\",\n                                    marginLeft: \"2px\",\n                                }}\n                            />\n                            <div\n                                style={{\n                                    backgroundColor: \"#f4f4f4\",\n                                    borderRadius: \"50%\",\n                                    height: \"12.5px\",\n                                    width: \"12.5px\",\n                                    transform: \"translateX(9px) translateY(-18px)\",\n                                }}\n                            />\n                        </div>\n                        <div style={{ marginLeft: \"8px\" }}>\n                            <div\n                                style={{\n                                    backgroundColor: \"#f4f4f4\",\n                                    borderRadius: \"50%\",\n                                    flexGrow: 0,\n                                    height: \"20px\",\n                                    width: \"20px\",\n                                }}\n                            />\n                            <div\n                                style={{\n                                    width: 0,\n                                    height: 0,\n                                    borderTop: \"2px solid transparent\",\n                                    borderLeft: \"6px solid #f4f4f4\",\n                                    borderBottom: \"2px solid transparent\",\n                                    transform: \"translateX(16px) translateY(-4px) rotate(30deg)\",\n                                }}\n                            />\n                        </div>\n                        <div style={{ marginLeft: \"auto\" }}>\n                            <div\n                                style={{\n                                    width: \"0px\",\n                                    borderTop: \"8px solid #f4f4f4\",\n                                    borderRight: \"8px solid transparent\",\n                                    transform: \"translateY(16px)\",\n                                }}\n                            />\n                            <div\n                                style={{\n                                    backgroundColor: \"#f4f4f4\",\n                                    flexGrow: 0,\n                                    height: \"12px\",\n                                    width: \"16px\",\n                                    transform: \"translateY(-4px)\",\n                                }}\n                            />\n                            <div\n                                style={{\n                                    width: 0,\n                                    height: 0,\n                                    borderTop: \"8px solid #f4f4f4\",\n                                    borderLeft: \"8px solid transparent\",\n                                    transform: \"translateY(-4px) translateX(8px)\",\n                                }}\n                            />\n                        </div>\n                    </div>\n                    <div\n                        style={{\n                            display: \"flex\",\n                            flexDirection: \"column\",\n                            flexGrow: 1,\n                            justifyContent: \"center\",\n                            marginBottom: \"24px\",\n                        }}\n                    >\n                        <div\n                            style={{\n                                backgroundColor: \"#f4f4f4\",\n                                borderRadius: \"4px\",\n                                flexGrow: 0,\n                                height: \"14px\",\n                                marginBottom: \"6px\",\n                                width: \"224px\",\n                            }}\n                        />\n                        <div\n                            style={{\n                                backgroundColor: \"#f4f4f4\",\n                                borderRadius: \"4px\",\n                                flexGrow: 0,\n                                height: \"14px\",\n                                width: \"144px\",\n                            }}\n                        />\n                    </div>\n                </a>\n                <p\n                    style={{\n                        color: \"#c9c8cd\",\n                        fontFamily: \"Arial, sans-serif\",\n                        fontSize: \"14px\",\n                        lineHeight: \"17px\",\n                        marginBottom: 0,\n                        marginTop: \"8px\",\n                        overflow: \"hidden\",\n                        padding: \"8px 0 7px\",\n                        textAlign: \"center\",\n                        textOverflow: \"ellipsis\",\n                        whiteSpace: \"nowrap\",\n                    }}\n                >\n                    <a\n                        href={url}\n                        style={{\n                            color: \"#c9c8cd\",\n                            fontFamily: \"Arial, sans-serif\",\n                            fontSize: \"14px\",\n                            fontStyle: \"normal\",\n                            fontWeight: \"normal\",\n                            lineHeight: \"17px\",\n                            textDecoration: \"none\",\n                        }}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                    >\n                        An instagram post.\n                    </a>\n                </p>\n            </div>\n        </blockquote>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { EmbedContainer } from \"@library/embeddedContent/components/EmbedContainer\";\nimport { EmbedContent } from \"@library/embeddedContent/components/EmbedContent\";\nimport { IBaseEmbedProps } from \"@library/embeddedContent/embedService\";\nimport React, { useLayoutEffect } from \"react\";\nimport { ensureScript } from \"@vanilla/dom-utils\";\nimport { useThrowError } from \"@vanilla/react-utils\";\nimport { InstagramPlaceholder } from \"@library/embeddedContent/InstagramEmbedPlaceholder\";\n\ninterface IProps extends IBaseEmbedProps {\n    version: number;\n    postID: string;\n    height?: number;\n    width?: number;\n    name?: string;\n}\n\n/**\n * A class for rendering Instagram embeds.\n */\nexport function InstagramEmbed(props: IProps): JSX.Element {\n    const throwError = useThrowError();\n    useLayoutEffect(() => {\n        convertInstagramEmbeds().catch(throwError);\n    }, [throwError]);\n\n    const permaLink = `https://www.instagram.com/p/${props.postID}`;\n\n    const link = (\n        <a href={permaLink} rel=\"nofollow noreferrer ugc\">\n            {permaLink}\n        </a>\n    );\n\n    return (\n        <EmbedContainer>\n            <EmbedContent type={props.embedType}>\n                <div className=\"embedExternal embedInstagram\">\n                    <div className=\"embedExternal-content\">\n                        <InstagramPlaceholder postID={props.postID} />\n                    </div>\n                </div>\n            </EmbedContent>\n        </EmbedContainer>\n    );\n}\n\nasync function convertInstagramEmbeds() {\n    const instagramEmbeds = document.querySelectorAll(\".instagram-media\");\n    if (instagramEmbeds.length > 0) {\n        await ensureScript(\"https://platform.instagram.com/en_US/embeds.js\");\n\n        if (!window.instgrm) {\n            throw new Error(\"The Instagram post failed to load\");\n        }\n\n        return window.instgrm.Embeds.process();\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { HTMLAttributes } from \"react\";\nimport { embedContainerClasses } from \"@library/embeddedContent/components/embedStyles\";\nimport classNames from \"classnames\";\n\nexport function EmbedTitle(props: HTMLAttributes<HTMLHeadingElement>) {\n    const classes = embedContainerClasses();\n    return <h2 {...props} className={classNames(classes.title, props.className)} />;\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { IBaseEmbedProps } from \"@library/embeddedContent/embedService\";\nimport SmartLink from \"@library/routing/links/SmartLink\";\nimport classNames from \"classnames\";\nimport { metasClasses } from \"@library/styles/metasStyles\";\nimport { EmbedContainer } from \"@library/embeddedContent/components/EmbedContainer\";\nimport TruncatedText from \"@library/content/TruncatedText\";\nimport { EmbedTitle } from \"@library/embeddedContent/components/EmbedTitle\";\nimport { EmbedContent } from \"@library/embeddedContent/components/EmbedContent\";\n\ninterface IProps extends IBaseEmbedProps {\n    photoUrl?: string;\n    body?: string;\n}\n\nexport function LinkEmbed(props: IProps) {\n    const { name, url, photoUrl, body } = props;\n    const classesMetas = metasClasses();\n    const title = name ? <EmbedTitle>{name}</EmbedTitle> : null;\n\n    const source = <span className={classNames(\"embedLink-source\", classesMetas.metaStyle)}>{url}</span>;\n\n    let linkImage: JSX.Element | null = null;\n    if (photoUrl) {\n        linkImage = <img src={photoUrl} className=\"embedLink-image\" aria-hidden=\"true\" />;\n    }\n\n    return (\n        <EmbedContainer className=\"embedText embedLink\">\n            <EmbedContent type=\"link\">\n                <SmartLink\n                    className={classNames(\"embedLink-link\", classesMetas.noUnderline)}\n                    to={url}\n                    rel=\"nofollow noreferrer ugc\"\n                    tabIndex={props.inEditor ? -1 : 0}\n                    aria-label={name}\n                >\n                    <article className=\"embedText-body embedLink-body\">\n                        {linkImage}\n                        <div className=\"embedText-main embedLink-main\">\n                            <div className=\"embedText-header embedLink-header\">\n                                {title}\n                                {source}\n                            </div>\n                            <TruncatedText tag=\"div\" className=\"embedLink-excerpt\" useMaxHeight={true}>\n                                {body}\n                            </TruncatedText>\n                        </div>\n                    </article>\n                </SmartLink>\n            </EmbedContent>\n        </EmbedContainer>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ensureScript } from \"@vanilla/dom-utils\";\nimport { EmbedContent } from \"@library/embeddedContent/components/EmbedContent\";\nimport { IBaseEmbedProps } from \"@library/embeddedContent/embedService\";\nimport React, { useLayoutEffect } from \"react\";\nimport { useThrowError } from \"@vanilla/react-utils\";\nimport { EmbedContainer } from \"@library/embeddedContent/components/EmbedContainer\";\n\ninterface IProps extends IBaseEmbedProps {\n    sessionId: string;\n    domain: string;\n}\n\nconst PANOPTO_SCRIPT: string = \"https://developers.panopto.com/scripts/embedapi.min.js\";\n\nconst EMBED_LOADED_CLASS: string = \"isLoaded\";\n\n/**\n * A class for rendering Twitter embeds.\n */\nexport function PanoptoEmbed(props: IProps): JSX.Element {\n    const throwError = useThrowError();\n    const playerId = \"player-\" + Math.random().toString(36).substr(2, 9);\n\n    useLayoutEffect(() => {\n        void convertPanoptoEmbeds().catch(throwError);\n    });\n\n    // Ratio is hardcoded at 16:9. Panopto is not returning the dimensions.\n    return (\n        <>\n            <EmbedContainer className=\"embedVideo\">\n                <EmbedContent type={props.embedType}>\n                    <div\n                        id={playerId}\n                        className=\"panoptoVideo embedVideo-ratio is16by9\"\n                        data-domain={props.domain}\n                        data-playerid={playerId}\n                        data-sessionid={props.sessionId}\n                        data-url={props.url}\n                    ></div>\n                </EmbedContent>\n            </EmbedContainer>\n        </>\n    );\n}\n\n/**\n * Convert all of the Panopto embeds in the page.\n */\nasync function convertPanoptoEmbeds() {\n    const panoptoEmbeds = Array.from(document.querySelectorAll(\".panoptoVideo\"));\n\n    if (panoptoEmbeds.length > 0) {\n        await ensureScript(PANOPTO_SCRIPT);\n        panoptoEmbeds.map((contentElement) => {\n            // Only render the embed if its not loaded yet.\n            if (!contentElement.classList.contains(EMBED_LOADED_CLASS)) {\n                renderPanoptoEmbed(contentElement as HTMLElement);\n            }\n        });\n    }\n}\n\n/**\n * Render a single Panopto embed.\n */\nasync function renderPanoptoEmbed(element: HTMLElement) {\n    const sessionId = element.getAttribute(\"data-sessionid\");\n    if (sessionId == null) {\n        throw new Error(\"Attempted to embed a Panopto video but the sessionId could not be found.\");\n    }\n\n    const playerId = element.getAttribute(\"data-playerid\");\n    if (playerId == null) {\n        throw new Error(\"Attempted to embed a Panopto video but the playerId is missing.\");\n    }\n\n    const domain = element.getAttribute(\"data-domain\");\n    if (domain == null) {\n        throw new Error(\"Attempted to embed a Panopto video but the domain could not be found.\");\n    }\n\n    if (window.EmbedApi === undefined) {\n        throw new Error(\"Attempted to embed a Panopto but an error has occurred.\");\n    }\n\n    new window.EmbedApi(playerId, {\n        serverName: domain,\n        sessionId: sessionId,\n    });\n\n    element.classList.add(EMBED_LOADED_CLASS);\n\n    // Add embedVideo-iframe class for proper dimensions.\n    let iframe: HTMLElement | undefined = element.getElementsByTagName(\"iframe\")[0];\n    if (iframe != undefined) {\n        iframe.classList.add(\"embedVideo-iframe\");\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { absolutePosition, defaultTransition } from \"@library/styles/styleHelpers\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { linearGradient, percent, px, translateY } from \"csx\";\nimport { buttonResetMixin } from \"@library/forms/buttonMixins\";\n\nexport const collapsableContentClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const style = styleFactory(\"collapsableContent\");\n\n    const paddingAdjustment = style(\"paddingAdjustment\", {});\n\n    const root = style({\n        background: ColorsUtils.colorOut(globalVars.mainColors.bg),\n        position: \"relative\",\n    });\n\n    const heightContainer = style(\"heightContainer\", {\n        position: \"relative\",\n        display: \"block\",\n        overflow: \"hidden\",\n    });\n\n    const collapser = style(\"collapser\", {\n        ...{\n            \"&&\": {\n                ...buttonResetMixin(),\n                borderRadius: 0,\n                width: percent(100),\n                height: styleUnit(globalVars.icon.sizes.default),\n                padding: 0,\n                margin: 0,\n            },\n        },\n    });\n\n    const footer = style(\"footer\", {\n        position: \"relative\",\n        height: styleUnit(globalVars.icon.sizes.default),\n    });\n\n    const collapserIcon = style(\"collapserIcon\", {\n        ...defaultTransition(\"transform\"),\n        margin: \"auto\",\n        height: styleUnit(globalVars.icon.sizes.default),\n        display: \"block\",\n    });\n\n    const gradient = style(\"gradient\", {\n        ...absolutePosition.topLeft(),\n        width: percent(100),\n        height: 75,\n        background: linearGradient(\n            \"to bottom\",\n            ColorsUtils.colorOut(globalVars.mainColors.bg.fade(0))!,\n            ColorsUtils.colorOut(globalVars.mainColors.bg)!,\n        ),\n        transform: `translateY(-100%)`,\n    });\n\n    return { heightContainer, root, collapser, collapserIcon, footer, gradient, paddingAdjustment };\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { collapsableContentClasses } from \"@library/content/collapsableContentStyles\";\nimport Button from \"@library/forms/Button\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport { BottomChevronIcon } from \"@library/icons/common\";\nimport { t } from \"@library/utility/appUtils\";\nimport { uniqueIDFromPrefix } from \"@library/utility/idUtils\";\nimport { useDomNodeAttachment, useMeasure } from \"@vanilla/react-utils\";\nimport classNames from \"classnames\";\nimport { nextTick } from \"q\";\nimport React, { useLayoutEffect, useMemo, useRef, useState } from \"react\";\nimport { animated, useSpring } from \"react-spring\";\nimport ReactDOM from \"react-dom\";\n\ninterface IProps {\n    /** The maximum collapsed height of the collapser. */\n    maxHeight?: number;\n\n    /**\n     * A height to allow the content to reach without collapsing.\n     * It can be awkward if you size w/ the collapser is actually taller than the if you didn't have one at all.\n     *\n     * This is basically \"wiggle\" room to prevent that from occuring.\n     **/\n    overshoot?: number;\n\n    /** A CSS class to apply to the content area of the collapser. */\n    className?: string;\n\n    /** If specified simple CSS classes will be applied to allow external styling. */\n    allowsCssOverrides?: boolean;\n\n    /** Whether or not the content area is collapsed by default. */\n    isExpandedDefault?: boolean;\n\n    /** React children to apply. */\n    children?: React.ReactNode;\n\n    /** An array of DOM nodes to apply as children instead of react contents. See autoWrapCollapsableContent. */\n    domNodesToAttach?: Node[];\n}\n\n/**\n * Content collapsing react component.\n */\nexport function CollapsableContent(props: IProps) {\n    const { isExpandedDefault = false, domNodesToAttach } = props;\n    const [isExpanded, setIsExpanded] = useState(isExpandedDefault);\n\n    const containerMaxHeight = props.maxHeight ? props.maxHeight : 100;\n    const containerOvershoot = props.overshoot ? props.overshoot : 50;\n\n    const heightLimit = containerMaxHeight + containerOvershoot;\n\n    const scrollRef = useRef<HTMLDivElement>(null);\n\n    // When we mount for the first time copy domNodes over\n    // For usage with autoWrapCollapsableContent()\n\n    const ref = useDomNodeAttachment(domNodesToAttach);\n    const measurements = useMeasure(ref);\n\n    useLayoutEffect(() => {\n        nextTick(() => {\n            scrollRef.current!.scrollTo({ top: 0 });\n        });\n    });\n\n    const toggleCollapse = () => {\n        if (isExpanded) {\n            if (ref.current) {\n                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n                const boundingRect = ref.current.getBoundingClientRect();\n                const shrinkageHeight =\n                    boundingRect.height < containerMaxHeight ? 0 : boundingRect.height - containerMaxHeight;\n                const scrollAdjustedByShrinkage = Math.max(scrollTop - shrinkageHeight, 0);\n\n                window.scrollTo({ top: scrollAdjustedByShrinkage, behavior: \"smooth\" });\n            }\n            setIsExpanded(false);\n        } else {\n            setIsExpanded(true);\n        }\n    };\n\n    const hasMeasuredHeight = measurements.height > 0;\n    const hasSmallMeasuredHeight = measurements.height < heightLimit;\n    const maxCollapsedHeight = hasMeasuredHeight && hasSmallMeasuredHeight ? measurements.height : containerMaxHeight;\n    const targetHeight = isExpanded ? measurements.height : maxCollapsedHeight;\n    const maxHeight = maxCollapsedHeight > measurements.height ? measurements.height : maxCollapsedHeight;\n\n    const { height } = useSpring({\n        height: targetHeight > 0 ? targetHeight : \"auto\",\n    });\n\n    const gradientProps = useSpring({\n        opacity: isExpanded ? 0 : 1,\n    });\n\n    const classes = collapsableContentClasses();\n\n    const hasOverflow = measurements.height > heightLimit;\n\n    const title = isExpanded ? t(\"Collapse\") : t(\"Expand\");\n\n    const toggleID = useMemo(() => uniqueIDFromPrefix(\"collapsableContent_toggle\"), []);\n    const contentID = useMemo(() => uniqueIDFromPrefix(\"collapsableContent_content\"), []);\n\n    return (\n        <div className={classNames(classes.root, props.allowsCssOverrides && \"collapsableContent\")}>\n            <animated.div\n                id={contentID}\n                ref={scrollRef}\n                style={{\n                    minHeight: maxHeight,\n                    height: height,\n                }}\n                className={classNames(classes.heightContainer)}\n                aria-expanded={isExpanded}\n            >\n                <div ref={ref} className={props.className}>\n                    {props.children}\n                </div>\n            </animated.div>\n\n            {hasOverflow && (\n                <div className={classes.footer}>\n                    <animated.div\n                        style={gradientProps}\n                        className={classNames(\n                            classes.gradient,\n                            props.allowsCssOverrides && \"collapsableContent-gradient\",\n                        )}\n                    />\n                    <Button\n                        id={toggleID}\n                        title={title}\n                        className={classes.collapser}\n                        baseClass={ButtonTypes.CUSTOM}\n                        onClick={toggleCollapse}\n                        controls={contentID}\n                    >\n                        <BottomChevronIcon\n                            title={title}\n                            className={classes.collapserIcon}\n                            rotate={!isExpanded ? undefined : 180}\n                        />\n                    </Button>\n                </div>\n            )}\n        </div>\n    );\n}\n\n/**\n * Take any elements that have the class `.js-collapsable` and wrap them in this collapser.\n */\nexport async function autoWrapCollapsableContent() {\n    const jsCollapsables = document.body.querySelectorAll(\".js-collapsable\");\n\n    return await Promise.all(\n        Array.from(jsCollapsables).map((element: HTMLElement) => {\n            return new Promise((resolve) => {\n                const nodes = Array.from(element.childNodes);\n                const className = element.getAttribute(\"data-className\") || undefined;\n\n                ReactDOM.render(\n                    <CollapsableContent\n                        className={className}\n                        domNodesToAttach={nodes}\n                        allowsCssOverrides\n                    ></CollapsableContent>,\n                    element,\n                    () => resolve(),\n                );\n                element.classList.remove(\"js-collapsable\");\n            });\n        }),\n    );\n}\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { useHashScrolling } from \"@library/content/hashScrolling\";\nimport { userContentClasses } from \"@library/content/userContentStyles\";\n// import classNames from \"classnames\";\nimport React, { useMemo } from \"react\";\n\nimport { cx } from \"@library/styles/styleShim\";\n\ninterface IProps {\n    className?: string;\n    content: string;\n    ignoreHashScrolling?: boolean;\n}\n\n/**\n * A component for placing rendered user content.\n *\n * This will ensure that all embeds/etc are initialized.\n */\nexport default function UserContent(props: IProps) {\n    let content = props.content;\n    content = useUnsafeResponsiveTableHTML(content);\n    useHashScrolling(content, props.ignoreHashScrolling);\n\n    const classes = userContentClasses();\n\n    return (\n        <div\n            className={cx(\"userContent\", classes.root, props.className)}\n            dangerouslySetInnerHTML={{ __html: content }}\n        />\n    );\n}\n\n/**\n * WARNING!!! Only ever use this with server-parsed trusted HTML content.\n * @param html\n */\nfunction useUnsafeResponsiveTableHTML(html: string) {\n    return useMemo(() => {\n        const element = document.createElement(\"div\");\n        element.innerHTML = html;\n\n        element.querySelectorAll(\"table\").forEach(responsifyTable);\n\n        return element.innerHTML;\n    }, [html]);\n}\n\nfunction responsifyTable(table: HTMLTableElement) {\n    let head: HTMLElement | null = table.querySelector(\"thead\");\n    if (!head) {\n        // Check if our first body row is all ths\n        const firstRow = table.querySelector(\"tr\");\n        let isAllTh = true;\n        if (firstRow) {\n            Array.from(firstRow?.children).forEach((child) => {\n                if (child.tagName !== \"TH\") {\n                    isAllTh = false;\n                }\n            });\n        }\n\n        if (isAllTh) {\n            head = firstRow;\n        }\n    }\n\n    let headLabels: string[] | null = null;\n\n    if (head) {\n        head.classList.add(\"tableHead\");\n        // Apply labels for each table cell.\n        headLabels = Array.from(head.querySelectorAll(\"th\")).map((th) => th.innerText);\n        head.querySelectorAll(\"th\").forEach((th) => th.setAttribute(\"scope\", \"col\"));\n    }\n\n    const rows = table.querySelectorAll(\"tbody tr\");\n    rows.forEach((tr) => {\n        // Apply a scope on existing first ths.\n        const firstTh = tr.querySelector(\"th\");\n        if (firstTh) {\n            firstTh.setAttribute(\"scope\", \"row\");\n        }\n\n        const cells = tr.querySelectorAll(\"td, th\");\n        cells.forEach((td, i) => {\n            const mobileTh = document.createElement(\"th\");\n            if (headLabels) {\n                // Apply extra labels throughout the table.\n                const label = headLabels[i] ?? \"\";\n                mobileTh.textContent = label;\n                mobileTh.classList.add(\"mobileTableHead\");\n                mobileTh.setAttribute(\"aria-hidden\", \"true\");\n                tr.insertBefore(mobileTh, td);\n            }\n\n            if (i % 2 === 1) {\n                // Apply a class for mobile stripes.\n                td.classList.add(\"mobileStripe\");\n                mobileTh.classList.add(\"mobileStripe\");\n            }\n        });\n    });\n\n    // Wrap in a responsive table class.\n    if (table.parentNode) {\n        // create wrapper container\n        const wrapper = document.createElement(\"div\");\n        wrapper.classList.add(\"tableWrapper\");\n\n        // insert wrapper before table in the DOM tree\n        table.parentNode.insertBefore(wrapper, table);\n\n        // move table into wrapper\n        wrapper.appendChild(table);\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { objectFitWithFallback } from \"@library/styles/styleHelpers\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { calc, percent } from \"csx\";\nimport { lineHeightAdjustment } from \"@library/styles/textUtils\";\nimport { CSSObject } from \"@emotion/css\";\n\nexport const userLabelVariables = useThemeCache(() => {\n    const makeThemeVars = variableFactory(\"userLabel\");\n    const globalVars = globalVariables();\n    const { mainColors } = globalVars;\n\n    const avatar = makeThemeVars(\"spacing\", {\n        size: 40,\n        borderRadius: \"50%\",\n        margin: 8,\n    });\n\n    const name = makeThemeVars(\"name\", {\n        fontSize: globalVars.fonts.size.medium,\n        fontWeight: globalVars.fonts.weights.bold,\n    });\n\n    return {\n        avatar,\n        name,\n    };\n});\n\nexport const userLabelClasses = useThemeCache(() => {\n    const style = styleFactory(\"userLabel\");\n    const globalVars = globalVariables();\n    const vars = userLabelVariables();\n\n    const root = style({\n        display: \"flex\",\n        flexWrap: \"nowrap\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        width: percent(100),\n        minHeight: styleUnit(vars.avatar.size),\n    });\n\n    const fixLineHeight = style(\"fixLineHeight\", {});\n\n    const compact = style(\"compact\", {\n        ...{\n            [`&.${fixLineHeight}`]: lineHeightAdjustment(),\n        },\n    });\n\n    const main = style(\"main\", {\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexWrap: \"nowrap\",\n        alignItems: \"flex-start\",\n        justifyContent: \"space-between\",\n        width: calc(`100% - ${styleUnit(vars.avatar.size + vars.avatar.margin)}`),\n        flexBasis: calc(`100% - ${styleUnit(vars.avatar.size + vars.avatar.margin)}`),\n        minHeight: styleUnit(vars.avatar.size),\n    });\n\n    const avatar = style(\"avatar\", {\n        ...objectFitWithFallback(),\n        overflow: \"hidden\",\n        ...Mixins.border({\n            color: globalVars.mixBgAndFg(0.1),\n            width: 1,\n            radius: vars.avatar.borderRadius,\n        }),\n    });\n    const avatarLink = style(\"avatarLink\", {\n        display: \"block\",\n        position: \"relative\",\n        width: styleUnit(vars.avatar.size),\n        height: styleUnit(vars.avatar.size),\n        flexBasis: styleUnit(vars.avatar.size),\n    });\n    const topRow = style(\"topRow\", {});\n    const bottomRow = style(\"bottomRow\", {});\n    const isCompact = style(\"isCompact\", {});\n\n    const userName = style(\"userName\", {\n        ...{\n            \"&&\": {\n                fontWeight: globalVars.fonts.weights.bold,\n                fontSize: styleUnit(globalVars.fonts.size.medium),\n                lineHeight: globalVars.lineHeights.condensed,\n            },\n            [`&&.${isCompact}`]: {\n                fontSize: styleUnit(globalVars.fonts.size.small),\n            },\n        },\n    });\n\n    return { root, avatar, avatarLink, topRow, bottomRow, userName, main, compact, isCompact, fixLineHeight };\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\n\nexport const rolesClasses = useThemeCache(() => {\n    const style = styleFactory(\"roles\");\n    const globalVars = globalVariables();\n    const metaVars = globalVars.meta;\n\n    const role = style({\n        ...Mixins.border({ color: metaVars.text.color, radius: 3 }),\n        ...Mixins.padding({\n            horizontal: 4,\n        }),\n        ...{\n            \"&&\": {\n                fontSize: metaVars.text.size,\n                lineHeight: globalVars.lineHeights.condensed,\n            },\n        },\n    });\n\n    return { role };\n});\n","import React from \"react\";\nimport { IUser, IUserRoles } from \"@library/@types/api/users\";\nimport ConditionalWrap from \"@library/layout/ConditionalWrap\";\nimport { metasClasses } from \"@library/styles/metasStyles\";\nimport { rolesClasses } from \"@library/content/rolesStyles\";\nimport classNames from \"classnames\";\n\n/**\n * Display user role(s)\n */\n\ninterface IProps extends IUserRoles {\n    maxRoleCount?: number;\n    wrapper?: boolean;\n    classNane?: string;\n    roleClass?: string;\n}\n\nexport function Roles(props: IProps) {\n    const { roles, maxRoleCount = 1, wrapper = true } = props;\n\n    const classesMeta = metasClasses();\n    const classes = rolesClasses();\n\n    const userRoles = roles.map((r, i) => {\n        if (i < maxRoleCount) {\n            return (\n                <span\n                    key={i}\n                    className={classNames(classesMeta.meta, classes.role)}\n                    dangerouslySetInnerHTML={{ __html: r.name }}\n                />\n            );\n        }\n    });\n\n    return (\n        <ConditionalWrap condition={wrapper} className={classNames(classesMeta.root, \"isFlexed\")}>\n            {userRoles}\n        </ConditionalWrap>\n    );\n}\n","import React from \"react\";\nimport { IUserFragment } from \"@library/@types/api/users\";\nimport SmartLink from \"@library/routing/links/SmartLink\";\nimport { makeProfileUrl } from \"@library/utility/appUtils\";\nimport { userLabelClasses } from \"@library/content/userLabelStyles\";\nimport { Roles } from \"@library/content/Roles\";\nimport classNames from \"classnames\";\nimport DateTime from \"@library/content/DateTime\";\nimport { metasClasses } from \"@library/styles/metasStyles\";\nimport { ICategoryFragment } from \"@vanilla/addon-vanilla/@types/api/categories\";\n\n/**\n * Contains, user avatar, name, and optionnal meta data\n */\n\ninterface IUserLabel {\n    user: IUserFragment;\n    date?: string;\n    dateLink?: string;\n    category?: ICategoryFragment;\n    displayOptions?: {\n        showRole?: boolean;\n        showCategory?: boolean;\n    };\n    compact?: boolean;\n    fixLineHeight?: boolean;\n}\n\nexport function UserLabel(props: IUserLabel) {\n    const { user, date, dateLink, displayOptions = {}, category, compact = false, fixLineHeight = false } = props;\n    const { showRole = true, showCategory = false } = displayOptions;\n\n    const userUrl = makeProfileUrl(user.name);\n    const classes = userLabelClasses();\n    const classesMeta = metasClasses();\n\n    const dateComponent = dateLink ? (\n        <SmartLink to={dateLink} className={classNames(classesMeta.meta)}>\n            <DateTime timestamp={date} className={classNames(classesMeta.metaStyle)} />\n        </SmartLink>\n    ) : (\n        <DateTime timestamp={date} className={classNames(classesMeta.meta)} />\n    );\n\n    const categoryComponent =\n        showCategory && category ? (\n            <SmartLink to={category.url} className={classesMeta.meta}>\n                {category.name}\n            </SmartLink>\n        ) : null;\n\n    if (compact) {\n        return (\n            <div className={classNames(classes.compact, classesMeta.root, { [classes.fixLineHeight]: fixLineHeight })}>\n                <SmartLink to={userUrl} className={classNames(classes.userName, classes.isCompact, classesMeta.meta)}>\n                    {user.name}\n                </SmartLink>\n                {dateComponent}\n                {categoryComponent}\n            </div>\n        );\n    } else {\n        return (\n            <article className={classes.root}>\n                <SmartLink to={userUrl} className={classes.avatarLink}>\n                    <img src={user.photoUrl} alt={user.name} className={classes.avatar} />\n                </SmartLink>\n                <div className={classes.main}>\n                    <div className={classNames(classesMeta.root, \"isFlexed\", classes.topRow)}>\n                        <SmartLink to={userUrl} className={classNames(classes.userName, classesMeta.meta)}>\n                            {user.name}\n                        </SmartLink>\n                        {showRole && user.label && <Roles roles={[{ roleID: 0, name: user.label }]} wrapper={false} />}\n                    </div>\n                    <div className={classNames(classesMeta.root, \"isFlexed\", classes.bottomRow)}>\n                        {dateComponent}\n                        {categoryComponent}\n                    </div>\n                </div>\n            </article>\n        );\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { allLinkStates, importantUnit } from \"@library/styles/styleHelpers\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { lineHeightAdjustment } from \"@library/styles/textUtils\";\nimport { important, percent } from \"csx\";\nimport { embedContainerVariables } from \"@library/embeddedContent/components/embedStyles\";\nimport { cssOut } from \"@dashboard/compatibilityStyles/cssOut\";\nimport { Mixins } from \"@library/styles/Mixins\";\n\nexport const quoteEmbedVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const makeThemeVars = variableFactory(\"quoteEmbed\");\n\n    const title = makeThemeVars(\"title\", {\n        padding: 14,\n    });\n\n    const userContent = makeThemeVars(\"userContent\", {\n        padding: 8,\n    });\n\n    const footer = makeThemeVars(\"footer\", {\n        height: 44,\n    });\n\n    return { title, footer, userContent };\n});\n\nexport const quoteEmbedClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const embedVars = embedContainerVariables();\n    const vars = quoteEmbedVariables();\n\n    const style = styleFactory(\"quoteEmbed\");\n\n    const root = style({\n        ...{\n            \"&&\": {\n                overflow: \"visible\",\n            },\n        },\n    });\n\n    const body = style(\"body\", {\n        display: \"block\",\n        textAlign: \"left\",\n        margin: 0,\n        padding: 0,\n        ...{\n            \"&::before, &::after\": {\n                content: \"initial\",\n            },\n        },\n    });\n\n    const userName = style(\"userName\", {\n        fontWeight: globalVars.fonts.weights.bold,\n    });\n\n    const title = style(\"title\", {\n        ...lineHeightAdjustment(),\n        ...Mixins.margin({\n            horizontal: importantUnit(0),\n            top: importantUnit(0),\n            bottom: importantUnit(globalVars.meta.spacing.default),\n        }),\n        display: \"block\",\n        width: percent(100),\n        color: important(ColorsUtils.colorOut(globalVars.mainColors.fg) as string),\n        fontSize: globalVars.fonts.size.medium,\n        fontWeight: globalVars.fonts.weights.bold,\n        lineHeight: globalVars.lineHeights.condensed,\n    });\n\n    const isPadded = style(\"isPadded\", {});\n    const fixLineHeight = style(\"fixLineHeight\", {});\n\n    const titleLink = style(\"titleLink\", {\n        display: \"block\",\n        position: \"relative\",\n        ...{\n            [`&.${isPadded}`]: {\n                paddingTop: styleUnit(vars.title.padding),\n            },\n        },\n    });\n\n    const header = style(\"header\", {\n        ...Mixins.padding({\n            all: embedVars.spacing.padding,\n            bottom: 0,\n        }),\n    });\n\n    const paddingAdjustment = style(\"paddingAdjustment\", {});\n\n    const content = style(\"content\", {\n        ...Mixins.padding({\n            all: embedVars.spacing.padding,\n        }),\n        width: percent(100),\n        boxSizing: \"border-box\",\n        ...{\n            [`&.${paddingAdjustment}`]: {\n                ...Mixins.padding({\n                    all: embedVars.spacing.padding,\n                    top: vars.userContent.padding,\n                }),\n            },\n        },\n    });\n\n    const footer = style(\"footer\", {\n        position: \"relative\",\n        ...Mixins.padding({\n            horizontal: embedVars.spacing.padding,\n        }),\n    });\n\n    const footerMain = style(\"footerMain\", {\n        display: \"flex\",\n        position: \"relative\",\n        flexWrap: \"wrap\",\n        width: percent(100),\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        minHeight: styleUnit(vars.footer.height),\n    });\n\n    const footerSeparator = style(\"footerSeparator\", {\n        // Reset\n        border: 0,\n        borderStyle: \"solid\",\n        margin: 0,\n        display: \"block\",\n\n        // Styling\n        width: percent(100),\n        height: styleUnit(1),\n        backgroundColor: ColorsUtils.colorOut(globalVars.mixBgAndFg(0.2)),\n    });\n\n    const postLink = style(\"postLink\", {\n        display: \"flex\",\n        alignItems: \"center\",\n        marginLeft: \"auto\",\n        ...allLinkStates({\n            allStates: {\n                textDecoration: \"none\",\n            },\n            noState: {\n                color: ColorsUtils.colorOut(globalVars.links.colors.default),\n            },\n            hover: {\n                color: ColorsUtils.colorOut(globalVars.links.colors.hover),\n            },\n            focus: {\n                color: ColorsUtils.colorOut(globalVars.links.colors.focus),\n            },\n            active: {\n                color: ColorsUtils.colorOut(globalVars.links.colors.active),\n            },\n        }),\n    });\n    const postLinkIcon = style(\"postLinkIcon\", {\n        color: \"inherit\",\n    });\n\n    const discussionLink = style(\"discussionLink\", {\n        height: styleUnit(globalVars.icon.sizes.default),\n        width: styleUnit(globalVars.icon.sizes.default),\n        ...allLinkStates({\n            allStates: {\n                textDecoration: \"none\",\n            },\n            noState: {\n                color: ColorsUtils.colorOut(globalVars.links.colors.default),\n            },\n            hover: {\n                color: ColorsUtils.colorOut(globalVars.links.colors.hover),\n            },\n            focus: {\n                color: ColorsUtils.colorOut(globalVars.links.colors.focus),\n            },\n            active: {\n                color: ColorsUtils.colorOut(globalVars.links.colors.active),\n            },\n        }),\n    });\n\n    const discussionIcon = style(\"discussionIcon\", {\n        color: \"inherit\",\n    });\n\n    const blockquote = style(\"blockquote\", {\n        margin: 0,\n        padding: 0,\n        ...{\n            \".userContent\": {\n                ...lineHeightAdjustment(),\n                fontSize: styleUnit(globalVars.fonts.size.medium),\n            },\n        },\n    });\n\n    return {\n        root,\n        body,\n        userName,\n        title,\n        titleLink,\n        isPadded,\n        header,\n        content,\n        fixLineHeight,\n        footer,\n        footerMain,\n        footerSeparator,\n        postLink,\n        postLinkIcon,\n        discussionLink,\n        discussionIcon,\n        blockquote,\n        paddingAdjustment,\n    };\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { IUserFragment, IUserFragmentAndRoles } from \"@library/@types/api/users\";\nimport { CollapsableContent } from \"@library/content/CollapsableContent\";\nimport UserContent from \"@library/content/UserContent\";\nimport { UserLabel } from \"@library/content/UserLabel\";\nimport { EmbedContainer } from \"@library/embeddedContent/components/EmbedContainer\";\nimport { EmbedContent } from \"@library/embeddedContent/components/EmbedContent\";\nimport { IBaseEmbedProps } from \"@library/embeddedContent/embedService\";\nimport { quoteEmbedClasses } from \"@library/embeddedContent/quoteEmbedStyles\";\nimport { DiscussionIcon, RightChevronIcon } from \"@library/icons/common\";\nimport ScreenReaderContent from \"@library/layout/ScreenReaderContent\";\nimport SmartLink from \"@library/routing/links/SmartLink\";\nimport { t } from \"@library/utility/appUtils\";\nimport { ICategoryFragment } from \"@vanilla/addon-vanilla/@types/api/categories\";\nimport classNames from \"classnames\";\nimport React from \"react\";\n\ninterface IProps extends IBaseEmbedProps {\n    body: string;\n    dateInserted: string;\n    insertUser: IUserFragment;\n    discussionLink?: string;\n    category?: ICategoryFragment;\n    // For compatibility, new options are hidden by default\n    displayOptions?: {\n        showUserLabel?: boolean;\n        showCompactUserInfo?: boolean;\n        showDiscussionLink?: boolean;\n        showPostLink?: boolean;\n        showCategoryLink?: boolean;\n        expandByDefault?: boolean;\n    };\n}\n\n/**\n * An embed class for quoted user content on the same site.\n *\n * This is not an editable quote. Instead it an expandable/collapsable snapshot of the quoted/embedded comment/discussion.\n */\nexport function QuoteEmbed(props: IProps) {\n    const { body, insertUser, name, url, dateInserted, discussionLink, category, displayOptions = {} } = props;\n\n    const classes = quoteEmbedClasses();\n    const {\n        showUserLabel = false,\n        showCompactUserInfo = true,\n        showDiscussionLink = true,\n        showPostLink = false,\n        showCategoryLink = false,\n        expandByDefault = false,\n    } = displayOptions;\n\n    const discussionTitle = t(\"View Original Discussion\");\n\n    const linkToDiscussion = showDiscussionLink && discussionLink && (\n        <SmartLink title={discussionTitle} to={discussionLink} className={classes.discussionLink}>\n            <DiscussionIcon title={discussionTitle} className={classes.discussionIcon} />\n            <ScreenReaderContent>{discussionTitle}</ScreenReaderContent>\n        </SmartLink>\n    );\n\n    const postTitle = t(\"View Post\");\n    const linkToPost = showPostLink && url && (\n        <SmartLink to={url} className={classes.postLink}>\n            {postTitle}\n            <RightChevronIcon title={postTitle} className={classes.postLinkIcon} />\n        </SmartLink>\n    );\n\n    const showHeader = showUserLabel || name || showCompactUserInfo;\n\n    return (\n        <EmbedContainer withPadding={false} className={classes.root}>\n            <EmbedContent type=\"Quote\">\n                <article className={classes.body}>\n                    <div\n                        onClick={(e) => {\n                            e.preventDefault();\n                        }}\n                    >\n                        {showHeader && (\n                            <header className={classes.header}>\n                                {showUserLabel && (\n                                    <UserLabel\n                                        user={insertUser}\n                                        date={dateInserted}\n                                        dateLink={url}\n                                        category={category}\n                                        displayOptions={{\n                                            showCategory: showCategoryLink,\n                                            showRole: true,\n                                        }}\n                                    />\n                                )}\n\n                                {name && (\n                                    <SmartLink\n                                        to={url}\n                                        className={classNames(classes.titleLink, { [classes.isPadded]: showUserLabel })}\n                                    >\n                                        <h2 className={classes.title}>{name}</h2>\n                                    </SmartLink>\n                                )}\n\n                                {!showUserLabel && showCompactUserInfo && (\n                                    <UserLabel\n                                        user={insertUser}\n                                        date={dateInserted}\n                                        dateLink={url}\n                                        compact={true}\n                                        category={category}\n                                        displayOptions={{ showCategory: showCategoryLink }}\n                                        fixLineHeight={!showUserLabel && !name}\n                                    />\n                                )}\n                            </header>\n                        )}\n                        <CollapsableContent\n                            className={classNames(classes.content, { [classes.paddingAdjustment]: showHeader })}\n                            isExpandedDefault={!!expandByDefault}\n                        >\n                            <blockquote className={classes.blockquote} cite={url}>\n                                <UserContent content={body} />\n                            </blockquote>\n                        </CollapsableContent>\n                    </div>\n\n                    {(linkToDiscussion || linkToPost) && (\n                        <footer className={classes.footer}>\n                            <hr className={classes.footerSeparator} aria-hidden={true} />\n                            <div className={classes.footerMain}>\n                                {linkToDiscussion}\n                                {linkToPost}\n                            </div>\n                        </footer>\n                    )}\n                </article>\n            </EmbedContent>\n        </EmbedContainer>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { IBaseEmbedProps } from \"@library/embeddedContent/embedService\";\nimport { EmbedContainer } from \"@library/embeddedContent/components/EmbedContainer\";\nimport { EmbedContent } from \"@library/embeddedContent/components/EmbedContent\";\n\ninterface IProps extends IBaseEmbedProps {\n    playlistID?: number;\n    showArtwork: boolean;\n    trackID?: number;\n    userID?: number;\n    useVisualPlayer: boolean;\n}\n\n/**\n * A class for rendering SoundCloud embeds.\n */\nexport function SoundCloudEmbed(props: IProps): JSX.Element {\n    const frameSource = soundCloudPlayerUrl(props);\n\n    return (\n        <EmbedContainer>\n            <EmbedContent type={props.embedType}>\n                <div className=\"embedExternal embedSoundCloud\">\n                    <div className=\"embedExternal-content\">\n                        <iframe width=\"100%\" scrolling=\"no\" src={frameSource} />\n                    </div>\n                </div>\n            </EmbedContent>\n        </EmbedContainer>\n    );\n}\n\nfunction soundCloudPlayerUrl(props: IProps): string {\n    let resourceType: string;\n    let resourceID: number;\n\n    if (props.playlistID) {\n        resourceType = \"playlists\";\n        resourceID = props.playlistID;\n    } else if (props.trackID) {\n        resourceType = \"tracks\";\n        resourceID = props.trackID;\n    } else if (props.userID) {\n        resourceType = \"users\";\n        resourceID = props.userID;\n    } else {\n        throw new Error(\"Unable to determine SoundCloud resource type.\");\n    }\n\n    const parameters = {\n        show_artwork: props.showArtwork,\n        visual: props.useVisualPlayer,\n        url: `https://api.soundcloud.com/${resourceType}/${resourceID}`,\n    };\n    const query = Object.keys(parameters)\n        .map((key) => encodeURIComponent(key) + \"=\" + encodeURIComponent(parameters[key]))\n        .join(\"&\");\n\n    return `https://w.soundcloud.com/player/?${query}`;\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { percent } from \"csx\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\n\nexport const twitterEmbedClasses = useThemeCache(() => {\n    const style = styleFactory(\"twitter\");\n    const mediaQueries = layoutVariables().mediaQueries();\n\n    const card = style(\n        \"card\",\n        {\n            display: \"inline-flex\",\n            minWidth: styleUnit(554),\n            maxWidth: percent(100),\n        },\n        mediaQueries.oneColumnDown({\n            minWidth: \"auto\",\n        }),\n    );\n\n    return { card };\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ensureScript } from \"@vanilla/dom-utils\";\nimport { EmbedContent } from \"@library/embeddedContent/components/EmbedContent\";\nimport { IBaseEmbedProps } from \"@library/embeddedContent/embedService\";\nimport { twitterEmbedClasses } from \"@library/embeddedContent/twitterEmbedStyles\";\nimport { visibility } from \"@library/styles/styleHelpers\";\nimport classNames from \"classnames\";\nimport React, { useEffect, useState, useLayoutEffect } from \"react\";\nimport { useThrowError } from \"@vanilla/react-utils\";\n\ninterface IProps extends IBaseEmbedProps {\n    statusID: string;\n}\n\nconst TWITTER_SCRIPT = \"https://platform.twitter.com/widgets.js\";\n\n/**\n * A class for rendering Twitter embeds.\n */\nexport function TwitterEmbed(props: IProps): JSX.Element {\n    const [twitterLoaded, setTwitterLoaded] = useState(false);\n    const throwError = useThrowError();\n    const classes = twitterEmbedClasses();\n    const { onRenderComplete } = props;\n\n    useLayoutEffect(() => {\n        // Don't count our tweet as rendered until the tweet is fully loaded.\n        onRenderComplete && onRenderComplete();\n    }, [twitterLoaded, onRenderComplete]);\n\n    useEffect(() => {\n        void convertTwitterEmbeds()\n            .then(() => {\n                // We need to track the load status for the internal representation.\n                // Otherwise we end up with a flash of the URL next to the rendered tweet.\n                setTwitterLoaded(true);\n            })\n            .catch(throwError);\n    }, [setTwitterLoaded, throwError]);\n\n    return (\n        <>\n            {!twitterLoaded && (\n                <div className={classNames(\"embedLinkLoader\")}>\n                    <a href={props.url} className=\"embedLinkLoader-link\" rel=\"nofollow\">\n                        {props.url} <span aria-hidden=\"true\" className=\"embedLinkLoader-loader\" />\n                    </a>\n                </div>\n            )}\n            <EmbedContent\n                type={props.embedType}\n                isSmall\n                className={twitterLoaded ? undefined : visibility().visuallyHidden}\n            >\n                <div\n                    className={classNames(\"js-twitterCard\", classes.card)}\n                    data-tweeturl={props.url}\n                    data-tweetid={props.statusID}\n                >\n                    <a href={props.url} className=\"tweet-url\" rel=\"nofollow noreferrer ugc\">\n                        {props.url}\n                    </a>\n                </div>\n            </EmbedContent>\n        </>\n    );\n}\n\nTwitterEmbed.async = true;\n\n/**\n * Render a single twitter embed.\n */\nasync function renderTweet(contentElement: HTMLElement) {\n    if (!window.twttr) {\n        throw new Error(\"The Twitter widget failed to load.\");\n    }\n\n    // Ensure we have a status id to look up.\n    const statusID = contentElement.getAttribute(\"data-tweetid\");\n    if (statusID == null) {\n        throw new Error(\"Attempted to embed a tweet but the statusID could not be found\");\n    }\n\n    // Check that we haven't already started to load this embed (In the case multiple onContents are fired off).\n    if (\n        !contentElement.classList.contains(\"js-twitterCardLoaded\") &&\n        !contentElement.classList.contains(\"js-twitterCardPreload\")\n    ) {\n        contentElement.classList.add(\"js-twitterCardPreload\");\n\n        // Remove a url if there is one around.\n        const url = contentElement.querySelector(\".tweet-url\");\n        if (url) {\n            url.remove();\n        }\n\n        // Render the embed.\n        const options = { conversation: \"none\" };\n        await window.twttr.widgets.createTweet(statusID, contentElement, options);\n\n        // Fade it in.\n        contentElement.classList.add(\"js-twitterCardLoaded\");\n    }\n}\n\n/**\n * Convert all of the twitter embeds in the page. This is for transforming twitter embeds that were\n * server rendered.\n *\n * @see library/Vanilla/Embeds/EmbedManager.php\n */\nexport async function convertTwitterEmbeds() {\n    const tweets = Array.from(document.querySelectorAll(\".js-twitterCard\"));\n    if (tweets.length > 0) {\n        await ensureScript(TWITTER_SCRIPT);\n        const promises = tweets.map((contentElement) => {\n            return renderTweet(contentElement as HTMLElement);\n        });\n\n        // Render all the pages twitter embeds at the same time.\n        await Promise.all(promises);\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { EmbedContainer } from \"@library/embeddedContent/components/EmbedContainer\";\nimport { EmbedContent } from \"@library/embeddedContent/components/EmbedContent\";\nimport { IBaseEmbedProps } from \"@library/embeddedContent/embedService\";\nimport { t } from \"@library/utility/appUtils\";\nimport { simplifyFraction } from \"@vanilla/utils\";\nimport classNames from \"classnames\";\nimport React, { useCallback, useState } from \"react\";\nimport { style } from \"@library/styles/styleShim\";\nimport { percent } from \"csx\";\n\ninterface IProps extends IBaseEmbedProps {\n    height: number;\n    width: number;\n    photoUrl: string;\n    frameSrc: string;\n    time?: string;\n}\n\nexport function VideoEmbed(props: IProps) {\n    const { name, height, width, frameSrc, photoUrl, embedType } = props;\n\n    const [isPlaying, setIsPlaying] = useState(false);\n\n    const togglePlaying = useCallback(() => {\n        setIsPlaying(!isPlaying);\n    }, [setIsPlaying, isPlaying]);\n\n    let ratioClass: string | undefined;\n    const ratio = simplifyFraction(height || 3, width || 4);\n    switch (ratio.shorthand) {\n        case \"21:9\":\n            ratioClass = \"is21by9\";\n            break;\n        case \"4:3\":\n            ratioClass = \"is4by3\";\n            break;\n        case \"1:1\":\n            ratioClass = \"is1by1\";\n            break;\n        case \"16:9\":\n            ratioClass = \"is16by9\";\n            break;\n        default:\n            ratioClass = style({\n                label: \"isCustomRatio\",\n                paddingTop: percent(((height || 3) / (width || 4)) * 100),\n            });\n    }\n\n    return (\n        <EmbedContainer className=\"embedVideo\">\n            <EmbedContent type={embedType}>\n                <div className={classNames(\"embedVideo-ratio\", ratioClass)}>\n                    {isPlaying ? (\n                        <VideoIframe url={frameSrc} />\n                    ) : (\n                        <VideoThumbnail name={name} onClick={togglePlaying} photoUrl={photoUrl} />\n                    )}\n                </div>\n            </EmbedContent>\n        </EmbedContainer>\n    );\n}\n\nfunction VideoThumbnail(props: { name?: string; onClick: React.MouseEventHandler; photoUrl: string }) {\n    return (\n        <button type=\"button\" aria-label={props.name} className=\"embedVideo-playButton\" onClick={props.onClick}>\n            <img src={props.photoUrl} role=\"presentation\" className=\"embedVideo-thumbnail\" />\n            <span className=\"embedVideo-playIconWrap\">\n                <PlayIcon />\n            </span>\n        </button>\n    );\n}\n\nfunction VideoIframe(props: { url: string }) {\n    return (\n        <iframe\n            frameBorder=\"0\"\n            allow=\"autoplay; encrypted-media\"\n            className=\"embedVideo-iframe\"\n            src={props.url}\n            allowFullScreen={true}\n        />\n    );\n}\n\nfunction PlayIcon() {\n    const cssStyle: React.CSSProperties = { fill: \"currentColor\", strokeWidth: 0.3 };\n\n    return (\n        <svg className=\"embedVideo-playIcon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-1 -1 24 24\">\n            <title>{t(\"Play Video\")}</title>\n            <polygon\n                className=\"embedVideo-playIconPath embedVideo-playIconPath-triangle\"\n                style={cssStyle}\n                points=\"8.609 6.696 8.609 15.304 16.261 11 8.609 6.696\"\n            />\n        </svg>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { BrightcoveEmbed } from \"@library/embeddedContent/BrightcoveEmbed\";\nimport { CodePenEmbed } from \"@library/embeddedContent/CodePenEmbed\";\nimport { EmbedErrorBoundary } from \"@library/embeddedContent/components/EmbedErrorBoundary\";\nimport { FileEmbed } from \"@library/embeddedContent/FileEmbed\";\nimport { GettyImagesEmbed } from \"@library/embeddedContent/GettyImagesEmbed\";\nimport { GiphyEmbed } from \"@library/embeddedContent/GiphyEmbed\";\nimport { IFrameEmbed, supportsFrames } from \"@library/embeddedContent/IFrameEmbed\";\nimport { ImageEmbed } from \"@library/embeddedContent/ImageEmbed\";\nimport { ImgurEmbed } from \"@library/embeddedContent/ImgurEmbed\";\nimport { InstagramEmbed } from \"@library/embeddedContent/InstagramEmbed\";\nimport { LinkEmbed } from \"@library/embeddedContent/LinkEmbed\";\nimport { PanoptoEmbed } from \"@library/embeddedContent/PanoptoEmbed\";\nimport { QuoteEmbed } from \"@library/embeddedContent/QuoteEmbed\";\nimport { SoundCloudEmbed } from \"@library/embeddedContent/SoundCloudEmbed\";\nimport { convertTwitterEmbeds, TwitterEmbed } from \"@library/embeddedContent/TwitterEmbed\";\nimport { VideoEmbed } from \"@library/embeddedContent/VideoEmbed\";\nimport ScreenReaderContent from \"@library/layout/ScreenReaderContent\";\nimport { onContent, t } from \"@library/utility/appUtils\";\nimport { uniqueIDFromPrefix } from \"@library/utility/idUtils\";\nimport { mountReact } from \"@vanilla/react-utils\";\nimport { logError, logWarning } from \"@vanilla/utils\";\nimport React from \"react\";\nimport { EmbedContext, IEmbedContext } from \"./IEmbedContext\";\n\nconst EMBED_DESCRIPTION_ID = uniqueIDFromPrefix(\"embed-description\");\n\nexport interface IBaseEmbedData {\n    embedType: string;\n    url: string;\n    name?: string;\n}\n\nexport interface IBaseEmbedProps extends IEmbedContext, IBaseEmbedData {\n    [key: string]: any;\n}\n\ntype EmbedComponentType = React.ComponentType<IBaseEmbedProps> & {\n    async?: boolean;\n};\n\nconst registeredEmbeds = new Map<string, EmbedComponentType>();\n\nexport function registerEmbed(embedType: string, EmbedComponent: EmbedComponentType) {\n    registeredEmbeds.set(embedType, EmbedComponent);\n}\n\nexport function getEmbedForType(embedType: string): EmbedComponentType | null {\n    return registeredEmbeds.get(embedType) || null;\n}\n\nexport async function mountEmbed(mountPoint: HTMLElement, data: IBaseEmbedProps, inEditor: boolean) {\n    ensureBuiltinEmbeds();\n    return new Promise((resolve, reject) => {\n        const type = data.embedType || null;\n        if (type === null) {\n            logWarning(`Found embed with data`, data, `and no type on element`, mountPoint);\n            return;\n        }\n        const exception: string | null = \"exception\" in data ? data[\"exception\"] : null;\n        if (exception !== null) {\n            logWarning(`Found embed with data`, data, `and and exception`, exception, ` on element`, mountPoint);\n            return;\n        }\n        const EmbedClass = getEmbedForType(type);\n        if (EmbedClass === null) {\n            logWarning(\n                `Attempted to mount embed type ${type} on element`,\n                mountPoint,\n                `but could not find registered embed.`,\n            );\n            return;\n        }\n        mountPoint.removeAttribute(\"data-embedJson\");\n\n        const isAsync = EmbedClass.async;\n        const onMountComplete = () => resolve();\n        ensureEmbedDescription();\n\n        data = {\n            ...data,\n            descriptionID: EMBED_DESCRIPTION_ID,\n        };\n\n        // If the component is flagged as async, then it will confirm when the render is complete.\n        mountReact(\n            <EmbedErrorBoundary url={data.url}>\n                <EmbedContext.Provider value={data}>\n                    <EmbedClass\n                        {...data}\n                        inEditor={inEditor}\n                        onRenderComplete={isAsync ? onMountComplete : undefined}\n                    />\n                </EmbedContext.Provider>\n            </EmbedErrorBoundary>,\n            mountPoint,\n            !isAsync ? onMountComplete : undefined,\n            { bypassPortalManager: true },\n        );\n    });\n}\n\nfunction EmbedDescription() {\n    return (\n        <ScreenReaderContent id={EMBED_DESCRIPTION_ID} aria-hidden={true}>\n            {t(\"richEditor.externalEmbed.description\")}\n        </ScreenReaderContent>\n    );\n}\n\nfunction ensureEmbedDescription() {\n    // Ensure we have our modal container.\n    let description = document.getElementById(EMBED_DESCRIPTION_ID);\n\n    if (!description) {\n        description = document.createElement(\"div\");\n        document.body.append(description);\n        mountReact(<EmbedDescription />, description);\n    }\n}\n\nexport async function mountAllEmbeds(root: HTMLElement = document.body) {\n    const mountPoints = root.querySelectorAll(\".js-embed[data-embedjson]\");\n    const promises = Array.from(mountPoints).map((mountPoint) => {\n        try {\n            const parsedData = JSON.parse(mountPoint.getAttribute(\"data-embedjson\") || \"{}\");\n            return mountEmbed(mountPoint as HTMLElement, parsedData, false);\n        } catch (e) {\n            logError(\"failed to mountEmbed\", { error: e, mountPoint });\n            return Promise.resolve();\n        }\n    });\n    await Promise.all(promises);\n}\n\nlet builtinsRegistered = false;\n\n/**\n * Mount the built-in embeds if they aren't already.\n */\nfunction ensureBuiltinEmbeds() {\n    if (builtinsRegistered) {\n        return;\n    }\n    builtinsRegistered = true;\n    // Default embed registration\n    registerEmbed(\"codepen\", CodePenEmbed);\n    registerEmbed(\"file\", FileEmbed);\n    registerEmbed(\"gettyimages\", GettyImagesEmbed);\n    registerEmbed(\"getty\", GettyImagesEmbed);\n    registerEmbed(\"giphy\", GiphyEmbed);\n    registerEmbed(\"imgur\", ImgurEmbed);\n    registerEmbed(\"instagram\", InstagramEmbed);\n    registerEmbed(\"link\", LinkEmbed);\n    registerEmbed(\"quote\", QuoteEmbed);\n    registerEmbed(\"soundcloud\", SoundCloudEmbed);\n    registerEmbed(\"twitch\", VideoEmbed);\n    registerEmbed(\"twitter\", TwitterEmbed);\n    registerEmbed(\"vimeo\", VideoEmbed);\n    registerEmbed(\"wistia\", VideoEmbed);\n    registerEmbed(\"youtube\", VideoEmbed);\n    registerEmbed(\"panopto\", PanoptoEmbed);\n    registerEmbed(\"image\", ImageEmbed);\n    registerEmbed(\"brightcove\", BrightcoveEmbed);\n\n    if (supportsFrames()) {\n        registerEmbed(\"iframe\", IFrameEmbed);\n    }\n}\n\n// This is specifically required because of some legacy formats that don't render\n// The embed json format. Twitter was converted out of global JS and merged here.\nonContent(convertTwitterEmbeds);\n","/**\n * Wire together the different parts of the application.\n *\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { initCodeHighlighting } from \"@library/content/code\";\nimport { initEmojiSupport } from \"@library/content/emoji\";\nimport { initSpoilers } from \"@library/content/spoilers\";\nimport { mountAllEmbeds } from \"@library/embeddedContent/embedService\";\nimport { autoWrapCollapsableContent } from \"@library/content/CollapsableContent\";\n\nexport async function initAllUserContent() {\n    await autoWrapCollapsableContent();\n    initEmojiSupport();\n    initSpoilers();\n    await mountAllEmbeds();\n    initCodeHighlighting();\n}\n\n/**\n * Runs method for all embeds that need to be rendered everytime content changes.\n * This is ideal for something like react's `componentDidMount`.\n */\nexport function convertAllUserContent() {\n    mountAllEmbeds();\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { onReady, onContent } from \"@library/utility/appUtils\";\nimport { convertToSafeEmojiCharacters } from \"@vanilla/dom-utils\";\n\nexport function initEmojiSupport() {\n    // Emoji\n    onReady(() => convertToSafeEmojiCharacters(document.body));\n    onContent(() => convertToSafeEmojiCharacters(document.body));\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { color, em, percent } from \"csx\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { containerVariables } from \"@library/layout/components/containerStyles\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\nimport { lineHeightAdjustment } from \"@library/styles/textUtils\";\n\nexport const typographyClasses = useThemeCache(() => {\n    const style = styleFactory(\"typography\");\n    const globalVars = globalVariables();\n    const mediaQueries = layoutVariables().mediaQueries();\n\n    const pageTitle = style(\n        \"pageTitle\",\n        {\n            fontSize: styleUnit(globalVars.fonts.size.title),\n            fontWeight: globalVars.fonts.sizeWeight.title ?? undefined,\n            lineHeight: globalVars.lineHeights.condensed,\n            transform: `translateX(${em(globalVars.fonts.alignment.headings.horizontalOffset)})`,\n            margin: 0,\n            ...lineHeightAdjustment(),\n        },\n        mediaQueries.oneColumnDown({\n            fontSize: styleUnit(globalVars.fonts.mobile.size.title),\n        }),\n    );\n\n    const largeTitle = style(\n        \"largeTitle\",\n        {\n            width: percent(100),\n            fontSize: styleUnit(globalVars.fonts.size.largeTitle),\n        },\n        mediaQueries.oneColumnDown({\n            fontSize: styleUnit(globalVars.fonts.mobile.size.title),\n        }),\n    );\n\n    const subTitle = style(\"subTitle\", {\n        fontSize: styleUnit(globalVars.fonts.size.subTitle),\n    });\n\n    const componentSubTitle = style(\"componentSubTitle\", {\n        fontSize: styleUnit(globalVars.fonts.size.large),\n    });\n\n    return {\n        largeTitle,\n        pageTitle,\n        subTitle,\n        componentSubTitle,\n    };\n});\n","/**\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport classNames from \"classnames\";\nimport { typographyClasses } from \"@library/styles/typographyStyles\";\nimport { cx } from \"@library/styles/styleShim\";\n\nexport interface ICommonHeadingProps {\n    id?: string;\n    depth?: 1 | 2 | 3 | 4 | 5 | 6;\n    renderAsDepth?: 1 | 2 | 3 | 4 | 5 | 6;\n    className?: string;\n    title?: React.ReactNode;\n}\n\nexport interface IHeadingProps extends ICommonHeadingProps, Omit<React.HTMLAttributes<HTMLHeadingElement>, \"title\"> {\n    isLarge?: boolean;\n    children?: React.ReactNode;\n}\n\n/**\n * A component representing a element.\n */\nconst Heading = React.forwardRef<HTMLHeadingElement, IHeadingProps>(function Heading(props: IHeadingProps, ref) {\n    const { children, title, depth, renderAsDepth, className, isLarge, ...restProps } = props;\n    const finalDepth = depth ?? 2;\n    const finalRenderDepth = renderAsDepth ?? finalDepth;\n\n    const isPageTitle = finalRenderDepth === 1;\n    const isSubTitle = finalRenderDepth === 2;\n    const isComponentSubTitle = finalRenderDepth >= 3;\n\n    const Tag = `h${finalDepth}` as \"h1\";\n    const classes = typographyClasses();\n\n    return (\n        <Tag\n            {...restProps}\n            ref={ref}\n            className={cx(\n                {\n                    [classes.pageTitle]: isPageTitle,\n                    [classes.largeTitle]: isLarge,\n                    [classes.subTitle]: isSubTitle,\n                    [classes.componentSubTitle]: isComponentSubTitle,\n                },\n                \"heading\",\n                `heading-${finalRenderDepth}`,\n                className,\n            )}\n        >\n            {children ?? title}\n        </Tag>\n    );\n});\n\nexport default Heading;\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ILinkStates } from \"@library/styles/styleHelpersLinks\";\nimport { logDebug } from \"@vanilla/utils/src/debugUtils\";\nimport { CSSObject } from \"@emotion/css\";\n\n// Similar to ILinkStates, but can be button or link, so we don't have link specific states here and not specific to colors\nexport interface IActionStates {\n    noState?: object;\n    allStates?: object; // Applies to all\n    hover?: object;\n    focus?: object;\n    clickFocus?: object; // Focused, not through keyboard?: object;\n    keyboardFocus?: object; // Optionally different state for keyboard accessed element. Will default to \"focus\" state if not set.\n    active?: object;\n}\n\nexport interface IStateSelectors {\n    noState?: string;\n    allStates?: string; // Applies to all\n    hover?: string;\n    focus?: string;\n    clickFocus?: string; // Focused, not through keyboard?: object;\n    keyboardFocus?: string; // Optionally different state for keyboard accessed element. Will default to \"focus\" state if not set.\n    active?: string;\n}\n\nexport interface IButtonStates {\n    allStates?: object; // Applies to all\n    noState?: object; // Applies to stateless link\n    hover?: object;\n    focus?: object;\n    clickFocus?: object; // Focused, not through keyboard\n    keyboardFocus?: object; // Optionally different state for keyboard accessed element. Will default to \"focus\" state if not set.\n    active?: object;\n}\n\nexport const allLinkStates = (styles: ILinkStates, nested?: object): CSSObject => {\n    const output: CSSObject = allButtonStates(styles, nested, true);\n    const visited = styles.visited !== undefined ? styles.visited : styles.noState || {};\n    output[\":visited\"] = { ...visited };\n    return output;\n};\n\nexport const allButtonStates = (\n    styles: IButtonStates,\n    nested?: object,\n    isLink?: boolean,\n    debugMode?: boolean,\n): CSSObject => {\n    const allStates = styles.allStates !== undefined ? styles.allStates : {};\n    const noState = styles.noState !== undefined ? styles.noState : {};\n\n    const disabledStyles = isLink\n        ? {}\n        : {\n              \"&:disabled\": {\n                  opacity: 0.5,\n              },\n          };\n\n    const output = {\n        ...allStates,\n        ...noState,\n        ...noState,\n        \"&:hover:not(:disabled)\": { ...allStates, ...styles.hover },\n        \"&:focus\": { ...allStates, ...styles.focus },\n        \"&:focus:not(.focus-visible)\": { ...allStates, ...styles.clickFocus },\n        \"&&.focus-visible\": { ...allStates, ...styles.keyboardFocus },\n        \"&:active:not(:disabled)\": { ...allStates, ...styles.active },\n        ...disabledStyles,\n        ...nested,\n    };\n\n    if (debugMode) {\n        logDebug(\"allButtonStates: \");\n        logDebug(\"style: \", styles);\n        logDebug(\"nested: \", nested);\n        logDebug(\"output: \", output);\n    }\n\n    return output;\n};\n\n/*\n * Helper to write CSS state styles. Note this one is for buttons or links\n * *** You must use this inside of a \"$nest\" ***\n */\nexport const buttonStates = (styles: IActionStates, nest?: object, classBasedStates?: IStateSelectors) => {\n    const allStates = styles.allStates !== undefined ? styles.allStates : {};\n    const hover = styles.hover !== undefined ? styles.hover : {};\n    const focus = styles.focus !== undefined ? styles.focus : {};\n    const clickFocus = styles.clickFocus !== undefined ? styles.clickFocus : {};\n    const keyboardFocus = styles.keyboardFocus !== undefined ? styles.keyboardFocus : {};\n    const active = styles.active !== undefined ? styles.active : {};\n    const noState = styles.noState !== undefined ? styles.noState : {};\n\n    if (!classBasedStates) {\n        classBasedStates = {};\n    }\n\n    return {\n        [appendExtraSelector(\"&\", classBasedStates.allStates)]: { ...allStates, ...noState },\n        [appendExtraSelector(\"&:hover\", classBasedStates.hover)]: { ...allStates, ...hover },\n        [appendExtraSelector(\"&:focus\", classBasedStates.focus)]: { ...allStates, ...focus },\n        [appendExtraSelector(\"&:focus:not(.focus-visible)\", classBasedStates.clickFocus)]: {\n            ...allStates,\n            ...clickFocus,\n        },\n        [appendExtraSelector(\"&.focus-visible\", classBasedStates.keyboardFocus)]: {\n            ...allStates,\n            ...keyboardFocus,\n        },\n        [appendExtraSelector(\"&&:active\", classBasedStates.active)]: { ...allStates, ...active },\n        ...nest,\n    };\n};\n\nconst appendExtraSelector = (currentSelector: string, additionnalSelector) => {\n    if (additionnalSelector) {\n        return `${currentSelector}, ${additionnalSelector}`;\n    } else {\n        return currentSelector;\n    }\n};\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { color, ColorHelper } from \"csx\";\nimport { ColorsUtils } from \"./ColorsUtils\";\n\nexport const ensureColorHelper = (colorValue: string | ColorHelper) => {\n    return typeof colorValue === \"string\" ? color(colorValue) : colorValue;\n};\n\nexport const colorOut = ColorsUtils.colorOut;\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { AppearanceProperty, PointerEventsProperty, UserSelectProperty } from \"csstype\";\nimport { important } from \"csx\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { CSSObject } from \"@emotion/css\";\n\nexport const userSelect = (value: UserSelectProperty = \"none\", isImportant: boolean = false): CSSObject => {\n    const val = (isImportant ? important(value) : value) as any;\n    return {\n        WebkitUserSelect: val,\n        MozUserSelect: val,\n        msUserSelect: val,\n        userSelect: val,\n    };\n};\n\nexport const pointerEvents = (value: PointerEventsProperty = \"none\") => {\n    return {\n        pointerEvents: important(value),\n    };\n};\n\nexport const pointerEventsClass = (value: PointerEventsProperty = \"none\") => {\n    const style = styleFactory(\"pointerEvents\");\n    return style(pointerEvents(value));\n};\n\nexport const disabledInput = () => {\n    const formElementVars = formElementsVariables();\n    return {\n        pointerEvents: important(\"none\"),\n        ...userSelect(\"none\", true),\n        cursor: important(\"default\"),\n        opacity: important((formElementVars.disabled.opacity as any).toString()),\n    };\n};\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { CSSObject } from \"@emotion/css\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { calc } from \"csx\";\n\n/**\n * Extend an item container outward to compensate for item paddings.\n * Usually used in a grid.\n *\n * If you use this function, make sure the parent is set to 100% width with over flow hidden.\n *\n * @param itemPaddingX A single unit of padding of a horizontal side of the item.\n */\nexport function extendItemContainer(itemPaddingX: number): CSSObject {\n    return {\n        width: calc(`100% + ${styleUnit(itemPaddingX * 2)}`),\n        marginLeft: styleUnit(-itemPaddingX),\n    };\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport {\n    AlignItemsProperty,\n    BottomProperty,\n    DisplayProperty,\n    FlexWrapProperty,\n    JustifyContentProperty,\n    LeftProperty,\n    PositionProperty,\n    RightProperty,\n} from \"csstype\";\nimport { TLength } from \"@library/styles/styleShim\";\nimport { CSSObject } from \"@emotion/css\";\nimport { percent, px } from \"csx\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\n\nexport const absolutePosition = {\n    topRight: (top: string | number = \"0\", right: RightProperty<TLength> = px(0)): CSSObject => {\n        return {\n            position: \"absolute\" as PositionProperty,\n            top: styleUnit(top),\n            right: styleUnit(right),\n        };\n    },\n    topLeft: (top: string | number = \"0\", left: LeftProperty<TLength> = px(0)): CSSObject => {\n        return {\n            position: \"absolute\" as PositionProperty,\n            top: styleUnit(top),\n            left: styleUnit(left),\n        };\n    },\n    bottomRight: (bottom: BottomProperty<TLength> = px(0), right: RightProperty<TLength> = px(0)): CSSObject => {\n        return {\n            position: \"absolute\" as PositionProperty,\n            bottom: styleUnit(bottom),\n            right: styleUnit(right),\n        };\n    },\n    bottomLeft: (bottom: BottomProperty<TLength> = px(0), left: LeftProperty<TLength> = px(0)): CSSObject => {\n        return {\n            position: \"absolute\" as PositionProperty,\n            bottom: styleUnit(bottom),\n            left: styleUnit(left),\n        };\n    },\n    middleOfParent: (shrink: boolean = false): CSSObject => {\n        if (shrink) {\n            return {\n                position: \"absolute\" as PositionProperty,\n                display: \"inline-block\",\n                top: percent(50),\n                left: percent(50),\n                right: \"initial\",\n                bottom: \"initial\",\n                transform: \"translate(-50%, -50%)\",\n            };\n        } else {\n            return {\n                position: \"absolute\" as PositionProperty,\n                display: \"block\",\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                maxHeight: percent(100),\n                maxWidth: percent(100),\n                margin: \"auto\",\n            };\n        }\n    },\n    middleLeftOfParent: (left: LeftProperty<TLength> = px(0)): CSSObject => {\n        return {\n            position: \"absolute\" as PositionProperty,\n            display: \"block\",\n            top: 0,\n            left,\n            bottom: 0,\n            maxHeight: percent(100),\n            maxWidth: percent(100),\n            margin: \"auto 0\",\n        };\n    },\n    middleRightOfParent: (right: RightProperty<TLength> = px(0)): CSSObject => {\n        return {\n            position: \"absolute\" as PositionProperty,\n            display: \"block\",\n            top: 0,\n            right,\n            bottom: 0,\n            maxHeight: percent(100),\n            maxWidth: percent(100),\n            margin: \"auto 0\",\n        };\n    },\n    fullSizeOfParent: (): CSSObject => {\n        return {\n            display: \"block\",\n            position: \"absolute\" as PositionProperty,\n            top: px(0),\n            left: px(0),\n            width: percent(100),\n            height: percent(100),\n        };\n    },\n};\n\nexport function sticky(): CSSObject {\n    return {\n        position: [\"-webkit-sticky\", \"sticky\"],\n    };\n}\n\nexport function flexHelper() {\n    const middle = (wrap = false): CSSObject => {\n        return {\n            display: \"flex\" as DisplayProperty,\n            alignItems: \"center\" as AlignItemsProperty,\n            justifyContent: \"center\" as JustifyContentProperty,\n            flexWrap: (wrap ? \"wrap\" : \"nowrap\") as FlexWrapProperty,\n        };\n    };\n\n    const middleLeft = (wrap = false): CSSObject => {\n        return {\n            display: \"flex\" as DisplayProperty,\n            alignItems: \"center\" as AlignItemsProperty,\n            justifyContent: \"flex-start\" as JustifyContentProperty,\n            flexWrap: wrap ? \"wrap\" : (\"nowrap\" as FlexWrapProperty),\n        };\n    };\n\n    return { middle, middleLeft };\n}\n\nexport function fullSizeOfParent(): CSSObject {\n    return {\n        position: \"absolute\",\n        display: \"block\",\n        top: px(0),\n        left: px(0),\n        width: percent(100),\n        height: percent(100),\n    };\n}\n\nexport const inheritHeightClass = useThemeCache(() => {\n    const style = styleFactory(\"inheritHeight\");\n    return style({\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexGrow: 1,\n        position: \"relative\",\n    });\n});\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { CSSObject } from \"@emotion/css\";\nimport { AppearanceProperty } from \"csstype\";\nimport { important } from \"csx\";\n\nexport const appearance = (value: AppearanceProperty = \"none\", isImportant: boolean = false): CSSObject => {\n    const val = (isImportant ? important(value) : value) as any;\n    return {\n        WebkitAppearance: val,\n        MozAppearance: val,\n        appearance: val,\n    };\n};\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { keyframes } from \"@library/styles/styleShim\";\nimport { ColorHelper, deg, percent, quote } from \"csx\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { ContentProperty, DisplayProperty, PositionProperty } from \"csstype\";\nimport { defaultTransition } from \"@library/styles/styleHelpersAnimation\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { CSSObject } from \"@emotion/css\";\n\nconst spinnerOffset = 73;\nconst spinnerLoaderAnimation = keyframes({\n    \"0%\": { transform: `rotate(${deg(spinnerOffset)})` },\n    \"100%\": { transform: `rotate(${deg(360 + spinnerOffset)})` },\n});\n\nexport interface ISpinnerProps {\n    color?: ColorHelper;\n    dimensions?: string | number;\n    thickness?: string | number;\n    size?: string | number;\n    speed?: string;\n}\n\nconst DEFAULT_SPEED = \"0.7s\";\n\nexport function spinnerLoaderAnimationProperties(): CSSObject {\n    return {\n        ...defaultTransition(\"opacity\"),\n        animationName: spinnerLoaderAnimation,\n        animationDuration: DEFAULT_SPEED,\n        animationIterationCount: \"infinite\",\n        animationTimingFunction: \"ease-in-out\",\n    };\n}\n\nexport const spinnerLoader = (props: ISpinnerProps) => {\n    const globalVars = globalVariables();\n    const spinnerVars = {\n        color: props.color || globalVars.mainColors.primary,\n        size: props.size || 18,\n        thickness: props.thickness || 3,\n        ...props,\n    };\n    return {\n        position: \"relative\" as PositionProperty,\n        content: quote(\"\") as ContentProperty,\n        display: \"block\" as DisplayProperty,\n        width: styleUnit(spinnerVars.size),\n        height: styleUnit(spinnerVars.size),\n        borderRadius: percent(50),\n        borderTop: `${styleUnit(spinnerVars.thickness)} solid ${spinnerVars.color.toString()}`,\n        borderRight: `${styleUnit(spinnerVars.thickness)} solid ${spinnerVars.color.fade(0.3).toString()}`,\n        borderBottom: `${styleUnit(spinnerVars.thickness)} solid ${spinnerVars.color.fade(0.3).toString()}`,\n        borderLeft: `${styleUnit(spinnerVars.thickness)} solid ${spinnerVars.color.fade(0.3).toString()}`,\n        transform: \"translateZ(0)\",\n        ...spinnerLoaderAnimationProperties(),\n    };\n};\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { important } from \"csx\";\nexport type areaHiddenType = \"true\" | \"false\" | boolean | undefined;\n\nexport const visibility = useThemeCache(() => {\n    const style = styleFactory(\"visibility\");\n    const onEmpty = (nest?: object) => {\n        return style(\"onEmpty\", {\n            ...{\n                \"&:empty\": {\n                    display: \"none\",\n                },\n                ...nest,\n            },\n        });\n    };\n\n    const visuallyHidden = style(\"srOnly\", Mixins.absolute.srOnly());\n\n    const displayNone = style(\"displayNone\", {\n        display: important(\"none\"),\n    });\n\n    return {\n        onEmpty,\n        displayNone,\n        visuallyHidden,\n    };\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { IBaseEmbedProps } from \"@library/embeddedContent/embedService\";\nimport { EMBED_FOCUS_CLASS } from \"@library/embeddedContent/embedConstants\";\nimport { useEmbedContext } from \"@library/embeddedContent/IEmbedContext\";\nimport classNames from \"classnames\";\nimport React, { useRef, useState } from \"react\";\nimport { ImageEmbedModal } from \"@rich-editor/editor/pieces/ImageEmbedModal\";\nimport { EmbedContainer } from \"@library/embeddedContent/components/EmbedContainer\";\nimport { EmbedContainerSize } from \"@library/embeddedContent/components/EmbedContainerSize\";\nimport { EmbedContent } from \"@library/embeddedContent/components/EmbedContent\";\nimport { AccessibleImageMenuIcon } from \"@library/icons/common\";\nimport { t } from \"@vanilla/i18n/src\";\nimport ScreenReaderContent from \"@library/layout/ScreenReaderContent\";\nimport { accessibleLabel } from \"@library/utility/appUtils\";\nimport { EmbedDropdown } from \"@library/embeddedContent/components/EmbedDropdown\";\nimport {\n    AlignCenterIcon,\n    FloatLeftIcon,\n    FloatRightIcon,\n    ResizeLargeIcon,\n    ResizeMediumIcon,\n    ResizeSmallIcon,\n} from \"@library/icons/editorIcons\";\nimport { EmbedButton } from \"@library/embeddedContent/components/EmbedButton\";\nimport { useUniqueID } from \"@library/utility/idUtils\";\ninterface IProps extends IBaseEmbedProps {\n    type: string; // Mime type.\n    size: number;\n    dateInserted: string;\n    name: string;\n    width?: number;\n    height?: number;\n    displaySize?: \"small\" | \"medium\" | \"large\";\n    float?: \"left\" | \"right\" | \"none\";\n}\n\n/**\n * An embed class for quoted user content on the same site.\n */\nexport function ImageEmbed(props: IProps) {\n    const { displaySize = \"large\", float = \"none\", embedType } = props;\n    const contentRef = useRef<HTMLDivElement>(null);\n    const [isOpen, setIsOpen] = useState(false);\n    const { descriptionID } = useEmbedContext();\n\n    function setValue(value) {\n        if (props.syncBackEmbedValue) props.syncBackEmbedValue(value);\n    }\n\n    const floatOptions = {\n        left: { icon: <FloatLeftIcon />, label: t(\"Float Left\") },\n        none: { icon: <AlignCenterIcon />, label: t(\"Centered\") },\n        right: { icon: <FloatRightIcon />, label: t(\"Float Right\") },\n    };\n\n    const displayOptions = {\n        small: { icon: <ResizeSmallIcon />, label: t(\"Small\") },\n        medium: { icon: <ResizeMediumIcon />, label: t(\"Medium\") },\n        large: { icon: <ResizeLargeIcon />, label: t(\"Large\") },\n    };\n\n    return (\n        <EmbedContainer\n            ref={contentRef}\n            size={EmbedContainerSize.FULL_WIDTH}\n            className={classNames(\"embedImage\", `display-${displaySize}`, `float-${float}`)}\n        >\n            <EmbedContent\n                type={embedType}\n                embedActions={\n                    <>\n                        <EmbedDropdown\n                            name=\"placement\"\n                            value={float}\n                            label={floatOptions[float].label}\n                            Icon={() => floatOptions[float].icon}\n                        >\n                            {Object.entries(floatOptions).map(([value, option]) => (\n                                <EmbedDropdown.Option\n                                    key={value}\n                                    Icon={() => option.icon}\n                                    value={value}\n                                    label={option.label}\n                                    onClick={() =>\n                                        setValue({\n                                            float: value,\n                                            displaySize:\n                                                displaySize === \"large\" && value !== \"none\" ? \"medium\" : displaySize,\n                                        })\n                                    }\n                                />\n                            ))}\n                        </EmbedDropdown>\n                        <EmbedDropdown\n                            name=\"displaySize\"\n                            value={displaySize}\n                            label={displayOptions[displaySize].label}\n                            Icon={() => displayOptions[displaySize].icon}\n                        >\n                            {Object.entries(displayOptions).map(([value, option]) => (\n                                <EmbedDropdown.Option\n                                    key={value}\n                                    Icon={() => option.icon}\n                                    value={value}\n                                    label={option.label}\n                                    onClick={() =>\n                                        setValue({\n                                            displaySize: value,\n                                            float: float !== \"none\" && value === \"large\" ? \"none\" : float,\n                                        })\n                                    }\n                                />\n                            ))}\n                        </EmbedDropdown>\n                        <EmbedButton onClick={() => setIsOpen(true)}>\n                            <ScreenReaderContent>{t(\"Accessibility\")}</ScreenReaderContent>\n                            <AccessibleImageMenuIcon />\n                        </EmbedButton>\n                    </>\n                }\n            >\n                <div className=\"embedImage-link\">\n                    <img\n                        aria-describedby={descriptionID}\n                        className={classNames(\"embedImage-img\", EMBED_FOCUS_CLASS)}\n                        src={props.url}\n                        alt={accessibleLabel(t(`User: \"%s\"`), [props.name])}\n                        tabIndex={props.inEditor ? -1 : undefined}\n                    />\n                </div>\n            </EmbedContent>\n            <ImageEmbedModal\n                isVisible={isOpen}\n                onSave={(newValue) => {\n                    setValue({\n                        name: newValue.alt,\n                    });\n                    props.selectSelf && props.selectSelf();\n                }}\n                initialAlt={props.name}\n                onClose={() => {\n                    setIsOpen(false);\n                    setImmediate(() => {\n                        props.selectSelf?.();\n                    });\n                }}\n            />\n        </EmbedContainer>\n    );\n}\n"],"sourceRoot":""}