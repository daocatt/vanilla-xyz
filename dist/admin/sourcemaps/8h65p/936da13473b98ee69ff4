{"version":3,"sources":["webpack://vanilla-admin/./packages/vanilla-utils/src/logicUtils.ts","webpack://vanilla-admin/./packages/vanilla-utils/src/mathUtils.ts","webpack://vanilla-admin/./packages/vanilla-utils/src/stringUtils.ts","webpack://vanilla-admin/./packages/vanilla-utils/src/systemUtils.ts","webpack://vanilla-admin/./packages/vanilla-utils/src/typeUtils.ts","webpack://vanilla-admin/./applications/dashboard/src/scripts/forms/DashboardFormGroup.tsx","webpack://vanilla-admin/./applications/dashboard/src/scripts/roles/RoleActions.ts","webpack://vanilla-admin/./plugins/rich-editor/src/scripts/editor/pieces/embedMenuStyles.ts","webpack://vanilla-admin/./plugins/rich-editor/src/scripts/editor/pieces/EditorEventWall.tsx","webpack://vanilla-admin/./node_modules/moment/locale sync en","webpack://vanilla-admin/./applications/vanilla/src/scripts/categories/CategorySuggestionActions.ts","webpack://vanilla-admin/./node_modules/react-day-picker/lib/src/DateUtils.js","webpack://vanilla-admin/./plugins/rich-editor/src/scripts/quill/components/blockQuoteStyles.ts","webpack://vanilla-admin/./node_modules/webfontloader/webfontloader.js","webpack://vanilla-admin/./node_modules/@reach/tabs/index.js","webpack://vanilla-admin/./node_modules/react-day-picker/lib/src/keys.js","webpack://vanilla-admin/./applications/dashboard/src/scripts/roles/roleReducer.ts","webpack://vanilla-admin/./plugins/rich-editor/src/scripts/editor/pieces/EmbedMenu.tsx","webpack://vanilla-admin/./applications/dashboard/src/scripts/forms/DashboardCodeEditor.tsx","webpack://vanilla-admin/./packages/vanilla-i18n/src/localeStore.ts","webpack://vanilla-admin/./packages/vanilla-i18n/src/LocaleProvider.tsx","webpack://vanilla-admin/./packages/vanilla-i18n/src/translationStore.ts","webpack://vanilla-admin/./packages/vanilla-i18n/src/ContentTranslator.tsx","webpack://vanilla-admin/./packages/vanilla-i18n/src/ContentTranslationProvider.tsx","webpack://vanilla-admin/./node_modules/react-day-picker/lib/src/classNames.js","webpack://vanilla-admin/./node_modules/react-day-picker/lib/src/Helpers.js","webpack://vanilla-admin/./packages/vanilla-dom-utils/src/domData.ts","webpack://vanilla-admin/./packages/vanilla-dom-utils/src/emoji.ts","webpack://vanilla-admin/./packages/vanilla-dom-utils/src/EscapeListener.ts","webpack://vanilla-admin/./packages/vanilla-dom-utils/src/events.ts","webpack://vanilla-admin/./packages/vanilla-dom-utils/src/FocusWatcher.ts","webpack://vanilla-admin/./packages/vanilla-dom-utils/src/sanitization.ts","webpack://vanilla-admin/./packages/vanilla-dom-utils/src/scripts.ts","webpack://vanilla-admin/./packages/vanilla-dom-utils/src/shadowDom.tsx","webpack://vanilla-admin/./packages/vanilla-dom-utils/src/TabHandler.ts","webpack://vanilla-admin/./packages/vanilla-dom-utils/src/index.ts","webpack://vanilla-admin/./node_modules/react-aria-live/lib/modules/AnnouncerContext.js","webpack://vanilla-admin/./node_modules/react-day-picker/lib/src/LocaleUtils.js","webpack://vanilla-admin/./node_modules/react-day-picker/lib/src/ModifiersUtils.js","webpack://vanilla-admin/./plugins/rich-editor/src/scripts/editor/pieces/ImageEmbedModal.tsx","webpack://vanilla-admin/./node_modules/react-day-picker/moment.js","webpack://vanilla-admin/./packages/vanilla-react-utils/src/Hoverable.tsx","webpack://vanilla-admin/./packages/vanilla-react-utils/src/useMeasure.ts","webpack://vanilla-admin/./packages/vanilla-react-utils/src/useDomNodeAttachment.tsx","webpack://vanilla-admin/./packages/vanilla-react-utils/src/useEscapeListener.ts","webpack://vanilla-admin/./packages/vanilla-react-utils/src/useFocusWatcher.ts","webpack://vanilla-admin/./packages/vanilla-react-utils/src/useLastValue.tsx","webpack://vanilla-admin/./packages/vanilla-react-utils/src/useThrowError.ts","webpack://vanilla-admin/./packages/vanilla-utils/src/debugUtils.ts","webpack://vanilla-admin/./node_modules/react-day-picker/lib/src/addons/MomentLocaleUtils.js","webpack://vanilla-admin/./node_modules/lodash/isEmpty.js","webpack://vanilla-admin/./node_modules/react-aria-live/lib/index.js","webpack://vanilla-admin/./node_modules/react-day-picker/DayPickerInput.js","webpack://vanilla-admin/./node_modules/react-relative-portal/dist/RelativePortal.js","webpack://vanilla-admin/./node_modules/lodash/clone.js","webpack://vanilla-admin/./node_modules/lodash/isEqual.js","webpack://vanilla-admin/./node_modules/lodash/keyBy.js","webpack://vanilla-admin/./plugins/rich-editor/src/scripts/editor/richEditorVariables.ts","webpack://vanilla-admin/./plugins/rich-editor/src/scripts/editor/richEditorStyles.ts","webpack://vanilla-admin/./node_modules/react-aria-live/lib/modules/LiveAnnouncer.js","webpack://vanilla-admin/./node_modules/react-aria-live/lib/modules/Announcer.js","webpack://vanilla-admin/./node_modules/react-aria-live/lib/modules/MessageBlock.js","webpack://vanilla-admin/./node_modules/react-aria-live/lib/modules/LiveMessage.js","webpack://vanilla-admin/./node_modules/react-aria-live/lib/modules/AnnouncerMessage.js","webpack://vanilla-admin/./node_modules/uuid/v4.js","webpack://vanilla-admin/./node_modules/uuid/lib/rng-browser.js","webpack://vanilla-admin/./node_modules/uuid/lib/bytesToUuid.js","webpack://vanilla-admin/./node_modules/react-aria-live/lib/modules/LiveMessenger.js","webpack://vanilla-admin/./applications/dashboard/src/scripts/forms/DashboardFormGroupContext.tsx","webpack://vanilla-admin/./node_modules/react-day-picker/lib/src/DayPickerInput.js","webpack://vanilla-admin/./node_modules/react-day-picker/lib/src/DayPicker.js","webpack://vanilla-admin/./node_modules/react-day-picker/lib/src/Caption.js","webpack://vanilla-admin/./node_modules/react-day-picker/lib/src/Navbar.js","webpack://vanilla-admin/./node_modules/react-day-picker/lib/src/Month.js","webpack://vanilla-admin/./node_modules/react-day-picker/lib/src/Weekdays.js","webpack://vanilla-admin/./node_modules/react-day-picker/lib/src/Day.js","webpack://vanilla-admin/./node_modules/react-day-picker/lib/src/Weekday.js","webpack://vanilla-admin/./node_modules/lodash.throttle/index.js","webpack://vanilla-admin/./node_modules/react-relative-portal/dist/Portal.js","webpack://vanilla-admin/./node_modules/lodash/_createAggregator.js","webpack://vanilla-admin/./node_modules/lodash/_arrayAggregator.js","webpack://vanilla-admin/./node_modules/lodash/_baseAggregator.js","webpack://vanilla-admin/./node_modules/lodash/_baseEach.js","webpack://vanilla-admin/./node_modules/lodash/_baseForOwn.js","webpack://vanilla-admin/./node_modules/lodash/_createBaseEach.js","webpack://vanilla-admin/./node_modules/warning/warning.js","webpack://vanilla-admin/./node_modules/@reach/tabs/node_modules/@reach/utils/index.js","webpack://vanilla-admin/./node_modules/@reach/tabs/node_modules/@reach/auto-id/index.js","webpack://vanilla-admin/./packages/vanilla-react-utils/src/mounting.tsx","webpack://vanilla-admin/./applications/dashboard/src/scripts/compatibilityStyles/cssOut.ts","webpack://vanilla-admin/./library/src/scripts/routing/DocumentTitle.tsx","webpack://vanilla-admin/./library/src/scripts/routing/NotFoundPage.tsx","webpack://vanilla-admin/./library/src/scripts/routing/links/BackRoutingProvider.tsx","webpack://vanilla-admin/./library/src/scripts/banner/BannerContext.tsx","webpack://vanilla-admin/./library/src/scripts/Router.tsx","webpack://vanilla-admin/./library/src/scripts/layout/DeviceContext.tsx","webpack://vanilla-admin/./library/src/scripts/layout/pageHeadingContext.tsx","webpack://vanilla-admin/./library/src/scripts/theming/loadThemeFonts.ts","webpack://vanilla-admin/./library/src/scripts/layout/homePageStyles.ts","webpack://vanilla-admin/./library/src/scripts/layout/bodyStyles.ts","webpack://vanilla-admin/./library/src/scripts/layout/Backgrounds.tsx","webpack://vanilla-admin/./library/src/scripts/theming/ThemeProvider.tsx","webpack://vanilla-admin/./library/src/scripts/contexts/SearchContext.tsx","webpack://vanilla-admin/./library/src/scripts/layout/TitleBarContext.tsx","webpack://vanilla-admin/./library/src/scripts/layout/components/containerStyles.ts","webpack://vanilla-admin/./library/src/scripts/layout/components/Container.tsx","webpack://vanilla-admin/./library/src/scripts/routing/LinkAsButton.tsx","webpack://vanilla-admin/./library/src/scripts/errorPages/pageErrorMessageStyles.ts","webpack://vanilla-admin/./library/src/scripts/errorPages/CoreErrorMessages.tsx","webpack://vanilla-admin/./library/src/scripts/errorPages/DetailedErrorMessages.tsx","webpack://vanilla-admin/./library/src/scripts/layout/types/interface.twoColumns.ts","webpack://vanilla-admin/./library/src/scripts/layout/types/layout.twoColumns.ts","webpack://vanilla-admin/./library/src/scripts/layout/types/layout.threeColumns.ts","webpack://vanilla-admin/./library/src/scripts/layout/types/mediaQueryFactory.ts","webpack://vanilla-admin/./library/src/scripts/layout/LayoutContext.tsx","webpack://vanilla-admin/./library/src/scripts/layout/panelWidgetStyles.ts","webpack://vanilla-admin/./library/src/scripts/layout/components/PanelWidgetVerticalPadding.tsx","webpack://vanilla-admin/./library/src/scripts/layout/components/PanelWidget.tsx","webpack://vanilla-admin/./library/src/scripts/errorPages/ErrorComponent.tsx","webpack://vanilla-admin/./library/src/scripts/navigation/SimplePagerModel.ts","webpack://vanilla-admin/./library/src/scripts/features/users/MultiUserInput.tsx","webpack://vanilla-admin/./library/src/scripts/forms/dateRangeStyles.ts","webpack://vanilla-admin/./library/src/scripts/forms/datePickerStyles.ts","webpack://vanilla-admin/./library/src/scripts/forms/DatePicker.tsx","webpack://vanilla-admin/./library/src/scripts/forms/DateRange.tsx","webpack://vanilla-admin/./library/src/scripts/search/panels/filterPanel.styles.ts","webpack://vanilla-admin/./library/src/scripts/search/panels/FilterFrame.tsx","webpack://vanilla-admin/./library/src/scripts/search/panels/FilterPanelAll.tsx","webpack://vanilla-admin/./library/src/scripts/content/attachments/AttachmentIcon.tsx","webpack://vanilla-admin/./library/src/scripts/content/attachments/AttachmentIcons.tsx","webpack://vanilla-admin/./library/src/scripts/features/search/searchResultsStyles.ts","webpack://vanilla-admin/./library/src/scripts/result/Result.tsx","webpack://vanilla-admin/./library/src/scripts/search/placesSearchListing.styles.ts","webpack://vanilla-admin/./library/src/scripts/search/PlacesListingPlaceHolder.tsx","webpack://vanilla-admin/./library/src/scripts/search/PlacesSearchListingContainer.tsx","webpack://vanilla-admin/./library/src/scripts/search/PlacesSearchListing.tsx","webpack://vanilla-admin/./library/src/scripts/search/SearchFormContextProvider.tsx","webpack://vanilla-admin/./library/src/scripts/contexts/EntryLinkContext.tsx","webpack://vanilla-admin/./library/src/scripts/AppContext.tsx","webpack://vanilla-admin/./applications/dashboard/src/scripts/forms/DashboardImageUpload.tsx","webpack://vanilla-admin/./library/src/scripts/layout/smartAlignStyles.ts","webpack://vanilla-admin/./library/src/scripts/layout/SmartAlign.tsx","webpack://vanilla-admin/./library/src/scripts/modal/ModalConfirm.tsx","webpack://vanilla-admin/./library/src/scripts/theming/themeSettingsReducer.ts","webpack://vanilla-admin/./applications/vanilla/src/scripts/categories/categoriesReducer.ts","webpack://vanilla-admin/./applications/vanilla/src/scripts/redux/reducer.ts","webpack://vanilla-admin/./library/src/scripts/routing/links/BackLink.tsx","webpack://vanilla-admin/./applications/dashboard/src/scripts/components/DashboardHeaderBlock.tsx","webpack://vanilla-admin/./applications/dashboard/src/scripts/roleRequests/state/roleRequestActions.ts","webpack://vanilla-admin/./applications/dashboard/src/scripts/roleRequests/state/roleRequestTypes.ts","webpack://vanilla-admin/./applications/dashboard/src/scripts/roleRequests/state/roleRequestHooks.ts","webpack://vanilla-admin/./applications/dashboard/src/scripts/tables/DashboardTableHeadItem.tsx","webpack://vanilla-admin/./applications/dashboard/src/scripts/tables/DashboardTable.tsx","webpack://vanilla-admin/./applications/dashboard/src/scripts/tables/DashboardTableOptions.tsx","webpack://vanilla-admin/./library/src/scripts/flyouts/DropDownContents.tsx","webpack://vanilla-admin/./plugins/rich-editor/src/scripts/flyouts/pieces/flyoutPosition.ts","webpack://vanilla-admin/./library/src/scripts/flyouts/FlyoutToggle.tsx","webpack://vanilla-admin/./library/src/scripts/flyouts/DropDown.tsx","webpack://vanilla-admin/./library/src/scripts/layout/frame/FrameHeaderMinimal.tsx","webpack://vanilla-admin/./library/src/scripts/flyouts/items/DropDownItem.tsx","webpack://vanilla-admin/./library/src/scripts/flyouts/items/DropDownItemButton.tsx","webpack://vanilla-admin/./library/src/scripts/flyouts/items/DropDownItemLink.tsx","webpack://vanilla-admin/./library/src/scripts/forms/select/selectBoxStyles.ts","webpack://vanilla-admin/./library/src/scripts/forms/select/SelectBox.tsx","webpack://vanilla-admin/./library/src/scripts/search/searchMiscellaneousComponents.styles.ts","webpack://vanilla-admin/./library/src/scripts/dataLists/FilterDropDown.tsx","webpack://vanilla-admin/./applications/dashboard/src/scripts/components/DashboardToolbar.tsx","webpack://vanilla-admin/./library/src/scripts/routing/QueryString.tsx","webpack://vanilla-admin/./applications/dashboard/src/scripts/components/DashboardPager.tsx","webpack://vanilla-admin/./library/src/scripts/loaders/PageLoadStatus.tsx","webpack://vanilla-admin/./applications/dashboard/src/scripts/roleRequests/pages/RoleApplicationsPage.tsx","webpack://vanilla-admin/./applications/dashboard/src/scripts/roleRequests/state/roleRequestReducer.ts","webpack://vanilla-admin/./library/src/scripts/sectioning/TabsTypes.ts","webpack://vanilla-admin/./packages/vanilla-utils/src/apiUtils.ts","webpack://vanilla-admin/./library/src/scripts/sectioning/tabStyles.ts","webpack://vanilla-admin/./library/src/scripts/sectioning/Tabs.tsx","webpack://vanilla-admin/./applications/dashboard/src/scripts/entries/admin.tsx","webpack://vanilla-admin/./applications/dashboard/src/scripts/forms/DashboardImageUploadGroup.tsx","webpack://vanilla-admin/./applications/dashboard/src/scripts/compatibilityStyles/compatibilityIcons.tsx","webpack://vanilla-admin/./applications/dashboard/src/scripts/forms/mountDashboardTabs.tsx","webpack://vanilla-admin/./applications/dashboard/src/scripts/forms/DashboardFormLabel.tsx","webpack://vanilla-admin/./build/entries/public-path.ts"],"names":["flattenObject","obj","delimiter","Object","keys","reduce","acc","key","prefix","length","Array","isArray","assign","simplifyFraction","numerator","denominator","gcd","findGCD","a","b","shorthand","hashString","str","split","prevHash","currVal","charCodeAt","labelize","label","replace","parts","map","s","charAt","toLocaleUpperCase","slice","join","slugify","options","whiteSpaceNormalizeRegexp","allowMultipleDashes","normalize","trim","toLocaleLowerCase","OS","SAFE_PROTOCOL_REGEX","sanitizeUrl","url","match","capitalizeFirstLetter","toUpperCase","guessOperatingSystem","userAgent","navigator","vendor","window","opera","test","ANDROID","MSStream","IOS","UNKNOWN","indexArrayByKey","array","object","item","push","notEmpty","value","ensureString","maybeString","TypeError","forceInt","fallback","result","Number","parseInt","isNaN","DashboardFormGroup","props","Tag","tag","inputID","useUniqueID","labelID","className","classNames","isIndependant","Provider","labelType","DashboardLabelType","STANDARD","children","createAction","actionCreatorFactory","RoleActions","thunk","bindThunkAction","getAllACs","async","api","get","params","limit","response","data","dispatch","ReduxActions","useRoleActions","useReduxActions","embedMenuClasses","useThemeCache","style","styleFactory","globalVars","globalVariables","root","display","alignItems","justifyContent","position","top","left","percent","Mixins","margin","horizontal","transform","background","ColorsUtils","colorOut","mainColors","bg","border","shadowOrBorderBasedOnLightness","zIndex","padding","vertical","borderBottomLeftRadius","borderBottomRightRadius","form","width","imageContainer","paragraph","all","importantUnit","gutter","quarter","font","weight","fonts","weights","normal","lineHeight","lineHeights","base","color","meta","colors","fg","size","medium","align","verticalPadding","styleUnit","half","EDITOR_WALLED_EVENT","EDITOR_EVENT_WALL_CLASS","EditorEventWall","ref","useRef","useEffect","current","addEventListener","eventFlagger","removeEventListener","onClick","e","preventDefault","event","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","Error","code","resolve","module","exports","CategorySuggestionActions","query","apiThunk","loadCategories","expand","debounce","internalLoadCategories","clone","d","Date","getTime","isDate","valueOf","addMonths","n","newDate","setMonth","getMonth","isSameDay","d1","d2","getDate","getFullYear","isSameMonth","isDayBefore","setHours","isDayAfter","isPastDay","today","isFutureDay","tomorrow","isDayBetween","date","addDayToRange","day","range","arguments","undefined","from","to","isDayInRange","getWeekNumber","setDate","getDay","Math","ceil","defineProperty","default","blockQuoteVariables","variableFactory","makeThemeVars","mixBgAndFg","blockQuoteCSS","vars","cssRule","borderLeft","singleBorder","boxSizing","verticalAlign","marginTop","marginBottom","cssOut","aa","c","call","apply","bind","ba","prototype","unshift","p","Function","toString","indexOf","q","now","ca","this","document","da","FontFace","t","createElement","hasOwnProperty","cssText","setAttribute","appendChild","createTextNode","u","getElementsByTagName","documentElement","insertBefore","lastChild","v","parentNode","removeChild","w","f","g","y","z","m","rel","href","media","onload","onerror","setTimeout","A","src","onreadystatechange","readyState","tagName","B","C","D","E","F","G","I","J","H","ga","substr","toLowerCase","ha","h","j","events","classes","L","K","ja","M","N","O","P","Q","start","Promise","load","fa","then","race","clearTimeout","R","S","T","exec","la","U","offsetWidth","serif","V","ma","W","X","na","oa","qa","l","k","r","x","xa","ra","sa","ta","ua","context","timeout","ia","ka","pa","projectId","version","fontfamily","fontStyle","fontWeight","urls","families","testStrings","ya","za","latin","cyrillic","greek","khmer","Hanuman","Aa","thin","extralight","ultralight","light","regular","book","semibold","demibold","bold","extrabold","ultrabold","black","heavy","Ba","i","italic","Ca","Ea","Fa","Arimo","Cousine","Tinos","Ga","Ha","text","pop","va","Da","encodeURIComponent","wa","Typekit","config","fn","__webfontfontdeckmodule__","name","location","hostname","ea","Y","custom","fontdeck","monotype","typekit","google","Z","__esModule","TabPanel","TabPanels","Tab","TabList","Tabs","_react","cache","_getRequireWildcardCache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","set","_interopRequireWildcard","_utils","_interopRequireDefault","_autoId","WeakMap","_extends","target","source","_objectWithoutPropertiesLoose","excluded","sourceKeys","forwardRef","_ref","_ref$as","as","Comp","onChange","_ref$index","index","controlledIndex","_ref$readOnly","readOnly","defaultIndex","isControlled","useId","_userInteractedRef","_selectedPanelRef","_useState","useState","selectedIndex","setSelectedIndex","clones","Children","child","elementIsNullOrString","cloneElement","_id","_onFocusPanel","focus","_onSelectTab","displayName","_ref2","_ref2$as","onKeyDown","clonedProps","htmlProps","isSelected","makeId","_onSelect","handleKeyDown","wrapEvent","enabledIndexes","disabled","filter","enabledSelectedIndex","nextIndex","count","_nextIndex","role","_ref3","forwardedRef","_ref3$as","rest","htmlType","type","ownRef","useForkedRef","useUpdateEffect","tabIndex","_ref4","_ref4$as","htmlAttrs","_ref5","_ref5$as","hidden","LEFT","UP","RIGHT","DOWN","ENTER","SPACE","ESC","TAB","INITIAL_ROLE_STATE","rolesByID","status","LoadStatus","PENDING","roleReducer","produce","reducerWithInitialState","case","started","nextState","action","LOADING","done","payload","forEach","roleID","SUCCESS","failed","ERROR","error","EmbedMenuContext","createContext","selected","setSelected","EmbedMenu","menuRef","DashboardCodeEditor","initialValue","setValue","formGroup","useFormGroup","inputName","aria-hidden","minimal","language","mountDashboardCodeEditors","querySelectorAll","mount","HTMLTextAreaElement","classList","remove","initialContent","mountReact","overwrite","logWarning","currentLocale","localeStore","callbacks","getLocales","setCurrentLocale","localeKey","callback","getCurrentLocale","getJSLocaleKey","loadLocales","locales","LocaleContext","React","LocaleProvider","setLocales","useLocaleInfo","useContext","translationStore","internalTranslationDebugValue","translationDebug","newValue","loadTranslations","translations","translate","defaultTranslation","message","TranslationPropertyType","NullContentTranslator","logError","shouldDisplay","Translator","_TranslationComponent","ContentTranslationProvider","setTranslator","container","wrapper","interactionDisabled","months","month","navBar","navButtonPrev","navButtonNext","navButtonInteractionDisabled","caption","weekdays","weekdaysRow","weekday","body","week","weekNumber","footer","todayButton","outside","cancelEvent","stopPropagation","getFirstDayOfMonth","getDaysInMonth","getModifiersFromProps","modifiers","selectedDays","disabledDays","getFirstDayOfWeekFromProps","firstDayOfWeek","_props$locale","locale","_props$localeUtils","localeUtils","getFirstDayOfWeek","isRangeOfDates","getMonthsDiff","getWeekArray","_LocaleUtils","fixedWeeks","daysInMonth","dayArray","weekArray","firstWeek","_i","outsideDate","_DateUtils","lastWeek","_i2","_outsideDate","lastExtraWeek","_i3","lastDay","extraWeek","_outsideDate2","startOfMonth","getDayNodes","node","outsideClassName","_classNames2","dayQuery","outsideDayQuery","selector","nodeListToArray","nodeList","hasOwnProp","prop","_classNames","resultDate","emojiSupportedCache","emojiOptions","convertToSafeEmojiCharacters","stringOrNode","canvas","getContext","ctx","fillText","getImageData","isEmojiSupported","twemoji","parse","EscapeListener","returnElement","keydownListener","contains","activeElement","delegatedEventListeners","delegateEvent","eventName","filterSelector","scopeSelector","scope","functionKey","querySelector","HTMLElement","eventHash","includes","wrappedCallback","closest","FocusWatcher","watchedNode","changeHandler","handleFocusOut","handleFocusIn","handleClick","checkDomTreeHasFocus","triggeringElement","checkDomTreeWasClicked","clickedElement","relatedTarget","explicitOriginalTarget","isWatchedInBody","isFocusedInBody","isModal","Boolean","getElementById","hasFocus","escapeHTML","div","innerHTML","loadEventCallbacks","rejectionCache","Map","ensureScript","scriptUrl","reject","existingScript","head","script","delete","prepareShadowRoot","element","newElementTag","html","ns","append","startsWith","browserEscapesNoScript","escapedString","childNodes","nodeValue","unescapeHTML","newElement","attachShadow","mode","TabHandler","excludedElements","excludedRoots","exemption","elementToFilter","excludedRoot","tabbableElements","tabbable","reverse","allowLooping","tabbables","createExcludeFilterWithExemption","currentTabIndex","targetIndex","filterAllExcluded","smoothscroll","polyfill","AnnouncerContext","announceAssertive","logContextWarning","announcePolite","console","warn","formatDay","formatMonthTitle","formatWeekdayShort","formatWeekdayLong","getMonths","WEEKDAYS_LONG","WEEKDAYS_SHORT","MONTHS","toDateString","dayMatchesModifier","getModifiersForDay","_Helpers","modifier","some","mod","after","before","daysOfWeek","dayOfWeek","modifiersObj","modifierName","ImageEmbedModal","initialAlt","alt","setAlt","inputRef","handleTextChange","useCallback","saveAndClose","onSave","onClose","titleID","isVisible","ModalSizes","SMALL","exitHandler","header","title","closeFrame","labelClassName","inputProps","required","placeholder","onKeyPress","justifyRight","baseClass","ButtonTypes","TEXT_PRIMARY","Hoverable","hasExecuted","once","onHover","hoverTimeout","handleHover","duration","dismissTimeout","onMouseEnter","mouseEnterHandler","onMouseLeave","mouseLeaveHandler","Component","EMPTY_RECT","height","right","bottom","toJSON","useMeasure","adjustForScrollOffset","watchRef","bounds","setContentRect","refWatch","useLayoutEffect","animationFrameId","measure","requestAnimationFrame","rect","getBoundingClientRect","scrollY","JSON","stringify","resizeListener","ro","ResizeObserver","observe","cancelAnimationFrame","disconnect","cancel","useDomNodeAttachment","domNodes","DomNodeAttacher","_props","nodes","useEscapeListener","actualRoot","escapeListener","stop","useFocusWatcher","bypass","focusWatcher","useLastValue","useThrowError","setError","internalDebugValue","debug","logDebug","log","logDebugConditionnal","outputLog","formatDate","parseDate","_moment","_moment2","format","_locale","weekdaysMin","localeData","isValid","toDate","baseKeys","getTag","isArguments","isArrayLike","isBuffer","isPrototype","isTypedArray","mapTag","setTag","splice","LiveMessenger","LiveMessage","LiveAnnouncer","_LiveAnnouncer3","_LiveMessage3","_LiveMessenger3","DayPickerInput","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react2","_propTypes2","_lodash2","_exenv","_Portal2","_possibleConstructorReturn","self","ReferenceError","listeners","fireListeners","initDOMListener","leading","trailing","canUseDOM","listenerIdCounter","RelativePortal","_React$Component","_temp","_this","instance","_classCallCheck","_len","args","_key","__proto__","getPrototypeOf","concat","state","subClass","superClass","create","constructor","setPrototypeOf","_inherits","_this2","handleScroll","pageOffset","pageXOffset","scrollLeft","pageYOffset","scrollTop","clientWidth","setState","unsubscribe","_this3","component","fullWidth","_objectWithoutProperties","fromLeftOrRight","horizontalPosition","propTypes","number","bool","any","onOutClick","func","string","isRequired","defaultProps","baseClone","CLONE_SYMBOLS_FLAG","baseIsEqual","other","baseAssignValue","keyBy","createAggregator","richEditorVariables","varsFormElements","formElementsVariables","animations","standardAnimations","outline","primary","fade","spacing","paddingLeft","paddingRight","paddingTop","paddingBottom","embedMenu","sizing","minHeight","emojiSize","menuButton","paragraphMenuHandle","offset","insertLink","flyout","maxHeight","viewHeight","nub","menu","borderWidth","pilcrow","fontSize","animation","fadeIn","timing","iterationCount","emojiGroup","mobile","transition","embedButton","scrollContainer","overshoot","emojiBody","emojiHeader","emojiFooter","buttonContents","iconWrap","richEditorWidth","modernFrame","richEditorClasses","legacyMode","formVars","mediaQueries","layoutVariables","cursor","important","flexDirection","flexGrow","absolute","srOnly","singleLineEllipsis","appearance","textAlign","pointerEvents","content","quote","absolutePosition","middleOfParent","radius","elementaryColors","transparent","paragraphMenu","marginLeft","animationName","animationDuration","animationTimingFunction","animationIterationCount","translateY","paragraphMenuMobile","menuBar","overflow","menuBarToggles","flexWrap","userSelect","maxWidth","minWidth","backgroundColor","paragraphMenuHandleMobile","whiteSpace","oneColumnDown","menuItems","msOverflowStyle","listStyle","button","buttonResetMixin","secondary","topLevelButtonActive","menuItem","upload","embedBar","icon","sizes","small","embedBarSeparator","borderRadius","legacyFrame","close","middleRightOfParent","flyoutDescription","separator","borderTop","calc","paragraphMenuPanel","flyoutOffset","_Announcer2","_AnnouncerContext2","_Component","announcePoliteMessage","politeMessageId","announceAssertiveMessage","assertiveMessageId","updateFunctions","render","_state","assertiveMessage","politeMessage","_MessageBlock2","Announcer","assertiveMessage1","assertiveMessage2","politeMessage1","politeMessage2","oldPolitemessage","oldPoliteMessageId","oldAssertiveMessage","oldAssertiveMessageId","setAlternatePolite","setAlternateAssertive","getDerivedStateFromProps","nextProps","offScreenStyle","clip","MessageBlock","ariaLive","_AnnouncerMessage2","Consumer","contextProps","_v2","AnnouncerMessage","announce","_this$props","componentDidMount","componentDidUpdate","prevProps","componentWillUnmount","clearOnUnmount","rng","bytesToUuid","buf","rnds","random","ii","getRandomValues","crypto","msCrypto","rnds8","Uint8Array","byteToHex","bth","FormGroupContext","throwError","HIDE_TIMEOUT","OverlayComponent","defaultFormat","defaultParse","_DayPicker2","_ModifiersUtils","_keys","input","selectedDay","overlayWrapper","overlay","year","String","daypicker","clickTimeout","hideTimeout","inputBlurTimeout","inputFocusTimeout","getInitialStateFromProps","showOverlay","hideAfterDayClick","handleInputClick","handleInputFocus","handleInputBlur","handleInputChange","handleInputKeyDown","handleInputKeyUp","handleDayClick","handleMonthChange","handleOverlayFocus","handleOverlayBlur","newState","dayPickerProps","prevMonth","overlayBlurTimeout","initialMonth","getInitialMonthFromProps","_props2","onDayChange","typedValue","_defineProperty","_props3","onDayPickerHide","_this4","hideOnDayClick","hideDayPicker","showDayPicker","persist","_this5","overlayHasFocus","onFocus","_this6","onBlur","keepFocus","_this7","_props4","updateState","keyCode","onKeyUp","_this8","onMonthChange","_this9","_props5","clickUnselectsDay","onDayClick","selectedDayIdx","_this10","_props6","_state2","onTodayButtonClick","Overlay","overlayComponent","el","_this11","Input","renderOverlay","ModifiersUtils","LocaleUtils","DateUtils","DayPicker","_Caption2","_Navbar2","_Month2","_Weekday2","Helpers","dayPicker","showNextMonth","allowNextMonth","deltaMonths","pagedNavigation","numberOfMonths","nextMonth","currentMonth","showMonth","showPreviousMonth","allowPreviousMonth","previousMonth","showPreviousYear","showNextYear","handleDayKeyDown","focusPreviousDay","focusNextDay","focusPreviousWeek","focusNextWeek","onDayKeyDown","enableOutsideDaysClick","handleOutsideDayClick","handleTodayButtonClick","blur","getCurrentMonthFromProps","fromMonth","diffInMonths","floor","toMonth","allowMonth","canChangeMonth","allowYearChange","dayNodes","dayNode","dayNodeIndex","focusLastDayOfMonth","focusFirstDayOfMonth","nextMonthDayNodeIndex","previousMonthDayNodes","labels","navbarElement","attributes","getNextNavigableMonth","getPreviousNavigableMonth","showPreviousButton","showNextButton","onNextClick","onPreviousClick","dir","isValidElement","reverseMonths","renderTodayButton","containerProps","lang","renderNavbar","renderMonths","renderFooter","VERSION","showOutsideDays","showWeekNumbers","showWeekDays","renderDay","renderWeek","weekdayElement","captionElement","_LocaleUtils2","Caption","handleKeyUp","Navbar","handleNextClick","handlePreviousClick","handleNextKeyDown","handlePreviousKeyDown","previousClickHandler","nextClickHandler","previousKeyDownHandler","nextKeyDownHandler","shouldShowPrevious","shouldShowNext","previousClassName","nextClassName","previousButton","nextButton","_Weekdays2","_Day2","Month","monthNumber","propModifiers","dayModifiers","isOutside","modifiersStyles","empty","ariaLabel","ariaDisabled","ariaSelected","onDayFocus","onDayMouseEnter","onDayMouseLeave","onMouseDown","onDayMouseDown","onMouseUp","onDayMouseUp","onTouchEnd","onDayTouchEnd","onTouchStart","onDayTouchStart","weekdaysLong","weekdaysShort","onCaptionClick","onWeekClick","captionProps","weeks","Weekdays","days","elementProps","handleEvent","handler","Day","propNames","nextPropNames","nextProp","nextModifiers","Weekday","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","global","freeSelf","objectToString","nativeMax","max","nativeMin","min","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","maxing","invokeFunc","time","thisArg","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","remainingWait","debounced","isInvoking","leadingEdge","toNumber","isObject","flush","isObjectLike","isSymbol","isBinary","_reactDom2","Portal","handleRootRef","handleOutClick","createPortal","arrayAggregator","baseAggregator","baseIteratee","setter","initializer","collection","iteratee","accumulator","baseEach","baseForOwn","createBaseEach","baseFor","eachFunc","fromRight","iterable","warning","assignRef","getScrollbarOffset","innerWidth","err","noop","_len2","refs","_key2","useMemo","every","usePrevious","effect","deps","mounted","theirHandler","ourHandler","defaultPrevented","checkStyles","serverHandoffComplete","genId","initialId","setId","hasRendered","portals","PORTAL_MANAGER_ID","PortalContext","Fragment","applySharedPortalContext","renderPortals","PortalManager","portal","ReactDOM","bypassPortalManager","unmountBeforeRender","unmountComponentAtNode","setImmediate","cleanupContainer","mountPoint","clearContents","parentElement","firstElementChild","mountPortal","containerID","asRealPortal","objects","cssRaw","flattenNests","DocumentTitle","headTitle","siteTitle","getMeta","NotFoundPage","sprintf","PureComponent","DEFAULT_FALLBACK","siteUrl","historyDepth","canGoBack","backFallbackUrl","setBackFallbackUrl","navigateBack","BackRoutingProvider","ignoreRef","useReducer","history","useHistory","pushSmartLocation","useLinkContext","canBrowserGoBack","referrer","back","goBack","listen","useBackRouting","useDebugValue","bannerExists","setBannerExists","bannerRect","setBannerRect","overlayTitleBar","setOverlayTitleBar","renderedH1","setRenderedH1","BannerContextProvider","usePageChangeListener","BannerContextProviderNoHistory","Router","onRouteChange","createBrowserHistory","basename","formatUrl","initPageViewTracking","pageChangeHandler","scrollTo","routes","_routes","disableDynamicRouting","LinkContextProvider","linkContexts","sectionRoots","addRoutes","Devices","DeviceContext","DESKTOP","DeviceProvider","calculateDevice","breakpoints","panelLayoutBreakPoints","xs","XS","oneColumn","MOBILE","twoColumn","TABLET","noBleed","NO_BLEED","device","setDevice","throttledUpdate","throttle","FontSizeCalculatorContext","setFontSize","FontSizeCalculatorProvider","defaultFontConfig","loaded","THEME_CACHE_EVENT","getGoogleFontUrl","defaultFontFamily","weightNormal","weightSemiBold","semiBold","weightBold","encodeURI","validCustomFont","customFont","makeFontConfigFromFontVar","isMonoSpace","filteredFonts","assetUrl","homePageVariables","backgroundImage","Variables","bodyCSS","htmlBodyMixin","family","wordBreak","bodyClass","add","WebkitOverflowScrolling","condensed","WebkitAppearance","MozAppearance","fullBackgroundClasses","isRootPage","image","homePageVars","isEmpty","Backgrounds","backgroundInfo","useBackgroundContext","isHomePage","BackgroundContext","setIsHomePage","BackgroundsProvider","hasMounted","ThemeProvider","themeKey","variablesOnly","revisionID","getAssets","ThemeActions","assets","useSelector","theme","setTopOffset","useScrollOffset","cacheID","useThemeCacheID","setThemeKey","themeHeader","themeFooter","getStore","getState","globalFontVars","forceGoogleFont","defaultFallback","googleFontFamily","customFontUrl","firstFamily","restFamilies","WebFont","fallbacks","fontLoaderProps","fontFamily","customConfig","webFontConfig","loadThemeFonts","Loader","errorComponent","inputClasses","applyInputCSSRules","defaultOptionProvider","supportsAutoComplete","autocomplete","makeSearchUrl","SearchContext","searchOptionProvider","SearchContextProvider","optionProvider","setOptionProvider","provider","TitleBarDevices","TitleBarDeviceContext","FULL","TitleBarDeviceProvider","titleBarVariables","compact","COMPACT","containerVariables","constants","fullGutter","widget","full","contentWidth","narrowContentSize","contentSizes","narrow","containerMainStyles","marginRight","containerClasses","containerMainMediaQueries","desktopSpacing","Container","gutterSpacing","LinkAsButton","addWrap","restProps","componentClasses","getButtonStyleFromBaseClass","fallbackTitle","SmartLink","aria-label","ConditionalWrap","buttonLabelWrapClass","condition","DefaultError","pageErrorMessageClasses","description","large","cta","titleAsParagraph","errorIcon","DetailedErrors","detailedErrors","userContentClasses","entries","fieldName","errors","ErrorMessages","CoreErrorMessages","errorCode","buttons","buttonClasses","messageFromErrorCode","PERMISSION","actionItem","ErrorSignIn","NOT_FOUND","PRIMARY","GENERIC","parseErrorCode","getErrorCode","messageAsParagraph","Heading","depth","Paragraph","currentUser","useUsersState","isUserGuest","errorMessageProps","apiError","defaultError","twoColumnLayoutDevices","twoColumnLayoutVariables","layoutVars","foundationalWidths","minimalMiddleColumnWidth","panelWidth","breakPoints","halfSize","quarterSize","panelInit","panel","paddedWidth","middleColumnInit","middleColumn","panelLayoutSpacing","LayoutTypes","TWO_COLUMNS","styles","useMinWidth","noBleedDown","aboveOneColumn","isFullWidth","currentDevice","isCompact","threeColumnLayoutVariables","fallbackLayoutVariables","twoColumns","THREE_COLUMNS","rightPanelCondition","shouldRenderLeftPanel","mediaQueryFactory","mediaQueriesByType","mediaQueriesForAllLayouts","output","layoutName","stylesByMediaQuery","queryName","layoutDataByType","layout","variables","generatePanelLayoutClasses","currentLayoutVariables","layoutSpecificStyles","LayoutContext","useLayout","withLayout","WrappedComponent","ComponentWithDevice","panelWidgetClasses","ErrorPage","inheritHeight","inheritHeightClass","SimplePagerModel","headers","parseLinkHeader","total","currentPage","param","limitParam","link","search","searchParameters","qs","MultiUserInput","suggestionActions","loadUsers","suggestions","suggestion","userID","Tokens","isLoading","onInputChange","withRedux","connect","UserSuggestionModel","mapStateToProps","UserSuggestionActions","apiv2","dateRangeClasses","boundary","textOverflow","dayPickerVariables","formElementVars","states","highlight","hover","dayPickerClasses","flex","navigation","DatePicker","hasBadValue","wasBlurred","normalizeIsoString","toISOString","updateDate","moment","valueAsDate","dropDownClasses","contentsClasses","contents","isRightAligned","alignment","toLocaleDateString","Button","ICON","centred","os","renderNativeInput","renderReactInput","CustomOverlay","handleDayPickerChange","contentClassName","NullComponent","CustomNavBar","inputClassName","isInvalid","handleBlur","handleFocus","handleNativeInputChange","isoDate","DateRange","endDate","end","startDate","fromLabel","toLabel","rangeClasses","classesInputBlock","inputBlockClasses","sectionTitle","onStartChange","onEndChange","filterPanelClasses","FilterFrame","handleSubmit","valid","onSubmit","aria-describedby","Frame","scrollable","FrameHeader","titleClass","FrameBody","FrameFooter","submit","FilterPanelAll","useSearchForm","updateForm","classesDateRange","InputTextBlock","authors","AttachmentIcon","attachmentIconClasses","Translate","c0","c1","AttachmentIcons","uniqueIDFromPrefix","maxCount","attachments","attachmentsCount","attachmentIconsClasses","renderAttachments","aria-labelledby","items","attachment","extraCount","renderMorePlacholder","remainingCount","classesMetas","metasClasses","metaStyle","searchResultsVariables","excerpt","itemList","mediaElement","ratio","searchResultsClasses","negativeUnit","noResults","userContent","borderBottom","searchResultClasses","hasIcon","metaVars","metasVariables","linkColors","clickable","itemState","skipDefault","mediaWidth","iconWidth","mainCompactStyles","main","objectFitWithFallback","compactMediaElement","attachmentCompactStyles","metas","compactExcerpt","afterExcerptLink","commentWrap","Result","attachmentOutput","headingLevel","afterExcerpt","hasAttachments","showImage","hasMedia","layoutContext","classesSearchResults","imageComponent","HeadingTag","hasImage","excerptElement","TruncatedText","maxCharCount","placesSearchListingVariables","links","active","deleted","messageColors","iconSize","placesSearchListingClasses","buttonIconContainer","PlacesListingPlaceHolder","_","LoadingRectangle","PlacesSearchListingItem","embedLinkClassName","SearchService","getSubType","buttonUtilityClasses","buttonIconRightMargin","PlacesSearchListingContainer","PlacesSearchListing","results","domainSearchResults","PLACES_DOMAIN_NAME","SEARCH_LIMIT_DEFAULT","DOMAIN_SEARCH_LIMIT_DEFAULT","getGlobalSearchSorts","SearchFormContextProvider","searchReducer","INITIAL_SEARCH_STATE","hasPlacesDomain","pluggableDomains","domain","ALL_CONTENT_DOMAIN","ALL_CONTENT_DOMAIN_NAME","sort","heading","extraSearchAction","searchInDomain","PanelComponent","getAllowedFields","ALLOWED_GLOBAL_SEARCH_FIELDS","getRecordTypes","allTypes","pluggableDomain","MEMBERS_RECORD_TYPE","getSortValues","transformFormToQuery","getDefaultFormValues","isIsolatedType","ResultComponent","getDomains","getCurrentDomain","find","dateInserted","searchScope","useSearchScope","buildQuery","finalQuery","filterForm","currentDomain","allowedFields","makeFilterForm","val","commonQueryEntries","page","collapse","MEMBERS_DOMAIN_NAME","recordTypes","hasSpecificRecord","insertUserIDs","author","field","formWithDomain","SearchActions","performDomainSearchACs","subTypes","getSubTypes","subType","types","pagination","parseHeaders","update","updateSearchFormAC","resetForm","resetFormAC","getFilterComponentsForDomain","extraFilters","extraFilter","searchDomain","filterNode","performSearchACs","domainDefaults","merge","DEFAULT_CORE_SEARCH_FORM","EVENT_NAME","EntryLinkContextProvider","linkParams","setLinkParams","detail","ExtraContextProviders","AppContext","providers","store","rootStyle","ScrollOffsetProvider","scrollWatchingEnabled","noTheme","cur","noWrap","DashboardImageUpload","imageUploader","uploadFile","setIsLoading","setName","uploadError","setUploadError","valueRef","rootClass","WIDE","fallbackName","substring","lastIndexOf","file","files","tempUrl","URL","createObjectURL","onImagePreview","uploaded","ButtonLoader","buttonType","DASHBOARD_PRIMARY","smartAlignClasses","inner","SmartAlign","Outer","outerTag","Inner","ModalConfirm","createRef","onCancel","onConfirm","srOnlyTitle","isConfirmLoading","handleCancel","classesFrameBody","frameBodyClasses","classFrameFooter","frameFooterClasses","Modal","elementToFocus","cancelRef","elementToFocusOnExit","actionButton","TEXT","buttonRef","confirmTitle","forceUpdate","DEFAULT_THEMES_STATE","themes","applyStatus","previewStatus","deleteThemeByID","themeSettingsReducer","getAllThemes_ACS","currentTheme","templates","ThemeType","FS","putCurrentThemeACs","themeID","putPreviewThemeACs","deleteThemeACs","existingTemplate","INITIAL_STATE","categoriesReducer","forumReducer","combineReducers","categories","BackLink","backLinkClasses","hasVisibleLabel","visibleLabel","linkClassName","hideIfNoHistory","fallbackUrl","chevronClass","RESET","DashboardHeaderBlock","showBackLink","onBackClick","actionButtons","RoleRequestType","RoleRequestStatus","actionCreator","RoleRequestActions","listRoleRequestsAC","patchRoleRequestAC","patch","roleRequestID","listRoleRequestMetasAC","useRoleRequestActions","useDispatch","useRoleRequestsList","reloadOn","roleRequests","listRoleRequests","lastParams","reloading","TableColumnSize","INITIAL_ROLE_REQUEST_STATE","roleRequestMetasByID","roleRequestPatchingByID","DashboardTable","DashboardTableOptions","HeadItem","SM","data-tj-ignore","noCollapse","DropDownContentSize","flyoutPosition","renderAbove","renderLeft","ignore","centered","DropDownContents","isTabbable","nativeEvent","stopImmediatePropagation","asDropDownClasses","openAsModal","isMedium","MEDIUM","asModalClasses","asModal","contentRef","selfPadded","contentOffsetCenter","renderCenter","contentOffsetLeft","horizontalOffset","contentOffsetRight","doNothing","forceTryFocus","FlyoutToggle","initialFocusElement","onVisibilityChange","contentID","ownButtonRef","controllerRef","ownIsVisible","ownSetVisibility","setVisibility","visibility","closeAllFlyouts","buttonClickHandler","toElement","buttonElement","closeMenuHandler","handleBlockEventPropagation","buttonClassName","toggleButtonClassName","isOpen","childrenData","handleID","classesDropDown","isContentVisible","aria-controls","aria-expanded","aria-haspopup","buttonBaseClass","ScreenReaderContent","DropDownOpenDirection","DropDownPreferredOpenDirections","FlyoutType","FrameHeaderMinimal","frameHeaderClasses","rootMinimal","headingMinimal","ICON_COMPACT","closeMinimal","DropDown","preferredDirection","mobileTitle","ContentTag","flyoutType","FRAME","ownContentRef","ID","setOwnIsVisible","buttonRect","contentRect","openDirection","resolveOpenDirection","dropDownID","positionHidden","HIDDEN","positioning","contentsClassName","ABOVE_CENTER","BELOW_CENTER","ABOVE_LEFT","BELOW_LEFT","ABOVE_RIGHT","isSmall","topClearance","leftClearance","rightClearance","contentHalfWidth","AUTO","documentHeight","clientHeight","documentWidth","BELOW_RIGHT","DropDownItem","DropDownItemButton","buttonContent","defaultButtonClass","isActive","actionActive","CUSTOM","aria-current","DropDownItemLink","linkContents","isChecked","check","selectBoxClasses","toggle","buttonItem","px","opacity","buttonIcon","outdated","dropDownContents","checkContainer","flexBasis","spacer","itemLabel","offsetPadding","SelectBox","firstValue","ownValue","setOwnValue","afterButton","overwriteButtonContents","selectedOption","setIsVisible","funct","describedBy","SelectBoxButton","activeItem","labelWrap","isParentWidth","widthOfParent","LIST","option","SelectBoxItem","NBSP","SelectBoxContents","searchMiscellaneousComponentsVariables","searchMiscellaneousComponentsClasses","sortLabel","alignSelf","FilterDropDown","valueOption","DashboardToolbar","otherProps","DashboardToolbarButtons","DashboardPagerArea","QueryString","getFilteredValue","defaults","syncOnFirstMount","updateQueryString","isEqual","inputValue","filteredValue","withRouter","DashboardPager","pageLabel","pageCount","hasNext","PageLoadStatus","loadable","PAGE_DISPLAY_LIMIT","PAGE_LIMIT","PAGE_RELOAD_LIMIT","DEFAULT_PARAMS","APPLICATION","RoleApplicationsBody","URLSearchParams","setRoleIDFilter","setStatusFilter","setPage","listRoleRequestMetas","useRoleRequestMetasList","metaOptions","values","statusOptions","APPROVED","DENIED","hasNextPage","newPage","RoleRequestTable","request","user","DateTime","timestamp","BasicSchemaAttributes","RoleRequestButtons","roleRequest","patchRoleRequest","patching","metaProperty","attributesSchema","properties","BasicSchemaValue","TabsTypes","RoleRequestReducer","currentRows","newRows","pluck","findIndex","rr","tabsVariables","titlebarVars","makeVars","mixPrimaryAndBg","desaturate","navHeight","activeIndicator","tabStandardClasses","formElementVariables","titleBarVars","tabsHandles","tabList","sticky","borderRight","isLegacy","tab","largeTabs","legacyButton","flexHelper","middle","negative","white","tabPanels","modifyColorBasedOnLightness","inverse","flipWeightForDark","extraButtons","tabBrowseClasses","BROWSE","activeStyles","horizontalPadding","extend","extendItemContainer","includeBorder","textTransform","includeVerticalPadding","tabType","defaultTabIndex","activeTab","setActiveTab","extendContainer","legacyButtons","ToolTip","iconClasses","errorFgColor","warningFgColor","contentNodes","addComponent","previewUrl","setPreviewUrl","ownOnChange","wantsDelete","setWantsDelete","originalValue","imagePreviewSrc","isStillOriginalValue","undoTitle","afterDescription","disableComponentTheming","onContent","initAllUserContent","registerReducer","setNavHeight","navbar","ScrollOffsetContext","SCROLL_OFFSET_DEFAULTS","scrollOffset","TextEditor","exact","path","onReady","app","wheel","doc","bookmarks","bookmarkLinkClass","bookmark","applyCompatibilityIcons","tabRoot","removeAttribute","panels","tabs","textContent","DashboardFormLabel","htmlFor","__webpack_public_path__"],"mappings":"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","file":"addons/dashboard.min.js?936da13473b98ee69ff4","sourcesContent":["/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\n\nimport set from \"lodash/set\";\n\nexport function spaceshipCompare(a, b): number {\n    if (a > b) {\n        return 1;\n    } else if (a < b) {\n        return -1;\n    } else {\n        return 0;\n    }\n}\n\nexport function flattenObject(obj: Record<any, any>, delimiter = \"\") {\n    return Object.keys(obj).reduce((acc, key) => {\n        const prefix = delimiter.length ? delimiter + \".\" : \"\";\n        if (typeof obj[key] === \"object\" && !Array.isArray(obj[key]) && obj[key] !== null) {\n            Object.assign(acc, flattenObject(obj[key], prefix + key));\n        } else {\n            acc[prefix + key] = obj[key];\n        }\n        return acc;\n    }, {});\n}\n\nexport function unflattenObject(original: Record<any, any>) {\n    const result = {};\n\n    for (const [key, value] of Object.entries(original)) {\n        set(result, key, value);\n    }\n\n    return result;\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\n/**\n * Get various information about a fraction.\n *\n * @param numerator The fraction numerator.\n * @param denominator The fraction denominator.\n */\nexport function simplifyFraction(numerator: number, denominator: number) {\n    const findGCD = (a, b) => {\n        return b ? findGCD(b, a % b) : a;\n    };\n    const gcd = findGCD(numerator, denominator);\n\n    numerator = numerator / gcd;\n    denominator = denominator / gcd;\n\n    return {\n        numerator,\n        denominator,\n        shorthand: denominator + \":\" + numerator,\n    };\n}\n","/**\n * Utilities related to strings.\n *\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport mergeWith from \"lodash/mergeWith\";\n\n/**\n * A simple, fast method of hashing a string. Similar to Java's hash function.\n * https://stackoverflow.com/a/7616484/1486603\n *\n * @param str - The string to hash.\n *\n * @returns The hash code returned.\n */\nexport function hashString(str: string): number {\n    function hashReduce(prevHash, currVal) {\n        // tslint:disable-next-line:no-bitwise\n        return (prevHash << 5) - prevHash + currVal.charCodeAt(0);\n    }\n    return str.split(\"\").reduce(hashReduce, 0);\n}\n\n/**\n * Generate a RFC4122 compliant uuid. NOTE!!! Not cryptographically secure.\n *\n * This does not use a true random source (Eg. using Math.random()).\n * To use a better source would require dropping IE in order to use the crypto module.\n */\nexport function uuidv4() {\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n        const r = (Math.random() * 16) | 0,\n            v = c == \"x\" ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\n\n/**\n * Convert a camel case variable to a title case label.\n *\n * @param str - The string to labelize.\n * @returns Returns a new string suitable for a label.\n */\nexport function labelize(str: string): string {\n    /**\n     * $labelCode = preg_replace('`(?<![A-Z0-9])([A-Z0-9])`', ' $1', $labelCode);\n     * $labelCode = preg_replace('`([A-Z0-9])(?=[a-z])`', ' $1', $labelCode);\n     * $labelCode = preg_replace('`\\s+`', ' ', $labelCode);\n     * $labelCode = ucfirst(trim($labelCode));\n     */\n    let label = str.replace(/([^A-Z0-9])([A-Z0-9])/, \"$1 $2\");\n    label = label.replace(/([A-Z0-9])(?=[a-z])/, \" $1\");\n    label = label.replace(/[_-]/, \" \");\n    label = label.replace(/\\s+/, \" \");\n    let parts = label.split(\" \");\n    label = parts.map((s) => s.charAt(0).toLocaleUpperCase() + s.slice(1)).join(\" \");\n    return label;\n}\n\n/**\n * Hash an object into a short key, that is stable no matter what order the parameters are.\n */\nexport function stableObjectHash<T extends object>(obj: T): number {\n    // Sort the object first.\n    const ordered: any = {};\n    Object.keys(obj)\n        .sort()\n        .forEach(function (key) {\n            ordered[key] = obj[key];\n        });\n    return hashString(JSON.stringify(ordered));\n}\n\ntype CompareReturn = -1 | 0 | 1;\n\n/**\n * Utility for sorting values. Similar to the <=> operator in PHP.\n *\n * @param val1 The first value to compare.\n * @param val2 The second value to compare.\n *\n * @returns -1, 0, or 1\n */\nexport function compare<T extends string | number>(val1: T, val2: T): CompareReturn {\n    if (typeof val1 === \"string\" && typeof val2 === \"string\") {\n        return val1.localeCompare(val2) as CompareReturn;\n    } else {\n        if (val1 > val2) {\n            return 1;\n        } else if (val1 < val2) {\n            return -1;\n        }\n        return 0;\n    }\n}\n\n/**\n * Parse a string into a URL friendly format.\n *\n * Eg. Why Uber isnt spelled ber -> why-uber-isnt-spelled-uber\n *\n * @param str The string to parse.\n */\nexport function slugify(\n    str: string,\n    options?: {\n        allowMultipleDashes?: boolean;\n    },\n): string {\n    const whiteSpaceNormalizeRegexp = options && options.allowMultipleDashes ? /[\\s]+/g : /[-\\s]+/g;\n    return str\n        .normalize(\"NFD\") // Normalize accented characters into ASCII equivalents\n        .replace(/[^\\w\\s$*_+~.()'\"\\-!:@]/g, \"\") // REmove characters that don't URL encode well\n        .trim() // Trim whitespace\n        .replace(whiteSpaceNormalizeRegexp, \"-\") // Normalize whitespace\n        .toLocaleLowerCase(); // Convert to locale aware lowercase.\n}\n\nexport function normalizeString(str: string): string {\n    return str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n}\n\n/**\n * Split a string in multiple pieces similar to String.prototype.split but ignore most acccent characters.\n *\n * This will still return pieces with accents.\n *\n * @param toSplit The string to split.\n * @param splitWith The string to split with.\n */\nexport function splitStringLoosely(toSplit: string, splitWith: string): string[] {\n    const normalizedName = normalizeString(toSplit);\n    const normalizedSplitTerm = normalizeString(splitWith);\n    const normalizedPieces = normalizedName.split(new RegExp(`(${normalizedSplitTerm})`, \"i\"));\n\n    let charactersUsed = 0;\n    return normalizedPieces.map((piece) => {\n        const start = charactersUsed;\n        charactersUsed += piece.length;\n        return toSplit.substring(start, charactersUsed);\n    });\n}\n\ninterface IMentionMatch {\n    match: string;\n    rawMatch: string;\n}\n\n/**\n * Custom matching to allow quotation marks in the matching string as well as spaces.\n * Spaces make things more complicated.\n *\n * @param subtext - The string to be tested.\n * @param shouldStartWithSpace - Should the pattern include a test for a whitespace prefix?\n * @returns Matching string if successful.  Null on failure to match.\n */\nexport function matchAtMention(\n    subtext: string,\n    shouldStartWithSpace: boolean = false,\n    requireQuotesForWhitespace: boolean = true,\n): IMentionMatch | null {\n    // Split the string at the lines to allow for a simpler regex.\n    const lines = subtext.split(\"\\n\");\n    const lastLine = lines[lines.length - 1];\n\n    // If you change this you MUST change the regex in src/scripts/__tests__/legacy.test.js !!!\n    /**\n     * Put together the non-excluded characters.\n     *\n     * @param {boolean} excludeWhiteSpace - Whether or not to exclude whitespace characters.\n     *\n     * @returns {string} A Regex string.\n     */\n    function nonExcludedCharacters(excludeWhiteSpace) {\n        let excluded =\n            \"[^\" +\n            '\"' + // Quote character\n            \"\\\\u0000-\\\\u001f\\\\u007f-\\\\u009f\" + // Control characters\n            \"\\\\u2028\"; // Line terminator\n\n        if (excludeWhiteSpace) {\n            excluded += \"\\\\s\";\n        }\n\n        excluded += \"]\";\n        return excluded;\n    }\n\n    let regexStr =\n        \"@\" + // @ Symbol triggers the match\n        \"(\" +\n        // One or more non-greedy characters that aren't excluded. Whitespace is allowed, but a starting quote is required.\n        '\"(' +\n        nonExcludedCharacters(false) +\n        '+?)\"?' +\n        \"|\" + // Or\n        // One or more non-greedy characters that aren't exluded. Whitespace may be excluded.\n        \"(\" +\n        nonExcludedCharacters(requireQuotesForWhitespace) +\n        '+?)\"?' +\n        \")\" +\n        \"(?:\\\\n|$)\"; // Newline terminates.\n\n    // Determined by at.who library\n    if (shouldStartWithSpace) {\n        regexStr = \"(?:^|\\\\s)\" + regexStr;\n    }\n    const regex = new RegExp(regexStr, \"gi\");\n    const match = regex.exec(lastLine);\n    if (match) {\n        return {\n            rawMatch: match[0],\n            match: match[2] || match[1], // Return either of the matching groups (quoted or unquoted).\n        };\n    }\n\n    // No match\n    return null;\n}\n\nconst SAFE_PROTOCOL_REGEX = /^(http:\\/\\/|https:\\/\\/|tel:|mailto:\\/\\/|\\/|#)/;\n\n/**\n * Sanitize a URL to ensure that it matches a whitelist of approved url schemes. If the url does not match one of these schemes, prepend `unsafe:` before it.\n *\n * Allowed protocols\n * - \"http://\",\n * - \"https://\",\n * - \"tel:\",\n * - \"mailto://\",\n * - \"#\"\n *\n * @param url The url to sanitize.\n */\nexport function sanitizeUrl(url: string) {\n    if (url.match(SAFE_PROTOCOL_REGEX)) {\n        return url;\n    } else {\n        return \"unsafe:\" + url;\n    }\n}\n\n/**\n * Capitalize the first character of a string.\n *\n * @param str The string to modify.\n */\nexport function capitalizeFirstLetter(str: string): string {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n/**\n * Simple utility function for waiting some duration in promise.\n *\n * @param duration The amount of time to wait.\n */\nexport function promiseTimeout(duration: number): Promise<void> {\n    return new Promise((resolve) => {\n        setTimeout(resolve, duration);\n    });\n}\n\nfunction mergeCustomizer(into: any, source: any) {\n    if (Array.isArray(into) || Array.isArray(source)) {\n        return source;\n    }\n}\n\n/**\n * Merge 2 objects, but replace arrays instead of merging them.\n */\nexport function mergeAndReplaceArrays(item1: Record<any, any>, item2: Record<any, any>) {\n    return mergeWith({}, item1, item2, mergeCustomizer);\n}\n","/**\n * Utilities related to the user's system.\n *\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nexport enum OS {\n    IOS = \"ios\",\n    ANDROID = \"android\",\n    UNKNOWN = \"unkwown\",\n}\n\n/**\n * Provide relatively rough detection of mobile OS.\n *\n * This is not even close to perfect but can be used to try and offer,\n * OS specific input elements for things like datetimes.\n */\nexport function guessOperatingSystem(): OS {\n    const userAgent = navigator.userAgent || navigator.vendor || (window as any).opera;\n\n    if (/android/i.test(userAgent)) {\n        return OS.ANDROID;\n    }\n\n    // iOS detection from: http://stackoverflow.com/a/9039885/177710\n    if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\n        return OS.IOS;\n    }\n\n    return OS.UNKNOWN;\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\ninterface IClass {\n    new (): any;\n}\n\n/**\n * Determine if an instance is an instance of any of the listed classes.\n *\n * @param needle The instance.\n * @param haystack The classes to check.\n */\nexport function isInstanceOfOneOf(needle: any, haystack: IClass[]) {\n    for (const classItem of haystack) {\n        if (needle instanceof classItem) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\n/**\n * Transform an array of objects and an map of objets with a given key.\n *\n * Objects that do not contain the given key are dropped.\n *\n * @param array The array to go through.\n * @param key The key to lookup.\n */\nexport function indexArrayByKey<T extends object>(\n    array: T[],\n    key: string,\n): {\n    [key: string]: T;\n} {\n    const object = {};\n    for (const item of array) {\n        if (key in item) {\n            if (!(item[key] in object)) {\n                object[item[key]] = [];\n            }\n            object[item[key]].push(item);\n        }\n    }\n    return object;\n}\n\nexport function notEmpty<TValue>(value: TValue | null | undefined): value is TValue {\n    return value !== null && value !== undefined;\n}\n\nexport function ensureString(maybeString: any) {\n    if (typeof maybeString !== \"string\") throw new TypeError(\"Expected maybeString to have type string\");\n    return maybeString;\n}\n\nexport function forceInt(value: string | null, fallback: number): number {\n    let result = Number.parseInt(value ?? \"\", 10);\n    return Number.isNaN(result) ? fallback : result;\n}\n\nexport type RecordID = string | number;\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useMemo } from \"react\";\nimport { useUniqueID } from \"@library/utility/idUtils\";\nimport { DashboardFormLabel, DashboardLabelType } from \"@dashboard/forms/DashboardFormLabel\";\nimport classNames from \"classnames\";\nimport { IFieldError } from \"@library/@types/api/core\";\nimport ErrorMessages from \"@library/forms/ErrorMessages\";\nimport { FormGroupContext } from \"./DashboardFormGroupContext\";\n\ninterface IProps {\n    label: string;\n    description?: React.ReactNode;\n    afterDescription?: React.ReactNode;\n    labelType?: DashboardLabelType;\n    tag?: keyof JSX.IntrinsicElements;\n    children: React.ReactNode;\n    isIndependant?: boolean; // Setting this resets the side margins.\n}\n\nexport function DashboardFormGroup(props: IProps) {\n    const Tag = (props.tag || \"li\") as \"li\";\n    const inputID = useUniqueID(\"formGroup-\");\n    const labelID = inputID + \"-label\";\n\n    return (\n        <Tag className={classNames(\"form-group\", props.isIndependant && \"row\")}>\n            <FormGroupContext.Provider\n                value={{ inputID, labelID, labelType: props.labelType || DashboardLabelType.STANDARD }}\n            >\n                <DashboardFormLabel {...props} />\n                {props.children}\n            </FormGroupContext.Provider>\n        </Tag>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport ReduxActions, { bindThunkAction, useReduxActions } from \"@vanilla/library/src/scripts/redux/ReduxActions\";\nimport actionCreatorFactory from \"typescript-fsa\";\nimport { IApiError } from \"@vanilla/library/src/scripts/@types/api/core\";\nimport { IRole } from \"@dashboard/roles/roleTypes\";\n\nconst createAction = actionCreatorFactory(\"@@roles\");\n\nexport class RoleActions extends ReduxActions {\n    public static getAllACs = createAction.async<{}, IRole[], IApiError>(\"GET_ALL\");\n\n    public getAllRoles = () => {\n        const thunk = bindThunkAction(RoleActions.getAllACs, async () => {\n            const response = await this.api.get(`/roles`, { params: { limit: 500 } });\n            return response.data;\n        })({});\n\n        return this.dispatch(thunk);\n    };\n}\n\nexport function useRoleActions() {\n    return useReduxActions(RoleActions);\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { importantUnit } from \"@library/styles/styleHelpers\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { shadowHelper, shadowOrBorderBasedOnLightness } from \"@vanilla/library/src/scripts/styles/shadowHelpers\";\nimport { percent } from \"csx\";\n\nexport const embedMenuClasses = useThemeCache(() => {\n    const style = styleFactory(\"embedMenu\");\n    const globalVars = globalVariables();\n\n    const root = style({\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        position: \"absolute\",\n        top: 0,\n        left: percent(50),\n        ...Mixins.margin({ horizontal: \"auto\" }),\n        transform: \"translate(-50%, -50%)\",\n        background: ColorsUtils.colorOut(globalVars.mainColors.bg),\n        ...Mixins.border(),\n        ...shadowOrBorderBasedOnLightness(),\n        zIndex: 100,\n        ...Mixins.padding({\n            vertical: 4,\n            horizontal: 2,\n        }),\n        ...{\n            \"&.isOpened\": {\n                borderBottomLeftRadius: 0,\n                borderBottomRightRadius: 0,\n            },\n            \"& > *\": {\n                ...Mixins.margin({ horizontal: 4 }),\n            },\n        },\n    });\n\n    const form = style(\"form\", {\n        display: \"block\",\n        width: percent(100),\n    });\n\n    const imageContainer = style(\"imageContainer\", {\n        position: \"relative\",\n    });\n\n    // Extra specific and defensive here because it's within userContent styles.\n    const paragraph = style(\"paragraph\", {\n        ...{\n            \"&&\": {\n                // Specificity required to override default label styles\n                ...Mixins.padding({\n                    all: 0,\n                    top: importantUnit(globalVars.gutter.quarter),\n                }),\n                ...Mixins.font({\n                    weight: globalVars.fonts.weights.normal,\n                    lineHeight: globalVars.lineHeights.base,\n                    color: globalVars.meta.colors.fg,\n                    size: globalVars.fonts.size.medium,\n                    align: \"left\",\n                }),\n            },\n        },\n    });\n    const verticalPadding = style(\"verticalPadding\", {\n        ...Mixins.padding({\n            vertical: styleUnit(globalVars.gutter.half),\n        }),\n    });\n\n    return {\n        root,\n        form,\n        imageContainer,\n        paragraph,\n        verticalPadding,\n    };\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useRef, useEffect } from \"react\";\n\ninterface IProps extends React.PropsWithoutRef<JSX.IntrinsicElements[\"div\"]> {}\n\nconst EDITOR_WALLED_EVENT = \"isEditorWalledEvent\";\nconst EDITOR_EVENT_WALL_CLASS = \"editorEventWall\";\n\n/**\n * A react component that prevents events from propagating up to quill.\n *\n * This marks events so they can be ignored by our own event handlers in quill.\n * Currently this is only implemented for the EmbedSelectionModule. See usages of isEditorWalledEvent\n */\nexport function EditorEventWall(props: IProps) {\n    const ref = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        const { current } = ref;\n        if (!current) {\n            return;\n        }\n\n        current.addEventListener(\"click\", eventFlagger);\n        current.addEventListener(\"mouseup\", eventFlagger);\n        // current.addEventListener(\"mousedown\", eventFlagger);\n        current.addEventListener(\"keydown\", eventFlagger);\n        return () => {\n            current.removeEventListener(\"click\", eventFlagger);\n            current.removeEventListener(\"mouseup\", eventFlagger);\n            // current.removeEventListener(\"mousedown\", eventFlagger);\n            current.removeEventListener(\"keydown\", eventFlagger);\n        };\n    }, [ref]);\n\n    return (\n        <div\n            ref={ref}\n            {...props}\n            onClick={(e) => {\n                e.preventDefault();\n            }}\n            className={EDITOR_EVENT_WALL_CLASS}\n        />\n    );\n}\n\n/**\n * Event listener that flags items originating from inside of HTMLElement inside an event wall.\n * @param event\n */\nconst eventFlagger = (event: Event) => {\n    event[EDITOR_WALLED_EVENT] = true;\n};\n\n/**\n * Determine if an event has been marked to be walled.\n */\nexport function isEditorWalledEvent(event: Event): boolean {\n    return !!(event as any)[EDITOR_WALLED_EVENT];\n}\n","var map = {\n\t\"./en-SG\": 83,\n\t\"./en-SG.js\": 83,\n\t\"./en-au\": 84,\n\t\"./en-au.js\": 84,\n\t\"./en-ca\": 85,\n\t\"./en-ca.js\": 85,\n\t\"./en-gb\": 86,\n\t\"./en-gb.js\": 86,\n\t\"./en-ie\": 87,\n\t\"./en-ie.js\": 87,\n\t\"./en-il\": 88,\n\t\"./en-il.js\": 88,\n\t\"./en-nz\": 89,\n\t\"./en-nz.js\": 89\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 147;","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport ReduxActions, { bindThunkAction } from \"@library/redux/ReduxActions\";\nimport actionCreatorFactory from \"typescript-fsa\";\nimport { IApiError } from \"@library/@types/api/core\";\nimport debounce from \"lodash/debounce\";\nimport { ICategory } from \"@vanilla/addon-vanilla/@types/api/categories\";\n\nconst createAction = actionCreatorFactory(\"@@categorySuggestions\");\n\nexport default class CategorySuggestionActions extends ReduxActions {\n    public static loadCategories = createAction.async<{ query: string }, ICategory[], IApiError>(\"GET\");\n\n    private internalLoadCategories = (query: string) => {\n        const apiThunk = bindThunkAction(CategorySuggestionActions.loadCategories, async () => {\n            const params = { query, expand: [\"breadcrumbs\"] };\n            const response = await this.api.get(\"/categories/search\", { params });\n            return response.data;\n        })({ query });\n        return this.dispatch(apiThunk);\n    };\n\n    public loadCategories = debounce(this.internalLoadCategories, 100);\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.clone = clone;\nexports.isDate = isDate;\nexports.addMonths = addMonths;\nexports.isSameDay = isSameDay;\nexports.isSameMonth = isSameMonth;\nexports.isDayBefore = isDayBefore;\nexports.isDayAfter = isDayAfter;\nexports.isPastDay = isPastDay;\nexports.isFutureDay = isFutureDay;\nexports.isDayBetween = isDayBetween;\nexports.addDayToRange = addDayToRange;\nexports.isDayInRange = isDayInRange;\nexports.getWeekNumber = getWeekNumber;\n/**\n * Clone a date object.\n *\n * @export\n * @param  {Date} d The date to clone\n * @return {Date} The cloned date\n */\nfunction clone(d) {\n  return new Date(d.getTime());\n}\n\n/**\n * Return `true` if the passed value is a valid JavaScript Date object.\n *\n * @export\n * @param {any} value\n * @returns {Boolean}\n */\nfunction isDate(value) {\n  return value instanceof Date && !isNaN(value.valueOf());\n}\n\n/**\n * Return `d` as a new date with `n` months added.\n *\n * @export\n * @param {[type]} d\n * @param {[type]} n\n */\nfunction addMonths(d, n) {\n  var newDate = clone(d);\n  newDate.setMonth(d.getMonth() + n);\n  return newDate;\n}\n\n/**\n * Return `true` if two dates are the same day, ignoring the time.\n *\n * @export\n * @param  {Date}  d1\n * @param  {Date}  d2\n * @return {Boolean}\n */\nfunction isSameDay(d1, d2) {\n  if (!d1 || !d2) {\n    return false;\n  }\n  return d1.getDate() === d2.getDate() && d1.getMonth() === d2.getMonth() && d1.getFullYear() === d2.getFullYear();\n}\n\n/**\n * Return `true` if two dates fall in the same month.\n *\n * @export\n * @param  {Date}  d1\n * @param  {Date}  d2\n * @return {Boolean}\n */\nfunction isSameMonth(d1, d2) {\n  if (!d1 || !d2) {\n    return false;\n  }\n  return d1.getMonth() === d2.getMonth() && d1.getFullYear() === d2.getFullYear();\n}\n\n/**\n * Returns `true` if the first day is before the second day.\n *\n * @export\n * @param {Date} d1\n * @param {Date} d2\n * @returns {Boolean}\n */\nfunction isDayBefore(d1, d2) {\n  var day1 = clone(d1).setHours(0, 0, 0, 0);\n  var day2 = clone(d2).setHours(0, 0, 0, 0);\n  return day1 < day2;\n}\n\n/**\n * Returns `true` if the first day is after the second day.\n *\n * @export\n * @param {Date} d1\n * @param {Date} d2\n * @returns {Boolean}\n */\nfunction isDayAfter(d1, d2) {\n  var day1 = clone(d1).setHours(0, 0, 0, 0);\n  var day2 = clone(d2).setHours(0, 0, 0, 0);\n  return day1 > day2;\n}\n\n/**\n * Return `true` if a day is in the past, e.g. yesterday or any day\n * before yesterday.\n *\n * @export\n * @param  {Date}  d\n * @return {Boolean}\n */\nfunction isPastDay(d) {\n  var today = new Date();\n  today.setHours(0, 0, 0, 0);\n  return isDayBefore(d, today);\n}\n\n/**\n * Return `true` if a day is in the future, e.g. tomorrow or any day\n * after tomorrow.\n *\n * @export\n * @param  {Date}  d\n * @return {Boolean}\n */\nfunction isFutureDay(d) {\n  var tomorrow = new Date(new Date().getTime() + 24 * 60 * 60 * 1000);\n  tomorrow.setHours(0, 0, 0, 0);\n  return d >= tomorrow;\n}\n\n/**\n * Return `true` if day `d` is between days `d1` and `d2`,\n * without including them.\n *\n * @export\n * @param  {Date}  d\n * @param  {Date}  d1\n * @param  {Date}  d2\n * @return {Boolean}\n */\nfunction isDayBetween(d, d1, d2) {\n  var date = clone(d);\n  date.setHours(0, 0, 0, 0);\n  return isDayAfter(date, d1) && isDayBefore(date, d2) || isDayAfter(date, d2) && isDayBefore(date, d1);\n}\n\n/**\n * Add a day to a range and return a new range. A range is an object with\n * `from` and `to` days.\n *\n * @export\n * @param {Date} day\n * @param {Object} range\n * @return {Object} Returns a new range object\n */\nfunction addDayToRange(day) {\n  var range = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { from: null, to: null };\n  var from = range.from,\n      to = range.to;\n\n  if (!from) {\n    from = day;\n  } else if (from && to && isSameDay(from, to) && isSameDay(day, from)) {\n    from = null;\n    to = null;\n  } else if (to && isDayBefore(day, from)) {\n    from = day;\n  } else if (to && isSameDay(day, to)) {\n    from = day;\n    to = day;\n  } else {\n    to = day;\n    if (isDayBefore(to, from)) {\n      to = from;\n      from = day;\n    }\n  }\n\n  return { from: from, to: to };\n}\n\n/**\n * Return `true` if a day is included in a range of days.\n *\n * @export\n * @param  {Date}  day\n * @param  {Object}  range\n * @return {Boolean}\n */\nfunction isDayInRange(day, range) {\n  var from = range.from,\n      to = range.to;\n\n  return from && isSameDay(day, from) || to && isSameDay(day, to) || from && to && isDayBetween(day, from, to);\n}\n\n/**\n * Return the year's week number (as per ISO, i.e. with the week starting from monday)\n * for the given day.\n *\n * @export\n * @param {Date} day\n * @returns {Number}\n */\nfunction getWeekNumber(day) {\n  var date = clone(day);\n  date.setHours(0, 0, 0);\n  date.setDate(date.getDate() + 4 - (date.getDay() || 7));\n  return Math.ceil(((date - new Date(date.getFullYear(), 0, 1)) / 8.64e7 + 1) / 7);\n}\n\nexports.default = {\n  addDayToRange: addDayToRange,\n  addMonths: addMonths,\n  clone: clone,\n  getWeekNumber: getWeekNumber,\n  isDate: isDate,\n  isDayAfter: isDayAfter,\n  isDayBefore: isDayBefore,\n  isDayBetween: isDayBetween,\n  isDayInRange: isDayInRange,\n  isFutureDay: isFutureDay,\n  isPastDay: isPastDay,\n  isSameDay: isSameDay,\n  isSameMonth: isSameMonth\n};\n//# sourceMappingURL=DateUtils.js.map","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license Proprietary\n */\n\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { cssRule } from \"@library/styles/styleShim\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { singleBorder } from \"@library/styles/styleHelpersBorders\";\nimport { userSelect } from \"@library/styles/styleHelpers\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { percent } from \"csx\";\nimport { cssOut } from \"@dashboard/compatibilityStyles/cssOut\";\nimport { Mixins } from \"@library/styles/Mixins\";\n\nexport const blockQuoteVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const makeThemeVars = variableFactory(\"blockQuote\");\n    const colors = makeThemeVars(\"colors\", {\n        fg: globalVars.mainColors.fg,\n        border: {\n            color: globalVars.mixBgAndFg(0.23),\n        },\n    });\n\n    return {\n        colors,\n    };\n});\n\nexport const blockQuoteCSS = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const vars = blockQuoteVariables();\n    cssRule(\".blockquote\", {\n        display: \"block\",\n        margin: styleUnit(0),\n        ...Mixins.padding({\n            all: 3,\n            left: 18,\n        }),\n        borderLeft: singleBorder({\n            color: vars.colors.border.color,\n            width: 6,\n        }),\n        boxSizing: \"border-box\",\n        verticalAlign: \"middle\",\n    });\n    cssRule(\".blockquote-content\", {\n        ...{\n            \"& > *:first-child\": {\n                marginTop: styleUnit(0),\n            },\n            \"& > *:last-child\": {\n                marginBottom: styleUnit(0),\n            },\n        },\n    });\n    cssOut(`.embedLink-excerpt`, {\n        color: ColorsUtils.colorOut(globalVars.mainColors.fg),\n    });\n});\n","/* Web Font Loader v1.6.28 - (c) Adobe Systems, Google. License: Apache 2.0 */(function(){function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?aa:ba;return p.apply(null,arguments)}var q=Date.now||function(){return+new Date};function ca(a,b){this.a=a;this.o=b||a;this.c=this.o.document}var da=!!window.FontFace;function t(a,b,c,d){b=a.c.createElement(b);if(c)for(var e in c)c.hasOwnProperty(e)&&(\"style\"==e?b.style.cssText=c[e]:b.setAttribute(e,c[e]));d&&b.appendChild(a.c.createTextNode(d));return b}function u(a,b,c){a=a.c.getElementsByTagName(b)[0];a||(a=document.documentElement);a.insertBefore(c,a.lastChild)}function v(a){a.parentNode&&a.parentNode.removeChild(a)}\nfunction w(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){f=!1;for(g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(\" \").replace(/\\s+/g,\" \").replace(/^\\s+|\\s+$/,\"\")}function y(a,b){for(var c=a.className.split(/\\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1}\nfunction ea(a){return a.o.location.hostname||a.a.location.hostname}function z(a,b,c){function d(){m&&e&&f&&(m(g),m=null)}b=t(a,\"link\",{rel:\"stylesheet\",href:b,media:\"all\"});var e=!1,f=!0,g=null,m=c||null;da?(b.onload=function(){e=!0;d()},b.onerror=function(){e=!0;g=Error(\"Stylesheet failed to load\");d()}):setTimeout(function(){e=!0;d()},0);u(a,\"head\",b)}\nfunction A(a,b,c,d){var e=a.c.getElementsByTagName(\"head\")[0];if(e){var f=t(a,\"script\",{src:b}),g=!1;f.onload=f.onreadystatechange=function(){g||this.readyState&&\"loaded\"!=this.readyState&&\"complete\"!=this.readyState||(g=!0,c&&c(null),f.onload=f.onreadystatechange=null,\"HEAD\"==f.parentNode.tagName&&e.removeChild(f))};e.appendChild(f);setTimeout(function(){g||(g=!0,c&&c(Error(\"Script load timeout\")))},d||5E3);return f}return null};function B(){this.a=0;this.c=null}function C(a){a.a++;return function(){a.a--;D(a)}}function E(a,b){a.c=b;D(a)}function D(a){0==a.a&&a.c&&(a.c(),a.c=null)};function F(a){this.a=a||\"-\"}F.prototype.c=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\\W_]+/g,\"\").toLowerCase());return b.join(this.a)};function G(a,b){this.c=a;this.f=4;this.a=\"n\";var c=(b||\"n4\").match(/^([nio])([1-9])$/i);c&&(this.a=c[1],this.f=parseInt(c[2],10))}function fa(a){return H(a)+\" \"+(a.f+\"00\")+\" 300px \"+I(a.c)}function I(a){var b=[];a=a.split(/,\\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['\"]/g,\"\");-1!=d.indexOf(\" \")||/^\\d/.test(d)?b.push(\"'\"+d+\"'\"):b.push(d)}return b.join(\",\")}function J(a){return a.a+a.f}function H(a){var b=\"normal\";\"o\"===a.a?b=\"oblique\":\"i\"===a.a&&(b=\"italic\");return b}\nfunction ga(a){var b=4,c=\"n\",d=null;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function ha(a,b){this.c=a;this.f=a.o.document.documentElement;this.h=b;this.a=new F(\"-\");this.j=!1!==b.events;this.g=!1!==b.classes}function ia(a){a.g&&w(a.f,[a.a.c(\"wf\",\"loading\")]);K(a,\"loading\")}function L(a){if(a.g){var b=y(a.f,a.a.c(\"wf\",\"active\")),c=[],d=[a.a.c(\"wf\",\"loading\")];b||c.push(a.a.c(\"wf\",\"inactive\"));w(a.f,c,d)}K(a,\"inactive\")}function K(a,b,c){if(a.j&&a.h[b])if(c)a.h[b](c.c,J(c));else a.h[b]()};function ja(){this.c={}}function ka(a,b,c){var d=[],e;for(e in b)if(b.hasOwnProperty(e)){var f=a.c[e];f&&d.push(f(b[e],c))}return d};function M(a,b){this.c=a;this.f=b;this.a=t(this.c,\"span\",{\"aria-hidden\":\"true\"},this.f)}function N(a){u(a.c,\"body\",a.a)}function O(a){return\"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:\"+I(a.c)+\";\"+(\"font-style:\"+H(a)+\";font-weight:\"+(a.f+\"00\")+\";\")};function P(a,b,c,d,e,f){this.g=a;this.j=b;this.a=d;this.c=c;this.f=e||3E3;this.h=f||void 0}P.prototype.start=function(){var a=this.c.o.document,b=this,c=q(),d=new Promise(function(d,e){function f(){q()-c>=b.f?e():a.fonts.load(fa(b.a),b.h).then(function(a){1<=a.length?d():setTimeout(f,25)},function(){e()})}f()}),e=null,f=new Promise(function(a,d){e=setTimeout(d,b.f)});Promise.race([f,d]).then(function(){e&&(clearTimeout(e),e=null);b.g(b.a)},function(){b.j(b.a)})};function Q(a,b,c,d,e,f,g){this.v=a;this.B=b;this.c=c;this.a=d;this.s=g||\"BESbswy\";this.f={};this.w=e||3E3;this.u=f||null;this.m=this.j=this.h=this.g=null;this.g=new M(this.c,this.s);this.h=new M(this.c,this.s);this.j=new M(this.c,this.s);this.m=new M(this.c,this.s);a=new G(this.a.c+\",serif\",J(this.a));a=O(a);this.g.a.style.cssText=a;a=new G(this.a.c+\",sans-serif\",J(this.a));a=O(a);this.h.a.style.cssText=a;a=new G(\"serif\",J(this.a));a=O(a);this.j.a.style.cssText=a;a=new G(\"sans-serif\",J(this.a));a=\nO(a);this.m.a.style.cssText=a;N(this.g);N(this.h);N(this.j);N(this.m)}var R={D:\"serif\",C:\"sans-serif\"},S=null;function T(){if(null===S){var a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);S=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return S}Q.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f[\"sans-serif\"]=this.m.a.offsetWidth;this.A=q();U(this)};\nfunction la(a,b,c){for(var d in R)if(R.hasOwnProperty(d)&&b===a.f[R[d]]&&c===a.f[R[d]])return!0;return!1}function U(a){var b=a.g.a.offsetWidth,c=a.h.a.offsetWidth,d;(d=b===a.f.serif&&c===a.f[\"sans-serif\"])||(d=T()&&la(a,b,c));d?q()-a.A>=a.w?T()&&la(a,b,c)&&(null===a.u||a.u.hasOwnProperty(a.a.c))?V(a,a.v):V(a,a.B):ma(a):V(a,a.v)}function ma(a){setTimeout(p(function(){U(this)},a),50)}function V(a,b){setTimeout(p(function(){v(this.g.a);v(this.h.a);v(this.j.a);v(this.m.a);b(this.a)},a),0)};function W(a,b,c){this.c=a;this.a=b;this.f=0;this.m=this.j=!1;this.s=c}var X=null;W.prototype.g=function(a){var b=this.a;b.g&&w(b.f,[b.a.c(\"wf\",a.c,J(a).toString(),\"active\")],[b.a.c(\"wf\",a.c,J(a).toString(),\"loading\"),b.a.c(\"wf\",a.c,J(a).toString(),\"inactive\")]);K(b,\"fontactive\",a);this.m=!0;na(this)};\nW.prototype.h=function(a){var b=this.a;if(b.g){var c=y(b.f,b.a.c(\"wf\",a.c,J(a).toString(),\"active\")),d=[],e=[b.a.c(\"wf\",a.c,J(a).toString(),\"loading\")];c||d.push(b.a.c(\"wf\",a.c,J(a).toString(),\"inactive\"));w(b.f,d,e)}K(b,\"fontinactive\",a);na(this)};function na(a){0==--a.f&&a.j&&(a.m?(a=a.a,a.g&&w(a.f,[a.a.c(\"wf\",\"active\")],[a.a.c(\"wf\",\"loading\"),a.a.c(\"wf\",\"inactive\")]),K(a,\"active\")):L(a.a))};function oa(a){this.j=a;this.a=new ja;this.h=0;this.f=this.g=!0}oa.prototype.load=function(a){this.c=new ca(this.j,a.context||this.j);this.g=!1!==a.events;this.f=!1!==a.classes;pa(this,new ha(this.c,a),a)};\nfunction qa(a,b,c,d,e){var f=0==--a.h;(a.f||a.g)&&setTimeout(function(){var a=e||null,m=d||null||{};if(0===c.length&&f)L(b.a);else{b.f+=c.length;f&&(b.j=f);var h,l=[];for(h=0;h<c.length;h++){var k=c[h],n=m[k.c],r=b.a,x=k;r.g&&w(r.f,[r.a.c(\"wf\",x.c,J(x).toString(),\"loading\")]);K(r,\"fontloading\",x);r=null;if(null===X)if(window.FontFace){var x=/Gecko.*Firefox\\/(\\d+)/.exec(window.navigator.userAgent),xa=/OS X.*Version\\/10\\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);\nX=x?42<parseInt(x[1],10):xa?!1:!0}else X=!1;X?r=new P(p(b.g,b),p(b.h,b),b.c,k,b.s,n):r=new Q(p(b.g,b),p(b.h,b),b.c,k,b.s,a,n);l.push(r)}for(h=0;h<l.length;h++)l[h].start()}},0)}function pa(a,b,c){var d=[],e=c.timeout;ia(b);var d=ka(a.a,c,a.c),f=new W(a.c,b,e);a.h=d.length;b=0;for(c=d.length;b<c;b++)d[b].load(function(b,d,c){qa(a,f,b,d,c)})};function ra(a,b){this.c=a;this.a=b}\nra.prototype.load=function(a){function b(){if(f[\"__mti_fntLst\"+d]){var c=f[\"__mti_fntLst\"+d](),e=[],h;if(c)for(var l=0;l<c.length;l++){var k=c[l].fontfamily;void 0!=c[l].fontStyle&&void 0!=c[l].fontWeight?(h=c[l].fontStyle+c[l].fontWeight,e.push(new G(k,h))):e.push(new G(k))}a(e)}else setTimeout(function(){b()},50)}var c=this,d=c.a.projectId,e=c.a.version;if(d){var f=c.c.o;A(this.c,(c.a.api||\"https://fast.fonts.net/jsapi\")+\"/\"+d+\".js\"+(e?\"?v=\"+e:\"\"),function(e){e?a([]):(f[\"__MonotypeConfiguration__\"+\nd]=function(){return c.a},b())}).id=\"__MonotypeAPIScript__\"+d}else a([])};function sa(a,b){this.c=a;this.a=b}sa.prototype.load=function(a){var b,c,d=this.a.urls||[],e=this.a.families||[],f=this.a.testStrings||{},g=new B;b=0;for(c=d.length;b<c;b++)z(this.c,d[b],C(g));var m=[];b=0;for(c=e.length;b<c;b++)if(d=e[b].split(\":\"),d[1])for(var h=d[1].split(\",\"),l=0;l<h.length;l+=1)m.push(new G(d[0],h[l]));else m.push(new G(d[0]));E(g,function(){a(m,f)})};function ta(a,b){a?this.c=a:this.c=ua;this.a=[];this.f=[];this.g=b||\"\"}var ua=\"https://fonts.googleapis.com/css\";function va(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d].split(\":\");3==e.length&&a.f.push(e.pop());var f=\"\";2==e.length&&\"\"!=e[1]&&(f=\":\");a.a.push(e.join(f))}}\nfunction wa(a){if(0==a.a.length)throw Error(\"No fonts to load!\");if(-1!=a.c.indexOf(\"kit=\"))return a.c;for(var b=a.a.length,c=[],d=0;d<b;d++)c.push(a.a[d].replace(/ /g,\"+\"));b=a.c+\"?family=\"+c.join(\"%7C\");0<a.f.length&&(b+=\"&subset=\"+a.f.join(\",\"));0<a.g.length&&(b+=\"&text=\"+encodeURIComponent(a.g));return b};function ya(a){this.f=a;this.a=[];this.c={}}\nvar za={latin:\"BESbswy\",\"latin-ext\":\"\\u00e7\\u00f6\\u00fc\\u011f\\u015f\",cyrillic:\"\\u0439\\u044f\\u0416\",greek:\"\\u03b1\\u03b2\\u03a3\",khmer:\"\\u1780\\u1781\\u1782\",Hanuman:\"\\u1780\\u1781\\u1782\"},Aa={thin:\"1\",extralight:\"2\",\"extra-light\":\"2\",ultralight:\"2\",\"ultra-light\":\"2\",light:\"3\",regular:\"4\",book:\"4\",medium:\"5\",\"semi-bold\":\"6\",semibold:\"6\",\"demi-bold\":\"6\",demibold:\"6\",bold:\"7\",\"extra-bold\":\"8\",extrabold:\"8\",\"ultra-bold\":\"8\",ultrabold:\"8\",black:\"9\",heavy:\"9\",l:\"3\",r:\"4\",b:\"7\"},Ba={i:\"i\",italic:\"i\",n:\"n\",normal:\"n\"},\nCa=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;\nfunction Da(a){for(var b=a.f.length,c=0;c<b;c++){var d=a.f[c].split(\":\"),e=d[0].replace(/\\+/g,\" \"),f=[\"n4\"];if(2<=d.length){var g;var m=d[1];g=[];if(m)for(var m=m.split(\",\"),h=m.length,l=0;l<h;l++){var k;k=m[l];if(k.match(/^[\\w-]+$/)){var n=Ca.exec(k.toLowerCase());if(null==n)k=\"\";else{k=n[2];k=null==k||\"\"==k?\"n\":Ba[k];n=n[1];if(null==n||\"\"==n)n=\"4\";else var r=Aa[n],n=r?r:isNaN(n)?\"4\":n.substr(0,1);k=[k,n].join(\"\")}}else k=\"\";k&&g.push(k)}0<g.length&&(f=g);3==d.length&&(d=d[2],g=[],d=d?d.split(\",\"):\ng,0<d.length&&(d=za[d[0]])&&(a.c[e]=d))}a.c[e]||(d=za[e])&&(a.c[e]=d);for(d=0;d<f.length;d+=1)a.a.push(new G(e,f[d]))}};function Ea(a,b){this.c=a;this.a=b}var Fa={Arimo:!0,Cousine:!0,Tinos:!0};Ea.prototype.load=function(a){var b=new B,c=this.c,d=new ta(this.a.api,this.a.text),e=this.a.families;va(d,e);var f=new ya(e);Da(f);z(c,wa(d),C(b));E(b,function(){a(f.a,f.c,Fa)})};function Ga(a,b){this.c=a;this.a=b}Ga.prototype.load=function(a){var b=this.a.id,c=this.c.o;b?A(this.c,(this.a.api||\"https://use.typekit.net\")+\"/\"+b+\".js\",function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var e=[],f=0;f<b.length;f+=2)for(var g=b[f],m=b[f+1],h=0;h<m.length;h++)e.push(new G(g,m[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(l){}a(e)}},2E3):a([])};function Ha(a,b){this.c=a;this.f=b;this.a=[]}Ha.prototype.load=function(a){var b=this.f.id,c=this.c.o,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var g=0,m=c.fonts.length;g<m;++g){var h=c.fonts[g];d.a.push(new G(h.name,ga(\"font-weight:\"+h.weight+\";font-style:\"+h.style)))}a(d.a)},A(this.c,(this.f.api||\"https://f.fontdeck.com/s/css/js/\")+ea(this.c)+\"/\"+b+\".js\",function(b){b&&a([])})):a([])};var Y=new oa(window);Y.a.c.custom=function(a,b){return new sa(b,a)};Y.a.c.fontdeck=function(a,b){return new Ha(b,a)};Y.a.c.monotype=function(a,b){return new ra(b,a)};Y.a.c.typekit=function(a,b){return new Ga(b,a)};Y.a.c.google=function(a,b){return new Ea(b,a)};var Z={load:p(Y.load,Y)};\"function\"===typeof define&&define.amd?define(function(){return Z}):\"undefined\"!==typeof module&&module.exports?module.exports=Z:(window.WebFont=Z,window.WebFontConfig&&Y.load(window.WebFontConfig));}());\n","\"use strict\";\n\nexports.__esModule = true;\nexports.TabPanel = exports.TabPanels = exports.Tab = exports.TabList = exports.Tabs = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _warning = _interopRequireDefault(require(\"warning\"));\n\nvar _utils = require(\"@reach/utils\");\n\nvar _autoId = require(\"@reach/auto-id\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n////////////////////////////////////////////////////////////////////////////////\n// Tabs\nvar Tabs = (0, _react.forwardRef)(function Tabs(_ref, ref) {\n  var children = _ref.children,\n      _ref$as = _ref.as,\n      Comp = _ref$as === void 0 ? \"div\" : _ref$as,\n      onChange = _ref.onChange,\n      _ref$index = _ref.index,\n      controlledIndex = _ref$index === void 0 ? undefined : _ref$index,\n      _ref$readOnly = _ref.readOnly,\n      readOnly = _ref$readOnly === void 0 ? false : _ref$readOnly,\n      defaultIndex = _ref.defaultIndex,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\", \"as\", \"onChange\", \"index\", \"readOnly\", \"defaultIndex\"]);\n\n  // useRef because you shouldn't switch between controlled/uncontrolled\n  var _useRef = (0, _react.useRef)(controlledIndex != null),\n      isControlled = _useRef.current;\n\n  process.env.NODE_ENV !== \"production\" ? (0, _warning[\"default\"])(!(isControlled && controlledIndex == null), \"Tabs is changing from controlled to uncontrolled. Tabs should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled Tabs for the lifetime of the component. Check the `index` prop being passed in.\") : void 0;\n  process.env.NODE_ENV !== \"production\" ? (0, _warning[\"default\"])(!(!isControlled && controlledIndex != null), \"Tabs is changing from uncontrolled to controlled. Tabs should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled Tabs for the lifetime of the component. Check the `index` prop being passed in.\") : void 0;\n  var id = (0, _autoId.useId)(props.id); // we only manage focus if the user caused the update vs.\n  // a new controlled index coming in\n\n  var _userInteractedRef = (0, _react.useRef)(false);\n\n  var _selectedPanelRef = (0, _react.useRef)(null);\n\n  var _useState = (0, _react.useState)(defaultIndex || 0),\n      selectedIndex = _useState[0],\n      setSelectedIndex = _useState[1];\n\n  var clones = _react[\"default\"].Children.map(children, function (child) {\n    if (elementIsNullOrString(child)) return child;\n    return (0, _react.cloneElement)(child, {\n      selectedIndex: isControlled ? controlledIndex : selectedIndex,\n      _id: id,\n      _userInteractedRef: _userInteractedRef,\n      _selectedPanelRef: _selectedPanelRef,\n      _onFocusPanel: function _onFocusPanel() {\n        return _selectedPanelRef.current && _selectedPanelRef.current.focus();\n      },\n      _onSelectTab: readOnly ? function () {} : function (index) {\n        _userInteractedRef.current = true;\n        onChange && onChange(index);\n\n        if (!isControlled) {\n          setSelectedIndex(index);\n        }\n      }\n    });\n  });\n\n  return _react[\"default\"].createElement(Comp, _extends({\n    \"data-reach-tabs\": \"\",\n    ref: ref\n  }, props, {\n    children: clones\n  }));\n});\nexports.Tabs = Tabs;\nTabs.displayName = \"Tabs\";\n\nif (process.env.NODE_ENV !== \"production\") {\n  Tabs.propTypes = {\n    children: _propTypes[\"default\"].node.isRequired,\n    onChange: _propTypes[\"default\"].func,\n    index: function index(props, name, compName) {\n      if (props.index > -1 && props.onChange == null && props.readOnly !== true) {\n        return new Error(\"You provided a `value` prop to `Tabs` without an `onChange` handler. This will render a read-only tabs element. If the tabs should be mutable use `defaultIndex`. Otherwise, set `onChange`.\");\n      } else {\n        for (var _len = arguments.length, rest = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n          rest[_key - 3] = arguments[_key];\n        }\n\n        return _propTypes[\"default\"].number.apply(_propTypes[\"default\"], [name, props, compName].concat(rest));\n      }\n    },\n    defaultIndex: _propTypes[\"default\"].number\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n// TabList\n\n\nvar TabList = (0, _react.forwardRef)(function TabList(_ref2, ref) {\n  var children = _ref2.children,\n      _ref2$as = _ref2.as,\n      Comp = _ref2$as === void 0 ? \"div\" : _ref2$as,\n      onKeyDown = _ref2.onKeyDown,\n      clonedProps = _objectWithoutPropertiesLoose(_ref2, [\"children\", \"as\", \"onKeyDown\"]);\n\n  var selectedIndex = clonedProps.selectedIndex,\n      _onSelectTab = clonedProps._onSelectTab,\n      _userInteractedRef = clonedProps._userInteractedRef,\n      _onFocusPanel = clonedProps._onFocusPanel,\n      _selectedPanelRef = clonedProps._selectedPanelRef,\n      _id = clonedProps._id,\n      htmlProps = _objectWithoutPropertiesLoose(clonedProps, [\"selectedIndex\", \"_onSelectTab\", \"_userInteractedRef\", \"_onFocusPanel\", \"_selectedPanelRef\", \"_id\"]);\n\n  var clones = _react[\"default\"].Children.map(children, function (child, index) {\n    if (elementIsNullOrString(child)) return child;\n    return (0, _react.cloneElement)(child, {\n      isSelected: index === selectedIndex,\n      _id: (0, _utils.makeId)(_id, index),\n      _userInteractedRef: _userInteractedRef,\n      _onSelect: function _onSelect() {\n        return _onSelectTab(index);\n      }\n    });\n  });\n\n  var handleKeyDown = (0, _utils.wrapEvent)(onKeyDown, function (event) {\n    var enabledIndexes = _react[\"default\"].Children.map(children, function (child, index) {\n      return child.props.disabled === true ? null : index;\n    }).filter(function (index) {\n      return index != null;\n    }); // looks something like: [0, 2, 3, 5]\n\n\n    var enabledSelectedIndex = enabledIndexes.indexOf(selectedIndex);\n\n    switch (event.key) {\n      case \"ArrowRight\":\n        {\n          var nextEnabledIndex = (enabledSelectedIndex + 1) % enabledIndexes.length;\n          var nextIndex = enabledIndexes[nextEnabledIndex];\n\n          _onSelectTab(nextIndex);\n\n          break;\n        }\n\n      case \"ArrowLeft\":\n        {\n          var count = enabledIndexes.length;\n\n          var _nextEnabledIndex = (enabledSelectedIndex - 1 + count) % count;\n\n          var _nextIndex = enabledIndexes[_nextEnabledIndex];\n\n          _onSelectTab(_nextIndex);\n\n          break;\n        }\n\n      case \"ArrowDown\":\n        {\n          // don't scroll down\n          event.preventDefault();\n\n          _onFocusPanel();\n\n          break;\n        }\n\n      case \"Home\":\n        {\n          _onSelectTab(0);\n\n          break;\n        }\n\n      case \"End\":\n        {\n          _onSelectTab(_react[\"default\"].Children.count(children) - 1);\n\n          break;\n        }\n\n      default:\n        {}\n    }\n  });\n  return _react[\"default\"].createElement(Comp, _extends({\n    \"data-reach-tab-list\": \"\",\n    ref: ref,\n    role: \"tablist\",\n    onKeyDown: handleKeyDown,\n    children: clones\n  }, htmlProps));\n});\nexports.TabList = TabList;\nTabList.displayName = \"TabList\";\n\nif (process.env.NODE_ENV !== \"production\") {\n  TabList.propTypes = {\n    children: _propTypes[\"default\"].node\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n// Tab\n\n\nvar Tab = (0, _react.forwardRef)(function Tab(_ref3, forwardedRef) {\n  var children = _ref3.children,\n      _ref3$as = _ref3.as,\n      Comp = _ref3$as === void 0 ? \"button\" : _ref3$as,\n      rest = _objectWithoutPropertiesLoose(_ref3, [\"children\", \"as\"]);\n\n  var isSelected = rest.isSelected,\n      _userInteractedRef = rest._userInteractedRef,\n      _onSelect = rest._onSelect,\n      _id = rest._id,\n      htmlProps = _objectWithoutPropertiesLoose(rest, [\"isSelected\", \"_userInteractedRef\", \"_onSelect\", \"_id\"]);\n\n  var htmlType = Comp === \"button\" && htmlProps.type == null ? \"button\" : undefined;\n  var ownRef = (0, _react.useRef)(null);\n  var ref = (0, _utils.useForkedRef)(forwardedRef, ownRef);\n  (0, _utils.useUpdateEffect)(function () {\n    if (isSelected && ownRef.current && _userInteractedRef.current) {\n      _userInteractedRef.current = false;\n      ownRef.current.focus();\n    }\n  }, [isSelected]);\n  return _react[\"default\"].createElement(Comp, _extends({\n    \"data-reach-tab\": \"\",\n    ref: ref,\n    role: \"tab\",\n    id: (0, _utils.makeId)(\"tab\", _id),\n    tabIndex: isSelected ? 0 : -1,\n    \"aria-selected\": isSelected,\n    \"aria-controls\": (0, _utils.makeId)(\"panel\", _id),\n    \"data-selected\": isSelected ? \"\" : undefined,\n    onClick: _onSelect,\n    children: children,\n    type: htmlType\n  }, htmlProps));\n});\nexports.Tab = Tab;\nTab.displayName = \"Tab\";\n\nif (process.env.NODE_ENV !== \"production\") {\n  Tab.propTypes = {\n    children: _propTypes[\"default\"].node\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n// TabPanels\n\n\nvar TabPanels = (0, _react.forwardRef)(function TabPanels(_ref4, forwardedRef) {\n  var children = _ref4.children,\n      _ref4$as = _ref4.as,\n      Comp = _ref4$as === void 0 ? \"div\" : _ref4$as,\n      rest = _objectWithoutPropertiesLoose(_ref4, [\"children\", \"as\"]);\n\n  var selectedIndex = rest.selectedIndex,\n      _selectedPanelRef = rest._selectedPanelRef,\n      _userInteractedRef = rest._userInteractedRef,\n      _onFocusPanel = rest._onFocusPanel,\n      _onSelectTab = rest._onSelectTab,\n      _id = rest._id,\n      htmlAttrs = _objectWithoutPropertiesLoose(rest, [\"selectedIndex\", \"_selectedPanelRef\", \"_userInteractedRef\", \"_onFocusPanel\", \"_onSelectTab\", \"_id\"]);\n\n  var clones = _react[\"default\"].Children.map(children, function (child, index) {\n    if (elementIsNullOrString(child)) return child;\n    return (0, _react.cloneElement)(child, {\n      isSelected: index === selectedIndex,\n      _selectedPanelRef: _selectedPanelRef,\n      _id: (0, _utils.makeId)(_id, index)\n    });\n  });\n\n  return _react[\"default\"].createElement(Comp, _extends({\n    \"data-reach-tab-panels\": \"\",\n    ref: forwardedRef\n  }, htmlAttrs, {\n    children: clones\n  }));\n});\nexports.TabPanels = TabPanels;\nTabPanels.displayName = \"TabPanels\";\n\nif (process.env.NODE_ENV !== \"production\") {\n  TabPanels.propTypes = {\n    children: _propTypes[\"default\"].node\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n// TabPanel\n\n\nvar TabPanel = (0, _react.forwardRef)(function TabPanel(_ref5, forwardedRef) {\n  var children = _ref5.children,\n      _ref5$as = _ref5.as,\n      Comp = _ref5$as === void 0 ? \"div\" : _ref5$as,\n      rest = _objectWithoutPropertiesLoose(_ref5, [\"children\", \"as\"]);\n\n  var isSelected = rest.isSelected,\n      _selectedPanelRef = rest._selectedPanelRef,\n      _id = rest._id,\n      htmlProps = _objectWithoutPropertiesLoose(rest, [\"isSelected\", \"_selectedPanelRef\", \"_id\"]);\n\n  var ref = (0, _utils.useForkedRef)(forwardedRef, isSelected ? _selectedPanelRef : null);\n  return _react[\"default\"].createElement(Comp, _extends({\n    \"data-reach-tab-panel\": \"\",\n    ref: ref,\n    role: \"tabpanel\",\n    tabIndex: -1,\n    \"aria-labelledby\": (0, _utils.makeId)(\"tab\", _id),\n    hidden: !isSelected,\n    id: (0, _utils.makeId)(\"panel\", _id),\n    children: children\n  }, htmlProps));\n});\nexports.TabPanel = TabPanel;\nTabPanel.displayName = \"TabPanel\";\n\nif (process.env.NODE_ENV !== \"production\") {\n  TabPanel.propTypes = {\n    children: _propTypes[\"default\"].node\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n// Check children before cloning to ignore strings or null values\n\n\nfunction elementIsNullOrString(child) {\n  return !child || typeof child.type === \"string\";\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar LEFT = exports.LEFT = 37;\nvar UP = exports.UP = 38;\nvar RIGHT = exports.RIGHT = 39;\nvar DOWN = exports.DOWN = 40;\nvar ENTER = exports.ENTER = 13;\nvar SPACE = exports.SPACE = 32;\nvar ESC = exports.ESC = 27;\nvar TAB = exports.TAB = 9;\n//# sourceMappingURL=keys.js.map","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { produce } from \"immer\";\nimport { reducerWithInitialState } from \"typescript-fsa-reducers\";\nimport { IRole } from \"@dashboard/roles/roleTypes\";\nimport { ILoadable, LoadStatus } from \"@vanilla/library/src/scripts/@types/api/core\";\nimport { RoleActions } from \"@dashboard/roles/RoleActions\";\n\nexport interface IRoleState {\n    rolesByID: ILoadable<Record<number, IRole>>;\n}\n\nexport interface IRoleStoreState {\n    roles: IRoleState;\n}\n\nexport const INITIAL_ROLE_STATE: IRoleState = {\n    rolesByID: {\n        status: LoadStatus.PENDING,\n    },\n};\n\nexport const roleReducer = produce(\n    reducerWithInitialState<IRoleState>(INITIAL_ROLE_STATE)\n        .case(RoleActions.getAllACs.started, (nextState, action) => {\n            nextState.rolesByID = {\n                status: LoadStatus.LOADING,\n            };\n            return nextState;\n        })\n        .case(RoleActions.getAllACs.done, (nextState, payload) => {\n            const rolesByID: Record<number, IRole> = {};\n            payload.result.forEach((role) => {\n                rolesByID[role.roleID] = role;\n            });\n            nextState.rolesByID = {\n                status: LoadStatus.SUCCESS,\n                data: rolesByID,\n            };\n            return nextState;\n        })\n        .case(RoleActions.getAllACs.failed, (nextState, action) => {\n            nextState.rolesByID.status = LoadStatus.ERROR;\n            nextState.rolesByID.error = action.error;\n            return nextState;\n        }),\n);\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { createContext, PropsWithChildren, ReactNode, useRef, useState } from \"react\";\nimport { embedMenuClasses } from \"@rich-editor/editor/pieces/embedMenuStyles\";\nimport { EditorEventWall } from \"@rich-editor/editor/pieces/EditorEventWall\";\nimport classNames from \"classnames\";\n\ninterface IEmbedMenuContext {\n    selected: string | undefined;\n    setSelected(name: string | undefined);\n}\n\nexport const EmbedMenuContext = createContext<IEmbedMenuContext>({\n    selected: undefined,\n    setSelected: () => {},\n});\n\ninterface IProps {}\n\n/**\n * Renders an embed menu and manages it's context.\n */\nexport function EmbedMenu(props: PropsWithChildren<IProps>) {\n    const { children } = props;\n    const classes = embedMenuClasses();\n    const [selected, setSelected] = useState<string | undefined>();\n    const menuRef = useRef<HTMLDivElement | null>(null);\n    return (\n        <EmbedMenuContext.Provider value={{ selected, setSelected }}>\n            <EditorEventWall>\n                <div\n                    role=\"toolbar\"\n                    ref={menuRef}\n                    className={classNames({ [classes.root]: true, isOpened: selected != null })}\n                >\n                    {children}\n                </div>\n            </EditorEventWall>\n        </EmbedMenuContext.Provider>\n    );\n}\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\n\nimport { useFormGroup } from \"@dashboard/forms/DashboardFormGroupContext\";\nimport TextEditor from \"@vanilla/library/src/scripts/textEditor/TextEditor\";\nimport { mountReact } from \"@vanilla/react-utils\";\nimport { logWarning } from \"@vanilla/utils\";\nimport React, { useState } from \"react\";\n\ninterface IProps {\n    initialValue: string;\n    inputName: string;\n    inputID?: string;\n    language?: string;\n}\n\nexport function DashboardCodeEditor(props: IProps) {\n    const [value, setValue] = useState(props.initialValue);\n    const formGroup = useFormGroup();\n    const inputID = props.inputID ?? formGroup.inputID;\n\n    return (\n        <div className=\"input-wrap\">\n            <input id={inputID} name={props.inputName} type=\"hidden\" value={value} aria-hidden={true} />\n            <TextEditor\n                minimal\n                language={props.language ?? \"text/html\"}\n                value={props.initialValue}\n                onChange={(e, value) => setValue(value ?? \"\")}\n            />\n        </div>\n    );\n}\n\nexport function mountDashboardCodeEditors() {\n    const mounts = document.querySelectorAll(\".js-code-editor\");\n    mounts.forEach((mount) => {\n        if (!(mount instanceof HTMLTextAreaElement)) {\n            logWarning(\"Cannot mount a js-code-editor if it's not a <textarea />\");\n            return;\n        }\n\n        mount.classList.remove(\"js-code-editor\");\n        const initialContent = mount.value;\n\n        mountReact(\n            <DashboardCodeEditor initialValue={initialContent} inputName={mount.name} inputID={mount.id} />,\n            mount,\n            undefined,\n            { overwrite: true },\n        );\n    });\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nexport interface ILocale {\n    localeID: string;\n    localeKey: string;\n    regionalKey: string;\n    displayNames: {\n        [localeKey: string]: string;\n    };\n}\n\nlet currentLocale = \"en\";\nlet localeStore: ILocale[] = [];\nlet callbacks: Array<() => void> = [];\n\n/**\n * Get the available locales.\n */\nexport function getLocales(): ILocale[] {\n    return localeStore;\n}\n\n/**\n * Register a handler for if the locales change.\n * @param callback\n */\nexport function onLocaleChange(callback: () => void) {\n    callbacks.push(callback);\n}\n\n/**\n * Set the current locale.\n */\nexport function setCurrentLocale(localeKey: string) {\n    currentLocale = localeKey;\n    callbacks.forEach(callback => callback());\n}\n\n/**\n * Get the current locale.\n */\nexport function getCurrentLocale() {\n    return currentLocale;\n}\n\n/**\n * Get the current locale in format accepted by Javascript localization functions.\n *\n * PHP canonicalized locales use `_` for the regional separator.\n * Javascript uses `-`.\n */\nexport function getJSLocaleKey() {\n    return currentLocale.replace(\"_\", \"-\");\n}\n\n/**\n * Load a group of locales.\n */\nexport function loadLocales(locales: ILocale[]) {\n    localeStore = [...localeStore, ...locales];\n    callbacks.forEach(callback => callback());\n}\n\n/**\n * Clear the loaded locales.\n */\nexport function clearLocales() {\n    localeStore = [];\n    callbacks.forEach(callback => callback());\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { ILocale, getLocales, onLocaleChange, getCurrentLocale } from \"./localeStore\";\nimport { logWarning } from \"@vanilla/utils\";\n\nconst LocaleContext = React.createContext<{\n    locales: ILocale[];\n    currentLocale: string | null;\n}>({\n    locales: [],\n    currentLocale: null,\n});\n\nexport function LocaleProvider(props: { children?: React.ReactNode }) {\n    const [locales, setLocales] = useState(getLocales());\n    const [currentLocale, setCurrentLocale] = useState(getCurrentLocale());\n\n    if (!currentLocale) {\n        logWarning(\"No locale loaded for <LocaleProvider />\");\n    }\n\n    useEffect(() => {\n        setLocales(getLocales());\n        setCurrentLocale(getCurrentLocale());\n\n        onLocaleChange(() => {\n            setLocales(getLocales());\n            setCurrentLocale(getCurrentLocale());\n        });\n    }, [setLocales, setCurrentLocale]);\n\n    return (\n        <LocaleContext.Provider\n            value={{\n                locales,\n                currentLocale,\n            }}\n        >\n            {props.children}\n        </LocaleContext.Provider>\n    );\n}\n\nexport function useLocaleInfo() {\n    return useContext(LocaleContext);\n}\n","import { logError, logWarning } from \"@vanilla/utils\";\n\n/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\ninterface ITranslations {\n    [key: string]: string;\n}\n\nlet translationStore: ITranslations | null = null;\n\nlet internalTranslationDebugValue = false;\n\n/**\n * Get or set the debug flag.\n *\n * @param newValue - The new value of debug.\n * @returns the current debug setting.\n */\nexport function translationDebug(newValue?: boolean): boolean {\n    if (newValue !== undefined) {\n        internalTranslationDebugValue = newValue;\n    }\n\n    return internalTranslationDebugValue;\n}\n\n/**\n * Load a set of key value pairs as translation resources.\n */\nexport function loadTranslations(translations: ITranslations) {\n    translationStore = { ...translations };\n}\n\n/**\n * Clear all translation resources.\n */\nexport function clearTranslations() {\n    translationStore = null;\n}\n\n/**\n * Translate a string into the current locale.\n *\n * @param str - The string to translate.\n * @param defaultTranslation - The default translation to use.\n *\n * @returns Returns the translation or the default.\n */\nexport function translate(str: string, defaultTranslation?: string): string {\n    // Codes that begin with @ are considered literals.\n    if (str.substr(0, 1) === \"@\") {\n        return str.substr(1);\n    }\n\n    const fallback = defaultTranslation !== undefined ? defaultTranslation : str;\n\n    if (!translationStore) {\n        // Test environment allows top level static initialization.\n        const message = `Attempted to translate a value '${str}' before the translation store was initialized.`;\n        switch (process.env.NODE_ENV) {\n            case \"production\":\n                logWarning(message);\n                break;\n            case \"development\":\n                throw new Error(message + \" Don't use t() in the top level of a file or a static property.\");\n            case \"test\":\n                // Tests (like storybook and unit testing) don't need to actually bootstrap a full translation store all the time.\n                break;\n        }\n        return fallback;\n    }\n\n    if (translationStore[str] !== undefined) {\n        return translationStore[str];\n    }\n\n    if (translationDebug()) {\n        return \"\" + fallback + \"\";\n    } else {\n        return fallback;\n    }\n}\n\n/**\n * The t function is an alias for translate.\n */\nexport const t = translate;\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { logError, RecordID } from \"@vanilla/utils\";\n\nexport interface IContentTranslatorProps {\n    isLoading?: boolean;\n    isFullScreen?: boolean;\n    properties: ITranslationProperty[];\n    resource: string;\n    title: string;\n    sourceLocale?: string | null;\n    activeLocale?: string | null; // for organizecategories\n    afterSave?: () => void;\n}\n\n// Subtypes\nexport enum TranslationPropertyType {\n    TEXT = \"text\",\n    TEXT_MULTILINE = \"\",\n}\n\nexport interface ITranslationProperty {\n    recordType: string; // Ex. knowledgeCategory\n    recordID?: RecordID; // Ex. 425\n    recordKey?: string; // Ex. Garden.Description\n    sourceText: string; // Ex. \"Howdy Stranger\"\n    propertyName: string; // Ex. name\n    propertyValidation: ITranslationPropertyValidation;\n    propertyType: TranslationPropertyType;\n}\n\nexport interface ITranslationPropertyValidation {\n    minLength?: number;\n    maxLength?: number;\n}\n\nexport const NullContentTranslator: React.FC<IContentTranslatorProps> = (props) => {\n    logError(\"Rendering a Null Content translator. Be sure to check `shouldDisplay` before rendering.\");\n    return null;\n};\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useContext } from \"react\";\nimport { IContentTranslatorProps, NullContentTranslator } from \"./ContentTranslator\";\nimport { useLocaleInfo } from \"./LocaleProvider\";\n\ninterface IContentTranslator {\n    shouldDisplay: boolean;\n    Translator: React.ComponentType<IContentTranslatorProps>;\n}\n\nconst context = React.createContext<IContentTranslator>({\n    shouldDisplay: false,\n    Translator: NullContentTranslator,\n});\n\nlet _TranslationComponent: React.ComponentType<IContentTranslatorProps> | null = null;\n\n/**\n * Provider of the translation component.\n */\nexport const ContentTranslationProvider = (props: { children: React.ReactNode }) => {\n    const { locales } = useLocaleInfo();\n\n    return (\n        <context.Provider\n            value={{\n                shouldDisplay: _TranslationComponent !== null && locales.length > 1,\n                Translator: _TranslationComponent !== null ? _TranslationComponent : NullContentTranslator,\n            }}\n        >\n            {props.children}\n        </context.Provider>\n    );\n};\n\nContentTranslationProvider.setTranslator = (Translator: React.ComponentType<IContentTranslatorProps>) => {\n    _TranslationComponent = Translator;\n};\n\nexport function useContentTranslator(): IContentTranslator {\n    return useContext(context);\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Proxy object to map classnames when css modules are not used\n\nexports.default = {\n  container: 'DayPicker',\n  wrapper: 'DayPicker-wrapper',\n  interactionDisabled: 'DayPicker--interactionDisabled',\n  months: 'DayPicker-Months',\n  month: 'DayPicker-Month',\n\n  navBar: 'DayPicker-NavBar',\n  navButtonPrev: 'DayPicker-NavButton DayPicker-NavButton--prev',\n  navButtonNext: 'DayPicker-NavButton DayPicker-NavButton--next',\n  navButtonInteractionDisabled: 'DayPicker-NavButton--interactionDisabled',\n\n  caption: 'DayPicker-Caption',\n  weekdays: 'DayPicker-Weekdays',\n  weekdaysRow: 'DayPicker-WeekdaysRow',\n  weekday: 'DayPicker-Weekday',\n  body: 'DayPicker-Body',\n  week: 'DayPicker-Week',\n  weekNumber: 'DayPicker-WeekNumber',\n  day: 'DayPicker-Day',\n  footer: 'DayPicker-Footer',\n  todayButton: 'DayPicker-TodayButton',\n\n  // default modifiers\n  today: 'today',\n  selected: 'selected',\n  disabled: 'disabled',\n  outside: 'outside'\n};\n//# sourceMappingURL=classNames.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.cancelEvent = cancelEvent;\nexports.getFirstDayOfMonth = getFirstDayOfMonth;\nexports.getDaysInMonth = getDaysInMonth;\nexports.getModifiersFromProps = getModifiersFromProps;\nexports.getFirstDayOfWeekFromProps = getFirstDayOfWeekFromProps;\nexports.isRangeOfDates = isRangeOfDates;\nexports.getMonthsDiff = getMonthsDiff;\nexports.getWeekArray = getWeekArray;\nexports.startOfMonth = startOfMonth;\nexports.getDayNodes = getDayNodes;\nexports.nodeListToArray = nodeListToArray;\nexports.hasOwnProp = hasOwnProp;\n\nvar _DateUtils = require('./DateUtils');\n\nvar _LocaleUtils = require('./LocaleUtils');\n\nvar _classNames = require('./classNames');\n\nvar _classNames2 = _interopRequireDefault(_classNames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction cancelEvent(e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\n\nfunction getFirstDayOfMonth(d) {\n  return new Date(d.getFullYear(), d.getMonth(), 1, 12);\n}\n\nfunction getDaysInMonth(d) {\n  var resultDate = getFirstDayOfMonth(d);\n\n  resultDate.setMonth(resultDate.getMonth() + 1);\n  resultDate.setDate(resultDate.getDate() - 1);\n\n  return resultDate.getDate();\n}\n\nfunction getModifiersFromProps(props) {\n  var modifiers = _extends({}, props.modifiers);\n  if (props.selectedDays) {\n    modifiers[props.classNames.selected] = props.selectedDays;\n  }\n  if (props.disabledDays) {\n    modifiers[props.classNames.disabled] = props.disabledDays;\n  }\n  return modifiers;\n}\n\nfunction getFirstDayOfWeekFromProps(props) {\n  var firstDayOfWeek = props.firstDayOfWeek,\n      _props$locale = props.locale,\n      locale = _props$locale === undefined ? 'en' : _props$locale,\n      _props$localeUtils = props.localeUtils,\n      localeUtils = _props$localeUtils === undefined ? {} : _props$localeUtils;\n\n  if (!isNaN(firstDayOfWeek)) {\n    return firstDayOfWeek;\n  }\n  if (localeUtils.getFirstDayOfWeek) {\n    return localeUtils.getFirstDayOfWeek(locale);\n  }\n  return 0;\n}\n\nfunction isRangeOfDates(value) {\n  return !!(value && value.from && value.to);\n}\n\nfunction getMonthsDiff(d1, d2) {\n  return d2.getMonth() - d1.getMonth() + 12 * (d2.getFullYear() - d1.getFullYear());\n}\n\nfunction getWeekArray(d) {\n  var firstDayOfWeek = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (0, _LocaleUtils.getFirstDayOfWeek)();\n  var fixedWeeks = arguments[2];\n\n  var daysInMonth = getDaysInMonth(d);\n  var dayArray = [];\n\n  var week = [];\n  var weekArray = [];\n\n  for (var i = 1; i <= daysInMonth; i += 1) {\n    dayArray.push(new Date(d.getFullYear(), d.getMonth(), i, 12));\n  }\n\n  dayArray.forEach(function (day) {\n    if (week.length > 0 && day.getDay() === firstDayOfWeek) {\n      weekArray.push(week);\n      week = [];\n    }\n    week.push(day);\n    if (dayArray.indexOf(day) === dayArray.length - 1) {\n      weekArray.push(week);\n    }\n  });\n\n  // unshift days to start the first week\n  var firstWeek = weekArray[0];\n  for (var _i = 7 - firstWeek.length; _i > 0; _i -= 1) {\n    var outsideDate = (0, _DateUtils.clone)(firstWeek[0]);\n    outsideDate.setDate(firstWeek[0].getDate() - 1);\n    firstWeek.unshift(outsideDate);\n  }\n\n  // push days until the end of the last week\n  var lastWeek = weekArray[weekArray.length - 1];\n  for (var _i2 = lastWeek.length; _i2 < 7; _i2 += 1) {\n    var _outsideDate = (0, _DateUtils.clone)(lastWeek[lastWeek.length - 1]);\n    _outsideDate.setDate(lastWeek[lastWeek.length - 1].getDate() + 1);\n    lastWeek.push(_outsideDate);\n  }\n\n  // add extra weeks to reach 6 weeks\n  if (fixedWeeks && weekArray.length < 6) {\n    var lastExtraWeek = void 0;\n\n    for (var _i3 = weekArray.length; _i3 < 6; _i3 += 1) {\n      lastExtraWeek = weekArray[weekArray.length - 1];\n      var lastDay = lastExtraWeek[lastExtraWeek.length - 1];\n      var extraWeek = [];\n\n      for (var j = 0; j < 7; j += 1) {\n        var _outsideDate2 = (0, _DateUtils.clone)(lastDay);\n        _outsideDate2.setDate(lastDay.getDate() + j + 1);\n        extraWeek.push(_outsideDate2);\n      }\n\n      weekArray.push(extraWeek);\n    }\n  }\n\n  return weekArray;\n}\n\nfunction startOfMonth(d) {\n  var newDate = (0, _DateUtils.clone)(d);\n  newDate.setDate(1);\n  newDate.setHours(12, 0, 0, 0); // always set noon to avoid time zone issues\n  return newDate;\n}\n\nfunction getDayNodes(node, classNames) {\n  var outsideClassName = void 0;\n  if (classNames === _classNames2.default) {\n    // When using CSS modules prefix the modifier as required by the BEM syntax\n    outsideClassName = classNames.day + '--' + classNames.outside;\n  } else {\n    outsideClassName = '' + classNames.outside;\n  }\n  var dayQuery = classNames.day.replace(/ /g, '.');\n  var outsideDayQuery = outsideClassName.replace(/ /g, '.');\n  var selector = '.' + dayQuery + ':not(.' + outsideDayQuery + ')';\n  return node.querySelectorAll(selector);\n}\n\nfunction nodeListToArray(nodeList) {\n  return Array.prototype.slice.call(nodeList, 0);\n}\n\nfunction hasOwnProp(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n//# sourceMappingURL=Helpers.js.map","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\n/**\n * Get the form data out of a form element.\n *\n * @param formElement - The element to get the data out of.\n *\n * @returns {Object}\n */\nexport function getFormData(formElement: Node | null) {\n    if (!(formElement instanceof HTMLFormElement)) {\n        return {};\n    }\n\n    const data = new FormData(formElement) as any;\n    const result = {};\n\n    data.forEach((key, value) => {\n        result[key] = value;\n    });\n\n    return result;\n}\n\n/**\n * Toggle any attribute on an element.\n *\n * @param element - The element to toggle on.\n * @param attribute - The attribute to toggle.\n */\nexport function toggleAttribute(element: Element, attribute: string) {\n    const newValue = element.getAttribute(attribute) === \"false\";\n    element.setAttribute(attribute, newValue ? \"true\" : \"false\");\n}\n\nconst dataMap = new WeakMap();\n\n/**\n * Set a piece of data specific to a DOM Element. Similar to `$.data`.\n *\n * @param element - The DOM Element to assosciate the data with.\n * @param key - The key to assosciate the data with.\n * @param value - The value to store.\n */\nexport function setData(element: Element, key: string, value: any) {\n    const initialValue = dataMap.has(element) ? dataMap.get(element) : {};\n    initialValue[key] = value;\n\n    dataMap.set(element, initialValue);\n}\n\n/**\n * Get a piece of data specific to a DOM Element. Similar to `$.data`.\n *\n * @param element - The DOM Element to lookup.\n * @param key - The key to lookup.\n * @param defaultValue - A value to use if the element or key aren't found.\n */\nexport function getData(element: Element, key: string, defaultValue?: any) {\n    if (dataMap.has(element) && dataMap.get(element)[key]) {\n        return dataMap.get(element)[key];\n    }\n\n    const attributeString = `data-${key}`;\n\n    if (element.hasAttribute(attributeString)) {\n        return element.getAttribute(attributeString);\n    }\n\n    return defaultValue;\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport twemoji from \"twemoji\";\n\nlet emojiSupportedCache: boolean | null = null;\n\n/**\n * Determine if the browser/OS combo has support for real unicode emojis.\n */\nexport function isEmojiSupported() {\n    if (emojiSupportedCache !== null) {\n        return emojiSupportedCache;\n    }\n\n    if (process.env.NODE_ENV !== \"test\") {\n        // Test environment\n        const canvas = document.createElement(\"canvas\");\n        if (canvas.getContext && canvas.getContext(\"2d\")) {\n            const ctx = document.createElement(\"canvas\").getContext(\"2d\");\n            if (ctx) {\n                ctx.fillText(\"\", -2, 4);\n                emojiSupportedCache = ctx.getImageData(0, 0, 1, 1).data[3] > 0;\n            } else {\n                emojiSupportedCache = false;\n            }\n        } else {\n            emojiSupportedCache = false;\n        }\n    } else {\n        emojiSupportedCache = true;\n    }\n\n    return emojiSupportedCache;\n}\n\nconst emojiOptions = {\n    className: \"fallBackEmoji\",\n    size: \"72x72\",\n};\n\n/**\n * Returns either native emoji or fallback image\n *\n * @param stringOrNode - A DOM Node or string to convert.\n */\nexport function convertToSafeEmojiCharacters(stringOrNode: string | Node) {\n    if (isEmojiSupported()) {\n        return stringOrNode;\n    }\n    return twemoji.parse(stringOrNode, emojiOptions);\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\n/**\n * Register an keyboard listener for the escape key.\n */\nexport class EscapeListener {\n    /**\n     * @param root - The element to watch for the escape listener in.\n     * @param returnElement - The element to return to when escape is pressed.\n     * @param callback\n     */\n    public constructor(\n        private root: HTMLElement,\n        private returnElement?: HTMLElement,\n        private callback?: (event: KeyboardEvent) => void,\n    ) {}\n\n    /**\n     * Start the listeners.\n     */\n    public start = () => {\n        this.root.addEventListener(\"keydown\", this.keydownListener);\n    };\n\n    /**\n     * Stop the listeners.\n     */\n    public stop = () => {\n        this.root.removeEventListener(\"keydown\", this.keydownListener);\n    };\n\n    /**\n     * Handler that checks for the key of an keyboard event and:\n     *\n     * - Returns focous to the element from the constructor.\n     * - Calls the optional callback.\n     */\n    private keydownListener = (event: KeyboardEvent) => {\n        if (event.key === \"Escape\") {\n            if (this.root.contains(document.activeElement)) {\n                event.preventDefault();\n                this.returnElement && this.returnElement.focus();\n                this.callback && this.callback(event);\n            }\n        }\n    };\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { hashString } from \"@vanilla/utils\";\n\nconst delegatedEventListeners = {};\n\n/**\n * Create an event listener using event delegation.\n *\n * @param eventName - The Event to listen for.\n * @param filterSelector - A CSS selector to match against.\n * @param callback - The callback function. This gets passed the fired event.\n * @param scopeSelector - And element to scope the event listener to.\n *\n * @returns The hash of the event. Save this to use removeDelegatedEvent().\n */\nexport function delegateEvent(\n    eventName: string,\n    filterSelector: string,\n    callback: (event: Event, triggeringElement: HTMLElement) => boolean | void,\n    scopeSelector?: string | HTMLElement,\n): string {\n    let functionKey = eventName + filterSelector + callback.toString();\n\n    let scope;\n\n    if (typeof scopeSelector === \"string\") {\n        scope = document.querySelector(scopeSelector);\n\n        if (!scope) {\n            throw new Error(`Unable to find element in the document for scopeSelector: ${scopeSelector}`);\n        } else {\n            functionKey += scopeSelector;\n        }\n    } else if (scopeSelector instanceof HTMLElement) {\n        scope = scopeSelector;\n    } else {\n        scope = document;\n    }\n\n    const eventHash = hashString(functionKey).toString();\n\n    if (!Object.keys(delegatedEventListeners).includes(eventHash)) {\n        const wrappedCallback = event => {\n            // Get the nearest DOMNode that matches the given selector.\n            const match = filterSelector ? event.target.closest(filterSelector) : event.target;\n\n            if (match) {\n                // Call the callback with the matching element as the context.\n                return callback.call(match, event, match);\n            }\n        };\n\n        scope.addEventListener(eventName, wrappedCallback);\n        delegatedEventListeners[eventHash] = {\n            scope,\n            eventName,\n            wrappedCallback,\n        };\n    }\n\n    return eventHash;\n}\n\n/**\n * Remove a delegated event listener.\n *\n * @param eventHash - The event hash passed from delegateEvent().\n */\nexport function removeDelegatedEvent(eventHash: string) {\n    if (delegatedEventListeners[eventHash]) {\n        const { scope, eventName, wrappedCallback } = delegatedEventListeners[eventHash];\n        scope.removeEventListener(eventName, wrappedCallback);\n        delete delegatedEventListeners[eventHash];\n    }\n}\n\n/**\n * Remove all delegated event listeners that have been registered.\n */\nexport function removeAllDelegatedEvents() {\n    Object.keys(delegatedEventListeners).forEach(key => {\n        removeDelegatedEvent(key);\n    });\n}\n\n/**\n * Handler for files being dragged and dropped.\n *\n * @param event - https://developer.mozilla.org/en-US/docs/Web/API/DragEvent\n */\nexport function getDraggedFile(event: DragEvent): FileList | undefined {\n    if (event.dataTransfer && event.dataTransfer.files && event.dataTransfer.files.length) {\n        event.preventDefault();\n\n        return event.dataTransfer.files;\n    }\n}\n\n/**\n * Handler for files being pasted.\n *\n * @param event - https://developer.mozilla.org/en-US/docs/Web/API/DragEvent\n */\nexport function getPastedFile(event: ClipboardEvent): File | undefined | null {\n    if (event.clipboardData && event.clipboardData.items && event.clipboardData.items.length) {\n        const files = Array.from(event.clipboardData.items)\n            .map((item: any) => (item.getAsFile ? item.getAsFile() : null))\n            .filter(Boolean);\n\n        if (files.length > 0) {\n            event.preventDefault();\n            // Currently only 1 file is supported.\n            const mainFile = files[0];\n            return mainFile;\n        }\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\n/**\n * Register a callback for focusin and focusin out events. The main improvement here over registering\n * the listeners yourself is that the events fire for the whole tree as 1 item instead of as\n * individual notes.\n *\n * This is particularly useful when you want to track focus leaving or enterring a component\n * without caring about the individual contents inside.\n */\nexport class FocusWatcher {\n    /**\n     * @param watchedNode - The watched dom node.\n     * @param callback - A callback for when the tree focuses and blurs.\n     */\n    public constructor(private watchedNode: Element, private changeHandler: (hasFocus: boolean) => void) {}\n\n    /**\n     * Register the event listeners from this class.\n     */\n    public start = () => {\n        this.watchedNode.addEventListener(\"focusout\", this.handleFocusOut, true);\n        this.watchedNode.addEventListener(\"focusin\", this.handleFocusIn, true);\n        document.addEventListener(\"click\", this.handleClick);\n    };\n\n    /**\n     * Remove the event listeners from this class.\n     */\n    public stop = () => {\n        this.watchedNode.removeEventListener(\"focusout\", this.handleFocusOut, true);\n        this.watchedNode.removeEventListener(\"focusin\", this.handleFocusIn, true);\n        document.removeEventListener(\"click\", this.handleClick);\n    };\n\n    /**\n     * Handle when an element loses focus.\n     */\n    private handleFocusOut = (event: FocusEvent) => {\n        this.checkDomTreeHasFocus(event, this.changeHandler);\n    };\n\n    /**\n     * Handle an element gaining focus.\n     */\n    private handleFocusIn = (event: FocusEvent) => {\n        this.checkDomTreeHasFocus(event, this.changeHandler);\n    };\n\n    /**\n     * Handle an element being clicked.\n     */\n    private handleClick = (event: MouseEvent) => {\n        const triggeringElement = event.target as Element;\n        const wasClicked = this.checkDomTreeWasClicked(triggeringElement);\n        if (!wasClicked) {\n            this.changeHandler(false);\n        }\n    };\n\n    /**\n     * Determine whether or not our DOM tree was clicked.\n     */\n    private checkDomTreeWasClicked(clickedElement: Element) {\n        return (\n            this.watchedNode &&\n            clickedElement &&\n            (this.watchedNode.contains(clickedElement as Element) || this.watchedNode === clickedElement)\n        );\n    }\n\n    /**\n     * Determine if the currently focused element is somewhere inside of (or the same as)\n     * a given Element.\n     *\n     * @param watchedNode - The watched node to look in.\n     */\n    private checkDomTreeHasFocus(event: FocusEvent, callback: (hasFocus: boolean) => void) {\n        setTimeout(() => {\n            const possibleTargets = [\n                // NEEDS TO COME FIRST, because safari will populate relatedTarget on focusin, and its not what we're looking for.\n                document.activeElement, // IE11, Safari.\n                event.relatedTarget as Element, // Chrome (The actual standard)\n                (event as any).explicitOriginalTarget, // Firefox\n            ];\n\n            let activeElement = null;\n            for (const target of possibleTargets) {\n                if (target && target !== document.body) {\n                    activeElement = target;\n                    break;\n                }\n            }\n\n            if (activeElement !== null) {\n                const isWatchedInBody = document.body.contains(this.watchedNode);\n                const isFocusedInBody = document.body.contains(activeElement);\n                const isModal = Boolean(document.getElementById(\"modals\")?.contains(activeElement));\n                const hasFocus = Boolean(\n                    this.watchedNode &&\n                        activeElement &&\n                        (activeElement === this.watchedNode || this.watchedNode.contains(activeElement)),\n                );\n\n                // We will only invalidate based on something actually getting focus.\n                // Make sure we are still mounted before calling this.\n                // It could happen that our flyout is unmounted in between the setTimeout call.\n                // We might have focused on a modal which can't be in the watched tree.\n                if (isWatchedInBody && isFocusedInBody) {\n                    callback(hasFocus || isModal);\n                }\n            }\n        }, 0);\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\n/**\n * Use the browser's built-in functionality to quickly and safely escape a string.\n *\n * @param str - The string to escape.\n *\n * @returns Escaped HTML.\n */\nexport function escapeHTML(str: string): string {\n    const div = document.createElement(\"div\");\n    div.appendChild(document.createTextNode(str));\n    return div.innerHTML;\n}\n\n/**\n * Use the browser's built-in functionality to quickly unescape a string.\n * UNSAFE with unsafe strings; only use on previously-escaped ones!\n *\n * @param escapedString - A previously escaped string.\n *\n * @returns The unescaped string.\n */\nexport function unescapeHTML(escapedString: string): string {\n    const div = document.createElement(\"div\");\n    div.innerHTML = escapedString;\n    const child = div.childNodes[0];\n    return child && child.nodeValue ? child.nodeValue : \"\";\n}\n\n/**\n * Determine if the browser is escaping the inner contents of our <noscript /> browser.\n */\nexport function browserEscapesNoScript(): boolean {\n    const ns = document.createElement(\"noscript\");\n    ns.innerHTML = \"<test></test>\";\n    document.body.append(ns);\n    const result = ns.innerHTML.startsWith(\"&lt;\");\n    ns.remove();\n    return result;\n}\n\n/**\n * Get an HTML element from a CSS selector or DOM Node.\n *\n * @param selectorOrElement - A CSS selector or an HTML element.\n *\n * @throws If no element was found.\n * @returns An HTMLElement no matter what.\n */\nexport function ensureHtmlElement(selectorOrElement: string | Node | null): HTMLElement {\n    if (typeof selectorOrElement === \"string\") {\n        selectorOrElement = document.querySelector(selectorOrElement);\n    }\n\n    if (!(selectorOrElement instanceof HTMLElement)) {\n        throw new Error(`HTMLElement could not be found for ${selectorOrElement}.`);\n    }\n\n    return selectorOrElement;\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\n// A weakmap so we can store multiple load callbacks per script.\nconst loadEventCallbacks: WeakMap<Node, Array<(event) => void>> = new WeakMap();\nconst rejectionCache: Map<string, Error> = new Map();\n\n/**\n * Dynamically load a javascript file.\n */\nexport function ensureScript(scriptUrl: string): Promise<void> {\n    return new Promise((resolve, reject) => {\n        const existingScript: HTMLScriptElement | null = document.querySelector(`script[src='${scriptUrl}']`);\n        if (rejectionCache.has(scriptUrl)) {\n            reject(rejectionCache.get(scriptUrl));\n        }\n        if (existingScript && loadEventCallbacks.has(existingScript)) {\n            // Add another resolveCallback into the weakmap.\n            const callbacks = loadEventCallbacks.get(existingScript);\n            callbacks && callbacks.push(resolve);\n        } else {\n            // The script doesn't exist. Lets create it.\n            const head = document.getElementsByTagName(\"head\")[0];\n            const script = document.createElement(\"script\");\n            script.type = \"text/javascript\";\n            script.src = scriptUrl;\n            script.onerror = (event: ErrorEvent) => {\n                const error = new Error(\"Failed to load a required embed script\");\n                rejectionCache.set(scriptUrl, error);\n                reject(error);\n            };\n\n            const timeout = setTimeout(() => {\n                const error = new Error(`Loading of the script ${scriptUrl} has timed out.`);\n                rejectionCache.set(scriptUrl, error);\n                reject(error);\n            }, 10000);\n\n            loadEventCallbacks.set(script, [resolve]);\n\n            script.onload = event => {\n                clearTimeout(timeout);\n                const callbacks = loadEventCallbacks.get(script);\n                callbacks && callbacks.forEach(callback => callback(event));\n                loadEventCallbacks.delete(script);\n            };\n\n            head.appendChild(script);\n        }\n    });\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { browserEscapesNoScript, unescapeHTML } from \"./sanitization\";\n\n/**\n * Prepare an element and it's contents for use in a shadow root.\n *\n * @param element\n * @param cloneElement - If true, clone the element into a `newElementTag`. Preserves CSS classes and IDs.\n *      Particularly useful for when the initial content is inside of a <noscript /> tag.\n * @param newElementTag\n */\nexport function prepareShadowRoot(\n    element: HTMLElement,\n    cloneElement: boolean = false,\n    newElementTag = \"div\",\n): HTMLElement {\n    let html = element.innerHTML;\n    // This is likely a noscript tag.\n    if (browserEscapesNoScript() || html.trim().startsWith(\"&lt;\")) {\n        html = unescapeHTML(html);\n    }\n    // Safari escapes the contents of the noscript.\n    if (cloneElement) {\n        const newElement = document.createElement(newElementTag);\n\n        // Clone various attributes.\n        newElement.classList.value = element.classList.value;\n        newElement.id = element.id;\n\n        // Insert the element & remove the old old.\n        element.parentNode!.insertBefore(newElement, element);\n        element.remove();\n        element = newElement;\n    } else {\n        // If we aren't making a new real root, we need to empty it out.\n        // Otherwise we'll have duplicate contents.\n        element.innerHTML = \"\";\n    }\n\n    const shadowHeader = element.attachShadow({ mode: \"open\" });\n    shadowHeader.innerHTML = html;\n    return element;\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport tabbable from \"tabbable\";\nimport { logError } from \"@vanilla/utils\";\n\n/**\n * A class for handling tabbing inside of a container with various exclusions.\n *\n * The goal is here is to be able to programatically implement various tabbing behaviours\n * required for accessibility.\n */\nexport class TabHandler {\n    private tabbableElements: HTMLElement[];\n\n    /**\n     * Determine if an element is tabbable.\n     */\n    public static isTabbable(element: Node) {\n        const children = tabbable(element.parentNode);\n        return children.includes(element);\n    }\n\n    /**\n     * Construct the handler. Don't be afraid to construct multiple of these.\n     *\n     * The elements in a particular TabHandler are very moment specific.\n     * If the DOM changes underneath it it will likely no longer be valid.\n     *\n     * @param root - The root element to look in.\n     * @param excludedElements - Elements to ignore.\n     * @param excludedRoots - These element's children will be ignored.\n     */\n    public constructor(\n        root: Element = document.documentElement!,\n        private excludedElements: Element[] = [],\n        private excludedRoots: Element[] = [],\n    ) {\n        this.tabbableElements = tabbable(root);\n    }\n\n    /**\n     * Get the next tabbable item within a given tabindex.\n     *\n     * WARNING: Performance can be poor if you pass many excluded roots and do not\n     * sufficiently narrow the tree your are looking in.\n     *\n     * @param from - The currently focused element.\n     * @param reverse - True to get the previous element instead.\n     * @param allowLooping - Whether or not the focus should loop around from beginning <-> end.\n     */\n    public getNext(\n        from: Element | null = document.activeElement,\n        reverse: boolean = false,\n        allowLooping: boolean = true,\n    ): HTMLElement | null {\n        if (!(from instanceof HTMLElement)) {\n            logError(\"Unable to tab to next element, `fromElement` given is not valid: \", from);\n            return null;\n        }\n        const tabbables = this.tabbableElements.filter(this.createExcludeFilterWithExemption(from));\n        const currentTabIndex = tabbables.indexOf(from);\n\n        if (currentTabIndex < 0) {\n            return null;\n        }\n\n        let targetIndex = reverse ? currentTabIndex - 1 : currentTabIndex + 1;\n\n        if (allowLooping) {\n            // Loop over the beginning and ends\n            if (targetIndex < 0) {\n                targetIndex = tabbables.length - 1;\n            } else if (targetIndex >= tabbables.length) {\n                targetIndex = 0;\n            }\n        }\n\n        return tabbables[targetIndex] || null;\n    }\n\n    /**\n     * Get all.\n     */\n    public getAll(from: Element | null = document.activeElement) {\n        if (!(from instanceof HTMLElement)) {\n            logError(\"Unable to tab to next element, `fromElement` given is not valid: \", from);\n            return null;\n        }\n        return this.tabbableElements.filter(this.createExcludeFilterWithExemption(from));\n    }\n\n    /**\n     * Get the first focusable element.\n     */\n    public getInitial(): HTMLElement | null {\n        const tabbables = this.tabbableElements.filter(this.filterAllExcluded);\n        if (tabbables.length > 0) {\n            return tabbables[0];\n        } else {\n            return null;\n        }\n    }\n    /**\n     * Get the last focusable element.\n     */\n    public getLast(): HTMLElement | null {\n        const tabbables = this.tabbableElements.filter(this.filterAllExcluded);\n        if (tabbables.length > 0) {\n            return tabbables[tabbables.length - 1];\n        } else {\n            return null;\n        }\n    }\n\n    /**\n     * Filter out all excluded elements. Allows 1 element and its parents to be exempted.\n     *\n     * The exemption is necessary so we can find our place\n     * if the focus is already in an item that we are trying to exclude.\n     *\n     * @returns A filter for use with [].filter()\n     */\n    private createExcludeFilterWithExemption = (exemption: Element) => {\n        return (elementToFilter: Element): boolean => {\n            const elementIsActiveOrChildOfActive = exemption === elementToFilter || elementToFilter.contains(exemption);\n\n            if (!elementIsActiveOrChildOfActive) {\n                if (this.excludedElements.includes(elementToFilter)) {\n                    return false;\n                }\n                for (const excludedRoot of this.excludedRoots) {\n                    if (excludedRoot !== elementToFilter && excludedRoot.contains(elementToFilter)) {\n                        return false;\n                    }\n                }\n            }\n\n            return true;\n        };\n    };\n\n    /**\n     * A filter for use with [].filter().\n     *\n     * Filters out all excluded elements and roots.\n     */\n    private filterAllExcluded = (elementToFilter: Element): boolean => {\n        if (this.excludedElements.includes(elementToFilter)) {\n            return false;\n        }\n        for (const excludedRoot of this.excludedRoots) {\n            if (excludedRoot !== elementToFilter && excludedRoot.contains(elementToFilter)) {\n                return false;\n            }\n        }\n\n        return true;\n    };\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\n// Some polyfills\nimport \"focus-visible\";\nimport smoothscroll from \"smoothscroll-polyfill\";\n\nsmoothscroll.polyfill();\n\nexport * from \"./domData\";\nexport * from \"./emoji\";\nexport * from \"./EscapeListener\";\nexport * from \"./events\";\nexport * from \"./FocusWatcher\";\nexport * from \"./sanitization\";\nexport * from \"./scripts\";\nexport * from \"./shadowDom\";\nexport * from \"./TabHandler\";\nexport * from \"./visibility\";\n","'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AnnouncerContext = _react2.default.createContext({\n  announceAssertive: logContextWarning,\n  announcePolite: logContextWarning\n});\n\nfunction logContextWarning() {\n  console.warn('Announcement failed, LiveAnnouncer context is missing');\n}\n\nexports.default = AnnouncerContext;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.formatDay = formatDay;\nexports.formatMonthTitle = formatMonthTitle;\nexports.formatWeekdayShort = formatWeekdayShort;\nexports.formatWeekdayLong = formatWeekdayLong;\nexports.getFirstDayOfWeek = getFirstDayOfWeek;\nexports.getMonths = getMonths;\nvar WEEKDAYS_LONG = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\nvar WEEKDAYS_SHORT = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];\n\nvar MONTHS = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\nfunction formatDay(day) {\n  return day.toDateString();\n}\n\nfunction formatMonthTitle(d) {\n  return MONTHS[d.getMonth()] + ' ' + d.getFullYear();\n}\n\nfunction formatWeekdayShort(i) {\n  return WEEKDAYS_SHORT[i];\n}\n\nfunction formatWeekdayLong(i) {\n  return WEEKDAYS_LONG[i];\n}\n\nfunction getFirstDayOfWeek() {\n  return 0;\n}\n\nfunction getMonths() {\n  return MONTHS;\n}\n\nexports.default = {\n  formatDay: formatDay,\n  formatMonthTitle: formatMonthTitle,\n  formatWeekdayShort: formatWeekdayShort,\n  formatWeekdayLong: formatWeekdayLong,\n  getFirstDayOfWeek: getFirstDayOfWeek,\n  getMonths: getMonths\n};\n//# sourceMappingURL=LocaleUtils.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dayMatchesModifier = dayMatchesModifier;\nexports.getModifiersForDay = getModifiersForDay;\n\nvar _DateUtils = require('./DateUtils');\n\nvar _Helpers = require('./Helpers');\n\n/**\n * Return `true` if a date matches the specified modifier.\n *\n * @export\n * @param {Date} day\n * @param {Any} modifier\n * @return {Boolean}\n */\nfunction dayMatchesModifier(day, modifier) {\n  if (!modifier) {\n    return false;\n  }\n  var arr = Array.isArray(modifier) ? modifier : [modifier];\n  return arr.some(function (mod) {\n    if (!mod) {\n      return false;\n    }\n    if (mod instanceof Date) {\n      return (0, _DateUtils.isSameDay)(day, mod);\n    }\n    if ((0, _Helpers.isRangeOfDates)(mod)) {\n      return (0, _DateUtils.isDayInRange)(day, mod);\n    }\n    if (mod.after && mod.before && (0, _DateUtils.isDayAfter)(mod.before, mod.after)) {\n      return (0, _DateUtils.isDayAfter)(day, mod.after) && (0, _DateUtils.isDayBefore)(day, mod.before);\n    }\n    if (mod.after && mod.before && ((0, _DateUtils.isDayAfter)(mod.after, mod.before) || (0, _DateUtils.isSameDay)(mod.after, mod.before))) {\n      return (0, _DateUtils.isDayAfter)(day, mod.after) || (0, _DateUtils.isDayBefore)(day, mod.before);\n    }\n    if (mod.after) {\n      return (0, _DateUtils.isDayAfter)(day, mod.after);\n    }\n    if (mod.before) {\n      return (0, _DateUtils.isDayBefore)(day, mod.before);\n    }\n    if (mod.daysOfWeek) {\n      return mod.daysOfWeek.some(function (dayOfWeek) {\n        return day.getDay() === dayOfWeek;\n      });\n    }\n    if (typeof mod === 'function') {\n      return mod(day);\n    }\n    return false;\n  });\n}\n\n/**\n * Return the modifiers matching the given day for the given\n * object of modifiers.\n *\n * @export\n * @param {Date} day\n * @param {Object} [modifiersObj={}]\n * @return {Array}\n */\nfunction getModifiersForDay(day) {\n  var modifiersObj = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return Object.keys(modifiersObj).reduce(function (modifiers, modifierName) {\n    var value = modifiersObj[modifierName];\n    if (dayMatchesModifier(day, value)) {\n      modifiers.push(modifierName);\n    }\n    return modifiers;\n  }, []);\n}\n\nexports.default = { dayMatchesModifier: dayMatchesModifier, getModifiersForDay: getModifiersForDay };\n//# sourceMappingURL=ModifiersUtils.js.map","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport Button from \"@library/forms/Button\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport InputTextBlock from \"@library/forms/InputTextBlock\";\nimport FrameBody from \"@library/layout/frame/FrameBody\";\nimport FrameFooter from \"@library/layout/frame/FrameFooter\";\nimport { t } from \"@library/utility/appUtils\";\nimport { EditorEventWall } from \"@rich-editor/editor/pieces/EditorEventWall\";\nimport { embedMenuClasses } from \"@rich-editor/editor/pieces/embedMenuStyles\";\nimport Frame from \"@vanilla/library/src/scripts/layout/frame/Frame\";\nimport FrameHeader from \"@vanilla/library/src/scripts/layout/frame/FrameHeader\";\nimport Modal from \"@vanilla/library/src/scripts/modal/Modal\";\nimport ModalSizes from \"@vanilla/library/src/scripts/modal/ModalSizes\";\nimport { useUniqueID } from \"@vanilla/library/src/scripts/utility/idUtils\";\nimport { useLastValue } from \"@vanilla/react-utils\";\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\n\ninterface IProps {\n    onSave: (meta: IImageMeta) => void;\n    className?: string;\n    initialAlt: string;\n    onClose: () => void;\n    isVisible: boolean;\n}\n\nexport interface IImageMeta {\n    alt: string;\n}\n\n/**\n * A class for rendering Giphy embeds.\n */\nexport function ImageEmbedModal(props: IProps) {\n    const classes = embedMenuClasses();\n    const [alt, setAlt] = useState(props.initialAlt);\n    const inputRef = useRef<HTMLInputElement>(null);\n\n    const handleTextChange = useCallback((event) => {\n        if (event) {\n            event.stopPropagation();\n            event.preventDefault();\n            setAlt(event.target.value || \"\");\n        }\n    }, []);\n\n    // Focus the input when opened.\n    useEffect(() => {\n        inputRef.current?.focus();\n    }, []);\n\n    const saveAndClose = () => {\n        setAlt(alt);\n        props.onSave({\n            alt,\n        });\n        props.onClose();\n    };\n\n    const titleID = useUniqueID(\"modalTitle\");\n\n    return (\n        <Modal isVisible={props.isVisible} size={ModalSizes.SMALL} titleID={titleID} exitHandler={props.onClose}>\n            <EditorEventWall>\n                <form className={classes.form}>\n                    <Frame\n                        header={<FrameHeader title={t(\"Alt Text\")} titleID={titleID} closeFrame={saveAndClose} />}\n                        body={\n                            <FrameBody className={classes.verticalPadding}>\n                                <InputTextBlock\n                                    label={t(\n                                        \"Alternative text helps users with accessibility concerns and improves SEO.\",\n                                    )}\n                                    labelClassName={classes.paragraph}\n                                    inputProps={{\n                                        required: true,\n                                        value: alt,\n                                        onChange: handleTextChange,\n                                        inputRef,\n                                        placeholder: t(\"Example: Image of a Coffee\"),\n                                        onKeyPress: (event: React.KeyboardEvent) => {\n                                            if (event.key === \"Enter\") {\n                                                event.preventDefault();\n                                                event.stopPropagation();\n                                                saveAndClose();\n                                            }\n                                        },\n                                    }}\n                                />\n                            </FrameBody>\n                        }\n                        footer={\n                            <FrameFooter justifyRight={true}>\n                                <Button\n                                    baseClass={ButtonTypes.TEXT_PRIMARY}\n                                    onClick={(e) => {\n                                        e.preventDefault();\n                                        e.stopPropagation();\n                                        saveAndClose();\n                                    }}\n                                >\n                                    {t(\"Save\")}\n                                </Button>\n                            </FrameFooter>\n                        }\n                    />\n                </form>\n            </EditorEventWall>\n        </Modal>\n    );\n}\n","/* eslint-env node */\n\nmodule.exports = require('./lib/src/addons/MomentLocaleUtils');\nmodule.exports.localeUtils = require('./lib/src/addons/MomentLocaleUtils');\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\n\ninterface IProps {\n    duration: number;\n    onHover: React.MouseEventHandler | undefined;\n    once?: boolean;\n    children: (providedProps: IProvidedProps) => React.ReactNode;\n}\n\ninterface IProvidedProps {\n    onMouseEnter: React.MouseEventHandler;\n    onMouseLeave: React.MouseEventHandler;\n}\n\n/**\n * Component with render props for handling a hover after a certain duration.\n *\n * Simply spread the provided props over the element you want to track the hover of.\n *\n * @example\n * <Hoverable duration={250} onHover={myCallback}>\n *     {providedProps => {\n *          <div {...providedProps} className=\"someClass\">\n *              // Some deeply neested child.\n *          </div>\n *     }}\n * </Hoverable>\n */\nexport class Hoverable extends React.Component<IProps> {\n    public static defaultProps = {\n        once: true,\n    };\n\n    /**\n     * @inheritdoc\n     */\n    public render(): React.ReactNode {\n        return this.props.children({\n            onMouseEnter: this.mouseEnterHandler,\n            onMouseLeave: this.mouseLeaveHandler,\n        });\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public componentWillUnmount() {\n        this.dismissTimeout();\n    }\n\n    private hoverTimeout: NodeJS.Timeout;\n    private hasExecuted = false;\n\n    /**\n     * Handle the hover event by checking if we've already called ourselves then calling the passed callback.\n     */\n    private handleHover = (event: React.MouseEvent) => {\n        if (this.hasExecuted && this.props.once) {\n            return;\n        }\n\n        this.hasExecuted = true;\n        if (this.props.onHover) {\n            this.props.onHover(event);\n        }\n    };\n\n    /**\n     * Set a timeout when the mouse enters. If the timeout is not removed we have a hover.\n     */\n    private mouseEnterHandler = (event: React.MouseEvent) => {\n        this.hoverTimeout = setTimeout(() => {\n            this.handleHover(event);\n        }, this.props.duration);\n    };\n\n    /**\n     * Remove the timeout for the hover so it doesn't execute again (or at all).\n     */\n    private mouseLeaveHandler = (event: React.MouseEvent) => {\n        this.dismissTimeout();\n    };\n\n    /**\n     * Cleanup timeouts and properties to reset.\n     */\n    private dismissTimeout() {\n        this.hasExecuted = false;\n        if (this.hoverTimeout) {\n            clearTimeout(this.hoverTimeout);\n        }\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { RefObject, useState, useLayoutEffect } from \"react\";\nimport ResizeObserver from \"resize-observer-polyfill\";\nimport debounce from \"lodash/debounce\";\nimport { stableObjectHash } from \"@vanilla/utils\";\n\n// DOMRectReadOnly.fromRect()\nconst EMPTY_RECT: DOMRect = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    toJSON: () => \"\",\n};\n\n/**\n * Utility hook for measuring a dom element.\n * Will return back measurements as a bounding rectangle for the element contained in a ref.\n *\n * @param ref The ref to measure.\n * @param adjustForScrollOffset If set, y values will be adjusted for the current scroll offset.\n * @param watchRef Used to trigger a remeasure if the ref changes.\n */\nexport function useMeasure(\n    ref: RefObject<HTMLElement | null>,\n    adjustForScrollOffset: boolean = false,\n    watchRef: boolean = false,\n) {\n    const [bounds, setContentRect] = useState<DOMRect>(EMPTY_RECT);\n    const refWatch = watchRef ? ref.current : ref;\n    useLayoutEffect(() => {\n        let animationFrameId: number | null = null;\n\n        const measure = () => {\n            animationFrameId = window.requestAnimationFrame(() => {\n                if (!ref.current) {\n                    setContentRect(EMPTY_RECT);\n                    return;\n                }\n                let rect = ref.current.getBoundingClientRect();\n\n                if (adjustForScrollOffset) {\n                    rect = {\n                        ...rect,\n                        y: rect.y + window.scrollY,\n                        top: rect.top + window.scrollY,\n                        bottom: rect.bottom + window.scrollY,\n                        width: rect.width,\n                        height: rect.height,\n                        right: rect.right,\n                        left: rect.left,\n                    };\n                }\n\n                rect.toJSON = () => {\n                    return JSON.stringify({\n                        y: rect.y,\n                        top: rect.top,\n                        bottom: rect.bottom,\n                        width: rect.width,\n                        height: rect.height,\n                        right: rect.right,\n                        left: rect.left,\n                    });\n                };\n\n                setContentRect(rect);\n            });\n        };\n\n        const resizeListener = debounce(() => {\n            measure();\n        }, 100);\n        window.addEventListener(\"resize\", resizeListener);\n\n        const ro = new ResizeObserver(measure);\n        if (ref.current) {\n            ro.observe(ref.current);\n        } else {\n            setContentRect(EMPTY_RECT);\n        }\n\n        return () => {\n            window.cancelAnimationFrame(animationFrameId!);\n            ro.disconnect();\n            resizeListener.cancel();\n            window.removeEventListener(\"resize\", resizeListener);\n            setContentRect(EMPTY_RECT);\n        };\n    }, [adjustForScrollOffset, refWatch, ref]);\n\n    return bounds;\n}\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\n\nimport React, { useLayoutEffect, useRef } from \"react\";\n\nexport function useDomNodeAttachment(domNodes?: Node[]): React.RefObject<any> {\n    const ref = useRef<HTMLElement | null>();\n\n    useLayoutEffect(() => {\n        if (domNodes && ref.current) {\n            domNodes.forEach((node) => {\n                ref.current?.appendChild(node);\n            });\n        }\n    }, [domNodes]);\n\n    return ref;\n}\n\ninterface IProps extends React.HTMLAttributes<HTMLDivElement> {\n    nodes: Node[];\n}\n\nexport function DomNodeAttacher(_props: IProps) {\n    const { nodes, ...props } = _props;\n    const ref = useDomNodeAttachment(nodes);\n    return <div {...props} ref={ref} />;\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { useEffect } from \"react\";\n\nimport { EscapeListener } from \"@vanilla/dom-utils\";\n\n/**\n * React hook for listening for an escape press on the keyboard inside root element.\n *\n * When escape is pressed, the return element will be focused if provided or the callback will will be called.\n */\nexport function useEscapeListener({\n    root,\n    returnElement,\n    callback,\n}: {\n    root?: HTMLElement | null;\n    returnElement?: HTMLElement | null;\n    callback?: (event: KeyboardEvent) => void;\n}) {\n    useEffect(() => {\n        if (root === null || returnElement === null) {\n            // Bail out if these are null. That means we have unfilled refs. Undefined means they were not passed and we should use the defaults.\n            return;\n        }\n        const actualRoot = root || document.documentElement;\n        const escapeListener = new EscapeListener(actualRoot, returnElement, callback);\n        escapeListener.start();\n        return escapeListener.stop;\n    }, [root, returnElement, callback]);\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { useEffect, useLayoutEffect } from \"react\";\nimport { FocusWatcher } from \"@vanilla/dom-utils\";\n\n/**\n * React hook for creating and destroying a FocusWatcher. See FocusWatcher documentation.\n */\nexport function useFocusWatcher(\n    ref: React.RefObject<Element | null>,\n    changeHandler: (hasFocus: boolean) => void,\n    bypass?: boolean,\n) {\n    useLayoutEffect(() => {\n        if (bypass) {\n            return;\n        }\n        if (ref.current !== null) {\n            const focusWatcher = new FocusWatcher(ref.current, changeHandler);\n            focusWatcher.start();\n            return focusWatcher.stop;\n        }\n    }, [ref, changeHandler, bypass]);\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nimport { useRef, useEffect } from \"react\";\n\n/**\n * Keep a reference to the previous value of something. (during the previous render).\n *\n * @param value\n */\nexport function useLastValue<T>(value: T): T | undefined {\n    const ref = useRef<T>();\n    useEffect(() => void (ref.current = value), [value]);\n    return ref.current;\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { useState } from \"react\";\n\n/**\n * Return a throw function for use inside of custom hooks & useEffect.\n *\n * This needed because throwing inside of `useEffect` does not propagate up to error boundaries.\n * @see https://github.com/facebook/react/issues/11334\n */\nexport function useThrowError(): (err: Error) => void {\n    const [error, setError] = useState<Error | null>(null);\n    if (error) {\n        throw error;\n    }\n\n    return setError;\n}\n","/**\n * Utility function related to logging/debugging.\n *\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nlet internalDebugValue = false;\n\n/**\n * Get or set the debug flag.\n *\n * @param newValue - The new value of debug.\n * @returns the current debug setting.\n */\nexport function debug(newValue?: boolean): boolean {\n    if (newValue !== undefined) {\n        internalDebugValue = newValue;\n    }\n\n    return internalDebugValue;\n}\n\n/**\n * Log something to console.\n * This only prints in debug mode.\n *\n * @param value - The value to log.\n */\nexport function logDebug(...value: any[]) {\n    if (internalDebugValue) {\n        // eslint-disable-next-line no-console\n        console.log(...value);\n    }\n}\n\n/**\n * Log something to console.\n * This only prints in debug mode, and if outputLog is true.\n *\n * @param outputLog - Condition to render log\n * @param value - The value to log.\n */\nexport function logDebugConditionnal(outputLog = false, ...value: any[]) {\n    if (internalDebugValue && outputLog) {\n        // eslint-disable-next-line no-console\n        console.log(...value);\n    }\n}\n\n/**\n * Log an error to console.\n * This will not run in test mode _unless_ debug is set to true.\n *\n * @param value - The value to log.\n */\nexport function logError(...value: any[]) {\n    if (!internalDebugValue && process.env.NODE_ENV === \"test\") {\n        return;\n    }\n    // eslint-disable-next-line no-console\n    console.error(...value);\n}\n\n/**\n * Log a warning to console.\n * This will not run in test mode _unless_ debug is set to true.\n *\n * @param value - The value to log.\n */\nexport function logWarning(...value: any[]) {\n    if (!internalDebugValue || process.env.NODE_ENV === \"test\") {\n        return;\n    }\n    // eslint-disable-next-line no-console\n    console.warn(...value);\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.formatDay = formatDay;\nexports.formatMonthTitle = formatMonthTitle;\nexports.formatWeekdayShort = formatWeekdayShort;\nexports.formatWeekdayLong = formatWeekdayLong;\nexports.getFirstDayOfWeek = getFirstDayOfWeek;\nexports.getMonths = getMonths;\nexports.formatDate = formatDate;\nexports.parseDate = parseDate;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction formatDay(day) {\n  var locale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'en';\n\n  return (0, _moment2.default)(day).locale(locale).format('ddd ll');\n} /* eslint-disable import/no-extraneous-dependencies, no-underscore-dangle */\n\nfunction formatMonthTitle(date) {\n  var locale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'en';\n\n  return (0, _moment2.default)(date).locale(locale).format('MMMM YYYY');\n}\n\nfunction formatWeekdayShort(day) {\n  var locale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'en';\n\n  return (0, _moment2.default)().locale(locale)._locale.weekdaysMin()[day];\n}\n\nfunction formatWeekdayLong(day) {\n  var locale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'en';\n\n  return (0, _moment2.default)().locale(locale)._locale.weekdays()[day];\n}\n\nfunction getFirstDayOfWeek() {\n  var locale = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'en';\n\n  var localeData = _moment2.default.localeData(locale);\n  return localeData.firstDayOfWeek();\n}\n\nfunction getMonths() {\n  var locale = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'en';\n\n  var months = [];\n  var i = 0;\n  while (i < 12) {\n    months.push((0, _moment2.default)().locale(locale).month(i).format('MMMM'));\n    i += 1;\n  }\n  return months;\n}\n\nfunction formatDate(date) {\n  var format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'L';\n  var locale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'en';\n\n  return (0, _moment2.default)(date).locale(locale).format(Array.isArray(format) ? format[0] : format);\n}\n\nfunction parseDate(str) {\n  var format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'L';\n  var locale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'en';\n\n  var m = (0, _moment2.default)(str, format, locale, true);\n  if (m.isValid()) {\n    return m.toDate();\n  }\n  return undefined;\n}\n\nexports.default = {\n  formatDay: formatDay,\n  formatMonthTitle: formatMonthTitle,\n  formatWeekdayShort: formatWeekdayShort,\n  formatWeekdayLong: formatWeekdayLong,\n  getFirstDayOfWeek: getFirstDayOfWeek,\n  getMonths: getMonths,\n  formatDate: formatDate,\n  parseDate: parseDate\n};\n//# sourceMappingURL=MomentLocaleUtils.js.map","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n","'use strict';\n\nexports.__esModule = true;\nexports.LiveMessenger = exports.LiveMessage = exports.LiveAnnouncer = undefined;\n\nvar _LiveAnnouncer2 = require('./modules/LiveAnnouncer');\n\nvar _LiveAnnouncer3 = _interopRequireDefault(_LiveAnnouncer2);\n\nvar _LiveMessage2 = require('./modules/LiveMessage');\n\nvar _LiveMessage3 = _interopRequireDefault(_LiveMessage2);\n\nvar _LiveMessenger2 = require('./modules/LiveMessenger');\n\nvar _LiveMessenger3 = _interopRequireDefault(_LiveMessenger2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.LiveAnnouncer = _LiveAnnouncer3.default;\nexports.LiveMessage = _LiveMessage3.default;\nexports.LiveMessenger = _LiveMessenger3.default;","/*\n  Used to import DayPickerInput. e.g. `import DayPickerInput from 'react-day-picker/DayPickerInput'`\n*/\n\n/* eslint-disable no-var */\n/* eslint-env node */\n\nvar DayPickerInput = require('./lib/src/DayPickerInput');\n\nmodule.exports = DayPickerInput;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lodash = require('lodash.throttle');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _exenv = require('exenv');\n\nvar _Portal = require('./Portal');\n\nvar _Portal2 = _interopRequireDefault(_Portal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar listeners = {};\n\nfunction fireListeners() {\n  Object.keys(listeners).forEach(function (key) {\n    return listeners[key]();\n  });\n}\n\nfunction getPageOffset() {\n  return {\n    x: window.pageXOffset !== undefined ? window.pageXOffset : (document.documentElement || document.body.parentNode || document.body).scrollLeft,\n    y: window.pageYOffset !== undefined ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop\n  };\n}\n\nfunction initDOMListener() {\n  document.body.addEventListener('wheel', (0, _lodash2.default)(fireListeners, 100, {\n    leading: true,\n    trailing: true\n  }));\n  window.addEventListener('resize', (0, _lodash2.default)(fireListeners, 50, {\n    leading: true,\n    trailing: true\n  }));\n}\n\nif (_exenv.canUseDOM) {\n  if (document.body) {\n    initDOMListener();\n  } else {\n    document.addEventListener('DOMContentLoaded', initDOMListener);\n  }\n}\n\nvar listenerIdCounter = 0;\nfunction subscribe(fn) {\n  listenerIdCounter += 1;\n  var id = listenerIdCounter;\n  listeners[id] = fn;\n  return function () {\n    return delete listeners[id];\n  };\n}\n\nvar RelativePortal = function (_React$Component) {\n  _inherits(RelativePortal, _React$Component);\n\n  function RelativePortal() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, RelativePortal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = RelativePortal.__proto__ || Object.getPrototypeOf(RelativePortal)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      right: 0,\n      left: 0,\n      top: 0\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(RelativePortal, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.handleScroll = function () {\n        if (_this2.element) {\n          var rect = _this2.element.getBoundingClientRect();\n          var pageOffset = getPageOffset();\n          var top = pageOffset.y + rect.top;\n          var right = document.documentElement.clientWidth - rect.right - pageOffset.x;\n          var left = pageOffset.x + rect.left;\n\n          if (top !== _this2.state.top || left !== _this2.state.left || right !== _this2.state.right) {\n            _this2.setState({ left: left, top: top, right: right });\n          }\n        }\n      };\n      this.unsubscribe = subscribe(this.handleScroll);\n      this.handleScroll();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.handleScroll();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.unsubscribe();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props = this.props,\n          Comp = _props.component,\n          top = _props.top,\n          left = _props.left,\n          right = _props.right,\n          fullWidth = _props.fullWidth,\n          props = _objectWithoutProperties(_props, ['component', 'top', 'left', 'right', 'fullWidth']);\n\n      var fromLeftOrRight = right !== undefined ? { right: this.state.right + right } : { left: this.state.left + left };\n\n      var horizontalPosition = fullWidth ? { right: this.state.right + right, left: this.state.left + left } : fromLeftOrRight;\n\n      return _react2.default.createElement(\n        Comp,\n        {\n          ref: function ref(element) {\n            _this3.element = element;\n          }\n        },\n        _react2.default.createElement(\n          _Portal2.default,\n          props,\n          _react2.default.createElement(\n            'div',\n            {\n              style: _extends({\n                position: 'absolute',\n                top: this.state.top + top\n              }, horizontalPosition)\n            },\n            this.props.children\n          )\n        )\n      );\n    }\n  }]);\n\n  return RelativePortal;\n}(_react2.default.Component);\n\nRelativePortal.propTypes = {\n  right: _propTypes2.default.number,\n  left: _propTypes2.default.number,\n  fullWidth: _propTypes2.default.bool,\n  top: _propTypes2.default.number,\n  children: _propTypes2.default.any,\n  onOutClick: _propTypes2.default.func,\n  component: _propTypes2.default.string.isRequired\n};\nRelativePortal.defaultProps = {\n  left: 0,\n  top: 0,\n  component: 'span'\n};\nexports.default = RelativePortal;\n\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = clone;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { standardAnimations } from \"@library/styles/animationHelpers\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { viewHeight } from \"csx\";\n\nexport const richEditorVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const varsFormElements = formElementsVariables();\n    const makeThemeVars = variableFactory(\"richEditor\");\n    const animations = standardAnimations();\n\n    const colors = makeThemeVars(\"colors\", {\n        bg: globalVars.mainColors.bg,\n        outline: globalVars.mainColors.primary.fade(0.6),\n    });\n\n    const spacing = makeThemeVars(\"spacing\", {\n        paddingLeft: 36,\n        paddingRight: 36,\n        paddingTop: 12,\n        paddingBottom: 12,\n        embedMenu: 0,\n    });\n\n    const sizing = makeThemeVars(\"sizing\", {\n        minHeight: 200,\n        emojiSize: 40,\n    });\n\n    const menuButton = makeThemeVars(\"menuButton\", {\n        size: 42,\n    });\n\n    const paragraphMenuHandle = makeThemeVars(\"paragraphMenuHandle\", {\n        size: 28,\n        offset: -varsFormElements.border.width + 1,\n    });\n\n    const insertLink = makeThemeVars(\"insertLink\", {\n        width: 287,\n    });\n\n    const flyout = makeThemeVars(\"flyout\", {\n        padding: {\n            vertical: 12,\n            horizontal: 12,\n        },\n        maxHeight: viewHeight(100),\n        height: menuButton.size,\n    });\n\n    const nub = makeThemeVars(\"nub\", {\n        width: 12,\n    });\n\n    const menu = makeThemeVars(\"menu\", {\n        borderWidth: 1,\n        offset: nub.width * 2,\n    });\n\n    const pilcrow = makeThemeVars(\"pilcrow\", {\n        offset: 0,\n        fontSize: 14,\n        animation: {\n            duration: \".3s\",\n            name: animations.fadeIn,\n            timing: \"ease-out\",\n            iterationCount: 1,\n        },\n    });\n\n    const emojiGroup = makeThemeVars(\"emojiGroup\", {\n        paddingLeft: 3,\n        offset: -(varsFormElements.border.width + menu.borderWidth * 2),\n    });\n\n    const embedMenu = makeThemeVars(\"embedMenu\", {\n        padding: 0,\n        mobile: {\n            border: {\n                color: globalVars.mainColors.primary,\n            },\n            transition: {\n                duration: \".15s\",\n                timing: \"ease-out\",\n            },\n        },\n    });\n\n    const embedButton = makeThemeVars(\"embedButton\", {\n        display: \"block\",\n        offset: -varsFormElements.border.width,\n    });\n\n    const text = makeThemeVars(\"text\", {\n        offset: 0,\n        placeholder: {\n            color: globalVars.mixBgAndFg(0.5),\n        },\n    });\n\n    const title = makeThemeVars(\"titleInput\", {\n        height: globalVars.fonts.size.title + globalVars.gutter.half,\n        fontSize: globalVars.fonts.size.title,\n        placeholder: {\n            color: globalVars.mixBgAndFg(0.5),\n        },\n    });\n\n    const scrollContainer = makeThemeVars(\"scrollContainer\", {\n        overshoot: 48,\n    });\n\n    const emojiBody = makeThemeVars(\"emojiBody\", {\n        height: 252,\n        padding: {\n            horizontal: 3,\n            top: 3,\n            bottom: 0,\n        },\n    });\n\n    const emojiHeader = makeThemeVars(\"emojiHeader\", {\n        padding: {\n            horizontal: 12,\n            vertical: 4,\n        },\n    });\n\n    const emojiFooter = makeThemeVars(\"emojiFooter\", {\n        height: menuButton.size,\n    });\n\n    const buttonContents = makeThemeVars(\"buttonContents\", {\n        state: {\n            bg: globalVars.mainColors.primary.fade(0.1),\n        },\n    });\n\n    const iconWrap = makeThemeVars(\"iconWrap\", {\n        width: 32,\n        height: 32,\n    });\n\n    const richEditorWidth = 8 * sizing.emojiSize;\n\n    const modernFrame = makeThemeVars(\"modernFrame\", {\n        padding: 16,\n        margin: 16,\n    });\n\n    return {\n        colors,\n        spacing,\n        sizing,\n        menuButton,\n        paragraphMenuHandle,\n        insertLink,\n        flyout,\n        nub,\n        menu,\n        pilcrow,\n        emojiGroup,\n        embedButton,\n        text,\n        title,\n        embedMenu,\n        scrollContainer,\n        emojiBody,\n        buttonContents,\n        emojiHeader,\n        emojiFooter,\n        iconWrap,\n        richEditorWidth,\n        modernFrame,\n    };\n});\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport {\n    absolutePosition,\n    appearance,\n    singleBorder,\n    singleLineEllipsis,\n    userSelect,\n    pointerEvents,\n    importantUnit,\n} from \"@library/styles/styleHelpers\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { calc, important, percent, quote, translateY } from \"csx\";\nimport { richEditorVariables } from \"@rich-editor/editor/richEditorVariables\";\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { CSSObject } from \"@emotion/css\";\nimport { buttonResetMixin } from \"@vanilla/library/src/scripts/forms/buttonMixins\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\n\nexport const richEditorClasses = useThemeCache((legacyMode: boolean) => {\n    const globalVars = globalVariables();\n    const style = styleFactory(\"richEditor\");\n    const vars = richEditorVariables();\n    const formVars = formElementsVariables();\n    const mediaQueries = layoutVariables().mediaQueries();\n\n    const root = style({\n        position: \"relative\",\n        display: \"block\",\n        ...{\n            \"&.isDisabled\": {\n                ...{\n                    \"&, &.richEditor-button\": {\n                        cursor: important(\"progress\"),\n                    },\n                },\n            },\n            \".richEditor-textWrap, .richEditor-frame\": {\n                display: \"flex\",\n                flexDirection: \"column\",\n                flexGrow: 1,\n                position: \"relative\",\n            },\n            \"& .ql-clipboard\": {\n                ...Mixins.absolute.srOnly(),\n                position: \"fixed\", // Fixed https://github.com/quilljs/quill/issues/1374#issuecomment-415333651\n            },\n            \".richEditor-nextInput, .iconButton, .richEditor-button\": {\n                ...singleLineEllipsis(),\n                ...appearance(),\n                position: \"relative\",\n                border: 0,\n                padding: 0,\n                background: \"none\",\n                textAlign: \"left\",\n            },\n            \".Close-x\": {\n                display: \"block\",\n                cursor: \"pointer\",\n            },\n            \".content-wrapper\": {\n                height: percent(100),\n            },\n            \".embedDialogue\": {\n                position: \"relative\",\n            },\n        },\n    });\n\n    const iconWrap = style(\"iconWrap\", {\n        ...pointerEvents(),\n        content: quote(``),\n        ...absolutePosition.middleOfParent(),\n        width: styleUnit(vars.iconWrap.width),\n        height: styleUnit(vars.iconWrap.width),\n        ...Mixins.border({\n            radius: 3,\n            color: globalVars.elementaryColors.transparent,\n        }),\n    });\n\n    const paragraphMenu = style(\"paragraphMenu\", {\n        position: \"absolute\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        top: styleUnit(vars.pilcrow.offset),\n        left: 0,\n        marginLeft: styleUnit(-globalVars.gutter.quarter - (!legacyMode ? globalVars.gutter.size * 2 : 0)),\n        transform: `translateX(-100%) translateY(-50%)`,\n        height: styleUnit(vars.paragraphMenuHandle.size),\n        width: styleUnit(vars.paragraphMenuHandle.size),\n        animationName: vars.pilcrow.animation.name,\n        animationDuration: vars.pilcrow.animation.duration,\n        animationTimingFunction: vars.pilcrow.animation.timing,\n        animationIterationCount: vars.pilcrow.animation.iterationCount,\n        zIndex: 10,\n        ...{\n            \".richEditor-button&.isActive:hover\": {\n                cursor: \"default\",\n            },\n            \"&.isMenuInset\": {\n                transform: translateY(\"-50%\"),\n            },\n        },\n    });\n\n    const paragraphMenuMobile = style(\"paragraphMenu-mobile\", {\n        position: \"relative\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        top: important(0),\n    });\n\n    const menuBar = style(\"menuBar\", {\n        position: \"relative\",\n        width: styleUnit(vars.menuButton.size * 4),\n        fontSize: styleUnit(globalVars.fonts.size.medium),\n        overflow: \"hidden\",\n        zIndex: 1,\n    });\n\n    const menuBarToggles = style(\"menuBarToggles\", {\n        position: \"relative\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        flexWrap: \"nowrap\",\n        width: styleUnit(vars.menuButton.size * 4),\n    });\n\n    const paragraphMenuHandle = style(\"paragraphMenuHandle\", {\n        ...appearance(),\n        ...userSelect(),\n        background: \"transparent\",\n        border: 0,\n        display: \"block\",\n        cursor: \"pointer\",\n        width: styleUnit(formVars.sizing.height),\n        height: styleUnit(formVars.sizing.height),\n        padding: 0,\n        maxWidth: styleUnit(formVars.sizing.height),\n        minWidth: styleUnit(formVars.sizing.height),\n        outline: 0,\n        ...{\n            \"&:focus, &:hover\": {\n                color: ColorsUtils.colorOut(globalVars.mainColors.primary),\n            },\n            [`&.isOpen .${iconWrap}`]: {\n                backgroundColor: ColorsUtils.colorOut(vars.buttonContents.state.bg),\n            },\n        },\n    });\n\n    const paragraphMenuHandleMobile = style(\"paragraphMenuHandleMobile\", {\n        width: styleUnit(vars.menuButton.size),\n        height: styleUnit(vars.menuButton.size),\n        maxWidth: styleUnit(vars.menuButton.size),\n        minWidth: styleUnit(vars.menuButton.size),\n    });\n\n    const text = style(\n        \"text\",\n        {\n            position: \"relative\",\n            whiteSpace: important(\"pre-wrap\"),\n            outline: 0,\n            paddingBottom: 24, // So the user has room to click.\n\n            ...{\n                // When the editor is empty we should be displaying a placeholder.\n                \"&.ql-blank::before\": {\n                    content: `attr(placeholder)`,\n                    display: \"block\",\n                    color: ColorsUtils.colorOut(vars.text.placeholder.color),\n                    position: \"absolute\",\n                    top: vars.text.offset,\n                    left: 0,\n                    cursor: \"text\",\n                },\n            },\n        },\n        mediaQueries.oneColumnDown({\n            fontSize: importantUnit(16), // for iOS\n        }),\n    );\n\n    const menuItems = style(\"menuItems\", {\n        msOverflowStyle: \"-ms-autohiding-scrollbar\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        flexWrap: \"nowrap\",\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0,\n        zIndex: 1,\n        overflow: \"visible\",\n        ...{\n            \".richEditor-menuItem\": {\n                display: \"block\",\n                padding: 0,\n                margin: 0,\n                ...{\n                    \".richEditor-button\": {\n                        display: \"block\",\n                        width: styleUnit(vars.menuButton.size),\n                        fontSize: styleUnit((vars.menuButton.size * 24) / 39),\n                        lineHeight: styleUnit(vars.menuButton.size),\n                        ...{\n                            \"&.emojiChar-\": {\n                                fontSize: styleUnit(10),\n                            },\n                        },\n                    },\n                    \"&:first-child .richEditor-embedButton\": {\n                        borderBottomLeftRadius: styleUnit(globalVars.border.radius),\n                    },\n                    \"&.isRightAligned\": {\n                        marginLeft: \"auto\",\n                    },\n                },\n            },\n        },\n    });\n\n    const button = style(\"button\", {\n        ...buttonResetMixin(),\n        display: \"block\",\n        ...userSelect(),\n        ...appearance(),\n        cursor: \"pointer\",\n        width: styleUnit(vars.menuButton.size),\n        height: styleUnit(vars.menuButton.size),\n        border: 0,\n        padding: 0,\n        overflow: \"hidden\",\n        position: \"relative\",\n        color: ColorsUtils.colorOut(globalVars.mainColors.fg),\n        outline: 0,\n        ...{\n            \"&:hover\": {\n                color: ColorsUtils.colorOut(globalVars.mainColors.primary),\n            },\n            \"&:focus\": {\n                color: ColorsUtils.colorOut(globalVars.mainColors.secondary),\n            },\n            \"&:active\": {\n                color: ColorsUtils.colorOut(globalVars.mainColors.secondary),\n            },\n            [`&:hover .${iconWrap}`]: {\n                color: ColorsUtils.colorOut(globalVars.mainColors.primary),\n                backgroundColor: ColorsUtils.colorOut(vars.buttonContents.state.bg),\n            },\n            [`&.isOpen .${iconWrap}`]: {\n                backgroundColor: ColorsUtils.colorOut(vars.buttonContents.state.bg),\n            },\n            [`&.focus-visible .${iconWrap}`]: {\n                backgroundColor: ColorsUtils.colorOut(vars.buttonContents.state.bg),\n            },\n            \"&.richEditor-formatButton, &.richEditor-embedButton\": {\n                height: styleUnit(vars.menuButton.size),\n            },\n            \"&.emojiGroup\": {\n                display: \"block\",\n                width: styleUnit(vars.menuButton.size),\n                height: styleUnit(vars.menuButton.size),\n                textAlign: \"center\",\n            },\n            \"&:not(:disabled)\": {\n                cursor: \"pointer\",\n            },\n            [`&.isActive .${iconWrap}`]: {\n                backgroundColor: ColorsUtils.colorOut(vars.buttonContents.state.bg),\n            },\n        },\n    });\n\n    const topLevelButtonActive = style(\"topLevelButtonActive\", {\n        color: ColorsUtils.colorOut(globalVars.mainColors.primary),\n        ...{\n            [`.${iconWrap}`]: {\n                backgroundColor: ColorsUtils.colorOut(vars.buttonContents.state.bg),\n            },\n        },\n    });\n\n    const menuItem = style(\"menuItem\", {\n        display: \"block\",\n        padding: 0,\n        margin: 0,\n        overflow: \"visible\",\n        ...{\n            \".richEditor-button, &.richEditor-button\": {\n                width: styleUnit(vars.menuButton.size),\n                height: styleUnit(vars.menuButton.size),\n                maxWidth: styleUnit(vars.menuButton.size),\n                fontSize: styleUnit((vars.menuButton.size * 24) / 39),\n                lineHeight: styleUnit(vars.menuButton.size),\n                ...{\n                    \"&.emojiChar-\": {\n                        fontSize: styleUnit(14),\n                    },\n                },\n            },\n            \"&.isRightAligned\": {\n                marginLeft: \"auto\",\n            },\n        },\n    });\n\n    const upload = style(\"upload\", {\n        display: important(\"none\"),\n    });\n\n    const embedBar = style(\"embedBar\", {\n        display: \"block\",\n        width: percent(100),\n        ...Mixins.padding({\n            horizontal: legacyMode ? 0 : (vars.menuButton.size - globalVars.icon.sizes.small) / 2,\n            vertical: vars.embedMenu.padding,\n        }),\n        background: legacyMode ? undefined : ColorsUtils.colorOut(vars.colors.bg),\n    });\n\n    const embedBarSeparator = style(\"embedBarSeparator\", {\n        height: styleUnit(globalVars.gutter.quarter),\n        width: styleUnit(globalVars.gutter.quarter),\n        borderRadius: styleUnit(globalVars.gutter.quarter),\n        background: ColorsUtils.colorOut(globalVars.mainColors.fg),\n        ...Mixins.margin({ horizontal: globalVars.gutter.half }),\n    });\n\n    const icon = style(\"icon\", {\n        display: \"block\",\n        margin: \"auto\",\n        height: styleUnit(globalVars.icon.sizes.default),\n        width: styleUnit(globalVars.icon.sizes.default),\n    });\n\n    const legacyFrame = style(\"legacyFrame\", {\n        margin: \"auto\",\n        height: \"initial\",\n        minHeight: styleUnit(vars.sizing.minHeight + vars.menuButton.size),\n        position: \"relative\",\n        backgroundColor: ColorsUtils.colorOut(vars.colors.bg),\n        padding: 0,\n        ...{\n            \"&.isMenuInset\": {\n                overflow: \"initial\",\n                position: \"relative\",\n            },\n        },\n    });\n\n    const close = style(\"close\", {\n        ...absolutePosition.middleRightOfParent(),\n        ...userSelect(),\n        ...appearance(),\n        width: styleUnit(vars.menuButton.size),\n        height: styleUnit(vars.menuButton.size),\n        lineHeight: styleUnit(vars.menuButton.size),\n        verticalAlign: \"bottom\",\n        textAlign: \"center\",\n        background: \"transparent\",\n        cursor: \"pointer\",\n        border: 0,\n        outline: 0,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    });\n\n    const flyoutDescription = style(\"flyoutDescription\", {\n        marginBottom: \".5em\",\n    });\n\n    const separator = style(\"separator\", {\n        borderTop: singleBorder(),\n        marginBottom: styleUnit(8),\n    });\n\n    const position = style(\"position\", {\n        ...{\n            \"&&\": {\n                position: \"absolute\",\n                left: calc(`50% - ${styleUnit(vars.spacing.paddingLeft / 2)}`),\n            },\n            \"&.isUp\": {\n                bottom: calc(`50% + ${styleUnit(vars.spacing.paddingRight / 2 - formVars.border.width)}`),\n            },\n            \"&.isDown\": {\n                top: calc(`50% + ${styleUnit(vars.spacing.paddingRight / 2 - formVars.border.width)}`),\n            },\n        },\n    });\n\n    const paragraphMenuPanel = style(\"paragraphMenuPanel\", {});\n\n    const emojiGroup = style(\"emojiGroup\", {\n        ...{\n            [`&.isSelected .${iconWrap}`]: {\n                backgroundColor: ColorsUtils.colorOut(vars.buttonContents.state.bg),\n            },\n        },\n    });\n\n    const flyoutOffset = style(\"flyoutOffset\", {\n        marginTop: styleUnit((vars.menuButton.size - vars.iconWrap.width) / -2 + 1),\n    });\n\n    const placeholder = style(\"placeholder\", {\n        ...{\n            \"&&&:before\": {\n                margin: 0,\n            },\n        },\n    });\n\n    return {\n        root,\n        menuBar,\n        menuBarToggles,\n        paragraphMenuHandle,\n        paragraphMenuHandleMobile,\n        text,\n        menuItems,\n        upload,\n        embedBar,\n        embedBarSeparator,\n        menuItem,\n        button,\n        topLevelButtonActive,\n        icon,\n        close,\n        flyoutDescription,\n        paragraphMenu,\n        paragraphMenuMobile,\n        separator,\n        position,\n        legacyFrame,\n        paragraphMenuPanel,\n        iconWrap,\n        flyoutOffset,\n        emojiGroup,\n        placeholder,\n    };\n});\n","'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Announcer = require('./Announcer');\n\nvar _Announcer2 = _interopRequireDefault(_Announcer);\n\nvar _AnnouncerContext = require('./AnnouncerContext');\n\nvar _AnnouncerContext2 = _interopRequireDefault(_AnnouncerContext);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LiveAnnouncer = function (_Component) {\n  _inherits(LiveAnnouncer, _Component);\n\n  function LiveAnnouncer(props) {\n    _classCallCheck(this, LiveAnnouncer);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.announcePolite = function (message, id) {\n      _this.setState({\n        announcePoliteMessage: message,\n        politeMessageId: id ? id : ''\n      });\n    };\n\n    _this.announceAssertive = function (message, id) {\n      _this.setState({\n        announceAssertiveMessage: message,\n        assertiveMessageId: id ? id : ''\n      });\n    };\n\n    _this.state = {\n      announcePoliteMessage: '',\n      politeMessageId: '',\n      announceAssertiveMessage: '',\n      assertiveMessageId: '',\n      updateFunctions: {\n        announcePolite: _this.announcePolite,\n        announceAssertive: _this.announceAssertive\n      }\n    };\n    return _this;\n  }\n\n  LiveAnnouncer.prototype.render = function render() {\n    var _state = this.state,\n        announcePoliteMessage = _state.announcePoliteMessage,\n        politeMessageId = _state.politeMessageId,\n        announceAssertiveMessage = _state.announceAssertiveMessage,\n        assertiveMessageId = _state.assertiveMessageId,\n        updateFunctions = _state.updateFunctions;\n\n    return _react2.default.createElement(\n      _AnnouncerContext2.default.Provider,\n      { value: updateFunctions },\n      this.props.children,\n      _react2.default.createElement(_Announcer2.default, {\n        assertiveMessage: announceAssertiveMessage,\n        assertiveMessageId: assertiveMessageId,\n        politeMessage: announcePoliteMessage,\n        politeMessageId: politeMessageId\n      })\n    );\n  };\n\n  return LiveAnnouncer;\n}(_react.Component);\n\nexports.default = LiveAnnouncer;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _MessageBlock = require('./MessageBlock');\n\nvar _MessageBlock2 = _interopRequireDefault(_MessageBlock);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Announcer = function (_Component) {\n  _inherits(Announcer, _Component);\n\n  function Announcer() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Announcer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n      assertiveMessage1: '',\n      assertiveMessage2: '',\n      politeMessage1: '',\n      politeMessage2: '',\n      oldPolitemessage: '',\n      oldPoliteMessageId: '',\n      oldAssertiveMessage: '',\n      oldAssertiveMessageId: '',\n      setAlternatePolite: false,\n      setAlternateAssertive: false\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Announcer.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, state) {\n    var oldPolitemessage = state.oldPolitemessage,\n        oldPoliteMessageId = state.oldPoliteMessageId,\n        oldAssertiveMessage = state.oldAssertiveMessage,\n        oldAssertiveMessageId = state.oldAssertiveMessageId;\n    var politeMessage = nextProps.politeMessage,\n        politeMessageId = nextProps.politeMessageId,\n        assertiveMessage = nextProps.assertiveMessage,\n        assertiveMessageId = nextProps.assertiveMessageId;\n\n\n    if (oldPolitemessage !== politeMessage || oldPoliteMessageId !== politeMessageId) {\n      return {\n        politeMessage1: state.setAlternatePolite ? '' : politeMessage,\n        politeMessage2: state.setAlternatePolite ? politeMessage : '',\n        oldPolitemessage: politeMessage,\n        oldPoliteMessageId: politeMessageId,\n        setAlternatePolite: !state.setAlternatePolite\n      };\n    }\n\n    if (oldAssertiveMessage !== assertiveMessage || oldAssertiveMessageId !== assertiveMessageId) {\n      return {\n        assertiveMessage1: state.setAlternateAssertive ? '' : assertiveMessage,\n        assertiveMessage2: state.setAlternateAssertive ? assertiveMessage : '',\n        oldAssertiveMessage: assertiveMessage,\n        oldAssertiveMessageId: assertiveMessageId,\n        setAlternateAssertive: !state.setAlternateAssertive\n      };\n    }\n\n    return null;\n  };\n\n  Announcer.prototype.render = function render() {\n    var _state = this.state,\n        assertiveMessage1 = _state.assertiveMessage1,\n        assertiveMessage2 = _state.assertiveMessage2,\n        politeMessage1 = _state.politeMessage1,\n        politeMessage2 = _state.politeMessage2;\n\n    return _react2.default.createElement(\n      'div',\n      null,\n      _react2.default.createElement(_MessageBlock2.default, { 'aria-live': 'assertive', message: assertiveMessage1 }),\n      _react2.default.createElement(_MessageBlock2.default, { 'aria-live': 'assertive', message: assertiveMessage2 }),\n      _react2.default.createElement(_MessageBlock2.default, { 'aria-live': 'polite', message: politeMessage1 }),\n      _react2.default.createElement(_MessageBlock2.default, { 'aria-live': 'polite', message: politeMessage2 })\n    );\n  };\n\n  return Announcer;\n}(_react.Component);\n\nAnnouncer.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  politeMessage: _propTypes2.default.string,\n  assertiveMessage: _propTypes2.default.string\n} : {};\nexports.default = Announcer;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar offScreenStyle = {\n  border: 0,\n  clip: 'rect(0 0 0 0)',\n  height: '1px',\n  margin: '-1px',\n  overflow: 'hidden',\n  padding: 0,\n  width: '1px',\n  position: 'absolute'\n};\n\nvar MessageBlock = function MessageBlock(_ref) {\n  var message = _ref.message,\n      ariaLive = _ref['aria-live'];\n  return _react2.default.createElement(\n    'div',\n    { style: offScreenStyle, role: 'log', 'aria-live': ariaLive },\n    message ? message : ''\n  );\n};\n\nMessageBlock.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  message: _propTypes2.default.string.isRequired,\n  'aria-live': _propTypes2.default.string.isRequired\n} : {};\n\nexports.default = MessageBlock;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _AnnouncerContext = require('./AnnouncerContext');\n\nvar _AnnouncerContext2 = _interopRequireDefault(_AnnouncerContext);\n\nvar _AnnouncerMessage = require('./AnnouncerMessage');\n\nvar _AnnouncerMessage2 = _interopRequireDefault(_AnnouncerMessage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar LiveMessage = function LiveMessage(props) {\n  return _react2.default.createElement(\n    _AnnouncerContext2.default.Consumer,\n    null,\n    function (contextProps) {\n      return _react2.default.createElement(_AnnouncerMessage2.default, _extends({}, contextProps, props));\n    }\n  );\n};\n\nLiveMessage.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  message: _propTypes2.default.string.isRequired,\n  'aria-live': _propTypes2.default.string.isRequired,\n  clearOnUnmount: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.oneOf(['true', 'false'])])\n} : {};\n\nexports.default = LiveMessage;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _v = require('uuid/v4');\n\nvar _v2 = _interopRequireDefault(_v);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar AnnouncerMessage = function (_Component) {\n  _inherits(AnnouncerMessage, _Component);\n\n  function AnnouncerMessage() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, AnnouncerMessage);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.announce = function () {\n      var _this$props = _this.props,\n          message = _this$props.message,\n          ariaLive = _this$props['aria-live'],\n          announceAssertive = _this$props.announceAssertive,\n          announcePolite = _this$props.announcePolite;\n\n      if (ariaLive === 'assertive') {\n        announceAssertive(message || '', (0, _v2.default)());\n      }\n      if (ariaLive === 'polite') {\n        announcePolite(message || '', (0, _v2.default)());\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  AnnouncerMessage.prototype.componentDidMount = function componentDidMount() {\n    this.announce();\n  };\n\n  AnnouncerMessage.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var message = this.props.message;\n\n    if (message !== prevProps.message) {\n      this.announce();\n    }\n  };\n\n  AnnouncerMessage.prototype.componentWillUnmount = function componentWillUnmount() {\n    var _props = this.props,\n        clearOnUnmount = _props.clearOnUnmount,\n        announceAssertive = _props.announceAssertive,\n        announcePolite = _props.announcePolite;\n\n    if (clearOnUnmount === true || clearOnUnmount === 'true') {\n      announceAssertive('');\n      announcePolite('');\n    }\n  };\n\n  AnnouncerMessage.prototype.render = function render() {\n    return null;\n  };\n\n  return AnnouncerMessage;\n}(_react.Component);\n\nAnnouncerMessage.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  message: _propTypes2.default.string.isRequired,\n  'aria-live': _propTypes2.default.string.isRequired,\n  clearOnUnmount: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.oneOf(['true', 'false'])]),\n  announceAssertive: _propTypes2.default.func,\n  announcePolite: _propTypes2.default.func\n} : {};\nexports.default = AnnouncerMessage;\nmodule.exports = exports['default'];","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _AnnouncerContext = require('./AnnouncerContext');\n\nvar _AnnouncerContext2 = _interopRequireDefault(_AnnouncerContext);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar LiveMessenger = function LiveMessenger(_ref) {\n  var children = _ref.children;\n  return _react2.default.createElement(\n    _AnnouncerContext2.default.Consumer,\n    null,\n    function (contextProps) {\n      return children(contextProps);\n    }\n  );\n};\n\nLiveMessenger.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: _propTypes2.default.func.isRequired\n} : {};\n\nexports.default = LiveMessenger;\nmodule.exports = exports['default'];","import React, { useContext } from \"react\";\nimport { DashboardLabelType } from \"@dashboard/forms/DashboardFormLabel\";\nimport { useThrowError } from \"@vanilla/react-utils\";\n\ninterface IGroupContext {\n    inputID: string;\n    labelID: string;\n    labelType: DashboardLabelType;\n}\nexport const FormGroupContext = React.createContext<IGroupContext | null>(null);\n\nexport function useFormGroup(): IGroupContext {\n    const context = useContext(FormGroupContext);\n\n    const throwError = useThrowError();\n    if (context === null) {\n        throwError(\n            new Error(\n                \"Attempting to create a dashboard from component without a form group. Be sure to place it in a <DashboardFormGroup />\",\n            ),\n        );\n    }\n    return context!;\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HIDE_TIMEOUT = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.OverlayComponent = OverlayComponent;\nexports.defaultFormat = defaultFormat;\nexports.defaultParse = defaultParse;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _DayPicker = require('./DayPicker');\n\nvar _DayPicker2 = _interopRequireDefault(_DayPicker);\n\nvar _DateUtils = require('./DateUtils');\n\nvar _ModifiersUtils = require('./ModifiersUtils');\n\nvar _keys = require('./keys');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n// When clicking on a day cell, overlay will be hidden after this timeout\nvar HIDE_TIMEOUT = exports.HIDE_TIMEOUT = 100;\n\n/**\n * The default component used as Overlay.\n *\n * @param {Object} props\n */\nfunction OverlayComponent(_ref) {\n  var input = _ref.input,\n      selectedDay = _ref.selectedDay,\n      month = _ref.month,\n      children = _ref.children,\n      classNames = _ref.classNames,\n      props = _objectWithoutProperties(_ref, ['input', 'selectedDay', 'month', 'children', 'classNames']);\n\n  return _react2.default.createElement(\n    'div',\n    _extends({ className: classNames.overlayWrapper }, props),\n    _react2.default.createElement(\n      'div',\n      { className: classNames.overlay },\n      children\n    )\n  );\n}\n\nOverlayComponent.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  input: _propTypes2.default.any,\n  selectedDay: _propTypes2.default.any,\n  month: _propTypes2.default.instanceOf(Date),\n  children: _propTypes2.default.node,\n  classNames: _propTypes2.default.object\n} : {};\n\n/**\n * The default function used to format a Date to String, passed to the `format`\n * prop.\n * @param {Date} d\n * @return {String}\n */\nfunction defaultFormat(d) {\n  if ((0, _DateUtils.isDate)(d)) {\n    var year = d.getFullYear();\n    var month = '' + (d.getMonth() + 1);\n    var day = '' + d.getDate();\n    return year + '-' + month + '-' + day;\n  }\n  return '';\n}\n\n/**\n * The default function used to parse a String as Date, passed to the `parse`\n * prop.\n * @param {String} str\n * @return {Date}\n */\nfunction defaultParse(str) {\n  if (typeof str !== 'string') {\n    return undefined;\n  }\n  var split = str.split('-');\n  if (split.length !== 3) {\n    return undefined;\n  }\n  var year = parseInt(split[0], 10);\n  var month = parseInt(split[1], 10) - 1;\n  var day = parseInt(split[2], 10);\n  if (isNaN(year) || String(year).length > 4 || isNaN(month) || isNaN(day) || day <= 0 || day > 31 || month < 0 || month >= 12) {\n    return undefined;\n  }\n\n  return new Date(year, month, day);\n}\n\nvar DayPickerInput = function (_React$Component) {\n  _inherits(DayPickerInput, _React$Component);\n\n  function DayPickerInput(props) {\n    _classCallCheck(this, DayPickerInput);\n\n    var _this = _possibleConstructorReturn(this, (DayPickerInput.__proto__ || Object.getPrototypeOf(DayPickerInput)).call(this, props));\n\n    _this.input = null;\n    _this.daypicker = null;\n    _this.clickTimeout = null;\n    _this.hideTimeout = null;\n    _this.inputBlurTimeout = null;\n    _this.inputFocusTimeout = null;\n\n\n    _this.state = _this.getInitialStateFromProps(props);\n    _this.state.showOverlay = props.showOverlay;\n\n    _this.hideAfterDayClick = _this.hideAfterDayClick.bind(_this);\n    _this.handleInputClick = _this.handleInputClick.bind(_this);\n    _this.handleInputFocus = _this.handleInputFocus.bind(_this);\n    _this.handleInputBlur = _this.handleInputBlur.bind(_this);\n    _this.handleInputChange = _this.handleInputChange.bind(_this);\n    _this.handleInputKeyDown = _this.handleInputKeyDown.bind(_this);\n    _this.handleInputKeyUp = _this.handleInputKeyUp.bind(_this);\n    _this.handleDayClick = _this.handleDayClick.bind(_this);\n    _this.handleMonthChange = _this.handleMonthChange.bind(_this);\n    _this.handleOverlayFocus = _this.handleOverlayFocus.bind(_this);\n    _this.handleOverlayBlur = _this.handleOverlayBlur.bind(_this);\n    return _this;\n  }\n\n  _createClass(DayPickerInput, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var newState = {};\n\n      // Current props\n      var _props = this.props,\n          value = _props.value,\n          formatDate = _props.formatDate,\n          format = _props.format,\n          dayPickerProps = _props.dayPickerProps;\n\n      // Update the input value if the `value` prop has changed\n\n      if (value !== prevProps.value) {\n        if ((0, _DateUtils.isDate)(value)) {\n          newState.value = formatDate(value, format, dayPickerProps.locale);\n        } else {\n          newState.value = value;\n        }\n      }\n\n      // Update the month if the months from props changed\n      var prevMonth = prevProps.dayPickerProps.month;\n      if (dayPickerProps.month && dayPickerProps.month !== prevMonth && !(0, _DateUtils.isSameMonth)(dayPickerProps.month, prevMonth)) {\n        newState.month = dayPickerProps.month;\n      }\n\n      // Updated the selected days from props if they changed\n      if (prevProps.dayPickerProps.selectedDays !== dayPickerProps.selectedDays) {\n        newState.selectedDays = dayPickerProps.selectedDays;\n      }\n\n      if (Object.keys(newState).length > 0) {\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState(newState);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearTimeout(this.clickTimeout);\n      clearTimeout(this.hideTimeout);\n      clearTimeout(this.inputFocusTimeout);\n      clearTimeout(this.inputBlurTimeout);\n      clearTimeout(this.overlayBlurTimeout);\n    }\n  }, {\n    key: 'getInitialMonthFromProps',\n    value: function getInitialMonthFromProps(props) {\n      var dayPickerProps = props.dayPickerProps,\n          format = props.format;\n\n      var day = void 0;\n      if (props.value) {\n        if ((0, _DateUtils.isDate)(props.value)) {\n          day = props.value;\n        } else {\n          day = props.parseDate(props.value, format, dayPickerProps.locale);\n        }\n      }\n      return dayPickerProps.initialMonth || dayPickerProps.month || day || new Date();\n    }\n  }, {\n    key: 'getInitialStateFromProps',\n    value: function getInitialStateFromProps(props) {\n      var dayPickerProps = props.dayPickerProps,\n          formatDate = props.formatDate,\n          format = props.format;\n      var value = props.value;\n\n      if (props.value && (0, _DateUtils.isDate)(props.value)) {\n        value = formatDate(props.value, format, dayPickerProps.locale);\n      }\n      return {\n        value: value,\n        month: this.getInitialMonthFromProps(props),\n        selectedDays: dayPickerProps.selectedDays\n      };\n    }\n  }, {\n    key: 'getInput',\n    value: function getInput() {\n      return this.input;\n    }\n  }, {\n    key: 'getDayPicker',\n    value: function getDayPicker() {\n      return this.daypicker;\n    }\n\n    /**\n     * Update the component's state and fire the `onDayChange` event passing the\n     * day's modifiers to it.\n     *\n     * @param {Date} day - Will be used for changing the month\n     * @param {String} value - Input field value\n     * @private\n     */\n\n  }, {\n    key: 'updateState',\n    value: function updateState(day, value, callback) {\n      var _this2 = this;\n\n      var _props2 = this.props,\n          dayPickerProps = _props2.dayPickerProps,\n          onDayChange = _props2.onDayChange;\n\n      this.setState({ month: day, value: value, typedValue: undefined }, function () {\n        if (callback) {\n          callback();\n        }\n        if (!onDayChange) {\n          return;\n        }\n        var modifiersObj = _extends({\n          disabled: dayPickerProps.disabledDays,\n          selected: dayPickerProps.selectedDays\n        }, dayPickerProps.modifiers);\n        var modifiers = (0, _ModifiersUtils.getModifiersForDay)(day, modifiersObj).reduce(function (obj, modifier) {\n          return _extends({}, obj, _defineProperty({}, modifier, true));\n        }, {});\n        onDayChange(day, modifiers, _this2);\n      });\n    }\n\n    /**\n     * Show the Day Picker overlay.\n     *\n     * @memberof DayPickerInput\n     */\n\n  }, {\n    key: 'showDayPicker',\n    value: function showDayPicker() {\n      var _props3 = this.props,\n          parseDate = _props3.parseDate,\n          format = _props3.format,\n          dayPickerProps = _props3.dayPickerProps;\n      var _state = this.state,\n          value = _state.value,\n          showOverlay = _state.showOverlay;\n\n      if (showOverlay) {\n        return;\n      }\n      // Reset the current displayed month when showing the overlay\n      var month = value ? parseDate(value, format, dayPickerProps.locale) // Use the month in the input field\n      : this.getInitialMonthFromProps(this.props); // Restore the month from the props\n      this.setState(function (state) {\n        return {\n          showOverlay: true,\n          month: month || state.month\n        };\n      });\n    }\n\n    /**\n     * Hide the Day Picker overlay\n     *\n     * @memberof DayPickerInput\n     */\n\n  }, {\n    key: 'hideDayPicker',\n    value: function hideDayPicker() {\n      var _this3 = this;\n\n      if (this.state.showOverlay === false) {\n        return;\n      }\n      this.setState({ showOverlay: false }, function () {\n        if (_this3.props.onDayPickerHide) _this3.props.onDayPickerHide();\n      });\n    }\n  }, {\n    key: 'hideAfterDayClick',\n    value: function hideAfterDayClick() {\n      var _this4 = this;\n\n      if (!this.props.hideOnDayClick) {\n        return;\n      }\n      this.hideTimeout = setTimeout(function () {\n        return _this4.hideDayPicker();\n      }, HIDE_TIMEOUT);\n    }\n  }, {\n    key: 'handleInputClick',\n    value: function handleInputClick(e) {\n      this.showDayPicker();\n      if (this.props.inputProps.onClick) {\n        e.persist();\n        this.props.inputProps.onClick(e);\n      }\n    }\n  }, {\n    key: 'handleInputFocus',\n    value: function handleInputFocus(e) {\n      var _this5 = this;\n\n      this.showDayPicker();\n      // Set `overlayHasFocus` after a timeout so the overlay can be hidden when\n      // the input is blurred\n      this.inputFocusTimeout = setTimeout(function () {\n        _this5.overlayHasFocus = false;\n      }, 2);\n      if (this.props.inputProps.onFocus) {\n        e.persist();\n        this.props.inputProps.onFocus(e);\n      }\n    }\n\n    // When the input is blurred, the overlay should disappear. However the input\n    // is blurred also when the user interacts with the overlay (e.g. the overlay\n    // get the focus by clicking it). In these cases, the overlay should not be\n    // hidden. There are different approaches to avoid hiding the overlay when\n    // this happens, but the only cross-browser hack weve found is to set all\n    // these timeouts in code before changing `overlayHasFocus`.\n\n  }, {\n    key: 'handleInputBlur',\n    value: function handleInputBlur(e) {\n      var _this6 = this;\n\n      this.inputBlurTimeout = setTimeout(function () {\n        if (!_this6.overlayHasFocus) {\n          _this6.hideDayPicker();\n        }\n      }, 1);\n      if (this.props.inputProps.onBlur) {\n        e.persist();\n        this.props.inputProps.onBlur(e);\n      }\n    }\n  }, {\n    key: 'handleOverlayFocus',\n    value: function handleOverlayFocus(e) {\n      e.preventDefault();\n      this.overlayHasFocus = true;\n      if (!this.props.keepFocus || !this.input || typeof this.input.focus !== 'function') {\n        return;\n      }\n      this.input.focus();\n    }\n  }, {\n    key: 'handleOverlayBlur',\n    value: function handleOverlayBlur() {\n      var _this7 = this;\n\n      // We need to set a timeout otherwise IE11 will hide the overlay when\n      // focusing it\n      this.overlayBlurTimeout = setTimeout(function () {\n        _this7.overlayHasFocus = false;\n      }, 3);\n    }\n  }, {\n    key: 'handleInputChange',\n    value: function handleInputChange(e) {\n      var _props4 = this.props,\n          dayPickerProps = _props4.dayPickerProps,\n          format = _props4.format,\n          inputProps = _props4.inputProps,\n          onDayChange = _props4.onDayChange,\n          parseDate = _props4.parseDate;\n\n      if (inputProps.onChange) {\n        e.persist();\n        inputProps.onChange(e);\n      }\n      var value = e.target.value;\n\n      if (value.trim() === '') {\n        this.setState({ value: value, typedValue: undefined });\n        if (onDayChange) onDayChange(undefined, {}, this);\n        return;\n      }\n      var day = parseDate(value, format, dayPickerProps.locale);\n      if (!day) {\n        // Day is invalid: we save the value in the typedValue state\n        this.setState({ value: value, typedValue: value });\n        if (onDayChange) onDayChange(undefined, {}, this);\n        return;\n      }\n      this.updateState(day, value);\n    }\n  }, {\n    key: 'handleInputKeyDown',\n    value: function handleInputKeyDown(e) {\n      if (e.keyCode === _keys.TAB) {\n        this.hideDayPicker();\n      } else {\n        this.showDayPicker();\n      }\n      if (this.props.inputProps.onKeyDown) {\n        e.persist();\n        this.props.inputProps.onKeyDown(e);\n      }\n    }\n  }, {\n    key: 'handleInputKeyUp',\n    value: function handleInputKeyUp(e) {\n      if (e.keyCode === _keys.ESC) {\n        this.hideDayPicker();\n      } else {\n        this.showDayPicker();\n      }\n      if (this.props.inputProps.onKeyUp) {\n        e.persist();\n        this.props.inputProps.onKeyUp(e);\n      }\n    }\n  }, {\n    key: 'handleMonthChange',\n    value: function handleMonthChange(month) {\n      var _this8 = this;\n\n      this.setState({ month: month }, function () {\n        if (_this8.props.dayPickerProps && _this8.props.dayPickerProps.onMonthChange) {\n          _this8.props.dayPickerProps.onMonthChange(month);\n        }\n      });\n    }\n  }, {\n    key: 'handleDayClick',\n    value: function handleDayClick(day, modifiers, e) {\n      var _this9 = this;\n\n      var _props5 = this.props,\n          clickUnselectsDay = _props5.clickUnselectsDay,\n          dayPickerProps = _props5.dayPickerProps,\n          onDayChange = _props5.onDayChange,\n          formatDate = _props5.formatDate,\n          format = _props5.format;\n\n      if (dayPickerProps.onDayClick) {\n        dayPickerProps.onDayClick(day, modifiers, e);\n      }\n\n      // Do nothing if the day is disabled\n      if (modifiers.disabled || dayPickerProps && dayPickerProps.classNames && modifiers[dayPickerProps.classNames.disabled]) {\n        return;\n      }\n\n      // If the clicked day is already selected, remove the clicked day\n      // from the selected days and empty the field value\n      if (modifiers.selected && clickUnselectsDay) {\n        var selectedDays = this.state.selectedDays;\n\n        if (Array.isArray(selectedDays)) {\n          selectedDays = selectedDays.slice(0);\n          var selectedDayIdx = selectedDays.indexOf(day);\n          selectedDays.splice(selectedDayIdx, 1);\n        } else if (selectedDays) {\n          selectedDays = null;\n        }\n        this.setState({ value: '', typedValue: undefined, selectedDays: selectedDays }, this.hideAfterDayClick);\n        if (onDayChange) {\n          onDayChange(undefined, modifiers, this);\n        }\n        return;\n      }\n\n      var value = formatDate(day, format, dayPickerProps.locale);\n      this.setState({ value: value, typedValue: undefined, month: day }, function () {\n        if (onDayChange) {\n          onDayChange(day, modifiers, _this9);\n        }\n        _this9.hideAfterDayClick();\n      });\n    }\n  }, {\n    key: 'renderOverlay',\n    value: function renderOverlay() {\n      var _this10 = this;\n\n      var _props6 = this.props,\n          classNames = _props6.classNames,\n          dayPickerProps = _props6.dayPickerProps,\n          parseDate = _props6.parseDate,\n          formatDate = _props6.formatDate,\n          format = _props6.format;\n      var _state2 = this.state,\n          selectedDays = _state2.selectedDays,\n          value = _state2.value;\n\n      var selectedDay = void 0;\n      if (!selectedDays && value) {\n        var day = parseDate(value, format, dayPickerProps.locale);\n        if (day) {\n          selectedDay = day;\n        }\n      } else if (selectedDays) {\n        selectedDay = selectedDays;\n      }\n      var onTodayButtonClick = void 0;\n      if (dayPickerProps.todayButton) {\n        // Set the current day when clicking the today button\n        onTodayButtonClick = function onTodayButtonClick() {\n          return _this10.updateState(new Date(), formatDate(new Date(), format, dayPickerProps.locale), _this10.hideAfterDayClick);\n        };\n      }\n      var Overlay = this.props.overlayComponent;\n      return _react2.default.createElement(\n        Overlay,\n        {\n          classNames: classNames,\n          month: this.state.month,\n          selectedDay: selectedDay,\n          input: this.input,\n          tabIndex: 0 // tabIndex is necessary to catch focus/blur events on Safari\n          , onFocus: this.handleOverlayFocus,\n          onBlur: this.handleOverlayBlur\n        },\n        _react2.default.createElement(_DayPicker2.default, _extends({\n          ref: function ref(el) {\n            return _this10.daypicker = el;\n          },\n          onTodayButtonClick: onTodayButtonClick\n        }, dayPickerProps, {\n          month: this.state.month,\n          selectedDays: selectedDay,\n          onDayClick: this.handleDayClick,\n          onMonthChange: this.handleMonthChange\n        }))\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this11 = this;\n\n      var Input = this.props.component;\n      var inputProps = this.props.inputProps;\n\n      return _react2.default.createElement(\n        'div',\n        { className: this.props.classNames.container },\n        _react2.default.createElement(Input, _extends({\n          ref: function ref(el) {\n            return _this11.input = el;\n          },\n          placeholder: this.props.placeholder\n        }, inputProps, {\n          value: this.state.typedValue || this.state.value,\n          onChange: this.handleInputChange,\n          onFocus: this.handleInputFocus,\n          onBlur: this.handleInputBlur,\n          onKeyDown: this.handleInputKeyDown,\n          onKeyUp: this.handleInputKeyUp,\n          onClick: !inputProps.disabled ? this.handleInputClick : undefined\n        })),\n        this.state.showOverlay && this.renderOverlay()\n      );\n    }\n  }]);\n\n  return DayPickerInput;\n}(_react2.default.Component);\n\nDayPickerInput.defaultProps = {\n  dayPickerProps: {},\n  value: '',\n  placeholder: 'YYYY-M-D',\n  format: 'L',\n  formatDate: defaultFormat,\n  parseDate: defaultParse,\n  showOverlay: false,\n  hideOnDayClick: true,\n  clickUnselectsDay: false,\n  keepFocus: true,\n  component: 'input',\n  inputProps: {},\n  overlayComponent: OverlayComponent,\n  classNames: {\n    container: 'DayPickerInput',\n    overlayWrapper: 'DayPickerInput-OverlayWrapper',\n    overlay: 'DayPickerInput-Overlay'\n  }\n};\nexports.default = DayPickerInput;\nDayPickerInput.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  value: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.instanceOf(Date)]),\n  inputProps: _propTypes2.default.object,\n  placeholder: _propTypes2.default.string,\n\n  format: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.arrayOf(_propTypes2.default.string)]),\n\n  formatDate: _propTypes2.default.func,\n  parseDate: _propTypes2.default.func,\n\n  showOverlay: _propTypes2.default.bool,\n  dayPickerProps: _propTypes2.default.object,\n  hideOnDayClick: _propTypes2.default.bool,\n  clickUnselectsDay: _propTypes2.default.bool,\n  keepFocus: _propTypes2.default.bool,\n  component: _propTypes2.default.any,\n  overlayComponent: _propTypes2.default.any,\n\n  classNames: _propTypes2.default.shape({\n    container: _propTypes2.default.string,\n    overlayWrapper: _propTypes2.default.string,\n    overlay: _propTypes2.default.string.isRequired\n  }),\n\n  onDayChange: _propTypes2.default.func,\n  onDayPickerHide: _propTypes2.default.func,\n  onChange: _propTypes2.default.func,\n  onClick: _propTypes2.default.func,\n  onFocus: _propTypes2.default.func,\n  onBlur: _propTypes2.default.func,\n  onKeyUp: _propTypes2.default.func\n} : {};\n//# sourceMappingURL=DayPickerInput.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ModifiersUtils = exports.LocaleUtils = exports.DateUtils = exports.DayPicker = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Caption = require('./Caption');\n\nvar _Caption2 = _interopRequireDefault(_Caption);\n\nvar _Navbar = require('./Navbar');\n\nvar _Navbar2 = _interopRequireDefault(_Navbar);\n\nvar _Month = require('./Month');\n\nvar _Month2 = _interopRequireDefault(_Month);\n\nvar _Weekday = require('./Weekday');\n\nvar _Weekday2 = _interopRequireDefault(_Weekday);\n\nvar _Helpers = require('./Helpers');\n\nvar Helpers = _interopRequireWildcard(_Helpers);\n\nvar _DateUtils = require('./DateUtils');\n\nvar DateUtils = _interopRequireWildcard(_DateUtils);\n\nvar _LocaleUtils = require('./LocaleUtils');\n\nvar LocaleUtils = _interopRequireWildcard(_LocaleUtils);\n\nvar _ModifiersUtils = require('./ModifiersUtils');\n\nvar ModifiersUtils = _interopRequireWildcard(_ModifiersUtils);\n\nvar _classNames = require('./classNames');\n\nvar _classNames2 = _interopRequireDefault(_classNames);\n\nvar _keys = require('./keys');\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DayPicker = exports.DayPicker = function (_Component) {\n  _inherits(DayPicker, _Component);\n\n  function DayPicker(props) {\n    _classCallCheck(this, DayPicker);\n\n    var _this = _possibleConstructorReturn(this, (DayPicker.__proto__ || Object.getPrototypeOf(DayPicker)).call(this, props));\n\n    _this.dayPicker = null;\n\n    _this.showNextMonth = function (callback) {\n      if (!_this.allowNextMonth()) {\n        return;\n      }\n      var deltaMonths = _this.props.pagedNavigation ? _this.props.numberOfMonths : 1;\n      var nextMonth = DateUtils.addMonths(_this.state.currentMonth, deltaMonths);\n      _this.showMonth(nextMonth, callback);\n    };\n\n    _this.showPreviousMonth = function (callback) {\n      if (!_this.allowPreviousMonth()) {\n        return;\n      }\n      var deltaMonths = _this.props.pagedNavigation ? _this.props.numberOfMonths : 1;\n      var previousMonth = DateUtils.addMonths(_this.state.currentMonth, -deltaMonths);\n      _this.showMonth(previousMonth, callback);\n    };\n\n    _this.handleKeyDown = function (e) {\n      e.persist();\n\n      switch (e.keyCode) {\n        case _keys.LEFT:\n          _this.showPreviousMonth();\n          break;\n        case _keys.RIGHT:\n          _this.showNextMonth();\n          break;\n        case _keys.UP:\n          _this.showPreviousYear();\n          break;\n        case _keys.DOWN:\n          _this.showNextYear();\n          break;\n        default:\n          break;\n      }\n\n      if (_this.props.onKeyDown) {\n        _this.props.onKeyDown(e);\n      }\n    };\n\n    _this.handleDayKeyDown = function (day, modifiers, e) {\n      e.persist();\n      switch (e.keyCode) {\n        case _keys.LEFT:\n          Helpers.cancelEvent(e);\n          _this.focusPreviousDay(e.target);\n          break;\n        case _keys.RIGHT:\n          Helpers.cancelEvent(e);\n          _this.focusNextDay(e.target);\n          break;\n        case _keys.UP:\n          Helpers.cancelEvent(e);\n          _this.focusPreviousWeek(e.target);\n          break;\n        case _keys.DOWN:\n          Helpers.cancelEvent(e);\n          _this.focusNextWeek(e.target);\n          break;\n        case _keys.ENTER:\n        case _keys.SPACE:\n          Helpers.cancelEvent(e);\n          if (_this.props.onDayClick) {\n            _this.handleDayClick(day, modifiers, e);\n          }\n          break;\n        default:\n          break;\n      }\n      if (_this.props.onDayKeyDown) {\n        _this.props.onDayKeyDown(day, modifiers, e);\n      }\n    };\n\n    _this.handleDayClick = function (day, modifiers, e) {\n      e.persist();\n\n      if (modifiers[_this.props.classNames.outside] && _this.props.enableOutsideDaysClick) {\n        _this.handleOutsideDayClick(day);\n      }\n      if (_this.props.onDayClick) {\n        _this.props.onDayClick(day, modifiers, e);\n      }\n    };\n\n    _this.handleTodayButtonClick = function (e) {\n      var today = new Date();\n      var month = new Date(today.getFullYear(), today.getMonth());\n      _this.showMonth(month);\n      e.target.blur();\n      if (_this.props.onTodayButtonClick) {\n        e.persist();\n        _this.props.onTodayButtonClick(new Date(today.getFullYear(), today.getMonth(), today.getDate()), ModifiersUtils.getModifiersForDay(today, _this.props.modifiers), e);\n      }\n    };\n\n    var currentMonth = _this.getCurrentMonthFromProps(props);\n    _this.state = { currentMonth: currentMonth };\n    return _this;\n  }\n\n  _createClass(DayPicker, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      // Changing the `month` props means changing the current displayed month\n      if (prevProps.month !== this.props.month && !DateUtils.isSameMonth(prevProps.month, this.props.month)) {\n        var currentMonth = this.getCurrentMonthFromProps(this.props);\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({ currentMonth: currentMonth });\n      }\n    }\n\n    /**\n     * Return the month to be shown in the calendar based on the component props.\n     *\n     * @param {Object} props\n     * @returns Date\n     * @memberof DayPicker\n     * @private\n     */\n\n  }, {\n    key: 'getCurrentMonthFromProps',\n    value: function getCurrentMonthFromProps(props) {\n      var initialMonth = Helpers.startOfMonth(props.month || props.initialMonth);\n      var currentMonth = initialMonth;\n\n      if (props.pagedNavigation && props.numberOfMonths > 1 && props.fromMonth) {\n        var fromMonth = Helpers.startOfMonth(props.fromMonth);\n        var diffInMonths = Helpers.getMonthsDiff(fromMonth, currentMonth);\n        currentMonth = DateUtils.addMonths(fromMonth, Math.floor(diffInMonths / props.numberOfMonths) * props.numberOfMonths);\n      } else if (props.toMonth && props.numberOfMonths > 1 && Helpers.getMonthsDiff(currentMonth, props.toMonth) <= 0) {\n        currentMonth = DateUtils.addMonths(Helpers.startOfMonth(props.toMonth), 1 - this.props.numberOfMonths);\n      }\n      return currentMonth;\n    }\n  }, {\n    key: 'getNextNavigableMonth',\n    value: function getNextNavigableMonth() {\n      return DateUtils.addMonths(this.state.currentMonth, this.props.numberOfMonths);\n    }\n  }, {\n    key: 'getPreviousNavigableMonth',\n    value: function getPreviousNavigableMonth() {\n      return DateUtils.addMonths(this.state.currentMonth, -1);\n    }\n  }, {\n    key: 'allowPreviousMonth',\n    value: function allowPreviousMonth() {\n      var previousMonth = DateUtils.addMonths(this.state.currentMonth, -1);\n      return this.allowMonth(previousMonth);\n    }\n  }, {\n    key: 'allowNextMonth',\n    value: function allowNextMonth() {\n      var nextMonth = DateUtils.addMonths(this.state.currentMonth, this.props.numberOfMonths);\n      return this.allowMonth(nextMonth);\n    }\n  }, {\n    key: 'allowMonth',\n    value: function allowMonth(d) {\n      var _props = this.props,\n          fromMonth = _props.fromMonth,\n          toMonth = _props.toMonth,\n          canChangeMonth = _props.canChangeMonth;\n\n      if (!canChangeMonth || fromMonth && Helpers.getMonthsDiff(fromMonth, d) < 0 || toMonth && Helpers.getMonthsDiff(toMonth, d) > 0) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: 'allowYearChange',\n    value: function allowYearChange() {\n      return this.props.canChangeMonth;\n    }\n  }, {\n    key: 'showMonth',\n    value: function showMonth(d, callback) {\n      var _this2 = this;\n\n      if (!this.allowMonth(d)) {\n        return;\n      }\n      this.setState({ currentMonth: Helpers.startOfMonth(d) }, function () {\n        if (callback) {\n          callback();\n        }\n        if (_this2.props.onMonthChange) {\n          _this2.props.onMonthChange(_this2.state.currentMonth);\n        }\n      });\n    }\n  }, {\n    key: 'showNextYear',\n    value: function showNextYear() {\n      if (!this.allowYearChange()) {\n        return;\n      }\n      var nextMonth = DateUtils.addMonths(this.state.currentMonth, 12);\n      this.showMonth(nextMonth);\n    }\n  }, {\n    key: 'showPreviousYear',\n    value: function showPreviousYear() {\n      if (!this.allowYearChange()) {\n        return;\n      }\n      var nextMonth = DateUtils.addMonths(this.state.currentMonth, -12);\n      this.showMonth(nextMonth);\n    }\n  }, {\n    key: 'focusFirstDayOfMonth',\n    value: function focusFirstDayOfMonth() {\n      Helpers.getDayNodes(this.dayPicker, this.props.classNames)[0].focus();\n    }\n  }, {\n    key: 'focusLastDayOfMonth',\n    value: function focusLastDayOfMonth() {\n      var dayNodes = Helpers.getDayNodes(this.dayPicker, this.props.classNames);\n      dayNodes[dayNodes.length - 1].focus();\n    }\n  }, {\n    key: 'focusPreviousDay',\n    value: function focusPreviousDay(dayNode) {\n      var _this3 = this;\n\n      var dayNodes = Helpers.getDayNodes(this.dayPicker, this.props.classNames);\n      var dayNodeIndex = Helpers.nodeListToArray(dayNodes).indexOf(dayNode);\n      if (dayNodeIndex === -1) return;\n      if (dayNodeIndex === 0) {\n        this.showPreviousMonth(function () {\n          return _this3.focusLastDayOfMonth();\n        });\n      } else {\n        dayNodes[dayNodeIndex - 1].focus();\n      }\n    }\n  }, {\n    key: 'focusNextDay',\n    value: function focusNextDay(dayNode) {\n      var _this4 = this;\n\n      var dayNodes = Helpers.getDayNodes(this.dayPicker, this.props.classNames);\n      var dayNodeIndex = Helpers.nodeListToArray(dayNodes).indexOf(dayNode);\n      if (dayNodeIndex === -1) return;\n      if (dayNodeIndex === dayNodes.length - 1) {\n        this.showNextMonth(function () {\n          return _this4.focusFirstDayOfMonth();\n        });\n      } else {\n        dayNodes[dayNodeIndex + 1].focus();\n      }\n    }\n  }, {\n    key: 'focusNextWeek',\n    value: function focusNextWeek(dayNode) {\n      var _this5 = this;\n\n      var dayNodes = Helpers.getDayNodes(this.dayPicker, this.props.classNames);\n      var dayNodeIndex = Helpers.nodeListToArray(dayNodes).indexOf(dayNode);\n      var isInLastWeekOfMonth = dayNodeIndex > dayNodes.length - 8;\n\n      if (isInLastWeekOfMonth) {\n        this.showNextMonth(function () {\n          var daysAfterIndex = dayNodes.length - dayNodeIndex;\n          var nextMonthDayNodeIndex = 7 - daysAfterIndex;\n          Helpers.getDayNodes(_this5.dayPicker, _this5.props.classNames)[nextMonthDayNodeIndex].focus();\n        });\n      } else {\n        dayNodes[dayNodeIndex + 7].focus();\n      }\n    }\n  }, {\n    key: 'focusPreviousWeek',\n    value: function focusPreviousWeek(dayNode) {\n      var _this6 = this;\n\n      var dayNodes = Helpers.getDayNodes(this.dayPicker, this.props.classNames);\n      var dayNodeIndex = Helpers.nodeListToArray(dayNodes).indexOf(dayNode);\n      var isInFirstWeekOfMonth = dayNodeIndex <= 6;\n\n      if (isInFirstWeekOfMonth) {\n        this.showPreviousMonth(function () {\n          var previousMonthDayNodes = Helpers.getDayNodes(_this6.dayPicker, _this6.props.classNames);\n          var startOfLastWeekOfMonth = previousMonthDayNodes.length - 7;\n          var previousMonthDayNodeIndex = startOfLastWeekOfMonth + dayNodeIndex;\n          previousMonthDayNodes[previousMonthDayNodeIndex].focus();\n        });\n      } else {\n        dayNodes[dayNodeIndex - 7].focus();\n      }\n    }\n\n    // Event handlers\n\n  }, {\n    key: 'handleOutsideDayClick',\n    value: function handleOutsideDayClick(day) {\n      var currentMonth = this.state.currentMonth;\n      var numberOfMonths = this.props.numberOfMonths;\n\n      var diffInMonths = Helpers.getMonthsDiff(currentMonth, day);\n      if (diffInMonths > 0 && diffInMonths >= numberOfMonths) {\n        this.showNextMonth();\n      } else if (diffInMonths < 0) {\n        this.showPreviousMonth();\n      }\n    }\n  }, {\n    key: 'renderNavbar',\n    value: function renderNavbar() {\n      var _props2 = this.props,\n          labels = _props2.labels,\n          locale = _props2.locale,\n          localeUtils = _props2.localeUtils,\n          canChangeMonth = _props2.canChangeMonth,\n          navbarElement = _props2.navbarElement,\n          attributes = _objectWithoutProperties(_props2, ['labels', 'locale', 'localeUtils', 'canChangeMonth', 'navbarElement']);\n\n      if (!canChangeMonth) return null;\n\n      var props = {\n        month: this.state.currentMonth,\n        classNames: this.props.classNames,\n        className: this.props.classNames.navBar,\n        nextMonth: this.getNextNavigableMonth(),\n        previousMonth: this.getPreviousNavigableMonth(),\n        showPreviousButton: this.allowPreviousMonth(),\n        showNextButton: this.allowNextMonth(),\n        onNextClick: this.showNextMonth,\n        onPreviousClick: this.showPreviousMonth,\n        dir: attributes.dir,\n        labels: labels,\n        locale: locale,\n        localeUtils: localeUtils\n      };\n      return _react2.default.isValidElement(navbarElement) ? _react2.default.cloneElement(navbarElement, props) : _react2.default.createElement(navbarElement, props);\n    }\n  }, {\n    key: 'renderMonths',\n    value: function renderMonths() {\n      var months = [];\n      var firstDayOfWeek = Helpers.getFirstDayOfWeekFromProps(this.props);\n      for (var i = 0; i < this.props.numberOfMonths; i += 1) {\n        var month = DateUtils.addMonths(this.state.currentMonth, i);\n        months.push(_react2.default.createElement(_Month2.default, _extends({\n          key: i\n        }, this.props, {\n          month: month,\n          firstDayOfWeek: firstDayOfWeek,\n          onDayKeyDown: this.handleDayKeyDown,\n          onDayClick: this.handleDayClick\n        })));\n      }\n\n      if (this.props.reverseMonths) {\n        months.reverse();\n      }\n      return months;\n    }\n  }, {\n    key: 'renderFooter',\n    value: function renderFooter() {\n      if (this.props.todayButton) {\n        return _react2.default.createElement(\n          'div',\n          { className: this.props.classNames.footer },\n          this.renderTodayButton()\n        );\n      }\n      return null;\n    }\n  }, {\n    key: 'renderTodayButton',\n    value: function renderTodayButton() {\n      return _react2.default.createElement(\n        'button',\n        {\n          type: 'button',\n          tabIndex: 0,\n          className: this.props.classNames.todayButton,\n          'aria-label': this.props.todayButton,\n          onClick: this.handleTodayButtonClick\n        },\n        this.props.todayButton\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this7 = this;\n\n      var className = this.props.classNames.container;\n\n      if (!this.props.onDayClick) {\n        className = className + ' ' + this.props.classNames.interactionDisabled;\n      }\n      if (this.props.className) {\n        className = className + ' ' + this.props.className;\n      }\n      return _react2.default.createElement(\n        'div',\n        _extends({}, this.props.containerProps, {\n          className: className,\n          ref: function ref(el) {\n            return _this7.dayPicker = el;\n          },\n          lang: this.props.locale\n        }),\n        _react2.default.createElement(\n          'div',\n          {\n            className: this.props.classNames.wrapper,\n            tabIndex: this.props.canChangeMonth && typeof this.props.tabIndex !== 'undefined' ? this.props.tabIndex : -1,\n            onKeyDown: this.handleKeyDown,\n            onFocus: this.props.onFocus,\n            onBlur: this.props.onBlur\n          },\n          this.renderNavbar(),\n          _react2.default.createElement(\n            'div',\n            { className: this.props.classNames.months },\n            this.renderMonths()\n          ),\n          this.renderFooter()\n        )\n      );\n    }\n  }]);\n\n  return DayPicker;\n}(_react.Component);\n\nDayPicker.VERSION = '7.2.4';\nDayPicker.defaultProps = {\n  classNames: _classNames2.default,\n  tabIndex: 0,\n  initialMonth: new Date(),\n  numberOfMonths: 1,\n  labels: {\n    previousMonth: 'Previous Month',\n    nextMonth: 'Next Month'\n  },\n  locale: 'en',\n  localeUtils: LocaleUtils,\n  showOutsideDays: false,\n  enableOutsideDaysClick: true,\n  fixedWeeks: false,\n  canChangeMonth: true,\n  reverseMonths: false,\n  pagedNavigation: false,\n  showWeekNumbers: false,\n  showWeekDays: true,\n  renderDay: function renderDay(day) {\n    return day.getDate();\n  },\n  renderWeek: function renderWeek(weekNumber) {\n    return weekNumber;\n  },\n  weekdayElement: _react2.default.createElement(_Weekday2.default, null),\n  navbarElement: _react2.default.createElement(_Navbar2.default, { classNames: _classNames2.default }),\n  captionElement: _react2.default.createElement(_Caption2.default, { classNames: _classNames2.default })\n};\nDayPicker.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  // Rendering months\n  initialMonth: _propTypes2.default.instanceOf(Date),\n  month: _propTypes2.default.instanceOf(Date),\n  numberOfMonths: _propTypes2.default.number,\n  fromMonth: _propTypes2.default.instanceOf(Date),\n  toMonth: _propTypes2.default.instanceOf(Date),\n  canChangeMonth: _propTypes2.default.bool,\n  reverseMonths: _propTypes2.default.bool,\n  pagedNavigation: _propTypes2.default.bool,\n  todayButton: _propTypes2.default.string,\n  showWeekNumbers: _propTypes2.default.bool,\n  showWeekDays: _propTypes2.default.bool,\n\n  // Modifiers\n  selectedDays: _propTypes2.default.oneOfType([_propTypes2.default.object, _propTypes2.default.func, _propTypes2.default.array]),\n  disabledDays: _propTypes2.default.oneOfType([_propTypes2.default.object, _propTypes2.default.func, _propTypes2.default.array]),\n\n  modifiers: _propTypes2.default.object,\n  modifiersStyles: _propTypes2.default.object,\n\n  // Localization\n  dir: _propTypes2.default.string,\n  firstDayOfWeek: _propTypes2.default.oneOf([0, 1, 2, 3, 4, 5, 6]),\n  labels: _propTypes2.default.shape({\n    nextMonth: _propTypes2.default.string.isRequired,\n    previousMonth: _propTypes2.default.string.isRequired\n  }),\n  locale: _propTypes2.default.string,\n  localeUtils: _propTypes2.default.shape({\n    formatMonthTitle: _propTypes2.default.func,\n    formatWeekdayShort: _propTypes2.default.func,\n    formatWeekdayLong: _propTypes2.default.func,\n    getFirstDayOfWeek: _propTypes2.default.func\n  }),\n  months: _propTypes2.default.arrayOf(_propTypes2.default.string),\n  weekdaysLong: _propTypes2.default.arrayOf(_propTypes2.default.string),\n  weekdaysShort: _propTypes2.default.arrayOf(_propTypes2.default.string),\n\n  // Customization\n  showOutsideDays: _propTypes2.default.bool,\n  enableOutsideDaysClick: _propTypes2.default.bool,\n  fixedWeeks: _propTypes2.default.bool,\n\n  // CSS and HTML\n  classNames: _propTypes2.default.shape({\n    body: _propTypes2.default.string,\n    container: _propTypes2.default.string,\n    day: _propTypes2.default.string.isRequired,\n    disabled: _propTypes2.default.string.isRequired,\n    footer: _propTypes2.default.string,\n    interactionDisabled: _propTypes2.default.string,\n    months: _propTypes2.default.string,\n    month: _propTypes2.default.string,\n    navBar: _propTypes2.default.string,\n    outside: _propTypes2.default.string.isRequired,\n    selected: _propTypes2.default.string.isRequired,\n    today: _propTypes2.default.string.isRequired,\n    todayButton: _propTypes2.default.string,\n    week: _propTypes2.default.string,\n    wrapper: _propTypes2.default.string\n  }),\n  className: _propTypes2.default.string,\n  containerProps: _propTypes2.default.object,\n  tabIndex: _propTypes2.default.number,\n\n  // Custom elements\n  renderDay: _propTypes2.default.func,\n  renderWeek: _propTypes2.default.func,\n  weekdayElement: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.func, _propTypes2.default.instanceOf(_react.Component)]),\n  navbarElement: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.func, _propTypes2.default.instanceOf(_react.Component)]),\n  captionElement: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.func, _propTypes2.default.instanceOf(_react.Component)]),\n\n  // Events\n  onBlur: _propTypes2.default.func,\n  onFocus: _propTypes2.default.func,\n  onKeyDown: _propTypes2.default.func,\n  onDayClick: _propTypes2.default.func,\n  onDayKeyDown: _propTypes2.default.func,\n  onDayMouseEnter: _propTypes2.default.func,\n  onDayMouseLeave: _propTypes2.default.func,\n  onDayMouseDown: _propTypes2.default.func,\n  onDayMouseUp: _propTypes2.default.func,\n  onDayTouchStart: _propTypes2.default.func,\n  onDayTouchEnd: _propTypes2.default.func,\n  onDayFocus: _propTypes2.default.func,\n  onMonthChange: _propTypes2.default.func,\n  onCaptionClick: _propTypes2.default.func,\n  onWeekClick: _propTypes2.default.func,\n  onTodayButtonClick: _propTypes2.default.func\n} : {};\n\n\nDayPicker.DateUtils = DateUtils;\nDayPicker.LocaleUtils = LocaleUtils;\nDayPicker.ModifiersUtils = ModifiersUtils;\n\nexports.DateUtils = DateUtils;\nexports.LocaleUtils = LocaleUtils;\nexports.ModifiersUtils = ModifiersUtils;\nexports.default = DayPicker;\n//# sourceMappingURL=DayPicker.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _LocaleUtils = require('./LocaleUtils');\n\nvar _LocaleUtils2 = _interopRequireDefault(_LocaleUtils);\n\nvar _keys = require('./keys');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Caption = function (_Component) {\n  _inherits(Caption, _Component);\n\n  function Caption(props) {\n    _classCallCheck(this, Caption);\n\n    var _this = _possibleConstructorReturn(this, (Caption.__proto__ || Object.getPrototypeOf(Caption)).call(this, props));\n\n    _this.handleKeyUp = _this.handleKeyUp.bind(_this);\n    return _this;\n  }\n\n  _createClass(Caption, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return nextProps.locale !== this.props.locale || nextProps.classNames !== this.props.classNames || nextProps.date.getMonth() !== this.props.date.getMonth() || nextProps.date.getFullYear() !== this.props.date.getFullYear();\n    }\n  }, {\n    key: 'handleKeyUp',\n    value: function handleKeyUp(e) {\n      if (e.keyCode === _keys.ENTER) {\n        this.props.onClick(e);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          classNames = _props.classNames,\n          date = _props.date,\n          months = _props.months,\n          locale = _props.locale,\n          localeUtils = _props.localeUtils,\n          onClick = _props.onClick;\n\n      return _react2.default.createElement(\n        'div',\n        { className: classNames.caption, role: 'heading' },\n        _react2.default.createElement(\n          'div',\n          { onClick: onClick, onKeyUp: this.handleKeyUp },\n          months ? months[date.getMonth()] + ' ' + date.getFullYear() : localeUtils.formatMonthTitle(date, locale)\n        )\n      );\n    }\n  }]);\n\n  return Caption;\n}(_react.Component);\n\nCaption.defaultProps = {\n  localeUtils: _LocaleUtils2.default\n};\nexports.default = Caption;\nCaption.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  date: _propTypes2.default.instanceOf(Date),\n  months: _propTypes2.default.arrayOf(_propTypes2.default.string),\n  locale: _propTypes2.default.string,\n  localeUtils: _propTypes2.default.object,\n  onClick: _propTypes2.default.func,\n  classNames: _propTypes2.default.shape({\n    caption: _propTypes2.default.string.isRequired\n  }).isRequired\n} : {};\n//# sourceMappingURL=Caption.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classNames = require('./classNames');\n\nvar _classNames2 = _interopRequireDefault(_classNames);\n\nvar _keys = require('./keys');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Navbar = function (_Component) {\n  _inherits(Navbar, _Component);\n\n  function Navbar() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Navbar);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Navbar.__proto__ || Object.getPrototypeOf(Navbar)).call.apply(_ref, [this].concat(args))), _this), _this.handleNextClick = function () {\n      if (_this.props.onNextClick) {\n        _this.props.onNextClick();\n      }\n    }, _this.handlePreviousClick = function () {\n      if (_this.props.onPreviousClick) {\n        _this.props.onPreviousClick();\n      }\n    }, _this.handleNextKeyDown = function (e) {\n      if (e.keyCode !== _keys.ENTER && e.keyCode !== _keys.SPACE) {\n        return;\n      }\n      e.preventDefault();\n      _this.handleNextClick();\n    }, _this.handlePreviousKeyDown = function (e) {\n      if (e.keyCode !== _keys.ENTER && e.keyCode !== _keys.SPACE) {\n        return;\n      }\n      e.preventDefault();\n      _this.handlePreviousClick();\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Navbar, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return nextProps.labels !== this.props.labels || nextProps.dir !== this.props.dir || this.props.showPreviousButton !== nextProps.showPreviousButton || this.props.showNextButton !== nextProps.showNextButton;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          classNames = _props.classNames,\n          className = _props.className,\n          showPreviousButton = _props.showPreviousButton,\n          showNextButton = _props.showNextButton,\n          labels = _props.labels,\n          dir = _props.dir;\n\n\n      var previousClickHandler = void 0;\n      var nextClickHandler = void 0;\n      var previousKeyDownHandler = void 0;\n      var nextKeyDownHandler = void 0;\n      var shouldShowPrevious = void 0;\n      var shouldShowNext = void 0;\n\n      if (dir === 'rtl') {\n        previousClickHandler = this.handleNextClick;\n        nextClickHandler = this.handlePreviousClick;\n        previousKeyDownHandler = this.handleNextKeyDown;\n        nextKeyDownHandler = this.handlePreviousKeyDown;\n        shouldShowNext = showPreviousButton;\n        shouldShowPrevious = showNextButton;\n      } else {\n        previousClickHandler = this.handlePreviousClick;\n        nextClickHandler = this.handleNextClick;\n        previousKeyDownHandler = this.handlePreviousKeyDown;\n        nextKeyDownHandler = this.handleNextKeyDown;\n        shouldShowNext = showNextButton;\n        shouldShowPrevious = showPreviousButton;\n      }\n\n      var previousClassName = shouldShowPrevious ? classNames.navButtonPrev : classNames.navButtonPrev + ' ' + classNames.navButtonInteractionDisabled;\n\n      var nextClassName = shouldShowNext ? classNames.navButtonNext : classNames.navButtonNext + ' ' + classNames.navButtonInteractionDisabled;\n\n      var previousButton = _react2.default.createElement('span', {\n        tabIndex: '0',\n        role: 'button',\n        'aria-label': labels.previousMonth,\n        key: 'previous',\n        className: previousClassName,\n        onKeyDown: shouldShowPrevious ? previousKeyDownHandler : undefined,\n        onClick: shouldShowPrevious ? previousClickHandler : undefined\n      });\n\n      var nextButton = _react2.default.createElement('span', {\n        tabIndex: '0',\n        role: 'button',\n        'aria-label': labels.nextMonth,\n        key: 'right',\n        className: nextClassName,\n        onKeyDown: shouldShowNext ? nextKeyDownHandler : undefined,\n        onClick: shouldShowNext ? nextClickHandler : undefined\n      });\n\n      return _react2.default.createElement(\n        'div',\n        { className: className || classNames.navBar },\n        dir === 'rtl' ? [nextButton, previousButton] : [previousButton, nextButton]\n      );\n    }\n  }]);\n\n  return Navbar;\n}(_react.Component);\n\nNavbar.defaultProps = {\n  classNames: _classNames2.default,\n  dir: 'ltr',\n  labels: {\n    previousMonth: 'Previous Month',\n    nextMonth: 'Next Month'\n  },\n  showPreviousButton: true,\n  showNextButton: true\n};\nexports.default = Navbar;\nNavbar.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  classNames: _propTypes2.default.shape({\n    navBar: _propTypes2.default.string.isRequired,\n    navButtonPrev: _propTypes2.default.string.isRequired,\n    navButtonNext: _propTypes2.default.string.isRequired\n  }),\n  className: _propTypes2.default.string,\n  showPreviousButton: _propTypes2.default.bool,\n  showNextButton: _propTypes2.default.bool,\n  onPreviousClick: _propTypes2.default.func,\n  onNextClick: _propTypes2.default.func,\n  dir: _propTypes2.default.string,\n  labels: _propTypes2.default.shape({\n    previousMonth: _propTypes2.default.string.isRequired,\n    nextMonth: _propTypes2.default.string.isRequired\n  })\n} : {};\n//# sourceMappingURL=Navbar.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Weekdays = require('./Weekdays');\n\nvar _Weekdays2 = _interopRequireDefault(_Weekdays);\n\nvar _Day = require('./Day');\n\nvar _Day2 = _interopRequireDefault(_Day);\n\nvar _keys = require('./keys');\n\nvar _ModifiersUtils = require('./ModifiersUtils');\n\nvar ModifiersUtils = _interopRequireWildcard(_ModifiersUtils);\n\nvar _Helpers = require('./Helpers');\n\nvar Helpers = _interopRequireWildcard(_Helpers);\n\nvar _DateUtils = require('./DateUtils');\n\nvar DateUtils = _interopRequireWildcard(_DateUtils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Month = function (_Component) {\n  _inherits(Month, _Component);\n\n  function Month() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Month);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Month.__proto__ || Object.getPrototypeOf(Month)).call.apply(_ref, [this].concat(args))), _this), _this.renderDay = function (day) {\n      var monthNumber = _this.props.month.getMonth();\n      var propModifiers = Helpers.getModifiersFromProps(_this.props);\n      var dayModifiers = ModifiersUtils.getModifiersForDay(day, propModifiers);\n      if (DateUtils.isSameDay(day, new Date()) && !Object.prototype.hasOwnProperty.call(propModifiers, _this.props.classNames.today)) {\n        dayModifiers.push(_this.props.classNames.today);\n      }\n      if (day.getMonth() !== monthNumber) {\n        dayModifiers.push(_this.props.classNames.outside);\n      }\n\n      var isOutside = day.getMonth() !== monthNumber;\n      var tabIndex = -1;\n      // Focus on the first day of the month\n      if (_this.props.onDayClick && !isOutside && day.getDate() === 1) {\n        tabIndex = _this.props.tabIndex; // eslint-disable-line prefer-destructuring\n      }\n      var key = '' + day.getFullYear() + day.getMonth() + day.getDate();\n      var modifiers = {};\n      dayModifiers.forEach(function (modifier) {\n        modifiers[modifier] = true;\n      });\n\n      return _react2.default.createElement(\n        _Day2.default,\n        {\n          key: '' + (isOutside ? 'outside-' : '') + key,\n          classNames: _this.props.classNames,\n          day: day,\n          modifiers: modifiers,\n          modifiersStyles: _this.props.modifiersStyles,\n          empty: isOutside && !_this.props.showOutsideDays && !_this.props.fixedWeeks,\n          tabIndex: tabIndex,\n          ariaLabel: _this.props.localeUtils.formatDay(day, _this.props.locale),\n          ariaDisabled: isOutside || dayModifiers.indexOf('disabled') > -1,\n          ariaSelected: dayModifiers.indexOf('selected') > -1,\n          onClick: _this.props.onDayClick,\n          onFocus: _this.props.onDayFocus,\n          onKeyDown: _this.props.onDayKeyDown,\n          onMouseEnter: _this.props.onDayMouseEnter,\n          onMouseLeave: _this.props.onDayMouseLeave,\n          onMouseDown: _this.props.onDayMouseDown,\n          onMouseUp: _this.props.onDayMouseUp,\n          onTouchEnd: _this.props.onDayTouchEnd,\n          onTouchStart: _this.props.onDayTouchStart\n        },\n        _this.props.renderDay(day, modifiers)\n      );\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Month, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          classNames = _props.classNames,\n          month = _props.month,\n          months = _props.months,\n          fixedWeeks = _props.fixedWeeks,\n          captionElement = _props.captionElement,\n          weekdayElement = _props.weekdayElement,\n          locale = _props.locale,\n          localeUtils = _props.localeUtils,\n          weekdaysLong = _props.weekdaysLong,\n          weekdaysShort = _props.weekdaysShort,\n          firstDayOfWeek = _props.firstDayOfWeek,\n          onCaptionClick = _props.onCaptionClick,\n          showWeekNumbers = _props.showWeekNumbers,\n          showWeekDays = _props.showWeekDays,\n          onWeekClick = _props.onWeekClick;\n\n\n      var captionProps = {\n        date: month,\n        classNames: classNames,\n        months: months,\n        localeUtils: localeUtils,\n        locale: locale,\n        onClick: onCaptionClick ? function (e) {\n          return onCaptionClick(month, e);\n        } : undefined\n      };\n      var caption = _react2.default.isValidElement(captionElement) ? _react2.default.cloneElement(captionElement, captionProps) : _react2.default.createElement(captionElement, captionProps);\n\n      var weeks = Helpers.getWeekArray(month, firstDayOfWeek, fixedWeeks);\n      return _react2.default.createElement(\n        'div',\n        { className: classNames.month, role: 'grid' },\n        caption,\n        showWeekDays && _react2.default.createElement(_Weekdays2.default, {\n          classNames: classNames,\n          weekdaysShort: weekdaysShort,\n          weekdaysLong: weekdaysLong,\n          firstDayOfWeek: firstDayOfWeek,\n          showWeekNumbers: showWeekNumbers,\n          locale: locale,\n          localeUtils: localeUtils,\n          weekdayElement: weekdayElement\n        }),\n        _react2.default.createElement(\n          'div',\n          { className: classNames.body, role: 'rowgroup' },\n          weeks.map(function (week) {\n            var weekNumber = void 0;\n            if (showWeekNumbers) {\n              weekNumber = DateUtils.getWeekNumber(week[6]);\n            }\n            return _react2.default.createElement(\n              'div',\n              {\n                key: week[0].getTime(),\n                className: classNames.week,\n                role: 'row'\n              },\n              showWeekNumbers && _react2.default.createElement(\n                'div',\n                {\n                  className: classNames.weekNumber,\n                  tabIndex: 0,\n                  role: 'gridcell',\n                  onClick: onWeekClick ? function (e) {\n                    return onWeekClick(weekNumber, week, e);\n                  } : undefined,\n                  onKeyUp: onWeekClick ? function (e) {\n                    return e.keyCode === _keys.ENTER && onWeekClick(weekNumber, week, e);\n                  } : undefined\n                },\n                _this2.props.renderWeek(weekNumber, week, month)\n              ),\n              week.map(_this2.renderDay)\n            );\n          })\n        )\n      );\n    }\n  }]);\n\n  return Month;\n}(_react.Component);\n\nexports.default = Month;\nMonth.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  classNames: _propTypes2.default.shape({\n    body: _propTypes2.default.string.isRequired,\n    month: _propTypes2.default.string.isRequired,\n    outside: _propTypes2.default.string.isRequired,\n    today: _propTypes2.default.string.isRequired,\n    week: _propTypes2.default.string.isRequired\n  }).isRequired,\n  tabIndex: _propTypes2.default.number,\n\n  month: _propTypes2.default.instanceOf(Date).isRequired,\n  months: _propTypes2.default.arrayOf(_propTypes2.default.string),\n\n  modifiersStyles: _propTypes2.default.object,\n\n  showWeekDays: _propTypes2.default.bool,\n  showOutsideDays: _propTypes2.default.bool,\n\n  renderDay: _propTypes2.default.func.isRequired,\n  renderWeek: _propTypes2.default.func.isRequired,\n\n  captionElement: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.func, _propTypes2.default.instanceOf(_react2.default.Component)]).isRequired,\n  weekdayElement: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.func, _propTypes2.default.instanceOf(_react2.default.Component)]),\n\n  fixedWeeks: _propTypes2.default.bool,\n  showWeekNumbers: _propTypes2.default.bool,\n\n  locale: _propTypes2.default.string.isRequired,\n  localeUtils: _propTypes2.default.object.isRequired,\n  weekdaysLong: _propTypes2.default.arrayOf(_propTypes2.default.string),\n  weekdaysShort: _propTypes2.default.arrayOf(_propTypes2.default.string),\n  firstDayOfWeek: _propTypes2.default.number.isRequired,\n\n  onCaptionClick: _propTypes2.default.func,\n  onDayClick: _propTypes2.default.func,\n  onDayFocus: _propTypes2.default.func,\n  onDayKeyDown: _propTypes2.default.func,\n  onDayMouseEnter: _propTypes2.default.func,\n  onDayMouseLeave: _propTypes2.default.func,\n  onDayMouseDown: _propTypes2.default.func,\n  onDayMouseUp: _propTypes2.default.func,\n  onDayTouchEnd: _propTypes2.default.func,\n  onDayTouchStart: _propTypes2.default.func,\n  onWeekClick: _propTypes2.default.func\n} : {};\n//# sourceMappingURL=Month.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Weekdays = function (_Component) {\n  _inherits(Weekdays, _Component);\n\n  function Weekdays() {\n    _classCallCheck(this, Weekdays);\n\n    return _possibleConstructorReturn(this, (Weekdays.__proto__ || Object.getPrototypeOf(Weekdays)).apply(this, arguments));\n  }\n\n  _createClass(Weekdays, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return this.props !== nextProps;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          classNames = _props.classNames,\n          firstDayOfWeek = _props.firstDayOfWeek,\n          showWeekNumbers = _props.showWeekNumbers,\n          weekdaysLong = _props.weekdaysLong,\n          weekdaysShort = _props.weekdaysShort,\n          locale = _props.locale,\n          localeUtils = _props.localeUtils,\n          weekdayElement = _props.weekdayElement;\n\n      var days = [];\n      for (var i = 0; i < 7; i += 1) {\n        var weekday = (i + firstDayOfWeek) % 7;\n        var elementProps = {\n          key: i,\n          className: classNames.weekday,\n          weekday: weekday,\n          weekdaysLong: weekdaysLong,\n          weekdaysShort: weekdaysShort,\n          localeUtils: localeUtils,\n          locale: locale\n        };\n        var element = _react2.default.isValidElement(weekdayElement) ? _react2.default.cloneElement(weekdayElement, elementProps) : _react2.default.createElement(weekdayElement, elementProps);\n        days.push(element);\n      }\n\n      return _react2.default.createElement(\n        'div',\n        { className: classNames.weekdays, role: 'rowgroup' },\n        _react2.default.createElement(\n          'div',\n          { className: classNames.weekdaysRow, role: 'row' },\n          showWeekNumbers && _react2.default.createElement('div', { className: classNames.weekday }),\n          days\n        )\n      );\n    }\n  }]);\n\n  return Weekdays;\n}(_react.Component);\n\nexports.default = Weekdays;\nWeekdays.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  classNames: _propTypes2.default.shape({\n    weekday: _propTypes2.default.string.isRequired,\n    weekdays: _propTypes2.default.string.isRequired,\n    weekdaysRow: _propTypes2.default.string.isRequired\n  }).isRequired,\n\n  firstDayOfWeek: _propTypes2.default.number.isRequired,\n  weekdaysLong: _propTypes2.default.arrayOf(_propTypes2.default.string),\n  weekdaysShort: _propTypes2.default.arrayOf(_propTypes2.default.string),\n  showWeekNumbers: _propTypes2.default.bool,\n  locale: _propTypes2.default.string.isRequired,\n  localeUtils: _propTypes2.default.object.isRequired,\n  weekdayElement: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.func, _propTypes2.default.instanceOf(_react2.default.Component)])\n} : {};\n//# sourceMappingURL=Weekdays.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _DateUtils = require('./DateUtils');\n\nvar _Helpers = require('./Helpers');\n\nvar _classNames = require('./classNames');\n\nvar _classNames2 = _interopRequireDefault(_classNames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint-disable jsx-a11y/no-static-element-interactions, react/forbid-prop-types */\n\nfunction handleEvent(handler, day, modifiers) {\n  if (!handler) {\n    return undefined;\n  }\n  return function (e) {\n    e.persist();\n    handler(day, modifiers, e);\n  };\n}\n\nvar Day = function (_Component) {\n  _inherits(Day, _Component);\n\n  function Day() {\n    _classCallCheck(this, Day);\n\n    return _possibleConstructorReturn(this, (Day.__proto__ || Object.getPrototypeOf(Day)).apply(this, arguments));\n  }\n\n  _createClass(Day, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      var _this2 = this;\n\n      var propNames = Object.keys(this.props);\n      var nextPropNames = Object.keys(nextProps);\n      if (propNames.length !== nextPropNames.length) {\n        return true;\n      }\n      return propNames.some(function (name) {\n        if (name === 'modifiers' || name === 'modifiersStyles' || name === 'classNames') {\n          var prop = _this2.props[name];\n          var nextProp = nextProps[name];\n          var modifiers = Object.keys(prop);\n          var nextModifiers = Object.keys(nextProp);\n          if (modifiers.length !== nextModifiers.length) {\n            return true;\n          }\n          return modifiers.some(function (mod) {\n            return !(0, _Helpers.hasOwnProp)(nextProp, mod) || prop[mod] !== nextProp[mod];\n          });\n        }\n        if (name === 'day') {\n          return !(0, _DateUtils.isSameDay)(_this2.props[name], nextProps[name]);\n        }\n        return !(0, _Helpers.hasOwnProp)(nextProps, name) || _this2.props[name] !== nextProps[name];\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          classNames = _props.classNames,\n          modifiersStyles = _props.modifiersStyles,\n          day = _props.day,\n          tabIndex = _props.tabIndex,\n          empty = _props.empty,\n          modifiers = _props.modifiers,\n          onMouseEnter = _props.onMouseEnter,\n          onMouseLeave = _props.onMouseLeave,\n          onMouseUp = _props.onMouseUp,\n          onMouseDown = _props.onMouseDown,\n          onClick = _props.onClick,\n          onKeyDown = _props.onKeyDown,\n          onTouchStart = _props.onTouchStart,\n          onTouchEnd = _props.onTouchEnd,\n          onFocus = _props.onFocus,\n          ariaLabel = _props.ariaLabel,\n          ariaDisabled = _props.ariaDisabled,\n          ariaSelected = _props.ariaSelected,\n          children = _props.children;\n\n\n      var className = classNames.day;\n      if (classNames !== _classNames2.default) {\n        // When using CSS modules prefix the modifier as required by the BEM syntax\n        className += ' ' + Object.keys(modifiers).join(' ');\n      } else {\n        className += Object.keys(modifiers).map(function (modifier) {\n          return ' ' + className + '--' + modifier;\n        }).join('');\n      }\n\n      var style = void 0;\n      if (modifiersStyles) {\n        Object.keys(modifiers).filter(function (modifier) {\n          return !!modifiersStyles[modifier];\n        }).forEach(function (modifier) {\n          style = _extends({}, style, modifiersStyles[modifier]);\n        });\n      }\n\n      if (empty) {\n        return _react2.default.createElement('div', { 'aria-disabled': true, className: className, style: style });\n      }\n      return _react2.default.createElement(\n        'div',\n        {\n          className: className,\n          tabIndex: tabIndex,\n          style: style,\n          role: 'gridcell',\n          'aria-label': ariaLabel,\n          'aria-disabled': ariaDisabled,\n          'aria-selected': ariaSelected,\n          onClick: handleEvent(onClick, day, modifiers),\n          onKeyDown: handleEvent(onKeyDown, day, modifiers),\n          onMouseEnter: handleEvent(onMouseEnter, day, modifiers),\n          onMouseLeave: handleEvent(onMouseLeave, day, modifiers),\n          onMouseUp: handleEvent(onMouseUp, day, modifiers),\n          onMouseDown: handleEvent(onMouseDown, day, modifiers),\n          onTouchEnd: handleEvent(onTouchEnd, day, modifiers),\n          onTouchStart: handleEvent(onTouchStart, day, modifiers),\n          onFocus: handleEvent(onFocus, day, modifiers)\n        },\n        children\n      );\n    }\n  }]);\n\n  return Day;\n}(_react.Component);\n\nDay.defaultProps = {\n  tabIndex: -1\n};\nDay.defaultProps = {\n  modifiers: {},\n  modifiersStyles: {},\n  empty: false\n};\nexports.default = Day;\nDay.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  classNames: _propTypes2.default.shape({\n    day: _propTypes2.default.string.isRequired\n  }).isRequired,\n\n  day: _propTypes2.default.instanceOf(Date).isRequired,\n  children: _propTypes2.default.node.isRequired,\n\n  ariaDisabled: _propTypes2.default.bool,\n  ariaLabel: _propTypes2.default.string,\n  ariaSelected: _propTypes2.default.bool,\n  empty: _propTypes2.default.bool,\n  modifiers: _propTypes2.default.object,\n  modifiersStyles: _propTypes2.default.object,\n  onClick: _propTypes2.default.func,\n  onKeyDown: _propTypes2.default.func,\n  onMouseEnter: _propTypes2.default.func,\n  onMouseLeave: _propTypes2.default.func,\n  onMouseDown: _propTypes2.default.func,\n  onMouseUp: _propTypes2.default.func,\n  onTouchEnd: _propTypes2.default.func,\n  onTouchStart: _propTypes2.default.func,\n  onFocus: _propTypes2.default.func,\n  tabIndex: _propTypes2.default.number\n} : {};\n//# sourceMappingURL=Day.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Weekday = function (_Component) {\n  _inherits(Weekday, _Component);\n\n  function Weekday() {\n    _classCallCheck(this, Weekday);\n\n    return _possibleConstructorReturn(this, (Weekday.__proto__ || Object.getPrototypeOf(Weekday)).apply(this, arguments));\n  }\n\n  _createClass(Weekday, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return this.props !== nextProps;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          weekday = _props.weekday,\n          className = _props.className,\n          weekdaysLong = _props.weekdaysLong,\n          weekdaysShort = _props.weekdaysShort,\n          localeUtils = _props.localeUtils,\n          locale = _props.locale;\n\n      var title = void 0;\n      if (weekdaysLong) {\n        title = weekdaysLong[weekday];\n      } else {\n        title = localeUtils.formatWeekdayLong(weekday, locale);\n      }\n      var content = void 0;\n      if (weekdaysShort) {\n        content = weekdaysShort[weekday];\n      } else {\n        content = localeUtils.formatWeekdayShort(weekday, locale);\n      }\n\n      return _react2.default.createElement(\n        'div',\n        { className: className, role: 'columnheader' },\n        _react2.default.createElement(\n          'abbr',\n          { title: title },\n          content\n        )\n      );\n    }\n  }]);\n\n  return Weekday;\n}(_react.Component);\n\nexports.default = Weekday;\nWeekday.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  weekday: _propTypes2.default.number,\n  className: _propTypes2.default.string,\n  locale: _propTypes2.default.string,\n  localeUtils: _propTypes2.default.object,\n\n  weekdaysLong: _propTypes2.default.arrayOf(_propTypes2.default.string),\n  weekdaysShort: _propTypes2.default.arrayOf(_propTypes2.default.string)\n} : {};\n//# sourceMappingURL=Weekday.js.map","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _exenv = require('exenv');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Portal = function (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal(props, context) {\n    _classCallCheck(this, Portal);\n\n    var _this = _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).call(this, props, context));\n\n    if (_exenv.canUseDOM) {\n      _this.node = document.createElement('div');\n      _this.root = null;\n      _this.handleRootRef = function (root) {\n        _this.root = root;\n      };\n\n      _this.handleOutClick = function (e) {\n        var onOutClick = _this.props.onOutClick;\n\n        if (typeof onOutClick === 'function') {\n          if (_this.root && !_this.root.contains(e.target)) {\n            onOutClick(e);\n          }\n          if (!_this.root) {\n            onOutClick(e);\n          }\n        }\n      };\n\n      document.addEventListener('click', _this.handleOutClick, true);\n    }\n    return _this;\n  }\n\n  _createClass(Portal, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (_exenv.canUseDOM) {\n        document.body.appendChild(this.node);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (_exenv.canUseDOM) {\n        document.removeEventListener('click', this.handleOutClick, true);\n        document.body.removeChild(this.node);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          onOutClick = _props.onOutClick,\n          props = _objectWithoutProperties(_props, ['onOutClick']);\n\n      return _reactDom2.default.createPortal(_react2.default.createElement('div', _extends({}, props, { ref: this.handleRootRef })), this.node);\n    }\n  }]);\n\n  return Portal;\n}(_react2.default.Component);\n\nPortal.propTypes = {\n  onOutClick: _propTypes2.default.func\n};\nexports.default = Portal;\n\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n","\"use strict\";\n\nexports.__esModule = true;\nexports.assignRef = assignRef;\nexports.getScrollbarOffset = getScrollbarOffset;\nexports.makeId = makeId;\nexports.noop = noop;\nexports.useForkedRef = useForkedRef;\nexports.usePrevious = usePrevious;\nexports.useUpdateEffect = useUpdateEffect;\nexports.wrapEvent = wrapEvent;\nexports.checkStyles = void 0;\n\nvar _react = require(\"react\");\n\nvar checkedPkgs = {};\n/**\n * When in dev mode, checks that styles for a given @reach package are loaded.\n */\n\nvar checkStyles = function checkStyles() {};\n\nexports.checkStyles = checkStyles;\n\nif (process.env.NODE_ENV !== \"production\") {\n  exports.checkStyles = checkStyles = function checkStyles(pkg) {\n    // only check once per package\n    if (checkedPkgs[pkg]) return;\n    checkedPkgs[pkg] = true;\n\n    if (parseInt(window.getComputedStyle(document.body).getPropertyValue(\"--reach-\" + pkg), 10) !== 1) {\n      console.warn(\"@reach/\" + pkg + \" styles not found. If you are using a bundler like webpack or parcel include this in the entry file of your app before any of your own styles:\\n\\n    import \\\"@reach/\" + pkg + \"/styles.css\\\";\\n\\n  Otherwise you'll need to include them some other way:\\n\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"node_modules/@reach/\" + pkg + \"/styles.css\\\" />\\n\\n  For more information visit https://ui.reach.tech/styling.\\n  \");\n    }\n  };\n}\n\n/**\n * Passes or assigns an arbitrary value to a ref function or object.\n */\nfunction assignRef(ref, value) {\n  if (ref == null) return;\n\n  if (typeof ref === \"function\") {\n    ref(value);\n  } else {\n    try {\n      ref.current = value;\n    } catch (error) {\n      throw new Error(\"Cannot assign value \\\"\" + value + \"\\\" to ref \\\"\" + ref + \"\\\"\");\n    }\n  }\n}\n/**\n * Get the scrollbar offset distance.\n */\n\n\nfunction getScrollbarOffset() {\n  try {\n    if (window.innerWidth > document.documentElement.clientWidth) {\n      return window.innerWidth - document.documentElement.clientWidth;\n    }\n  } catch (err) {}\n\n  return 0;\n}\n/**\n * Joins strings to format IDs for compound components.\n */\n\n\nfunction makeId() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args.join(\"--\");\n}\n/**\n * No-op function.\n */\n\n\nfunction noop() {}\n/**\n * Passes or assigns a value to multiple refs (typically a DOM node). Useful for\n * dealing with components that need an explicit ref for DOM calculations but\n * also forwards refs assigned by an app.\n */\n\n\nfunction useForkedRef() {\n  for (var _len2 = arguments.length, refs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    refs[_key2] = arguments[_key2];\n  }\n\n  return (0, _react.useMemo)(function () {\n    if (refs.every(function (ref) {\n      return ref == null;\n    })) {\n      return null;\n    }\n\n    return function (node) {\n      refs.forEach(function (ref) {\n        assignRef(ref, node);\n      });\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, refs);\n}\n/**\n * Returns the previous value of a reference after a component update.\n */\n\n\nfunction usePrevious(value) {\n  var ref = (0, _react.useRef)();\n  (0, _react.useEffect)(function () {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n/**\n * Call an effect after a component update, skipping the initial mount.\n */\n\n\nfunction useUpdateEffect(effect, deps) {\n  var mounted = (0, _react.useRef)(false);\n  (0, _react.useEffect)(function () {\n    if (mounted.current) {\n      effect();\n    } else {\n      mounted.current = true;\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, deps);\n}\n/**\n * Wraps a lib-defined event handler and a user-defined event handler, returning\n * a single handler that allows a user to prevent lib-defined handlers from\n * firing.\n */\n\n\nfunction wrapEvent(theirHandler, ourHandler) {\n  return function (event) {\n    theirHandler && theirHandler(event);\n\n    if (!event.defaultPrevented) {\n      return ourHandler(event);\n    }\n  };\n}","\"use strict\";\n\nexports.__esModule = true;\nexports.useId = void 0;\n\nvar _react = require(\"react\");\n\n/*\n * Let's see if we can make sense of why this hook exists and its\n * implementation.\n *\n * Some background:\n *   1. Accessibiliy APIs rely heavily on element IDs\n *   2. Requiring developers to put IDs on every element in Reach UI is both\n *      cumbersome and error-prone\n *   3. With a component model, we can generate IDs for them!\n *\n * Solution 1: Generate random IDs.\n *\n * This works great as long as you don't server render your app. When React (in\n * the client) tries to reuse the markup from the server, the IDs won't match\n * and React will then recreate the entire DOM tree.\n *\n * Solution 2: Increment an integer\n *\n * This sounds great. Since we're rendering the exact same tree on the server\n * and client, we can increment a counter and get a deterministic result between\n * client and server. Also, JS integers can go up to nine-quadrillion. I'm\n * pretty sure the tab will be closed before an app never needs\n * 10 quadrillion IDs!\n *\n * Problem solved, right?\n *\n * Ah, but there's a catch! React's concurrent rendering makes this approach\n * non-deterministic. While the client and server will end up with the same\n * elements in the end, depending on suspense boundaries (and possibly some user\n * input during the initial render) the incrementing integers won't always match\n * up.\n *\n * Solution 3: Don't use IDs at all on the server; patch after first render.\n *\n * What we've done here is solution 2 with some tricks. With this approach, the\n * ID returned is an empty string on the first render. This way the server and\n * client have the same markup no matter how wild the concurrent rendering may\n * have gotten.\n *\n * After the render, we patch up the components with an incremented ID. It\n * doesn't have to be incremented, though; we could do something random, but\n * incrementing a number is probably the cheapest thing we can do.\n */\nvar serverHandoffComplete = false;\nvar id = 0;\n\nvar genId = function genId() {\n  return ++id;\n};\n\nvar useId = function useId(fallback) {\n  /*\n   * If this instance isn't part of the initial render, we don't have to do the\n   * double render/patch-up dance. We can just generate the ID and return it.\n   */\n  var initialId = fallback || (serverHandoffComplete ? genId() : null);\n\n  var _useState = (0, _react.useState)(initialId),\n      id = _useState[0],\n      setId = _useState[1];\n\n  (0, _react.useLayoutEffect)(function () {\n    if (id === null) {\n      /*\n       * Patch the ID after render. We do this in `useLayoutEffect` to avoid any\n       * rendering flicker, though it'll make the first render slower (unlikely\n       * to matter, but you're welcome to measure your app and let us know if\n       * it's a problem).\n       */\n      setId(genId());\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  (0, _react.useEffect)(function () {\n    if (serverHandoffComplete === false) {\n      /*\n       * Flag all future uses of `useId` to skip the update dance. This is in\n       * `useEffect` because it goes after `useLayoutEffect`, ensuring we don't\n       * accidentally bail out of the patch-up dance prematurely.\n       */\n      serverHandoffComplete = true;\n    }\n  }, []);\n  return id;\n};\n\nexports.useId = useId;","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ReactElement } from \"react\";\n\nexport interface IComponentMountOptions {\n    overwrite?: boolean;\n    clearContents?: boolean;\n    widgetResolver?: IWidgetResolver;\n    bypassPortalManager?: boolean;\n    unmountBeforeRender?: boolean;\n}\n\nexport interface IWidgetOptions {\n    $type?: string; // the component to get, optional because coming from API\n    children?: IWidgetOptions[]; // widgets to mount as children\n    [x: string]: any; // can take additional properties\n}\n\n/**\n * Defines an interface for a function that will turn widget options into props that can be used to render a component.\n */\nexport interface IWidgetResolver {\n    (options: IWidgetOptions): {\n        [key: string]: any;\n    };\n}\n\ninterface IPortal {\n    target: HTMLElement;\n    component: React.ReactElement;\n}\n\nlet hasRendered = false;\nconst portals: IPortal[] = [];\n\nconst PORTAL_MANAGER_ID = \"vanillaPortalManager\";\ntype PortalContextType = React.FC<{ children?: React.ReactNode }>;\nlet PortalContext: PortalContextType = (props) => {\n    return <React.Fragment>{props.children}</React.Fragment>;\n};\n\nexport function applySharedPortalContext(context: PortalContextType) {\n    PortalContext = context;\n    if (hasRendered) {\n        // Re-render the portals. We never want to be the first to initialize rendering though.\n        renderPortals();\n    }\n}\n\n/**\n * Component for managing all mounted components from a single wrapped context.\n *\n * This allows a shared context provider to be applied to parts of the site.\n */\nfunction PortalManager() {\n    return (\n        <div>\n            <PortalContext>\n                {portals.map((portal, i) => {\n                    return (\n                        <React.Fragment key={i}>\n                            {ReactDOM.createPortal(portal.component, portal.target)}\n                        </React.Fragment>\n                    );\n                })}\n            </PortalContext>\n        </div>\n    );\n}\n\nfunction renderPortals(callback?: () => void) {\n    hasRendered = true;\n    // Ensure we have our modal container.\n    let container = document.getElementById(PORTAL_MANAGER_ID);\n    if (!container) {\n        container = document.createElement(\"div\");\n        container.id = PORTAL_MANAGER_ID;\n        document.body.appendChild(container);\n    }\n\n    ReactDOM.render(<PortalManager />, container, callback);\n}\n\n/**\n * Mount a root component of a React tree.\n *\n * - ReactDOM render.\n * - Typestyle render.\n *\n * If the overwrite option is passed this component will replace the components you passed as target.\n *\n * Default Mode:\n * <div><TARGET /></div> -> <div><TARGET><REACT></TARGET><div>\n *\n * Overwrite Mode:\n * <div><TARGET /></div> -> <div><REACT/></div>\n */\nexport function mountReact(\n    component: React.ReactElement,\n    target: HTMLElement,\n    callback?: () => void,\n    options?: IComponentMountOptions & { bypassPortalManager?: boolean },\n) {\n    if (options?.bypassPortalManager) {\n        const doRender = () => {\n            ReactDOM.render(<PortalContext>{component}</PortalContext>, target, callback);\n        };\n        if (options?.unmountBeforeRender) {\n            ReactDOM.unmountComponentAtNode(target);\n        }\n        setImmediate(doRender);\n        return;\n    }\n\n    let mountPoint = target;\n    let cleanupContainer: HTMLElement | undefined;\n    if (options?.clearContents) {\n        target.innerHTML = \"\";\n    }\n\n    if (options && options.overwrite) {\n        const container = document.createElement(\"span\");\n        cleanupContainer = container;\n        target.parentElement!.insertBefore(container, target);\n        mountPoint = container;\n    }\n    portals.push({ target: mountPoint, component });\n\n    renderPortals(() => {\n        if (cleanupContainer) {\n            target.remove();\n            if (cleanupContainer.firstElementChild) {\n                cleanupContainer.parentElement!.insertBefore(cleanupContainer.firstElementChild, cleanupContainer);\n                cleanupContainer.remove();\n                target.remove();\n            }\n        }\n        callback && callback();\n    });\n}\n\nexport interface IMountable {\n    target: HTMLElement;\n    component: React.ReactElement;\n}\n\nexport function mountReactMultiple(components: IMountable[], callback?: () => void, options?: IComponentMountOptions) {\n    if (!components.length) {\n        return;\n    }\n\n    let toCleanup: Array<{ target: HTMLElement; cleanup: HTMLElement }> = [];\n    components.forEach(({ component, target }) => {\n        let mountPoint = target;\n        if (options?.clearContents) {\n            target.innerHTML = \"\";\n        }\n\n        if (options && options.overwrite) {\n            const container = document.createElement(\"span\");\n            toCleanup.push({\n                target,\n                cleanup: container,\n            });\n            target.parentElement!.insertBefore(container, target);\n            mountPoint = container;\n        }\n        portals.push({ target: mountPoint, component });\n    });\n\n    renderPortals(() => {\n        toCleanup.forEach(({ cleanup, target }) => {\n            if (cleanup.firstElementChild) {\n                cleanup.parentElement!.insertBefore(cleanup.firstElementChild, cleanup);\n                cleanup.remove();\n                target.remove();\n            }\n        });\n        callback && callback();\n    });\n}\n\n/**\n * Mount a modal with ReactDOM. This is only needed at the top level context.\n *\n * If you are already in a react context, just use `<Modal />`.\n * Note: Using this will clear any other modals mounted with this component.\n *\n * @param element The <Modal /> element to render.\n * @param containerID The container to render the modal into. Defaults to modal container.\n * @param asRealPortal Whether or not we should render this as a real portal, or one managed by the portal manager.\n */\nexport function mountPortal(element: ReactElement<any>, containerID: string, asRealPortal: boolean = false) {\n    // Ensure we have our modal container.\n    let container = document.getElementById(containerID);\n    if (!container) {\n        container = document.createElement(\"div\");\n        container.id = containerID;\n        document.body.appendChild(container);\n    }\n\n    if (asRealPortal) {\n        return ReactDOM.createPortal(element, container);\n    } else {\n        return new Promise((resolve) => mountReact(element, container!, () => resolve()));\n    }\n}\n","import { cssRaw, flattenNests } from \"@library/styles/styleShim\";\nimport { CSSObject } from \"@emotion/css\";\n\nexport function cssOut(selector: string, ...objects: CSSObject[]): void {\n    cssRaw({\n        [selector]: objects.map(flattenNests),\n    });\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useEffect, useMemo } from \"react\";\nimport { getMeta } from \"@library/utility/appUtils\";\n\n/**\n * A component for displaying and setting the document title.\n *\n * This component can render a default title or a custom title depending on the usage.\n *\n * @example <caption>Render the title in the default h1</caption>\n * <DocumentTitle title=\"Page Title\" />\n *\n * @example <caption>Render a custom title</caption>\n * <DocumentTitle title=\"Title Bar Title >\n *     <h1>Page Title</h1>\n * </DocumentTitle>\n */\nexport default function DocumentTitle(props: IProps) {\n    /**\n     * Calculate the status bar title from the props.\n     *\n     * @param props - The props used to calculate the title.\n     * @returns Returns the title as a string.\n     */\n    const headTitle = useMemo(() => {\n        const siteTitle: string = getMeta(\"ui.siteName\", \"\");\n        const parts: string[] = [];\n\n        if (props.title && props.title.length > 0) {\n            parts.push(props.title);\n        }\n        if (siteTitle.length > 0 && siteTitle !== props.title) {\n            parts.push(siteTitle);\n        }\n\n        return parts.join(\" - \");\n    }, [props.title]);\n\n    useEffect(() => {\n        document.title = headTitle;\n    }, [headTitle]);\n\n    return <>{props.children ? props.children : <h1>{props.title}</h1>}</>;\n}\n\ninterface IProps {\n    title: string;\n    children?: React.ReactNode;\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { t } from \"@library/utility/appUtils\";\nimport DocumentTitle from \"@library/routing/DocumentTitle\";\nimport { sprintf } from \"sprintf-js\";\n\nexport default class NotFoundPage extends React.PureComponent<IProps> {\n    public static defaultProps = {\n        type: \"Page\",\n    };\n\n    public render() {\n        return (\n            <div className=\"Center SplashInfo\">\n                <DocumentTitle title={this.title} />\n                <div>{this.message}</div>\n            </div>\n        );\n    }\n\n    private get title() {\n        return this.props.title || sprintf(t(\"%s Not Found\"), t(this.props.type));\n    }\n\n    private get message() {\n        return (\n            this.props.message ||\n            sprintf(t(\"The %s you were looking for could not be found.\"), t(this.props.type.toLowerCase()))\n        );\n    }\n}\n\ninterface IProps {\n    type: string;\n    title?: string;\n    message?: string;\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useReducer, useEffect, useContext, useDebugValue, useState, useCallback, useRef } from \"react\";\nimport { useHistory } from \"react-router\";\nimport * as H from \"history\";\nimport { siteUrl } from \"@library/utility/appUtils\";\nimport { useLinkContext, makeLocationDescriptorObject } from \"@library/routing/links/LinkContextProvider\";\n\nconst DEFAULT_FALLBACK = siteUrl(\"/\");\n\nconst context = React.createContext<{\n    historyDepth: number;\n    canGoBack: boolean;\n    backFallbackUrl: string;\n    setBackFallbackUrl: (newUrl: string) => void;\n    navigateBack: (customFallback?: string) => void;\n}>({\n    historyDepth: 1,\n    canGoBack: false,\n    backFallbackUrl: DEFAULT_FALLBACK,\n    setBackFallbackUrl: () => {},\n    navigateBack: () => (window.location.href = DEFAULT_FALLBACK),\n});\n\n/**\n * Provider for measuring how deep in our dynamic routing history we are.\n */\nexport function BackRoutingProvider(props: { children: React.ReactNode }) {\n    const [backFallbackUrl, setBackFallbackUrl] = useState(DEFAULT_FALLBACK);\n    const ignoreRef = useRef<boolean>(false);\n\n    const [{ historyDepth }, dispatch] = useReducer(\n        (\n            nextState: { historyDepth: number },\n            action: {\n                type: H.Action;\n                location: H.Location;\n            },\n        ) => {\n            if (ignoreRef.current === true) {\n                ignoreRef.current = false;\n                // Ignored so our \"fake\" back routing doesn't create an entry.\n                return nextState;\n            }\n\n            if (action.type === \"PUSH\") {\n                return { historyDepth: nextState.historyDepth + 1 };\n            } else if (action.type === \"POP\") {\n                return { historyDepth: nextState.historyDepth - 1 };\n            }\n            return nextState;\n        },\n        { historyDepth: 1 },\n    );\n\n    const history = useHistory();\n    const { pushSmartLocation } = useLinkContext();\n    const canGoBack = historyDepth > 1;\n    const canBrowserGoBack = !!document.referrer && !!window.history?.back;\n\n    const navigateBack = useCallback(\n        (url?: string) => {\n            if (canGoBack) {\n                history.goBack();\n            } else if (canBrowserGoBack) {\n                window.history.back();\n                setTimeout(() => {\n                    // In case the browser back didn't actually work.\n                    window.location.href = document.referrer;\n                }, 300);\n            } else {\n                ignoreRef.current = true;\n                pushSmartLocation(url ?? backFallbackUrl);\n            }\n        },\n        [canGoBack, history, pushSmartLocation, backFallbackUrl, canBrowserGoBack],\n    );\n\n    useEffect(() => {\n        const unregister = history.listen((location: H.Location, action: H.Action) => {\n            dispatch({ type: action, location });\n        });\n\n        return unregister;\n    }, [dispatch, history]);\n\n    const value = {\n        canGoBack,\n        historyDepth,\n        backFallbackUrl,\n        setBackFallbackUrl,\n        navigateBack,\n    };\n\n    return <context.Provider value={value}>{props.children}</context.Provider>;\n}\n\n/**\n * Hook for knowing how deep in our routing history that we are.\n */\nexport function useBackRouting() {\n    const value = useContext(context);\n    useDebugValue(value);\n    return value;\n}\n\n/**\n * Component version of `useFallbackBackUrl`.\n */\nexport function FallbackBackUrlSetter(props: { url: string }) {\n    useFallbackBackUrl(props.url);\n    return <React.Fragment />;\n}\n\n/**\n * Hook to set some url as the fallback backlink as long as it's active.\n */\nexport function useFallbackBackUrl(url?: string) {\n    const { setBackFallbackUrl } = useBackRouting();\n\n    useEffect(() => {\n        // Sync this value into the context as long as it's being rendered.\n        if (url) {\n            setBackFallbackUrl(url);\n        }\n\n        return () => {\n            // Cleanup to the default when we unmount.\n            setBackFallbackUrl(DEFAULT_FALLBACK);\n        };\n    }, [setBackFallbackUrl, url]);\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useContext, useState, useEffect, useRef, useDebugValue } from \"react\";\nimport { useMeasure } from \"@vanilla/react-utils\";\nimport { usePageChangeListener } from \"@library/pageViews/pageViewTracking\";\n\ninterface IContextValue {\n    bannerExists: boolean;\n    setBannerExists: (exists: boolean) => void;\n    bannerRect: DOMRect | null;\n    setBannerRect: (rect: DOMRect | null) => void;\n    overlayTitleBar: boolean;\n    setOverlayTitleBar: (exists: boolean) => void;\n    renderedH1: boolean;\n    setRenderedH1: (exists: boolean) => void;\n}\n\nconst context = React.createContext<IContextValue>({\n    bannerExists: false,\n    setBannerExists: () => {},\n    bannerRect: null,\n    setBannerRect: () => {},\n    overlayTitleBar: false,\n    setOverlayTitleBar: () => {},\n    renderedH1: false,\n    setRenderedH1: () => {},\n});\n\nexport function useBannerContext() {\n    const value = useContext(context);\n    useDebugValue(value);\n    return value;\n}\n\n/**\n * Pass this ref to banner's container to synchronize it's information with the context.\n */\nexport function useBannerContainerDivRef() {\n    const ref = useRef<HTMLDivElement | null>(null);\n    const measure = useMeasure(ref, true);\n    const { setBannerRect, setBannerExists } = useBannerContext();\n\n    useEffect(() => {\n        if (ref.current) {\n            // Adjust the measure for the current scroll offset.\n            setBannerRect(measure);\n            setBannerExists(true);\n        }\n    }, [ref, measure, setBannerExists, setBannerRect]);\n\n    return ref;\n}\n\nexport function BannerContextProvider(props: { children: React.ReactNode }) {\n    const [bannerExists, setBannerExists] = useState(false);\n    const [overlayTitleBar, setOverlayTitleBar] = useState(false);\n    const [bannerRect, setBannerRect] = useState<DOMRect | null>(null);\n    const [renderedH1, setRenderedH1] = useState(false);\n    usePageChangeListener(() => {\n        setBannerExists(false);\n        setBannerRect(null);\n        setOverlayTitleBar(false);\n    });\n    return (\n        <context.Provider\n            value={{\n                bannerExists,\n                setBannerExists,\n                bannerRect,\n                setBannerRect,\n                overlayTitleBar,\n                setOverlayTitleBar,\n                renderedH1,\n                setRenderedH1,\n            }}\n        >\n            {props.children}\n        </context.Provider>\n    );\n}\n\nexport function BannerContextProviderNoHistory(props: { children: React.ReactNode }) {\n    const [bannerExists, setBannerExists] = useState(false);\n    const [bannerRect, setBannerRect] = useState<DOMRect | null>(null);\n    const [overlayTitleBar, setOverlayTitleBar] = useState(false);\n    const [renderedH1, setRenderedH1] = useState(false);\n    return (\n        <context.Provider\n            value={{\n                bannerExists,\n                setBannerExists,\n                bannerRect,\n                setBannerRect,\n                overlayTitleBar,\n                setOverlayTitleBar,\n                renderedH1,\n                setRenderedH1,\n            }}\n        >\n            {props.children}\n        </context.Provider>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useMemo, useEffect, useState, useCallback } from \"react\";\nimport { LinkContextProvider } from \"@library/routing/links/LinkContextProvider\";\nimport { Router as ReactRouter, Switch, Route } from \"react-router-dom\";\nimport { formatUrl } from \"@library/utility/appUtils\";\nimport { createBrowserHistory, History } from \"history\";\nimport NotFoundPage from \"@library/routing/NotFoundPage\";\nimport { BackRoutingProvider } from \"@library/routing/links/BackRoutingProvider\";\nimport { initPageViewTracking, usePageChangeListener } from \"@library/pageViews/pageViewTracking\";\nimport { BannerContextProvider } from \"./banner/BannerContext\";\n\ninterface IProps {\n    disableDynamicRouting?: boolean;\n    sectionRoots?: string[];\n    onRouteChange?: (history: History) => void;\n}\n\nexport function Router(props: IProps) {\n    const { onRouteChange } = props;\n    const history = useMemo(() => createBrowserHistory({ basename: formatUrl(\"\") }), []);\n\n    useEffect(() => {\n        initPageViewTracking(history);\n    }, [history]);\n\n    const pageChangeHandler = useCallback(() => {\n        window.scrollTo(0, 0);\n        onRouteChange?.(history);\n    }, [history, onRouteChange]);\n\n    usePageChangeListener(pageChangeHandler);\n\n    let routes = (\n        <Switch>\n            {Router._routes}\n            <Route key=\"@not-found\" component={NotFoundPage} />\n        </Switch>\n    );\n\n    routes = (\n        <BackRoutingProvider>\n            <BannerContextProvider>{routes}</BannerContextProvider>\n        </BackRoutingProvider>\n    );\n    if (!props.disableDynamicRouting) {\n        routes = (\n            <LinkContextProvider linkContexts={(props.sectionRoots ?? [\"/\"])?.map((root) => formatUrl(root, true))}>\n                {routes}\n            </LinkContextProvider>\n        );\n    }\n\n    return <ReactRouter history={history}>{routes}</ReactRouter>;\n}\n\n/**\n * The currently registered routes.\n * @private\n */\nRouter._routes = [];\n\n/**\n * Register one or more routes to the app component.\n *\n * @param routes An array of routes to add.\n */\nRouter.addRoutes = (routes: React.ReactNode[]) => {\n    if (!Array.isArray(routes)) {\n        Router._routes.push(routes);\n    } else {\n        Router._routes.push(...routes);\n    }\n};\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { Optionalize } from \"@library/@types/utils\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\nimport throttle from \"lodash/throttle\";\nimport React, { useCallback, useContext, useEffect, useState } from \"react\";\n\n/**\n * @deprecated get Devices from LayoutContext\n */\nexport enum Devices {\n    XS = \"xs\",\n    MOBILE = \"mobile\",\n    TABLET = \"tablet\",\n    NO_BLEED = \"no_bleed\", // Not enough space for back link which goes outside the margin.\n    DESKTOP = \"desktop\",\n}\n\nexport interface IDeviceProps {\n    device: Devices;\n}\n\n/**\n * @deprecated get Devices from LayoutContext\n */\nconst DeviceContext = React.createContext<Devices>(Devices.DESKTOP);\nexport default DeviceContext;\n\n/**\n * @deprecated use LayoutContext\n */\nexport function useDevice() {\n    const device = useContext(DeviceContext);\n    return device;\n}\n\ninterface IProps {\n    children: React.ReactNode;\n}\n\n/**\n * @deprecated get Devices from LayoutContext\n */\nexport function DeviceProvider(props: IProps) {\n    const calculateDevice = useCallback(() => {\n        const breakpoints = layoutVariables().panelLayoutBreakPoints;\n        const width = document.body.clientWidth;\n        if (width <= breakpoints.xs) {\n            return Devices.XS;\n        } else if (width <= breakpoints.oneColumn) {\n            return Devices.MOBILE;\n        } else if (width <= breakpoints.twoColumn) {\n            return Devices.TABLET;\n        } else if (width <= breakpoints.noBleed) {\n            return Devices.NO_BLEED;\n        } else {\n            return Devices.DESKTOP;\n        }\n    }, []);\n    const [device, setDevice] = useState<Devices>(calculateDevice());\n\n    useEffect(() => {\n        const throttledUpdate = throttle(() => {\n            setDevice(calculateDevice);\n        }, 100);\n        window.addEventListener(\"resize\", throttledUpdate);\n        return () => {\n            window.removeEventListener(\"resize\", throttledUpdate);\n        };\n    }, [calculateDevice, setDevice]);\n\n    return <DeviceContext.Provider value={device}>{props.children}</DeviceContext.Provider>;\n}\n\n/**\n * HOC to inject DeviceContext as props.\n * @param WrappedComponent - The component to wrap\n * @deprecated get Devices from LayoutContext\n */\nexport function withDevice<T extends IDeviceProps = IDeviceProps>(WrappedComponent: React.ComponentType<T>) {\n    const displayName = WrappedComponent.displayName || WrappedComponent.name || \"Component\";\n    const ComponentWithDevice = (props: Optionalize<T, IDeviceProps>) => {\n        return (\n            <DeviceContext.Consumer>\n                {(context) => {\n                    // https://github.com/Microsoft/TypeScript/issues/28938\n                    return <WrappedComponent device={context} {...(props as any)} />;\n                }}\n            </DeviceContext.Consumer>\n        );\n    };\n    ComponentWithDevice.displayName = `withDevice(${displayName})`;\n    return ComponentWithDevice;\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { createRef, useContext, useEffect, useState } from \"react\";\nimport { logWarning } from \"@vanilla/utils\";\n\ntype FontSizeSetter = (fontSize: number | null) => void;\n\ninterface IContextParams {\n    setFontSize: FontSizeSetter;\n    fontSize: number | null;\n}\n\nexport const FontSizeCalculatorContext = React.createContext<IContextParams>({\n    setFontSize: () => {\n        logWarning(\"'setFontSize' called, but a proper provider was not configured.\");\n    },\n    fontSize: null,\n});\n\nexport interface IWithFontSize {\n    setFontSize: FontSizeSetter;\n}\n\ninterface IProps {\n    children: React.ReactNode;\n}\n\n/**\n * Provider for getting a calculated font size from an element.\n * This context is to center elements based on the font size of text,\n * so it stays centered on the first line.\n *\n * Returns the line height in pixels\n *\n * @see fontSize\n */\nexport function FontSizeCalculatorProvider(props: IProps) {\n    const { children } = props;\n    const [fontSize, setFontSize] = useState<number | null>(null);\n\n    return (\n        <FontSizeCalculatorContext.Provider\n            value={{\n                setFontSize,\n                fontSize,\n            }}\n        >\n            {children}\n        </FontSizeCalculatorContext.Provider>\n    );\n}\n\nexport function useFontSizeCalculator() {\n    return useContext(FontSizeCalculatorContext);\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport getStore from \"@library/redux/getStore\";\nimport WebFont from \"webfontloader\";\nimport { getMeta, assetUrl, siteUrl, isAllowedUrl } from \"@library/utility/appUtils\";\nimport { defaultFontFamily, globalVariables } from \"@library/styles/globalStyleVars\";\nimport { THEME_CACHE_EVENT } from \"@library/styles/themeCache\";\nimport { IThemeFont } from \"@library/theming/themeReducer\";\n\nconst defaultFontConfig: WebFont.Config = {\n    google: {\n        families: [\"Open Sans:400,400italic,600,700\"],\n    },\n};\n\nlet loaded = false;\n\ndocument.addEventListener(THEME_CACHE_EVENT, () => {\n    loaded = false;\n});\n\nconst getGoogleFontUrl = (\n    props: {\n        name: string;\n        weightNormal?: string | number;\n        weightSemiBold?: string | number;\n        weightBold?: string | number;\n    },\n    prefix?: boolean,\n) => {\n    const globalVars = globalVariables();\n    const {\n        name = defaultFontFamily,\n        weightNormal = globalVars.fonts.weights.normal,\n        weightSemiBold = globalVars.fonts.weights.semiBold,\n        weightBold = globalVars.fonts.weights.bold,\n    } = props;\n    return `${prefix ? \"https://fonts.googleapis.com/css?family=\" : \"\"}${encodeURI(\n        name,\n    )}:${weightNormal},${weightNormal}italic,${weightSemiBold},${weightBold}`;\n};\n\nconst validCustomFont = (customFont?: IThemeFont) => {\n    return customFont && customFont.url && customFont.url !== \"\" && customFont.name && customFont.name !== \"\";\n};\n\nconst makeFontConfigFromFontVar = (fonts: IThemeFont[], isMonoSpace?: boolean) => {\n    const filteredFonts = fonts.filter((font) => {\n        return validCustomFont(font);\n    });\n    const webFontConfig: WebFont.Config = {\n        custom: {\n            families: filteredFonts.map((font) => font.name),\n            urls: filteredFonts.map((font) => {\n                return assetUrl(`${font.url}?v=${getMeta(\"context.cacheBuster\")}`);\n            }),\n        },\n    };\n    return webFontConfig;\n};\n\nexport function loadThemeFonts() {\n    if (loaded) {\n        return;\n    }\n    loaded = true;\n    const state = getStore().getState();\n    const assets = state.theme.assets.data || {};\n    const { fonts = { data: [] } } = assets;\n\n    const globalVars = globalVariables();\n    const globalFontVars = globalVars.fonts;\n    const forceGoogleFont = globalFontVars.forceGoogleFont;\n    const customFont = globalFontVars.customFont;\n    const defaultFallback = globalVars.fonts.families[0];\n    const googleFontFamily = globalFontVars.googleFontFamily || defaultFallback;\n\n    if (globalVars.fonts.customFontUrl) {\n        // Legacy case, do not use globalVars.fonts.customFontUrl in the future\n        const [firstFamily, ...restFamilies] = globalVars.fonts.families.body;\n        WebFont.load(\n            makeFontConfigFromFontVar([\n                { name: firstFamily, url: globalVars.fonts.customFontUrl, fallbacks: restFamilies },\n            ]),\n        );\n    } else if (!forceGoogleFont && validCustomFont(customFont as IThemeFont)) {\n        const fontLoaderProps = [\n            customFont as IThemeFont,\n            ...[...customFont.fallbacks, defaultFontFamily].map((fontFamily) => {\n                return {\n                    name: fontFamily,\n                    url: fontFamily === defaultFontFamily ? getGoogleFontUrl({ name: defaultFallback }, true) : \"\",\n                };\n            }),\n        ].filter((font) => {\n            return font && customFont.name && customFont.name !== \"\";\n        });\n\n        const customConfig = {\n            families: fontLoaderProps.map((font) => font.name),\n            urls: fontLoaderProps.map((font) => {\n                return assetUrl(`${font.url}?v=${getMeta(\"context.cacheBuster\")}`);\n            }),\n        };\n\n        WebFont.load({\n            custom: customConfig,\n        });\n    } else if (forceGoogleFont) {\n        const webFontConfig: WebFont.Config = {\n            google: {\n                families: [getGoogleFontUrl({ name: googleFontFamily })],\n            },\n        };\n        WebFont.load(webFontConfig);\n    } else if (fonts && fonts.data && fonts.data.length > 0) {\n        const webFontConfig = makeFontConfigFromFontVar(fonts.data);\n        if (webFontConfig.custom && webFontConfig.custom.urls && webFontConfig.custom.urls.length > 0) {\n            WebFont.load(webFontConfig);\n        }\n    } else {\n        // If the theme has no font config of its own, load the default.\n        WebFont.load(defaultFontConfig);\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { IBackground } from \"@library/styles/cssUtilsTypes\";\nimport { Variables } from \"@library/styles/Variables\";\nimport { variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\n\nexport const homePageVariables = useThemeCache(() => {\n    const makeThemeVars = variableFactory(\"homePage\");\n\n    // See IBackground for options\n    const backgroundImage: IBackground = makeThemeVars(\"backgroundImage\", Variables.background({}));\n\n    return {\n        backgroundImage,\n    };\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { percent, viewHeight } from \"csx\";\nimport { cssRule, style } from \"@library/styles/styleShim\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { homePageVariables } from \"@library/layout/homePageStyles\";\nimport isEmpty from \"lodash/isEmpty\";\nimport { CSSObject } from \"@emotion/css\";\nimport { Mixins } from \"@library/styles/Mixins\";\n\nexport const bodyCSS = useThemeCache(() => {\n    const globalVars = globalVariables();\n\n    cssRule(\"html\", {\n        msOverflowStyle: \"-ms-autohiding-scrollbar\",\n    });\n\n    const htmlBodyMixin: CSSObject = {\n        background: ColorsUtils.colorOut(globalVars.body.backgroundImage.color),\n        ...Mixins.font({\n            size: globalVars.fonts.size.medium,\n            family: globalVars.fonts.families.body,\n            color: globalVars.mainColors.fg,\n        }),\n        wordBreak: \"break-word\",\n    };\n\n    const bodyClass = style({ ...htmlBodyMixin, label: \"vanillaBodyReset\" });\n    document.body.classList.add(bodyClass);\n\n    cssRule(\"*\", {\n        // For Mobile Safari -> https://developer.mozilla.org/en-US/docs/Web/CSS/overscroll-behavior\n        WebkitOverflowScrolling: \"touch\",\n    });\n\n    cssRule(\"h1, h2, h3, h4, h5, h6\", {\n        display: \"block\",\n        lineHeight: globalVars.lineHeights.condensed,\n        ...Mixins.margin({\n            all: 0,\n        }),\n        ...Mixins.padding({\n            all: 0,\n        }),\n    });\n\n    cssRule(\"p\", {\n        ...Mixins.margin({\n            all: 0,\n        }),\n        ...Mixins.padding({\n            all: 0,\n        }),\n    });\n\n    cssRule(\".page\", {\n        display: \"flex\",\n        overflow: \"visible\",\n        flexDirection: \"column\",\n        width: percent(100),\n        minHeight: viewHeight(100),\n        position: \"relative\",\n        zIndex: 0,\n    });\n\n    cssRule(\"button\", {\n        WebkitAppearance: \"none\",\n        MozAppearance: \"none\",\n    });\n\n    cssRule(\".page-minHeight\", {\n        flexGrow: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n    });\n\n    cssRule(`input[type=\"number\"]`, {\n        WebkitAppearance: \"none\",\n        MozAppearance: \"textfield\",\n        ...{\n            [`&::-webkit-inner-spin-button`]: {\n                WebkitAppearance: \"none\",\n                margin: 0,\n            },\n            [`&::-webkit-outer-spin-button`]: {\n                WebkitAppearance: \"none\",\n                margin: 0,\n            },\n        },\n    });\n\n    cssRule(\n        `input::-webkit-search-decoration,\n        input::-webkit-search-cancel-button,\n        input::-webkit-search-results-button,\n        input::-webkit-search-results-decoration,\n        input::-ms-clear`,\n        {\n            display: \"none\",\n        },\n    );\n});\n\nexport const fullBackgroundClasses = useThemeCache((isRootPage = false) => {\n    const globalVars = globalVariables();\n    const style = styleFactory(\"fullBackground\");\n    const image = globalVars.body.backgroundImage;\n    const homePageVars = homePageVariables();\n    const source = isRootPage && !isEmpty(homePageVars.backgroundImage) ? homePageVariables() : globalVars.body;\n\n    const root = style(\n        {\n            display: !image ? \"none\" : \"block\",\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            width: percent(100),\n            height: viewHeight(100),\n            zIndex: -1,\n        },\n        Mixins.background(source.backgroundImage),\n    );\n\n    return { root };\n});\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { ReactNode, useContext, useEffect, useState } from \"react\";\nimport { fullBackgroundClasses, bodyCSS } from \"@library/layout/bodyStyles\";\nimport { useHistory } from \"react-router\";\n\ninterface IProps {\n    isHomePage?: boolean;\n}\n\n/**\n * Creates a drop down menu\n */\nexport const Backgrounds = () => {\n    bodyCSS(); // set styles on body tag\n    const backgroundInfo = useBackgroundContext();\n    const classes = fullBackgroundClasses(backgroundInfo.isHomePage);\n    return <div className={classes.root} />;\n};\n\nconst BackgroundContext = React.createContext<{ setIsHomePage: (value: boolean) => void; isHomePage: boolean }>({\n    isHomePage: false,\n    setIsHomePage: () => {},\n});\n\nexport const useBackgroundContext = () => {\n    return useContext(BackgroundContext);\n};\n\nexport const BackgroundsProvider = (props: { children: ReactNode }) => {\n    const [isHomePage, setIsHomePage] = useState<boolean>(false);\n    const history = useHistory();\n    useEffect(() => {\n        const unregister = history.listen(() => {\n            setIsHomePage(false);\n        });\n        return unregister;\n    }, [history]);\n    return (\n        <BackgroundContext.Provider\n            value={{\n                isHomePage,\n                setIsHomePage,\n            }}\n        >\n            {props.children}\n        </BackgroundContext.Provider>\n    );\n};\n\nconst COMPAT_BG_ID = \"vanillaCompatBodyBg\";\n\nexport function fullBackgroundCompat(isHomePage = false) {\n    if (!document.getElementById(COMPAT_BG_ID)) {\n        bodyCSS(); // set styles on body tag\n\n        // Make a backwards compatible body background (absolute positioned).\n        const classes = fullBackgroundClasses(!!isHomePage);\n        const fullBodyBackground = document.createElement(\"div\");\n        fullBodyBackground.id = COMPAT_BG_ID;\n        fullBodyBackground.classList.add(classes.root);\n        const frameBody = document.querySelector(\".Frame-body\");\n        if (frameBody) {\n            frameBody.prepend(fullBodyBackground);\n        }\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { LoadStatus } from \"@library/@types/api/core\";\nimport { inputClasses } from \"@library/forms/inputStyles\";\nimport { useScrollOffset } from \"@library/layout/ScrollOffsetContext\";\nimport Loader from \"@library/loaders/Loader\";\nimport { ICoreStoreState } from \"@library/redux/reducerRegistry\";\nimport { useReduxActions } from \"@library/redux/ReduxActions\";\nimport ThemeActions from \"@library/theming/ThemeActions\";\nimport { prepareShadowRoot } from \"@vanilla/dom-utils\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { loadThemeFonts } from \"./loadThemeFonts\";\nimport { Backgrounds, BackgroundsProvider } from \"@library/layout/Backgrounds\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { useThemeCacheID } from \"@library/styles/themeCache\";\n\ninterface IProps {\n    children: React.ReactNode;\n    themeKey: string;\n    errorComponent: React.ReactNode;\n    variablesOnly?: boolean;\n    disabled?: boolean;\n    revisionID?: number;\n}\n\nlet hasMounted = false;\n\nexport const ThemeProvider: React.FC<IProps> = (props: IProps) => {\n    const { themeKey, disabled, variablesOnly, revisionID } = props;\n    const { getAssets } = useReduxActions(ThemeActions);\n    const { assets } = useSelector((state: ICoreStoreState) => state.theme);\n    const { setTopOffset } = useScrollOffset();\n    const { cacheID } = useThemeCacheID();\n\n    const [ownThemeKey, setThemeKey] = useState({});\n    // Trigger a state re-render when the theme key changes\n    useEffect(() => {\n        setThemeKey(themeKey);\n    }, [themeKey, setThemeKey]);\n\n    useEffect(() => {\n        if (disabled) {\n            return;\n        }\n\n        if (assets.status === LoadStatus.PENDING) {\n            void getAssets(themeKey, revisionID);\n            return;\n        }\n\n        if (assets.data && !hasMounted) {\n            hasMounted = true;\n            let themeHeader = document.getElementById(\"themeHeader\");\n            const themeFooter = document.getElementById(\"themeFooter\");\n\n            if (themeHeader) {\n                themeHeader = prepareShadowRoot(themeHeader, true);\n\n                // Apply the theme's header height to offset our panel layouts.\n                setTopOffset(themeHeader.getBoundingClientRect().height);\n            }\n\n            if (themeFooter) {\n                prepareShadowRoot(themeFooter, true);\n            }\n\n            loadThemeFonts();\n\n            if (variablesOnly) {\n                return;\n            }\n        }\n    }, [assets, disabled, setTopOffset, variablesOnly, getAssets, themeKey, cacheID]);\n\n    if (props.disabled || props.variablesOnly) {\n        return <>{props.children}</>;\n    }\n\n    if ([LoadStatus.PENDING, LoadStatus.LOADING].includes(assets.status)) {\n        return (\n            <>\n                <Backgrounds />\n                {!variablesOnly && <Loader />}\n            </>\n        );\n    }\n\n    if (assets.status === LoadStatus.ERROR) {\n        return (\n            <>\n                <Backgrounds />\n                {props.errorComponent}\n            </>\n        );\n    }\n\n    if (!assets.data) {\n        return null;\n    }\n\n    // Apply kludged input text styling everywhere.\n    inputClasses().applyInputCSSRules();\n\n    return (\n        <>\n            <BrowserRouter>\n                <BackgroundsProvider>\n                    <Backgrounds />\n                    {props.children}\n                </BackgroundsProvider>\n            </BrowserRouter>\n        </>\n    );\n};\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useContext } from \"react\";\nimport { Optionalize } from \"@library/@types/utils\";\nimport { ISearchOptionData } from \"@library/features/search/SearchOption\";\nimport { IComboBoxOption } from \"@library/features/search/SearchBar\";\nimport { formatUrl } from \"@library/utility/appUtils\";\n\nconst defaultOptionProvider: ISearchOptionProvider = {\n    supportsAutoComplete: false,\n    autocomplete: () => Promise.resolve([]),\n    makeSearchUrl: (query) => formatUrl(`/search?search=${query}`),\n};\n\nconst SearchContext = React.createContext<IWithSearchProps>({\n    searchOptionProvider: defaultOptionProvider,\n});\nexport default SearchContext;\n\nexport function SearchContextProvider({ children }) {\n    return (\n        <SearchContext.Provider value={{ searchOptionProvider: SearchContextProvider.optionProvider }}>\n            {children}\n        </SearchContext.Provider>\n    );\n}\n\nSearchContextProvider.optionProvider = defaultOptionProvider as ISearchOptionProvider;\nSearchContextProvider.setOptionProvider = (provider: ISearchOptionProvider) => {\n    SearchContextProvider.optionProvider = provider;\n};\n\nexport interface ISearchOptionProvider {\n    supportsAutoComplete?: boolean;\n    autocomplete(query: string, options?: { [key: string]: any }): Promise<Array<IComboBoxOption<ISearchOptionData>>>;\n    makeSearchUrl(query: string): string;\n}\n\nexport interface IWithSearchProps {\n    searchOptionProvider: ISearchOptionProvider;\n}\n\nexport function useSearch() {\n    return useContext(SearchContext);\n}\n\n/**\n * HOC to inject API context\n *\n * @param WrappedComponent - The component to wrap\n */\nexport function withSearch<T extends IWithSearchProps = IWithSearchProps>(WrappedComponent: React.ComponentType<T>) {\n    const displayName = WrappedComponent.displayName || WrappedComponent.name || \"Component\";\n    class ComponentWithDevice extends React.Component<Optionalize<T, IWithSearchProps>> {\n        public static displayName = `withSearch(${displayName})`;\n        public render() {\n            return (\n                <SearchContext.Consumer>\n                    {(context) => {\n                        // https://github.com/Microsoft/TypeScript/issues/28938\n                        return <WrappedComponent {...context} {...(this.props as T)} />;\n                    }}\n                </SearchContext.Consumer>\n            );\n        }\n    }\n    return ComponentWithDevice;\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { Optionalize } from \"@library/@types/utils\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\nimport throttle from \"lodash/throttle\";\nimport React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport { titleBarVariables } from \"@library/headers/TitleBar.variables\";\n\nexport enum TitleBarDevices {\n    COMPACT = \"compact\",\n    FULL = \"full\",\n}\n\nexport interface ITitleBarDeviceProps {\n    device: TitleBarDevices;\n}\n\nconst TitleBarDeviceContext = React.createContext<TitleBarDevices>(TitleBarDevices.FULL);\nexport default TitleBarDeviceContext;\n\nexport function useTitleBarDevice() {\n    const device = useContext(TitleBarDeviceContext);\n    return device;\n}\n\ninterface IProps {\n    children: React.ReactNode;\n}\n\nexport function TitleBarDeviceProvider(props: IProps) {\n    const calculateDevice = useCallback(() => {\n        // const breakpoints = layoutVariables().panelLayoutBreakPoints;\n        const breakpoints = titleBarVariables().breakpoints;\n        const width = document.body.clientWidth;\n        if (width <= breakpoints.compact) {\n            return TitleBarDevices.COMPACT;\n        } else {\n            return TitleBarDevices.FULL;\n        }\n    }, []);\n    const [device, setDevice] = useState<TitleBarDevices>(calculateDevice());\n\n    useEffect(() => {\n        const throttledUpdate = throttle(() => {\n            setDevice(calculateDevice);\n        }, 100);\n        window.addEventListener(\"resize\", throttledUpdate);\n        return () => {\n            window.removeEventListener(\"resize\", throttledUpdate);\n        };\n    }, [calculateDevice, setDevice]);\n\n    return <TitleBarDeviceContext.Provider value={device}>{props.children}</TitleBarDeviceContext.Provider>;\n}\n\n/**\n * HOC to inject DeviceContext as props.\n *\n * @param WrappedComponent - The component to wrap\n */\nexport function withTitleBarDevice<T extends ITitleBarDeviceProps = ITitleBarDeviceProps>(\n    WrappedComponent: React.ComponentType<T>,\n) {\n    const displayName = WrappedComponent.displayName || WrappedComponent.name || \"Component\";\n    const ComponentWithDevice = (props: Optionalize<T, ITitleBarDeviceProps>) => {\n        return (\n            <TitleBarDeviceContext.Consumer>\n                {(context) => {\n                    // https://github.com/Microsoft/TypeScript/issues/28938\n                    return <WrappedComponent device={context} {...(props as any)} />;\n                }}\n            </TitleBarDeviceContext.Consumer>\n        );\n    };\n    ComponentWithDevice.displayName = `useTitleBarDevice(${displayName})`;\n    return ComponentWithDevice;\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\nimport { percent } from \"csx\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { CSSObject } from \"@emotion/css\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { ISpacing } from \"@library/styles/cssUtilsTypes\";\n\nexport const containerVariables = useThemeCache(() => {\n    const vars = layoutVariables();\n    const globalVars = globalVariables();\n    const makeThemeVars = variableFactory(\"containerVariables\");\n\n    let spacing = makeThemeVars(\"spacing\", {\n        padding: globalVars.constants.fullGutter / 2,\n        mobile: {\n            padding: globalVars.widget.padding,\n        },\n    });\n\n    const sizing = makeThemeVars(\"sizes\", {\n        full: vars.contentWidth,\n        narrowContentSize: vars.contentSizes.narrow,\n    });\n\n    const colors = makeThemeVars(\"colors\", {\n        bg: globalVars.mainColors.bg,\n    });\n\n    return {\n        sizing,\n        colors,\n        spacing,\n    };\n});\n\nexport const containerMainStyles = (): CSSObject => {\n    const vars = containerVariables();\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        position: \"relative\",\n        boxSizing: \"border-box\",\n        width: percent(100),\n        maxWidth: styleUnit(vars.sizing.full + vars.spacing.padding * 2),\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        ...Mixins.padding({\n            horizontal: vars.spacing.padding,\n        }),\n        \"&.isNarrow\": {\n            maxWidth: vars.sizing.narrowContentSize,\n        },\n    };\n};\n\nexport function containerMainMediaQueries() {\n    const mediaQueries = layoutVariables().mediaQueries();\n    const vars = containerVariables();\n    return mediaQueries.oneColumnDown({\n        ...Mixins.padding({\n            horizontal: vars.spacing.mobile.padding,\n        }),\n    });\n}\n\nexport const containerClasses = useThemeCache((options?: { desktopSpacing?: ISpacing; maxWidth?: number }) => {\n    const style = styleFactory(\"container\");\n    const mediaQueries = layoutVariables().mediaQueries();\n    const vars = containerVariables();\n    const root = style(containerMainStyles(), containerMainMediaQueries());\n\n    const fullGutter = style(\n        \"fullGutter\",\n        {\n            ...containerMainStyles(),\n            ...Mixins.padding({\n                horizontal: vars.spacing.padding * 2,\n            }),\n            ...(options?.maxWidth ? { maxWidth: options.maxWidth } : {}),\n        },\n        options?.desktopSpacing && Mixins.padding(options.desktopSpacing),\n        mediaQueries.oneColumnDown({\n            ...Mixins.padding({\n                horizontal: vars.spacing.mobile.padding * 2,\n            }),\n        }),\n    );\n\n    return { root, fullGutter };\n});\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { containerClasses } from \"@library/layout/components/containerStyles\";\nimport classNames from \"classnames\";\nimport { ISpacing } from \"@library/styles/cssUtilsTypes\";\n\nexport interface IContainer {\n    className?: string;\n    children?: React.ReactNode;\n    tag?: keyof JSX.IntrinsicElements;\n    fullGutter?: boolean; // Use when a component wants a full mobile/desktop gutter.\n    // Useful for components that don't provide their own padding.\n    narrow?: boolean;\n    style?: object;\n    maxWidth?: number;\n    gutterSpacing?: ISpacing;\n}\n\n/*\n * Implements \"Container\" component used to set max width of content of page.\n */\nexport const Container = React.forwardRef(function Container(props: IContainer, ref: React.Ref<HTMLElement>) {\n    const { tag, children, className, fullGutter = false, narrow = false, style = {}, maxWidth, gutterSpacing } = props;\n\n    if (children) {\n        const classes = containerClasses({ maxWidth, desktopSpacing: gutterSpacing });\n        const Tag = tag || \"div\";\n        return (\n            <Tag\n                ref={ref}\n                style={style}\n                className={classNames(classes.root, className, {\n                    [classes.fullGutter]: fullGutter,\n                    isNarrow: narrow,\n                })}\n            >\n                {children}\n            </Tag>\n        );\n    } else {\n        return null;\n    }\n});\n\nexport default Container;\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport classNames from \"classnames\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport { getButtonStyleFromBaseClass } from \"@library/forms/Button\";\nimport SmartLink from \"@library/routing/links/SmartLink\";\nimport { IOptionalComponentID } from \"@library/utility/idUtils\";\nimport { LinkProps } from \"react-router-dom\";\nimport ConditionalWrap from \"@library/layout/ConditionalWrap\";\nimport { buttonLabelWrapClass } from \"@library/forms/buttonStyles\";\n\ninterface IProps extends IOptionalComponentID, LinkProps {\n    children: React.ReactNode;\n    className?: string;\n    to: string;\n    title?: string;\n    ariaLabel?: string;\n    baseClass?: ButtonTypes;\n    tabIndex?: number;\n    addWrap?: boolean; // Adds wrapper class to help with overflowing text\n}\n\n/**\n * A Link component that looks like a Button component.\n */\nexport default class LinkAsButton extends React.Component<IProps> {\n    public static defaultProps: Partial<IProps> = {\n        tabIndex: 0,\n    };\n\n    public render() {\n        const {\n            baseClass,\n            className,\n            title,\n            ariaLabel,\n            to,\n            children,\n            tabIndex,\n            addWrap = false,\n            ...restProps\n        } = this.props;\n        const componentClasses = classNames(getButtonStyleFromBaseClass(baseClass || ButtonTypes.STANDARD), className);\n        const fallbackTitle = typeof children === \"string\" ? children : undefined;\n        return (\n            <SmartLink\n                className={componentClasses}\n                title={title ?? fallbackTitle}\n                aria-label={ariaLabel || title || fallbackTitle}\n                tabIndex={tabIndex}\n                role={\"button\"}\n                to={to}\n                {...restProps}\n            >\n                <ConditionalWrap className={buttonLabelWrapClass().root} condition={addWrap}>\n                    {children}\n                </ConditionalWrap>\n            </SmartLink>\n        );\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { Mixins } from \"@library/styles/Mixins\";\n\nexport const pageErrorMessageClasses = () => {\n    const style = styleFactory(\"pageErrorMessage\");\n    const globalVars = globalVariables();\n\n    const root = style({\n        justifyContent: \"center\",\n    });\n\n    const title = style(\"title\", {\n        fontSize: styleUnit(globalVars.fonts.size.title),\n        lineHeight: globalVars.lineHeights.condensed,\n        fontWeight: globalVars.fonts.weights.semiBold,\n        textAlign: \"center\",\n    });\n\n    const description = style(\"description\", {\n        textAlign: \"center\",\n        fontSize: styleUnit(globalVars.fonts.size.large),\n        marginTop: styleUnit(12),\n    });\n\n    const cta = style(\"cta\", {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        ...Mixins.margin({\n            top: styleUnit(21),\n            horizontal: \"auto\",\n        }),\n    });\n\n    const titleAsParagraph = style(\"titleAsParagraph\", {\n        fontSize: globalVars.fonts.size.large,\n    });\n\n    const errorIcon = style(\"icon\", {\n        ...{\n            \"&&\": {\n                display: \"block\",\n                color: ColorsUtils.colorOut(globalVars.mainColors.primary),\n                height: styleUnit(85),\n                width: styleUnit(85),\n                ...Mixins.margin({\n                    bottom: 12,\n                    horizontal: \"auto\",\n                }),\n            },\n        },\n    });\n\n    return {\n        root,\n        title,\n        description,\n        cta,\n        titleAsParagraph,\n        errorIcon,\n    };\n};\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license Proprietary\n */\n\nimport { LoadStatus } from \"@library/@types/api/core\";\nimport { isUserGuest, useUsersState } from \"@library/features/users/userModel\";\nimport { buttonClasses } from \"@library/forms/buttonStyles\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport { SearchErrorIcon } from \"@library/icons/common\";\nimport Heading from \"@library/layout/Heading\";\nimport Paragraph from \"@library/layout/Paragraph\";\nimport LinkAsButton from \"@library/routing/LinkAsButton\";\nimport { formatUrl, t } from \"@library/utility/appUtils\";\nimport classNames from \"classnames\";\nimport React, { ReactNode } from \"react\";\nimport { pageErrorMessageClasses } from \"@library/errorPages/pageErrorMessageStyles\";\nimport { DetailedErrors } from \"@library/errorPages/DetailedErrorMessages\";\nimport { debug } from \"@vanilla/utils\";\n\nexport function CoreErrorMessages(props: IProps) {\n    const classes = pageErrorMessageClasses();\n    const error = {\n        ...parseErrorCode(getErrorCode(props)),\n        ...(props.error || {}),\n    };\n    const { message, messageAsParagraph, description } = error;\n    return (\n        <main className={classNames(props.className, classes.root)}>\n            {error.icon}\n            {!messageAsParagraph && <Heading depth={1} className={classes.title} title={message} />}\n            {messageAsParagraph && <Paragraph className={classes.titleAsParagraph}>{message}</Paragraph>}\n            {error.description && <Paragraph className={classes.description}>{description}</Paragraph>}\n            {debug() && <DetailedErrors detailedErrors={error?.response?.data?.errors} />}\n            {error.actionItem && <div className={classes.cta}>{error.actionItem}</div>}\n        </main>\n    );\n}\n\nexport function parseErrorCode(errorCode?: string | number): IError {\n    const classes = pageErrorMessageClasses();\n    const buttons = buttonClasses();\n    const message = messageFromErrorCode(errorCode);\n\n    switch (errorCode) {\n        case 403:\n        case DefaultError.PERMISSION: {\n            return {\n                message,\n                description: t(\"You don't have permission to view this resource.\"),\n                actionItem: <ErrorSignIn />,\n                icon: <SearchErrorIcon message={message} className={classes.errorIcon} />,\n            };\n        }\n        case 404:\n        case DefaultError.NOT_FOUND: {\n            return {\n                message,\n                description: t(\"The page you were looking for could not be found.\"),\n                actionItem: (\n                    <LinkAsButton baseClass={ButtonTypes.PRIMARY} to={\"/\"}>\n                        {t(\"Back to home page\")}\n                    </LinkAsButton>\n                ),\n                icon: <SearchErrorIcon message={message} className={classes.errorIcon} />,\n            };\n        }\n        case DefaultError.GENERIC:\n        default: {\n            return {\n                message,\n                description: t(\"Please try again later.\"),\n                actionItem: (\n                    <LinkAsButton className={buttons.primary} to={\"/\"}>\n                        {t(\"Back to Home\")}\n                    </LinkAsButton>\n                ),\n                icon: <SearchErrorIcon message={message} className={classes.errorIcon} />,\n            };\n        }\n    }\n}\n\nfunction ErrorSignIn() {\n    const { currentUser } = useUsersState();\n    if (currentUser.status === LoadStatus.SUCCESS && currentUser.data && isUserGuest(currentUser.data)) {\n        return (\n            <LinkAsButton to={`/entry/signin?Target=${encodeURIComponent(window.location.href)}`}>\n                {t(\"Sign In\")}\n            </LinkAsButton>\n        );\n    } else {\n        return null;\n    }\n}\n\nexport function messageFromErrorCode(errorCode?: string | number) {\n    switch (errorCode) {\n        case 403:\n        case DefaultError.PERMISSION:\n            return t(\"Permission Problem\");\n        case 404:\n        case DefaultError.GENERIC:\n        default:\n            return t(\"There was an error\");\n    }\n}\n\nexport function getErrorCode(errorMessageProps: IErrorMessageProps) {\n    if (errorMessageProps.apiError) {\n        return errorMessageProps.apiError.response.status;\n    } else if (errorMessageProps.error && errorMessageProps.error.status) {\n        return errorMessageProps.error.status;\n    } else if (errorMessageProps.defaultError) {\n        return errorMessageProps.defaultError;\n    } else {\n        return errorMessageProps.defaultError;\n    }\n}\n\nexport interface IAPIErrorFragment {\n    response: {\n        status: number;\n    };\n}\n\nexport interface IErrorMessageProps {\n    defaultError?: string;\n    error?: Partial<IError>;\n    apiError?: IAPIErrorFragment;\n}\n\nexport interface IError {\n    status?: number;\n    message: string;\n    messageAsParagraph?: boolean;\n    description?: ReactNode;\n    actionItem?: ReactNode;\n    icon?: ReactNode;\n    response?: any;\n}\n\nexport enum DefaultError {\n    GENERIC = \"generic\",\n    PERMISSION = \"permission\",\n    NOT_FOUND = \"notfound\",\n}\n\ninterface IProps extends IErrorMessageProps {\n    className?: string;\n}\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\n\nimport React from \"react\";\nimport { debug } from \"@vanilla/utils\";\nimport ErrorMessages from \"@library/forms/ErrorMessages\";\nimport { userContentClasses } from \"@library/content/userContentStyles\";\n\ninterface IDetailedError {\n    code: string;\n    field: string;\n    index: number;\n    message: string;\n    status: number;\n}\n\ntype IDetailedErrors = Record<string, IDetailedError[]>;\n\nexport function DetailedErrors(props: { detailedErrors?: IDetailedErrors }) {\n    const { detailedErrors } = props;\n    if (!detailedErrors || Object.keys(props).length === 0) {\n        return <></>;\n    }\n    return (\n        <div className={userContentClasses().root}>\n            <h3>Debug Errors</h3>\n            {Object.entries(detailedErrors).map(([fieldName, errors], i) => {\n                return (\n                    <label key={i}>\n                        <strong>{fieldName}</strong>\n                        <ErrorMessages errors={errors} />\n                    </label>\n                );\n            })}\n        </div>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { CSSObject } from \"@emotion/css\";\n\nexport enum twoColumnLayoutDevices {\n    XS = \"xs\",\n    MOBILE = \"mobile\",\n    DESKTOP = \"desktop\",\n    NO_BLEED = \"no_bleed\", // Not enough space for back link which goes outside the margin.\n}\n\nexport interface ITwoColumnLayoutMediaQueryStyles {\n    noBleed?: CSSObject;\n    noBleedDown?: CSSObject;\n    oneColumn?: CSSObject;\n    oneColumnDown?: CSSObject;\n    aboveOneColumn?: CSSObject;\n    xs?: CSSObject;\n}\n\nexport interface ITwoColumnLayoutMediaQueries {\n    noBleed: (styles: CSSObject) => CSSObject;\n    oneColumn: (styles: CSSObject) => CSSObject;\n    oneColumnDown: (styles: CSSObject) => CSSObject;\n    aboveOneColumn: (styles: CSSObject) => CSSObject;\n    noBleedDown: (styles: CSSObject) => CSSObject;\n    xs: (styles: CSSObject) => CSSObject;\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { CSSObject } from \"@emotion/css\";\nimport { media } from \"@library/styles/styleShim\";\nimport { variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { generatePanelLayoutClasses, layoutVariables } from \"../panelLayoutStyles\";\nimport { LayoutTypes } from \"@library/layout/types/interface.layoutTypes\";\nimport { ITwoColumnLayoutMediaQueries, twoColumnLayoutDevices } from \"@library/layout/types/interface.twoColumns\";\nimport { IPanelLayoutVariables } from \"@library/layout/types/interface.panelLayout\";\nimport { mediaQueryFactory } from \"@library/layout/types/mediaQueryFactory\";\n\nexport const twoColumnLayoutVariables = useThemeCache(\n    (): IPanelLayoutVariables => {\n        const layoutVars = layoutVariables();\n        const Devices = twoColumnLayoutDevices;\n        const { fullGutter } = layoutVars.foundationalWidths;\n\n        const makeThemeVars = variableFactory(\"twoColumnLayout\");\n\n        // Important variables that will be used to calculate other variables\n        const foundationalWidths = makeThemeVars(\"foundationalWidths\", {\n            fullGutter,\n            minimalMiddleColumnWidth: 600,\n            panelWidth: 343,\n            breakPoints: {\n                xs: layoutVars.foundationalWidths.breakPoints.xs,\n            }, // Other break point are calculated\n        });\n\n        const gutter = makeThemeVars(\"gutter\", {\n            full: foundationalWidths.fullGutter, // 40\n            size: foundationalWidths.fullGutter / 2, // 20\n            halfSize: foundationalWidths.fullGutter / 4, // 10\n            quarterSize: foundationalWidths.fullGutter / 8, // 5\n        });\n\n        const panelInit = makeThemeVars(\"panel\", {\n            width: foundationalWidths.panelWidth,\n        });\n\n        const panel = makeThemeVars(\"panel\", {\n            ...panelInit,\n            paddedWidth: panelInit.width + layoutVars.gutter.full,\n        });\n\n        const middleColumnInit = makeThemeVars(\"mainColumn\", {\n            width: layoutVars.contentWidth - panel.paddedWidth - layoutVars.gutter.full,\n        });\n\n        const middleColumn = makeThemeVars(\"mainColumn\", {\n            ...middleColumnInit,\n            paddedWidth: middleColumnInit.width + layoutVars.gutter.full,\n        });\n\n        const breakPoints = makeThemeVars(\"breakPoints\", {\n            noBleed: layoutVars.contentWidth,\n            oneColumn: foundationalWidths.minimalMiddleColumnWidth + panel.paddedWidth,\n            xs: foundationalWidths.breakPoints.xs,\n        });\n\n        const contentWidth = middleColumn.paddedWidth + panel.paddedWidth * 2;\n\n        const mediaQueries = (): ITwoColumnLayoutMediaQueries => {\n            const noBleed = (styles: CSSObject, useMinWidth: boolean = true) => {\n                return media(\n                    {\n                        maxWidth: breakPoints.noBleed,\n                        minWidth: useMinWidth ? breakPoints.oneColumn + 1 : undefined,\n                    },\n                    styles,\n                );\n            };\n\n            const noBleedDown = (styles: CSSObject) => {\n                return media(\n                    {\n                        maxWidth: breakPoints.noBleed,\n                    },\n                    styles,\n                );\n            };\n\n            const oneColumn = (styles: CSSObject, useMinWidth: boolean = true) => {\n                return media(\n                    {\n                        maxWidth: breakPoints.oneColumn,\n                        minWidth: useMinWidth ? breakPoints.xs + 1 : undefined,\n                    },\n                    styles,\n                );\n            };\n\n            const oneColumnDown = (styles: CSSObject) => {\n                return media(\n                    {\n                        maxWidth: breakPoints.oneColumn,\n                    },\n                    styles,\n                );\n            };\n\n            const aboveOneColumn = (styles: CSSObject) => {\n                return media(\n                    {\n                        minWidth: breakPoints.oneColumn + 1,\n                    },\n                    styles,\n                );\n            };\n\n            const xs = (styles: CSSObject) => {\n                return media(\n                    {\n                        maxWidth: breakPoints.xs,\n                    },\n                    styles,\n                );\n            };\n\n            return {\n                noBleed,\n                noBleedDown,\n                oneColumn,\n                oneColumnDown,\n                aboveOneColumn,\n                xs,\n            };\n        };\n\n        const calculateDevice = (): string => {\n            const width = document.body.clientWidth;\n            if (width <= breakPoints.xs) {\n                return Devices.XS.toString();\n            } else if (width <= breakPoints.oneColumn) {\n                return Devices.MOBILE.toString();\n            } else if (width <= breakPoints.noBleed) {\n                return Devices.NO_BLEED.toString();\n            } else {\n                return Devices.DESKTOP.toString();\n            }\n        };\n\n        const isFullWidth = (currentDevice) => {\n            return currentDevice === Devices.DESKTOP || currentDevice === Devices.NO_BLEED;\n        };\n\n        const isCompact = (currentDevice) => {\n            return currentDevice === Devices.XS || currentDevice === Devices.MOBILE;\n        };\n\n        const panelLayoutSpacing = makeThemeVars(\"panelLayoutSpacing\", layoutVars.panelLayoutSpacing);\n\n        return {\n            type: LayoutTypes.TWO_COLUMNS.toString(),\n            Devices,\n            foundationalWidths,\n            panel,\n            middleColumn,\n            gutter,\n            panelLayoutSpacing,\n            contentWidth,\n            breakPoints,\n            mediaQueries,\n            calculateDevice,\n            isFullWidth,\n            isCompact,\n        };\n    },\n);\n\nexport const twoColumnLayoutClasses = () => {\n    return generatePanelLayoutClasses({\n        vars: twoColumnLayoutVariables(),\n        name: \"twoColumnLayout\",\n        mediaQueries: mediaQueryFactory(twoColumnLayoutVariables().mediaQueries, LayoutTypes.TWO_COLUMNS),\n    });\n};\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { generatePanelLayoutClasses, layoutVariables } from \"../panelLayoutStyles\";\nimport { LayoutTypes } from \"@library/layout/types/interface.layoutTypes\";\nimport { fallbackLayoutVariables, IPanelLayoutVariables } from \"@library/layout/types/interface.panelLayout\";\nimport { mediaQueryFactory } from \"@library/layout/types/mediaQueryFactory\";\n\ninterface IProps extends IPanelLayoutVariables {\n    contentSizes: object;\n}\n\nexport const threeColumnLayoutVariables = useThemeCache(\n    (): IProps => {\n        const layoutVars = layoutVariables();\n        const Devices = fallbackLayoutVariables;\n\n        const makeThemeVars = variableFactory(\"threeColumnLayout\");\n\n        const colors = makeThemeVars(\"colors\", {\n            ...layoutVars.colors,\n        });\n        const contentSizes = makeThemeVars(\"contentSizes\", {\n            ...layoutVars.contentSizes,\n        });\n        const gutter = makeThemeVars(\"gutter\", {\n            ...layoutVars.gutter,\n        });\n\n        const panelLayoutSpacing = makeThemeVars(\"panelLayoutSpacing\", {\n            ...layoutVars.panelLayoutSpacing,\n        });\n\n        const rightPanelCondition = (currentDevice, shouldRenderLeftPanel: boolean) => {\n            return currentDevice === Devices.TABLET && !shouldRenderLeftPanel;\n        };\n\n        const foundationalWidths = makeThemeVars(\"foundationalWidths\", {\n            ...layoutVars.foundationalWidths,\n        });\n\n        const panelInit = makeThemeVars(\"panel\", {\n            width: foundationalWidths.panelWidth,\n        });\n\n        const panel = makeThemeVars(\"panel\", {\n            ...panelInit,\n            paddedWidth: panelInit.width + layoutVars.gutter.full,\n        });\n\n        const middleColumnInit = makeThemeVars(\"middleColumn\", {\n            width: layoutVars.middleColumn.width,\n        });\n\n        const middleColumn = makeThemeVars(\"middleColumn\", {\n            ...middleColumnInit,\n            paddedWidth: middleColumnInit.width + layoutVars.gutter.full,\n        });\n\n        const contentWidth = middleColumn.paddedWidth + panel.paddedWidth * 2;\n\n        const breakPoints = makeThemeVars(\"breakPoints\", {\n            noBleed: contentWidth,\n            twoColumns: foundationalWidths.breakPoints.twoColumns,\n            oneColumn: foundationalWidths.minimalMiddleColumnWidth + panel.paddedWidth,\n            xs: foundationalWidths.breakPoints.xs,\n        });\n\n        const mediaQueries = layoutVars.mediaQueries;\n\n        const calculateDevice = () => {\n            const width = document.body.clientWidth;\n            if (width <= breakPoints.xs) {\n                return Devices.XS.toString();\n            } else if (width <= breakPoints.oneColumn) {\n                return Devices.MOBILE.toString();\n            } else if (width <= breakPoints.twoColumns) {\n                return Devices.TABLET.toString();\n            } else if (width <= breakPoints.noBleed) {\n                return Devices.NO_BLEED.toString();\n            } else {\n                return Devices.DESKTOP.toString();\n            }\n        };\n\n        const isFullWidth = (currentDevice) => {\n            return currentDevice === Devices.DESKTOP || currentDevice === Devices.NO_BLEED;\n        };\n\n        const isCompact = (currentDevice) => {\n            return currentDevice === Devices.XS || currentDevice === Devices.MOBILE;\n        };\n\n        return {\n            colors,\n            contentSizes,\n            gutter,\n            panelLayoutSpacing,\n            type: LayoutTypes.THREE_COLUMNS,\n            Devices,\n            foundationalWidths,\n            panel,\n            middleColumn,\n            contentWidth,\n            breakPoints,\n            mediaQueries,\n            calculateDevice,\n            isFullWidth,\n            isCompact,\n            rightPanelCondition,\n        };\n    },\n);\n\nexport const threeColumnLayoutClasses = () => {\n    return generatePanelLayoutClasses({\n        vars: threeColumnLayoutVariables(),\n        name: \"threeColumnLayout\",\n        mediaQueries: mediaQueryFactory(threeColumnLayoutVariables().mediaQueries, LayoutTypes.THREE_COLUMNS),\n    });\n};\n","import { CSSObject } from \"@emotion/css\";\nimport { logError } from \"@vanilla/utils\";\nimport {\n    IAllLayoutMediaQueries,\n    ILayoutMediaQueryFunction,\n    IMediaQueryFunction,\n} from \"@library/layout/types/interface.panelLayout\";\nimport { LayoutTypes } from \"@library/layout/types/interface.layoutTypes\";\nimport { twoColumnLayoutVariables } from \"@library/layout/types/layout.twoColumns\";\nimport { threeColumnLayoutClasses, threeColumnLayoutVariables } from \"@library/layout/types/layout.threeColumns\";\n\n/* Allows to declare styles for any layout without causing errors\nDeclare media query styles like this:\n\n    mediaQueries({\n        [LayoutTypes.TWO_COLUMNS]: {\n            oneColumnDown: {\n                ...srOnly(),\n            },\n        },\n        [LayoutTypes.THREE_COLUMNS]: {\n            twoColumns: {\n                // Styles go here\n            }\n        }\n    }),\n    Note that \"twoColumns\" does not exist in two column layout media queries, but it does not crash!\n*/\nexport const mediaQueryFactory = (mediaQueriesByType, type): IMediaQueryFunction => {\n    // The following function is the one called in component styles.\n    return (mediaQueriesForAllLayouts: IAllLayoutMediaQueries): CSSObject => {\n        let output = {};\n        Object.keys(mediaQueriesForAllLayouts).forEach((layoutName) => {\n            // Check if we're in the correct layout before applying\n            if (layoutName === type) {\n                // Fetch the available styles and the media queries for the current layout\n                const stylesByMediaQuery = mediaQueriesForAllLayouts[layoutName];\n                const mediaQueries =\n                    type === LayoutTypes.TWO_COLUMNS\n                        ? twoColumnLayoutVariables().mediaQueries()\n                        : threeColumnLayoutVariables().mediaQueries();\n\n                // Match the two together\n                if (stylesByMediaQuery) {\n                    Object.keys(stylesByMediaQuery).forEach((queryName) => {\n                        const query: ILayoutMediaQueryFunction = mediaQueries[queryName];\n                        const styles: CSSObject = stylesByMediaQuery[queryName];\n                        if (!query) {\n                            logError(\n                                `Error calculating media queries: \\nThe styles provided were not in a valid media query.\\nYou likely forgot to wrap your styles in the key of the proper media query.\\nMedia queries available: ${JSON.stringify(\n                                    Object.keys(mediaQueries),\n                                )}\\nLooking for media query called \"${queryName}\"\\nin: `,\n                                JSON.stringify(stylesByMediaQuery),\n                            );\n                        } else {\n                            output = query(styles as any);\n                        }\n                    });\n                }\n            }\n        });\n        return output;\n    };\n};\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { Optionalize } from \"@library/@types/utils\";\nimport throttle from \"lodash/throttle\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { IPanelLayoutClasses } from \"@library/layout/panelLayoutStyles\";\nimport { LayoutTypes } from \"@library/layout/types/interface.layoutTypes\";\nimport { mediaQueryFactory } from \"@library/layout/types/mediaQueryFactory\";\nimport { IAllLayoutDevices, ILayoutMediaQueryFunction } from \"@library/layout/types/interface.panelLayout\";\nimport { twoColumnLayoutClasses, twoColumnLayoutVariables } from \"@library/layout/types/layout.twoColumns\";\nimport { threeColumnLayoutClasses, threeColumnLayoutVariables } from \"@library/layout/types/layout.threeColumns\";\n\nexport interface ILayoutProps {\n    type: LayoutTypes;\n    currentDevice: string;\n    Devices: IAllLayoutDevices;\n    isCompact: boolean; // Usually mobile and/or xs, but named this way to be more generic and not be confused with the actual mobile media query\n    isFullWidth: boolean; // Usually desktop and no bleed, but named this way to be more generic and just to mean it's the full size\n    classes: IPanelLayoutClasses;\n    currentLayoutVariables: any;\n    mediaQueries: ILayoutMediaQueryFunction;\n    contentWidth: number;\n    calculateDevice: () => any;\n    layoutSpecificStyles: (style) => any | undefined;\n    rightPanelCondition: (currentDevice: string, shouldRenderRightPanel: boolean) => boolean;\n}\n\nconst layoutDataByType = (type: LayoutTypes): ILayoutProps => {\n    const layout = {\n        variables: type === LayoutTypes.TWO_COLUMNS ? twoColumnLayoutVariables() : threeColumnLayoutVariables(),\n        classes: type === LayoutTypes.TWO_COLUMNS ? twoColumnLayoutClasses() : threeColumnLayoutClasses(),\n    };\n\n    const currentDevice = layout.variables.calculateDevice().toString();\n\n    return {\n        type,\n        currentDevice,\n        Devices: layout.variables.Devices as any,\n        isCompact: layout.variables.isCompact(currentDevice),\n        isFullWidth: layout.variables.isFullWidth(currentDevice),\n        classes: layout.classes as IPanelLayoutClasses,\n        currentLayoutVariables: layout.variables,\n        mediaQueries: mediaQueryFactory(layout.variables.mediaQueries, type),\n        contentWidth: layout.variables.contentWidth,\n        calculateDevice: layout.variables.calculateDevice,\n        layoutSpecificStyles: layout.variables[\"layoutSpecificStyles\"] ?? undefined,\n        rightPanelCondition:\n            layout.variables[\"rightPanelCondition\"] !== undefined\n                ? layout.variables[\"rightPanelCondition\"]\n                : () => {\n                      return false;\n                  },\n    };\n};\n\nconst LayoutContext = React.createContext<ILayoutProps>(layoutDataByType(LayoutTypes.THREE_COLUMNS));\n\nexport default LayoutContext;\n\nexport function useLayout() {\n    return useContext(LayoutContext);\n}\n\nexport function LayoutProvider(props: { type?: LayoutTypes; children: React.ReactNode }) {\n    const { type = LayoutTypes.THREE_COLUMNS, children } = props;\n\n    const [deviceInfo, setDeviceInfo] = useState<ILayoutProps>(layoutDataByType(type));\n\n    useEffect(() => {\n        const throttledUpdate = throttle(() => {\n            setDeviceInfo(layoutDataByType(type));\n        }, 100);\n        window.addEventListener(\"resize\", throttledUpdate);\n        return () => {\n            window.removeEventListener(\"resize\", throttledUpdate);\n        };\n    }, [type, setDeviceInfo]);\n\n    return <LayoutContext.Provider value={deviceInfo}>{children}</LayoutContext.Provider>;\n}\n\n/**\n * HOC to inject DeviceContext as props.\n *\n * @param WrappedComponent - The component to wrap\n */\nexport function withLayout<T extends ILayoutProps = ILayoutProps>(WrappedComponent: React.ComponentType<T>) {\n    const displayName = WrappedComponent.displayName || WrappedComponent.name || \"Component\";\n    const ComponentWithDevice = (props: Optionalize<T, ILayoutProps>) => {\n        return (\n            <LayoutContext.Consumer>\n                {(context) => {\n                    // https://github.com/Microsoft/TypeScript/issues/28938\n                    return <WrappedComponent device={context} {...(props as T)} />;\n                }}\n            </LayoutContext.Consumer>\n        );\n    };\n    ComponentWithDevice.displayName = `withLayout(${displayName})`;\n    return ComponentWithDevice;\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { percent } from \"csx\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { LayoutTypes } from \"@library/layout/types/interface.layoutTypes\";\nimport { Mixins } from \"@library/styles/Mixins\";\n\nexport const panelWidgetClasses = useThemeCache((mediaQueries) => {\n    const globalVars = globalVariables();\n    const style = styleFactory(\"panelWidget\");\n\n    const root = style({\n        display: \"flex\",\n        flexDirection: \"column\",\n        position: \"relative\",\n        width: percent(100),\n        ...Mixins.padding({\n            all: globalVars.widget.padding,\n        }),\n        ...{\n            \"&.hasNoVerticalPadding\": {\n                ...Mixins.padding({ vertical: 0 }),\n            },\n            \"&.hasNoHorizontalPadding\": {\n                ...Mixins.padding({ horizontal: 0 }),\n            },\n            \"&.isSelfPadded\": {\n                ...Mixins.padding({ all: 0 }),\n            },\n            ...mediaQueries({\n                [LayoutTypes.TWO_COLUMNS]: {\n                    oneColumnDown: {\n                        ...Mixins.padding({\n                            all: globalVars.widget.padding,\n                        }),\n                    },\n                },\n                [LayoutTypes.THREE_COLUMNS]: {\n                    oneColumnDown: {\n                        ...Mixins.padding({\n                            all: globalVars.widget.padding,\n                        }),\n                    },\n                },\n            }),\n        },\n    });\n\n    return { root: root + \" panelWidget\" };\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport classNames from \"classnames\";\nimport React from \"react\";\nimport { useLayout, withLayout } from \"@library/layout/LayoutContext\";\nimport { ILayoutContainer } from \"@library/layout/components/interface.layoutContainer\";\nimport { panelWidgetClasses } from \"@library/layout/panelWidgetStyles\";\n\nexport function PanelWidgetVerticalPadding(props: ILayoutContainer) {\n    const classes = panelWidgetClasses(useLayout().mediaQueries);\n    return <div className={classNames(classes.root, \"hasNoHorizontalPadding\", props.className)}>{props.children}</div>;\n}\n\nexport default withLayout(PanelWidgetVerticalPadding);\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport classNames from \"classnames\";\nimport React from \"react\";\nimport { useLayout, withLayout } from \"@library/layout/LayoutContext\";\nimport { ILayoutContainer } from \"@library/layout/components/interface.layoutContainer\";\nimport { panelWidgetClasses } from \"@library/layout/panelWidgetStyles\";\n\nexport function PanelWidget(props: ILayoutContainer) {\n    const classes = panelWidgetClasses(useLayout().mediaQueries);\n    return <div className={classNames(classes.root, props.className)}>{props.children}</div>;\n}\n\nexport default withLayout(PanelWidget);\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license Proprietary\n */\n\nimport Container from \"@library/layout/components/Container\";\nimport DocumentTitle from \"@library/routing/DocumentTitle\";\nimport { inheritHeightClass } from \"@library/styles/styleHelpers\";\nimport React from \"react\";\nimport {\n    CoreErrorMessages,\n    getErrorCode,\n    messageFromErrorCode,\n    IErrorMessageProps,\n} from \"@library/errorPages/CoreErrorMessages\";\nimport PanelWidgetVerticalPadding from \"@library/layout/components/PanelWidgetVerticalPadding\";\nimport PanelWidget from \"@library/layout/components/PanelWidget\";\n\ninterface IProps extends IErrorMessageProps {}\n\nexport function ErrorPage(props: IProps) {\n    const code = getErrorCode(props);\n    const message = messageFromErrorCode(code);\n    const classes = {\n        inheritHeight: inheritHeightClass(),\n    };\n\n    return (\n        <DocumentTitle title={message}>\n            <Container className={classes.inheritHeight} tag={\"main\"}>\n                <PanelWidgetVerticalPadding className={classes.inheritHeight}>\n                    <PanelWidget className={classes.inheritHeight}>\n                        <CoreErrorMessages {...props} className={classes.inheritHeight} />\n                    </PanelWidget>\n                </PanelWidgetVerticalPadding>\n            </Container>\n        </DocumentTitle>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport qs from \"qs\";\nimport { ensureString } from \"@vanilla/utils\";\n\n/**\n * Represent pages potentially returned from a Link header.\n */\nexport interface ILinkPages {\n    next?: number;\n    prev?: number;\n    limit?: number;\n    total?: number;\n    currentPage?: number;\n}\n\nexport interface IWithPagination<T> {\n    pagination: ILinkPages;\n    body: T;\n}\n\nexport default class SimplePagerModel {\n    public static parseHeaders(headers: Record<string, string>): ILinkPages {\n        const result = this.parseLinkHeader(headers[\"link\"], \"page\");\n\n        if (\"x-app-page-result-count\" in headers) {\n            result.total = parseInt(headers[\"x-app-page-result-count\"]);\n        }\n\n        if (\"x-app-page-current\" in headers) {\n            result.currentPage = parseInt(headers[\"x-app-page-current\"]);\n        }\n\n        if (\"x-app-page-limit\" in headers) {\n            result.limit = parseInt(headers[\"x-app-page-limit\"]);\n        }\n\n        return result;\n    }\n\n    public static parseLinkHeader(header: string, param: string, limitParam?: string): ILinkPages {\n        const result = {} as ILinkPages;\n\n        header.split(\",\").map((link) => {\n            link = link.trim();\n\n            // Needs to fit our expected format.\n            const parts = link.match(/<([0-9a-zA-Z$\\-_.+!*'(),:/?=&%#]+)>;\\s+rel=\"(next|prev)\"/);\n            if (!parts) {\n                return;\n            }\n\n            // Extract the relevant bits.\n            const [fullMatch, url, rel] = parts;\n\n            // Confirm we have a query string.\n            const search = url.match(/\\?([^#]+)/);\n            if (!search || !search[1]) {\n                return;\n            }\n\n            // Break out the query string into individual parameters.\n            const searchParameters = qs.parse(search[1]);\n\n            // Grab the next or prev page number.\n            if (searchParameters[param]) {\n                result[rel] = parseInt(ensureString(searchParameters[param]), 10);\n            }\n\n            // Grab the limit from the current link.\n            if (limitParam && searchParameters[limitParam]) {\n                result.limit = parseInt(ensureString(searchParameters[param]), 10);\n            }\n        });\n\n        return result;\n    }\n}\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nimport React from \"react\";\nimport { t } from \"@library/utility/appUtils\";\nimport { LoadStatus } from \"@library/@types/api/core\";\nimport UserSuggestionActions from \"@library/features/users/suggestion/UserSuggestionActions\";\nimport { IComboBoxOption } from \"@library/features/search/SearchBar\";\nimport UserSuggestionModel, {\n    IInjectableSuggestionsProps,\n} from \"@library/features/users/suggestion/UserSuggestionModel\";\nimport apiv2 from \"@library/apiv2\";\nimport Tokens from \"@library/forms/select/Tokens\";\nimport { connect } from \"react-redux\";\n\ninterface IProps extends IInjectableSuggestionsProps {\n    suggestionActions: UserSuggestionActions;\n    onChange: (users: IComboBoxOption[]) => void;\n    value: IComboBoxOption[];\n    className?: string;\n    label?: string;\n}\n\n/**\n * Form component for searching/selecting users.\n */\nexport class MultiUserInput extends React.Component<IProps> {\n    public render() {\n        const { suggestions, label } = this.props;\n        let options: IComboBoxOption[] | undefined;\n        if (suggestions.status === LoadStatus.SUCCESS && suggestions.data) {\n            options = suggestions.data.map((suggestion) => {\n                return {\n                    value: suggestion.userID,\n                    label: suggestion.name,\n                };\n            });\n        }\n\n        return (\n            <Tokens\n                label={label ? t(label) : t(\"Author\")}\n                options={options}\n                isLoading={suggestions.status === LoadStatus.LOADING || suggestions.status === LoadStatus.PENDING}\n                onChange={this.props.onChange}\n                value={this.props.value}\n                onInputChange={this.onInputChange}\n                className={this.props.className}\n            />\n        );\n    }\n\n    /**\n     * React to changes in the token input.\n     */\n    private onInputChange = (value: string) => {\n        value = value.trim();\n        if (!value) return;\n        this.props.suggestionActions.loadUsers(value);\n    };\n}\n\nconst withRedux = connect(UserSuggestionModel.mapStateToProps, (dispatch) => ({\n    suggestionActions: new UserSuggestionActions(dispatch, apiv2),\n}));\n\nexport default withRedux(MultiUserInput);\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { percent } from \"csx\";\nexport const dateRangeClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const style = styleFactory(\"dateRange\");\n\n    const input = style(\"input\", {\n        width: styleUnit(136),\n        maxWidth: percent(100),\n    });\n\n    const root = style({\n        display: \"block\",\n        position: \"relative\",\n        width: percent(100),\n    });\n\n    const boundary = style(\"boundary\", {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        width: percent(100),\n        ...{\n            \"& + &\": {\n                marginTop: styleUnit(12),\n            },\n        },\n    });\n\n    const label = style(\"label\", {\n        overflow: \"hidden\",\n        fontWeight: globalVars.fonts.weights.semiBold,\n        wordBreak: \"break-word\",\n        textOverflow: \"ellipsis\",\n        maxWidth: percent(100),\n        paddingLeft: styleUnit(8),\n    });\n\n    return {\n        root,\n        boundary,\n        label,\n        input,\n    };\n});\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\n\nexport const dayPickerVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const formElementVars = formElementsVariables();\n    const makeThemeVars = variableFactory(\"datePicker\");\n\n    const spacing = makeThemeVars(\"spacing\", {\n        padding: 9,\n    });\n\n    const sizing = makeThemeVars(\"sizing\", {\n        height: formElementVars.sizing.height,\n    });\n\n    const colors = makeThemeVars(\"colors\", {\n        today: globalVars.mainColors.primary,\n        selected: {\n            color: globalVars.states.selected.highlight,\n        },\n        hover: {\n            bg: globalVars.states.hover.highlight,\n        },\n    });\n\n    const border = makeThemeVars(\"border\", {\n        radius: globalVars.border.radius,\n    });\n\n    return {\n        spacing,\n        sizing,\n        colors,\n        border,\n    };\n});\n\nexport const dayPickerClasses = useThemeCache(() => {\n    const style = styleFactory(\"dayPicker\");\n    const vars = dayPickerVariables();\n\n    // From third party, so we're targetting them this way\n    const root = style({\n        ...{\n            \".DayPicker-wrapper\": {\n                padding: 0,\n            },\n            \".DayPicker-Month\": {\n                margin: styleUnit(vars.spacing.padding),\n            },\n            \".DayPicker-Day\": {\n                borderRadius: styleUnit(vars.border.radius),\n                padding: styleUnit(vars.spacing.padding),\n                whiteSpace: \"nowrap\",\n                ...{\n                    \"&:hover\": {\n                        backgroundColor: vars.colors.hover.bg.toString(),\n                    },\n                },\n            },\n            \".DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside)\": {\n                backgroundColor: vars.colors.selected.color.toString(),\n                ...{\n                    \"&:hover\": {\n                        backgroundColor: vars.colors.selected.color.toString(),\n                    },\n                },\n            },\n            \".DayPicker-Day.DayPicker-Day--today\": {\n                color: ColorsUtils.colorOut(vars.colors.today),\n            },\n        },\n    });\n\n    const header = style(\"header\", {\n        display: \"flex\",\n        alignItems: \"center\",\n        height: styleUnit(vars.sizing.height),\n        paddingLeft: styleUnit(vars.spacing.padding),\n        marginTop: styleUnit(vars.spacing.padding),\n    });\n\n    const title = style(\"title\", {\n        flex: 1,\n        padding: styleUnit(vars.spacing.padding),\n    });\n\n    const navigation = style(\"navigation\", {\n        display: \"flex\",\n        alignItems: \"center\",\n    });\n\n    return {\n        root,\n        header,\n        title,\n        navigation,\n    };\n});\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { NullComponent } from \"@library/forms/select/overwrites\";\nimport DayPickerInput from \"react-day-picker/DayPickerInput\";\nimport { t } from \"@library/utility/appUtils\";\nimport moment, { Moment } from \"moment\";\nimport Button from \"@library/forms/Button\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport { guessOperatingSystem, OS } from \"@vanilla/utils\";\nimport { dropDownClasses } from \"@library/flyouts/dropDownStyles\";\nimport { dayPickerClasses } from \"@library/forms/datePickerStyles\";\nimport classNames from \"classnames\";\nimport { formatDate, parseDate } from \"react-day-picker/moment\";\nimport { LeftChevronIcon, RightChevronIcon } from \"@library/icons/common\";\nimport RelativePortal from \"react-relative-portal\";\nimport \"@library/forms/DatePicker.libStyles.scss\";\n\ninterface IProps {\n    value: string; // ISO formatted date\n    onChange: (value: string) => void;\n    contentClassName?: string;\n    inputClassName?: string;\n    alignment: \"left\" | \"right\";\n    disabledDays?: any; // See http://react-day-picker.js.org/examples/disabled\n}\n\ninterface IState {\n    hasBadValue: boolean;\n    wasBlurred: boolean;\n}\n\n/**\n * Implements the DateRange component\n */\nexport default class DatePicker extends React.PureComponent<IProps, IState> {\n    public static defaultProps: Partial<IProps> = {\n        alignment: \"left\",\n    };\n\n    public state: IState = {\n        hasBadValue: false,\n        wasBlurred: false,\n    };\n\n    public render() {\n        // Attempt to use a native input on operating systems that have nice, accessible built in date pickers.\n        // EG. mobile\n        const os = guessOperatingSystem();\n        const useNativeInput = os === OS.ANDROID || os === OS.IOS;\n\n        return useNativeInput ? this.renderNativeInput() : this.renderReactInput();\n    }\n\n    /**\n     * Render a react day picker component.\n     */\n    private renderReactInput() {\n        const value = this.props.value ? moment(this.props.value).toDate() : undefined;\n        const classes = dayPickerClasses();\n        return (\n            <div className={classNames(classes.root)}>\n                <DayPickerInput\n                    format=\"YYYY-MM-DD\"\n                    placeholder={t(`yyyy-mm-dd`)}\n                    formatDate={formatDate}\n                    parseDate={parseDate}\n                    value={value}\n                    overlayComponent={this.CustomOverlay}\n                    onDayChange={this.handleDayPickerChange}\n                    classNames={\n                        {\n                            container: classNames(\"dayPickerInput-container\", this.props.contentClassName),\n                            overlay: \"dayPickerInput-overlay\",\n                        } as any\n                    }\n                    dayPickerProps={{\n                        captionElement: NullComponent,\n                        navbarElement: this.CustomNavBar,\n                        disabledDays: this.props.disabledDays,\n                        showOutsideDays: true,\n                    }}\n                    inputProps={{\n                        className: classNames(\"inputText\", this.props.inputClassName, {\n                            isInvalid: this.state.hasBadValue && this.state.wasBlurred,\n                        }),\n                        \"aria-label\": t(\"Date Input \") + \"(yyyy-mm-dd)\",\n                        onBlur: this.handleBlur,\n                        onFocus: this.handleFocus,\n                        onChange: this.handleNativeInputChange,\n                    }}\n                />\n            </div>\n        );\n    }\n\n    /**\n     * Render a native date picker component. These can be much nicer on mobile devices.\n     */\n    private renderNativeInput() {\n        // The native date input MUST have it's value in short ISO format, even it doesn't display that way.\n        const value = this.props.value ? this.normalizeIsoString(this.props.value) : \"\";\n        return (\n            <input\n                className=\"inputText\"\n                type=\"date\"\n                placeholder={t(`yyyy-mm-dd`)}\n                onChange={this.handleNativeInputChange}\n                value={value}\n            />\n        );\n    }\n\n    /**\n     * Handle a new date.\n     */\n    private updateDate = (date?: Moment | null, isEmpty: boolean = false) => {\n        if (date) {\n            this.setState({ hasBadValue: false });\n            this.props.onChange(this.normalizeIsoString(date.toISOString()));\n        } else if (!isEmpty) {\n            // invalid date\n            this.setState({ hasBadValue: true });\n            this.props.onChange(\"\");\n        } else {\n            this.setState({ hasBadValue: false });\n            this.props.onChange(\"\");\n        }\n    };\n\n    /**\n     * Ensure that our date string is always the day only form of an ISO date. EG. No time.\n     */\n    private normalizeIsoString(isoDate: string): string {\n        return isoDate.substr(0, 10);\n    }\n\n    /**\n     * Track blurred state.\n     */\n    private handleBlur = (event: React.FocusEvent) => {\n        this.setState({ wasBlurred: true });\n    };\n\n    /**\n     * Track blurred state.\n     */\n    private handleFocus = (event: React.FocusEvent) => {\n        this.setState({ wasBlurred: false });\n    };\n\n    /**\n     * Handle changes in the day picker input. Eg. A day selection in the modal.\n     *\n     * Other changes will call the handleTextChange event.\n     */\n    private handleDayPickerChange = (date?: Date | null) => {\n        if (date) {\n            this.updateDate(moment(date));\n        }\n    };\n\n    /**\n     * Handle changes in the native input.\n     */\n    private handleNativeInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.updateDate(event.target.valueAsDate ? moment(event.target.valueAsDate) : null, event.target.value === \"\");\n    };\n\n    /**\n     * Override for the date pickers flyouts.\n     */\n    private CustomOverlay = ({ classNames: c, selectedDay, children, ...props }) => {\n        const classes = dropDownClasses();\n        const contentsClasses = classNames(\"dropDown-contents\", classes.contents, \"isOwnWidth\", {\n            isRightAligned: this.props.alignment === \"right\",\n        });\n        return (\n            // dayPickerClasses needs to be reapplied here, because it's rendered outside the root\n            <RelativePortal component=\"div\" top={0} right={0} className={dayPickerClasses().root}>\n                <div className={classNames(\"dropDown\", classes.root)} {...props}>\n                    <div className={contentsClasses}>{children}</div>\n                </div>\n            </RelativePortal>\n        );\n    };\n\n    /**\n     * Override date pickers navigation component to use our icons.\n     */\n    private CustomNavBar = ({ month, onPreviousClick, onNextClick, className }) => {\n        // The example override shows these methods being rebound in this way.\n        // If you attempt to pass these callbacks directly to the overriden component,\n        // They crash it when clicked.\n        const prev = () => onPreviousClick();\n        const next = () => onNextClick();\n        const title = (month as Date).toLocaleDateString(undefined, { year: \"numeric\", month: \"long\" });\n        const classes = dayPickerClasses();\n        return (\n            <div className={classNames(\"datePicker-header\", classes.header)}>\n                <h3 className={classNames(\"datePicker-title\", classes.title)}>{title}</h3>\n                <span className={classNames(\"datePicker-navigation\", className, classes.navigation)}>\n                    <Button baseClass={ButtonTypes.ICON} onClick={prev}>\n                        <LeftChevronIcon centred={true} />\n                    </Button>\n                    <Button baseClass={ButtonTypes.ICON} onClick={next}>\n                        <RightChevronIcon centred={true} />\n                    </Button>\n                </span>\n            </div>\n        );\n    };\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license Proprietary\n */\nimport React from \"react\";\nimport { dateRangeClasses } from \"@library/forms/dateRangeStyles\";\nimport { t } from \"@library/utility/appUtils\";\nimport DatePicker from \"@library/forms/DatePicker\";\nimport moment from \"moment\";\nimport classNames from \"classnames\";\nimport { inputBlockClasses } from \"@library/forms/InputBlockStyles\";\n\ninterface IProps {\n    start: string | undefined;\n    end: string | undefined;\n    onStartChange: (value: string) => void;\n    onEndChange: (value: string) => void;\n    className?: string;\n    label?: string;\n}\n\ninterface IState {}\n\n/**\n * Implements the DateRange component\n */\nexport default class DateRange extends React.PureComponent<IProps> {\n    public render() {\n        const endDate = this.props.end ? moment(this.props.end).toDate() : null;\n        const startDate = this.props.start ? moment(this.props.start).toDate() : null;\n        const fromLabel = t(\"From\");\n        const toLabel = t(\"To\");\n        const rangeClasses = dateRangeClasses();\n        const classesInputBlock = inputBlockClasses();\n\n        return (\n            <fieldset\n                className={classNames(\"dateRange\", classesInputBlock.root, this.props.className, rangeClasses.root)}\n            >\n                <legend className={classNames(classesInputBlock.sectionTitle)}>\n                    {this.props.label || t(\"Date Updated\")}\n                </legend>\n                <label className={classNames(\"dateRange-boundary\", rangeClasses.boundary)}>\n                    <span className={classNames(\"dateRange-label\", rangeClasses.label)}>{fromLabel}</span>\n                    <DatePicker\n                        alignment=\"right\"\n                        contentClassName={rangeClasses.input}\n                        onChange={this.props.onStartChange}\n                        value={this.props.start}\n                        disabledDays={[\n                            {\n                                after: endDate,\n                            },\n                        ]}\n                    />\n                </label>\n                <label className={classNames(\"dateRange-boundary\", rangeClasses.boundary)}>\n                    <span className={classNames(\"dateRange-label\", rangeClasses.label)}>{toLabel}</span>\n                    <DatePicker\n                        alignment=\"right\"\n                        contentClassName={rangeClasses.input}\n                        onChange={this.props.onEndChange}\n                        value={this.props.end}\n                        disabledDays={[\n                            {\n                                before: startDate,\n                            },\n                        ]}\n                    />\n                </label>\n            </fieldset>\n        );\n    }\n}\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { LayoutTypes } from \"@library/layout/types/interface.layoutTypes\";\n\nexport const filterPanelClasses = useThemeCache((mediaQueries) => {\n    const globalVars = globalVariables();\n    const style = styleFactory(\"filterPanel\");\n\n    const header = style(\n        \"header\",\n        {\n            marginBottom: styleUnit(globalVars.gutter.size * 1.5),\n            ...{\n                \"&&\": {\n                    border: 0,\n                    ...Mixins.padding({\n                        horizontal: 0,\n                        bottom: 0,\n                    }),\n                },\n            },\n        },\n        mediaQueries({\n            [LayoutTypes.TWO_COLUMNS]: {\n                oneColumnDown: {\n                    ...Mixins.absolute.srOnly(),\n                },\n            },\n        }),\n    );\n\n    const body = style(\"body\", {\n        ...{\n            \"&&\": {\n                ...Mixins.padding({\n                    horizontal: 0,\n                }),\n            },\n        },\n    });\n\n    const footer = style(\"body\", {\n        ...{\n            \"&&\": {\n                border: 0,\n                marginTop: styleUnit(globalVars.gutter.size),\n                ...Mixins.padding({\n                    horizontal: 0,\n                }),\n            },\n        },\n    });\n\n    const title = style(\"title\", {\n        ...{\n            \"&&\": {\n                ...Mixins.font({\n                    size: globalVars.fonts.size.large,\n                    weight: globalVars.fonts.weights.bold,\n                }),\n            },\n        },\n    });\n\n    return {\n        header,\n        body,\n        footer,\n        title,\n    };\n});\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport Button from \"@library/forms/Button\";\nimport Frame from \"@library/layout/frame/Frame\";\nimport FrameBody from \"@library/layout/frame/FrameBody\";\nimport FrameFooter from \"@library/layout/frame/FrameFooter\";\nimport FrameHeader from \"@library/layout/frame/FrameHeader\";\nimport { t } from \"@library/utility/appUtils\";\nimport { useUniqueID } from \"@library/utility/idUtils\";\nimport React from \"react\";\nimport { filterPanelClasses } from \"@library/search/panels/filterPanel.styles\";\nimport { useLayout } from \"@library/layout/LayoutContext\";\n\nexport interface ISearchFilterPanel {\n    title?: string;\n    handleSubmit: (data) => void;\n    children: React.ReactNode;\n    valid?: boolean;\n}\n\n/**\n * Implement search filter panel main component\n */\nexport function FilterFrame(props: ISearchFilterPanel) {\n    const { title = t(\"Filter Results\"), handleSubmit, children, valid } = props;\n    const onSubmit = (e: React.FormEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        handleSubmit({});\n    };\n\n    const titleID = useUniqueID(\"searchFilter\");\n    const classes = filterPanelClasses(useLayout().mediaQueries);\n\n    return (\n        <form onSubmit={onSubmit} aria-describedby={titleID}>\n            <Frame\n                scrollable={false}\n                header={\n                    <FrameHeader\n                        titleID={titleID}\n                        title={title}\n                        className={classes.header}\n                        titleClass={classes.title}\n                    />\n                }\n                body={\n                    <FrameBody scrollable={false} className={classes.body}>\n                        {children}\n                    </FrameBody>\n                }\n                footer={\n                    <FrameFooter justifyRight={true} className={classes.footer}>\n                        <Button disabled={valid} submit={true}>\n                            {t(\"Filter\")}\n                        </Button>\n                    </FrameFooter>\n                }\n            />\n        </form>\n    );\n}\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { IComboBoxOption } from \"@library/features/search/SearchBar\";\nimport MultiUserInput from \"@library/features/users/MultiUserInput\";\nimport DateRange from \"@library/forms/DateRange\";\nimport { dateRangeClasses } from \"@library/forms/dateRangeStyles\";\nimport { inputBlockClasses } from \"@library/forms/InputBlockStyles\";\nimport InputTextBlock from \"@library/forms/InputTextBlock\";\nimport { FilterFrame } from \"@library/search/panels/FilterFrame\";\nimport { useSearchForm } from \"@library/search/SearchContext\";\nimport { t } from \"@vanilla/i18n\";\nimport React from \"react\";\n\ninterface IProps {}\n\n/**\n * Implement search filter panel for all types\n */\nexport function FilterPanelAll(props: IProps) {\n    const { form, updateForm, search } = useSearchForm();\n    const classesInputBlock = inputBlockClasses();\n    const classesDateRange = dateRangeClasses();\n    return (\n        <FilterFrame title={t(\"Filter Results\")} handleSubmit={search}>\n            <InputTextBlock\n                label={t(\"Title\")}\n                inputProps={{\n                    onChange: (event: React.ChangeEvent<HTMLInputElement>) => {\n                        const { value } = event.target;\n                        updateForm({ name: value });\n                    },\n                    value: form.name || undefined,\n                }}\n            />\n            <MultiUserInput\n                className={classesInputBlock.root}\n                onChange={(options: IComboBoxOption[]) => {\n                    updateForm({ authors: options });\n                }}\n                value={form.authors ?? []}\n            />\n            <DateRange\n                onStartChange={(date: string) => {\n                    updateForm({ startDate: date });\n                }}\n                onEndChange={(date: string) => {\n                    updateForm({ endDate: date });\n                }}\n                start={form.startDate}\n                end={form.endDate}\n                className={classesDateRange.root}\n            />\n        </FilterFrame>\n    );\n}\n","/**\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { AttachmentType } from \"@library/content/attachments/AttatchmentType\";\nimport { t } from \"@library/utility/appUtils\";\nimport Translate from \"@library/content/Translate\";\nimport { attachmentIconClasses } from \"@library/content/attachments/attachmentIconsStyles\";\nimport Paragraph from \"@library/layout/Paragraph\";\nimport classNames from \"classnames\";\nimport { GetAttachmentIcon } from \"@library/content/attachments/attachmentUtils\";\n\n// Common to both attachment types\nexport interface IAttachmentIcon {\n    name: string;\n    type: AttachmentType;\n}\n\n// Attachment of type icon\ninterface IProps extends IAttachmentIcon {\n    classes: {\n        item?: string;\n    };\n}\n\n/**\n * Component representing 1 icon attachment.\n */\nexport default class AttachmentIcon extends React.Component<IProps> {\n    public render() {\n        const classes = attachmentIconClasses();\n        return (\n            <li className={classNames(\"attachmentsIcons-item\", this.props.classes.item, classes.root)}>\n                <div\n                    className={classNames(\"attachmentsIcons-file\", `attachmentsIcons-${this.props.type}`)}\n                    title={t(this.props.type)}\n                >\n                    <span className=\"sr-only\">\n                        <Paragraph>\n                            <Translate source=\"<0/> (Type: <1/>)\" c0={this.props.name} c1={this.props.type} />\n                        </Paragraph>\n                    </span>\n                    <GetAttachmentIcon type={this.props.type} className={classes.root} />\n                </div>\n            </li>\n        );\n    }\n}\n","/**\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { attachmentIconsClasses } from \"@library/content/attachments/attachmentIconsStyles\";\nimport { t } from \"@library/utility/appUtils\";\nimport AttachmentIcon, { IAttachmentIcon } from \"@library/content/attachments/AttachmentIcon\";\nimport { uniqueIDFromPrefix } from \"@library/utility/idUtils\";\nimport { metasClasses } from \"@library/styles/metasStyles\";\nimport Translate from \"@library/content/Translate\";\nimport classNames from \"classnames\";\n\n// Array of icon attachments\ninterface IProps {\n    attachments: IAttachmentIcon[];\n    maxCount?: number;\n}\n\n/**\n * Generates a list of attachment icons\n */\nexport default class AttachmentIcons extends React.Component<IProps> {\n    private maxCount = 3;\n    private id = uniqueIDFromPrefix(\"attachmentIcons-\");\n\n    constructor(props: IProps) {\n        super(props);\n        if (props.maxCount && props.maxCount > 0 && props.maxCount <= props.attachments.length) {\n            this.maxCount = props.maxCount;\n        }\n    }\n\n    public get titleID() {\n        return this.id + \"-title\";\n    }\n\n    public render() {\n        if (this.attachmentsCount < 1) {\n            return null;\n        }\n        const classes = attachmentIconsClasses();\n        const attachments = this.renderAttachments(classes);\n\n        if (attachments) {\n            return (\n                <section className={classNames(\"attachmentsIcons\", classes.root)}>\n                    <h3 id={this.titleID} className=\"sr-only\">\n                        {t(\"Attachments\") + \": \"}\n                    </h3>\n                    <ul aria-labelledby={this.titleID} className={classNames(\"attachmentsIcons-items\", classes.items)}>\n                        {attachments}\n                    </ul>\n                </section>\n            );\n        } else {\n            return null;\n        }\n    }\n\n    /**\n     * Calculate the total attachments to display.\n     */\n    private get attachmentsCount(): number {\n        return this.props.attachments.length;\n    }\n\n    /**\n     * Render out the visible attachments.\n     */\n    private renderAttachments(classes) {\n        return this.props.attachments.map((attachment, i) => {\n            const index = i + 1;\n            const extraCount = this.attachmentsCount - index;\n            if (i < this.maxCount) {\n                return (\n                    <AttachmentIcon\n                        classes={{ item: classes.item }}\n                        name={attachment.name}\n                        type={attachment.type}\n                        key={index}\n                    />\n                );\n            } else if (i === this.maxCount && extraCount > 0) {\n                return this.renderMorePlacholder(extraCount, index);\n            } else {\n                return null;\n            }\n        });\n    }\n\n    /**\n     * Render a placeholder indicating that there are more unshown attachments.\n     */\n    private renderMorePlacholder(remainingCount: number, index: number): React.ReactNode {\n        const message = <Translate source=\"+ <0/> more\" c0={remainingCount} />;\n        const classesMetas = metasClasses();\n        return (\n            <li className=\"attachmentsIcons-item\" key={index}>\n                <span className={classNames(\"attachmentsIcons-more\", classesMetas.metaStyle)}>{message}</span>\n            </li>\n        );\n    }\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { metasVariables } from \"@library/styles/metasStyles\";\nimport { negativeUnit, objectFitWithFallback, singleBorder } from \"@library/styles/styleHelpers\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { calc, important, percent } from \"csx\";\nimport { BorderBottomProperty } from \"csstype\";\nimport { CSSObject } from \"@emotion/css\";\nimport { TLength } from \"@library/styles/styleShim\";\nimport { LayoutTypes } from \"@library/layout/types/interface.layoutTypes\";\nimport { Mixins } from \"@library/styles/Mixins\";\nimport { Variables } from \"@library/styles/Variables\";\n\n/**\n * @varGroup searchResults\n * @commonTitle Search Results\n * @description Controls search results\n */\nexport const searchResultsVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const makeThemeVars = variableFactory(\"searchResults\");\n\n    const colors = makeThemeVars(\"colors\", {\n        /**\n         * @var searchResults.colors.fg\n         * @title Foreground Color\n         * @description Defaults to the globally set main foreground color.\n         * @type string\n         * @format hex-color\n         */\n        fg: globalVars.mainColors.fg,\n    });\n\n    const title = makeThemeVars(\"title\", {\n        /**\n         * @varGroup searchResults.title.font\n         * @commonTitle Search Results Font\n         * @expand font\n         */\n        font: Variables.font({\n            color: colors.fg,\n            size: globalVars.fonts.size.large,\n            weight: globalVars.fonts.weights.semiBold,\n            lineHeight: globalVars.lineHeights.condensed,\n        }),\n    });\n\n    const excerpt = makeThemeVars(\"excerpt\", {\n        /**\n         * @var searchResults.excerpt.fg\n         * @title Excerpt Color\n         * @description Excerpt foreground color. Defaults to the globally set foreground color.\n         * @type string\n         * @format hex-color\n         */\n        fg: globalVars.mainColors.fg,\n        /**\n         * @var searchResults.excerpt.margin\n         * @title Excerpt Margin\n         * @description Sets the margin of the excerpt\n         * @type string\n         */\n        margin: \"0.7em\",\n    });\n\n    const image = makeThemeVars(\"image\", {\n        border: {\n            /**\n             * @var searchResults.image.border.color\n             * @title Excerpt Image Border Color\n             * @description Sets the border color of the excerpt image\n             * @type string\n             * @format hex-color\n             */\n            color: globalVars.mixBgAndFg(0.1),\n        },\n    });\n\n    /**\n     * @varGroup searchResults.icon\n     * @commonTitle  Icon\n     */\n    const icon = makeThemeVars(\"icon\", {\n        /**\n         * @var searchResults.icon.size\n         * @title Size\n         * @description Sets the size of the icon\n         * @type number\n         */\n        size: 26,\n\n        /**\n         * @var searchResults.icon.bg\n         * @title Background Color\n         * @description Sets the background color of the icon\n         * @type string\n         * @format hex-color\n         */\n        bg: ColorsUtils.colorOut(globalVars.mixBgAndFg(0.1)),\n    });\n\n    /**\n     * @varGroup searchResults.separator\n     * @commonTitle  Separator\n     * @commonDescription Refers to the border of the result\n     */\n    const separator = makeThemeVars(\"separator\", {\n        /**\n         * @var searchResults.separator.fg\n         * @title Foreground color\n         * @description Sets the foreground color of the separator\n         * @type string\n         * @format hex-color\n         */\n        fg: globalVars.separator.color,\n        /**\n         * @var searchResults.separator.width\n         * @title Width\n         * @description Sets the width of the separator\n         * @type number\n         */\n        width: globalVars.separator.size,\n    });\n\n    const spacing = makeThemeVars(\"spacing\", {\n        /**\n         * @varGroup searchResults.spacing.padding\n         * @commonTitle Spacing: Padding\n         * @expand spacing\n         */\n        padding: globalVars.itemList.padding,\n    });\n\n    const mediaElement = makeThemeVars(\"mediaElement\", {\n        width: 190,\n        height: 106.875,\n        margin: 15,\n        compact: {\n            ratio: (9 / 16) * 100,\n        },\n    });\n\n    return {\n        colors,\n        title,\n        excerpt,\n        image,\n        separator,\n        spacing,\n        icon,\n        mediaElement,\n    };\n});\n\nexport const searchResultsClasses = useThemeCache((mediaQueries) => {\n    const vars = searchResultsVariables();\n    const globalVars = globalVariables();\n    const style = styleFactory(\"searchResults\");\n\n    const root = style({\n        display: \"block\",\n        position: \"relative\",\n        borderTop: singleBorder({\n            color: vars.separator.fg,\n            width: vars.separator.width,\n        }),\n        marginTop: negativeUnit(globalVars.gutter.half),\n        ...mediaQueries({\n            [LayoutTypes.TWO_COLUMNS]: {\n                oneColumnDown: {\n                    borderTop: 0,\n                },\n            },\n            [LayoutTypes.THREE_COLUMNS]: {\n                oneColumnDown: {\n                    borderTop: 0,\n                },\n            },\n        }),\n    });\n\n    const noResults = style(\"noResults\", {\n        fontSize: globalVars.userContent.font.sizes.default,\n    });\n\n    const item = style(\"item\", {\n        position: \"relative\",\n        display: \"block\",\n        userSelect: \"none\",\n        borderBottom: singleBorder({\n            color: vars.separator.fg,\n            width: vars.separator.width,\n        }) as BorderBottomProperty<TLength>,\n    });\n\n    const result = style(\"result\", {\n        position: \"relative\",\n        display: \"flex\",\n        alignItems: \"flex-start\",\n        width: percent(100),\n    });\n\n    return {\n        root,\n        noResults,\n        item,\n        result,\n    };\n});\n\nexport const searchResultClasses = useThemeCache((mediaQueries, hasIcon = false) => {\n    const vars = searchResultsVariables();\n    const globalVars = globalVariables();\n    const style = styleFactory(\"searchResult\");\n    const metaVars = metasVariables();\n\n    const linkColors = Mixins.clickable.itemState({ skipDefault: true });\n\n    const title = style(\"title\", {\n        display: \"block\",\n        ...Mixins.font(vars.title.font),\n        overflow: \"hidden\",\n        flexGrow: 1,\n        margin: 0,\n        paddingRight: styleUnit(24),\n        ...linkColors,\n    });\n\n    // This is so 100% is the space within the padding of the root element\n    const content = style(\"contents\", {\n        display: \"flex\",\n        alignItems: \"stretch\",\n        justifyContent: \"space-between\",\n        width: percent(100),\n        color: ColorsUtils.colorOut(vars.title.font.color),\n        ...mediaQueries({\n            [LayoutTypes.TWO_COLUMNS]: {\n                oneColumnDown: {\n                    flexWrap: \"wrap\",\n                },\n            },\n            [LayoutTypes.THREE_COLUMNS]: {\n                oneColumnDown: {\n                    flexWrap: \"wrap\",\n                },\n            },\n        }),\n    });\n\n    const root = style({\n        display: \"block\",\n        width: percent(100),\n        ...Mixins.padding(vars.spacing.padding),\n    });\n\n    const mediaWidth = vars.mediaElement.width + vars.mediaElement.margin;\n    const iconWidth = hasIcon ? vars.icon.size + (vars.spacing.padding.left as number) : 0;\n\n    const mainCompactStyles = {\n        ...{\n            \"&.hasMedia\": {\n                width: percent(100),\n            },\n            \"&.hasIcon\": {\n                width: calc(`100% - ${styleUnit(iconWidth)}`),\n            },\n            \"&.hasMedia.hasIcon\": {\n                width: calc(`100% - ${styleUnit(iconWidth)}`),\n            },\n        },\n    };\n\n    const main = style(\"main\", {\n        display: \"block\",\n        width: percent(100),\n        ...{\n            \"&.hasMedia\": {\n                width: calc(`100% - ${styleUnit(mediaWidth)}`),\n            },\n            \"&.hasIcon\": {\n                width: calc(`100% - ${styleUnit(iconWidth)}`),\n            },\n            \"&.hasMedia.hasIcon\": {\n                width: calc(`100% - ${styleUnit(mediaWidth + iconWidth)}`),\n            },\n            ...mediaQueries({\n                [LayoutTypes.TWO_COLUMNS]: {\n                    oneColumnDown: mainCompactStyles,\n                },\n                [LayoutTypes.THREE_COLUMNS]: {\n                    oneColumnDown: mainCompactStyles,\n                },\n            }),\n        },\n    });\n\n    const image = style(\"image\", {\n        ...objectFitWithFallback(),\n    });\n\n    const compactMediaElement = style(\"compactMediaElement\", {\n        ...{\n            [`.${image}`]: {\n                position: important(\"absolute\"),\n            },\n        },\n    });\n\n    const mediaElement = style(\"mediaElement\", {\n        position: \"relative\",\n        width: styleUnit(vars.mediaElement.width),\n        height: styleUnit(vars.mediaElement.height),\n        overflow: \"hidden\",\n        ...{\n            [`&.${compactMediaElement}`]: {\n                overflow: \"hidden\",\n                position: \"relative\",\n                marginTop: styleUnit(globalVars.gutter.size),\n                paddingTop: percent(vars.mediaElement.compact.ratio),\n                width: percent(100),\n            },\n        },\n    });\n\n    const attachmentCompactStyles: CSSObject = {\n        flexWrap: \"wrap\",\n        width: percent(100),\n        marginTop: styleUnit(12),\n    };\n\n    const attachments = style(\"attachments\", {\n        display: \"flex\",\n        flexWrap: \"nowrap\",\n        ...mediaQueries({\n            [LayoutTypes.TWO_COLUMNS]: {\n                oneColumnDown: attachmentCompactStyles,\n            },\n            [LayoutTypes.THREE_COLUMNS]: {\n                oneColumnDown: attachmentCompactStyles,\n            },\n        }),\n    });\n\n    const metas = style(\"metas\", {\n        marginTop: styleUnit(2),\n        ...Mixins.margin({\n            left: -metaVars.spacing.default,\n        }),\n        width: calc(`100% + ${styleUnit(metaVars.spacing.default * 2)}`),\n    });\n\n    const compactExcerpt = style(\"compactExcerpt\", {});\n\n    const excerpt = style(\"excerpt\", {\n        marginTop: styleUnit(vars.excerpt.margin),\n        color: ColorsUtils.colorOut(vars.excerpt.fg),\n        lineHeight: globalVars.lineHeights.excerpt,\n        ...{\n            [`&.${compactExcerpt}`]: {\n                ...Mixins.margin({\n                    top: globalVars.gutter.size,\n                    left: iconWidth,\n                }),\n            },\n        },\n    });\n\n    const link = style(\"link\", {\n        color: ColorsUtils.colorOut(globalVars.mainColors.fg),\n        ...linkColors,\n    });\n\n    const afterExcerptLink = style(\"afterExcerptLink\", {\n        ...Mixins.font(globalVars.meta.text),\n        ...linkColors,\n    });\n\n    const iconWrap = style(\"iconWrap\", {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        backgroundColor: ColorsUtils.colorOut(vars.icon.bg),\n        borderRadius: \"50%\",\n        width: styleUnit(vars.icon.size),\n        height: styleUnit(vars.icon.size),\n        cursor: \"pointer\",\n    });\n\n    const commentWrap = style(\"commentWrap\", {\n        display: \"flex\",\n        marginTop: styleUnit(globalVars.gutter.size),\n    });\n\n    return {\n        root,\n        main,\n        mediaElement,\n        compactMediaElement,\n        image,\n        title,\n        attachments,\n        metas,\n        excerpt,\n        compactExcerpt,\n        afterExcerptLink,\n        attachmentCompactStyles,\n        link,\n        iconWrap,\n        commentWrap,\n        content,\n    };\n});\n","/**\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license Proprietary\n */\n\nimport React from \"react\";\nimport classNames from \"classnames\";\nimport AttachmentIcons from \"@library/content/attachments/AttachmentIcons\";\nimport { t } from \"@library/utility/appUtils\";\nimport TruncatedText from \"@library/content/TruncatedText\";\nimport SmartLink from \"@library/routing/links/SmartLink\";\nimport { searchResultClasses, searchResultsClasses } from \"@library/features/search/searchResultsStyles\";\nimport { IAttachmentIcon } from \"@library/content/attachments/AttachmentIcon\";\nimport Paragraph from \"@library/layout/Paragraph\";\nimport { ICrumb } from \"@library/navigation/Breadcrumbs\";\nimport { useLayout } from \"@library/layout/LayoutContext\";\nimport { IUserCardInfo } from \"@library/features/users/ui/PopupUserCard\";\n\nexport interface IResult {\n    name: string;\n    className?: string;\n    meta?: React.ReactNode;\n    url: string;\n    excerpt?: string;\n    image?: string;\n    headingLevel?: 2 | 3;\n    attachments?: IAttachmentIcon[];\n    location: ICrumb[] | string[];\n    afterExcerpt?: React.ReactNode; // Likely SearchLink\n    icon?: React.ReactNode;\n    userCardInfo?: IUserCardInfo;\n    rel?: string;\n}\n\n/**\n * Generates search result list. Note that this template is used in other contexts, such as the flat category list\n */\nexport default function Result(props: IResult) {\n    const { name, className, meta, url, excerpt, image, headingLevel = 2, attachments, afterExcerpt, icon } = props;\n\n    const hasAttachments = attachments && attachments.length > 0;\n    const showImage = image && !hasAttachments;\n    const hasMedia = hasAttachments || showImage;\n    const layoutContext = useLayout();\n    const classesSearchResults = searchResultsClasses(layoutContext.mediaQueries);\n    const classes = searchResultClasses(layoutContext.mediaQueries, !!icon);\n    const imageComponent = showImage ? (\n        <img\n            src={image}\n            className={classNames(\"searchResult-image\", classes.image)}\n            alt={t(\"Thumbnail for: \" + name)}\n            aria-hidden={true}\n        />\n    ) : null;\n\n    let attachmentOutput;\n    if (hasAttachments && attachments) {\n        attachmentOutput = <AttachmentIcons attachments={attachments} />;\n    }\n    const HeadingTag = `h${headingLevel}` as \"h1\";\n\n    const { isCompact } = useLayout();\n\n    const media = hasMedia ? (\n        <div\n            className={classNames(classes.mediaElement, {\n                hasImage: showImage,\n                [classes.compactMediaElement]: isCompact,\n            })}\n        >\n            {showImage && imageComponent}\n            {attachmentOutput}\n        </div>\n    ) : null;\n\n    const excerptElement =\n        excerpt && excerpt.length > 0 ? (\n            <Paragraph className={classNames(classes.excerpt, { [classes.compactExcerpt]: isCompact })}>\n                <>\n                    <TruncatedText maxCharCount={160}>{excerpt}</TruncatedText>\n                    {afterExcerpt}\n                </>\n            </Paragraph>\n        ) : null;\n\n    return (\n        <li className={classNames(classesSearchResults.item, className)}>\n            <article className={classesSearchResults.result}>\n                <div className={classNames(classes.root)}>\n                    <div className={classes.content}>\n                        {icon && <div className={classes.iconWrap}>{icon}</div>}\n                        <div className={classNames(classes.main, { hasMedia: !!media, hasIcon: !!icon })}>\n                            <SmartLink to={url} tabIndex={0} className={classes.link} rel={props.rel}>\n                                <HeadingTag className={classes.title}>{name}</HeadingTag>\n                            </SmartLink>\n                            {meta && <div className={classes.metas}>{meta}</div>}\n                            {isCompact && media}\n                            {!isCompact && excerptElement}\n                        </div>\n                        {!isCompact && media}\n                        {isCompact && excerptElement}\n                    </div>\n                </div>\n            </article>\n        </li>\n    );\n}\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { important } from \"csx\";\nimport { Mixins } from \"@library/styles/Mixins\";\n\nexport const placesSearchListingVariables = useThemeCache(() => {\n    const makeThemeVars = variableFactory(\"placesSearchListing\");\n    const globalVars = globalVariables();\n\n    const colors = makeThemeVars(\"color\", {\n        fg: globalVars.meta.text.color,\n        hover: {\n            fg: globalVars.links.colors.active,\n        },\n        focus: {\n            fg: globalVars.links.colors.active,\n        },\n        active: {\n            fg: globalVars.links.colors.active,\n        },\n        deleted: globalVars.messageColors.deleted,\n    });\n\n    const iconSize = makeThemeVars(\"iconSize\", {\n        size: {\n            width: globalVars.icon.sizes.small,\n            height: globalVars.icon.sizes.small,\n        },\n    });\n    return {\n        iconSize,\n        colors,\n    };\n});\n\nexport const placesSearchListingClasses = useThemeCache(() => {\n    const style = styleFactory(\"placesSearchListing\");\n    const globalVars = globalVariables();\n    const vars = placesSearchListingVariables();\n    const linkColors = Mixins.clickable.itemState();\n\n    const container = style(\"container\", {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        flexWrap: \"wrap\",\n    });\n\n    const buttonIconContainer = style(\"buttonIconContainer\", {\n        display: \"flex\",\n        alignItems: \"center\",\n        ...vars.iconSize.size,\n    });\n\n    const link = style(\"link\", {\n        fontSize: important(globalVars.fonts.size.small),\n        display: important(\"flex\"),\n        alignItems: important(\"center\"),\n        color: ColorsUtils.colorOut(vars.colors.fg),\n        marginRight: styleUnit(24),\n        padding: \"6px 0\",\n        ...linkColors,\n    });\n\n    return {\n        container,\n        buttonIconContainer,\n        link,\n    };\n});\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { placesSearchListingClasses } from \"@library/search/placesSearchListing.styles\";\nimport { LoadingRectangle } from \"@library/loaders/LoadingRectangle\";\n\ninterface IProps {\n    count?: number;\n}\n\nexport function PlacesListingPlaceHolder(props: IProps) {\n    const { count = 8 } = props;\n\n    const classes = placesSearchListingClasses();\n    return (\n        <ul style={{ paddingTop: \"10px\" }} className={classes.container}>\n            {Array.from(new Array(count)).map((_, i) => {\n                return (\n                    <li style={{ display: \"flex\", alignItems: \"center\", paddingBottom: \"10px\" }} key={i}>\n                        <LoadingRectangle height={16} width={16} style={{ marginRight: 10, borderRadius: \"50%\" }} />\n                        <LoadingRectangle height={12} width={100} style={{ marginRight: 10 }} />\n                    </li>\n                );\n            })}\n        </ul>\n    );\n}\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { placesSearchListingClasses } from \"@library/search/placesSearchListing.styles\";\nimport { SearchService } from \"@library/search/SearchService\";\nimport { TypeQuestionIcon } from \"@library/icons/searchIcons\";\nimport { buttonUtilityClasses } from \"@library/forms/buttonStyles\";\nimport classNames from \"classnames\";\nimport SmartLink from \"@library/routing/links/SmartLink\";\n\nexport interface IPlacesSearchListingItem {\n    name: string;\n    type?: string;\n    url: string;\n    className?: string;\n    embedLinkClassName?: string;\n}\n\ninterface IPlacesSearchListingContainer {\n    items: IPlacesSearchListingItem[];\n}\n\nexport function PlacesSearchListingItem(props: IPlacesSearchListingItem) {\n    const { name, type, url, className, embedLinkClassName } = props;\n\n    const icon = SearchService.getSubType(type || \"\")?.icon || <TypeQuestionIcon />;\n\n    const classes = placesSearchListingClasses();\n    return (\n        <li key={name} className={className}>\n            <SmartLink\n                style={{ fontSize: \"small\" }}\n                to={url}\n                tabIndex={0}\n                className={classNames(embedLinkClassName, { [`${classes.link}`]: true })}\n            >\n                <span className={classNames(classes.buttonIconContainer, buttonUtilityClasses().buttonIconRightMargin)}>\n                    {icon}\n                </span>\n                {name}\n            </SmartLink>\n        </li>\n    );\n}\n\nexport function PlacesSearchListingContainer(props: IPlacesSearchListingContainer) {\n    const { items } = props;\n\n    const classes = placesSearchListingClasses();\n    return (\n        <ul className={classes.container}>\n            {items.map((item) => {\n                return <PlacesSearchListingItem key={item.name} {...item} />;\n            })}\n        </ul>\n    );\n}\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { LoadStatus } from \"@vanilla/library/src/scripts/@types/api/core\";\nimport { PlacesListingPlaceHolder } from \"@library/search/PlacesListingPlaceHolder\";\nimport { PLACES_DOMAIN_NAME } from \"@library/search/searchConstants\";\nimport { CoreErrorMessages } from \"@library/errorPages/CoreErrorMessages\";\nimport { PlacesSearchListingContainer } from \"@library/search/PlacesSearchListingContainer\";\nimport { useSearchForm } from \"@library/search/SearchContext\";\n\ninterface IProps {}\n\nexport default function PlacesSearchListing(props: IProps) {\n    const { domainSearchResults } = useSearchForm<{}>();\n\n    const results = domainSearchResults[PLACES_DOMAIN_NAME];\n    // To prevent situation when component is mounted but results not yet\n    // available\n    const status = (results && results.status) || LoadStatus.PENDING;\n\n    switch (status) {\n        case LoadStatus.PENDING:\n        case LoadStatus.LOADING:\n            return <PlacesListingPlaceHolder count={8} />;\n        case LoadStatus.ERROR:\n            return <CoreErrorMessages error={results.error} />;\n        case LoadStatus.SUCCESS:\n            const itemList = results.data?.results || [];\n            const items = itemList?.map((element) => {\n                const { type, name, url } = element;\n                return { type, name, url };\n            });\n            return <PlacesSearchListingContainer items={items} />;\n    }\n}\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport apiv2 from \"@library/apiv2\";\nimport { TypeAllIcon } from \"@library/icons/searchIcons\";\nimport SimplePagerModel from \"@library/navigation/SimplePagerModel\";\nimport { FilterPanelAll } from \"@library/search/panels/FilterPanelAll\";\nimport { SearchActions } from \"@library/search/SearchActions\";\nimport { DEFAULT_CORE_SEARCH_FORM, INITIAL_SEARCH_STATE, searchReducer } from \"@library/search/searchReducer\";\nimport { ISearchForm, ISearchRequestQuery, ISearchFormBase } from \"@library/search/searchTypes\";\nimport {\n    ALLOWED_GLOBAL_SEARCH_FIELDS,\n    ALL_CONTENT_DOMAIN_NAME,\n    MEMBERS_RECORD_TYPE,\n    MEMBERS_DOMAIN_NAME,\n    PLACES_DOMAIN_NAME,\n} from \"@library/search/searchConstants\";\nimport { t } from \"@vanilla/i18n\";\nimport React, { useCallback, useReducer } from \"react\";\nimport merge from \"lodash/merge\";\nimport Result from \"@library/result/Result\";\nimport { ISelectBoxItem } from \"@library/forms/select/SelectBox\";\nimport { useSearchScope } from \"@library/features/search/SearchScopeContext\";\nimport { getCurrentLocale } from \"@vanilla/i18n\";\nimport { SearchContext } from \"./SearchContext\";\nimport { SearchService, ISearchDomain } from \"./SearchService\";\nimport PlacesSearchListing from \"@library/search/PlacesSearchListing\";\n\ninterface IProps {\n    children?: React.ReactNode;\n}\n\nexport const SEARCH_LIMIT_DEFAULT = 10;\nexport const DOMAIN_SEARCH_LIMIT_DEFAULT = 10;\n\nexport function getGlobalSearchSorts(): ISelectBoxItem[] {\n    return [\n        {\n            content: t(\"Best Match\"),\n            value: \"relevance\",\n        },\n        {\n            content: t(\"Newest\"),\n            value: \"-dateInserted\",\n        },\n        {\n            content: t(\"Oldest\"),\n            value: \"dateInserted\",\n        },\n    ];\n}\n\nexport function SearchFormContextProvider(props: IProps) {\n    const [state, dispatch] = useReducer(searchReducer, INITIAL_SEARCH_STATE);\n\n    const getFilterComponentsForDomain = (domain: string) => {\n        return SearchService.extraFilters.map((extraFilter, i) => {\n            if (extraFilter.searchDomain === domain) {\n                return <React.Fragment key={i}>{extraFilter.filterNode}</React.Fragment>;\n            } else {\n                return null;\n            }\n        });\n    };\n\n    const hasPlacesDomain = SearchService.pluggableDomains.map((domain) => domain.key).includes(PLACES_DOMAIN_NAME);\n\n    const ALL_CONTENT_DOMAIN: ISearchDomain = {\n        key: ALL_CONTENT_DOMAIN_NAME,\n        name: t(\"All\"),\n        sort: 0,\n        icon: <TypeAllIcon />,\n        heading: hasPlacesDomain ? <PlacesSearchListing /> : null,\n        // To be called when performing a search in the current domain. We need to be aware of PLACES_DOMAIN_NAME\n        // here because the component <PlacesSearchListing /> is specific to Places Search and yet we want it in\n        // all domains and we want to make the query to the places domain\n        extraSearchAction: () => {\n            if (hasPlacesDomain) {\n                searchInDomain(PLACES_DOMAIN_NAME);\n            }\n        },\n        PanelComponent: FilterPanelAll,\n        getAllowedFields: () => {\n            return ALLOWED_GLOBAL_SEARCH_FIELDS;\n        },\n        getRecordTypes: () => {\n            // Gather all other domains, and return their types.\n            const allTypes: string[] = [];\n            for (const pluggableDomain of SearchService.pluggableDomains) {\n                allTypes.push(...pluggableDomain.getRecordTypes());\n            }\n\n            return allTypes.filter((t) => t !== MEMBERS_RECORD_TYPE);\n        },\n        getSortValues: getGlobalSearchSorts,\n        transformFormToQuery: (form: ISearchForm) => {\n            const query: ISearchRequestQuery = { ...form };\n            if (query.sort === \"relevance\") {\n                delete query.sort;\n            }\n            return query;\n        },\n        getDefaultFormValues: () => {\n            return {\n                sort: \"relevance\",\n            };\n        },\n        isIsolatedType: () => false,\n        ResultComponent: Result,\n    };\n\n    const getDomains = () => {\n        return [ALL_CONTENT_DOMAIN, ...SearchService.pluggableDomains];\n    };\n\n    const getCurrentDomain = (): ISearchDomain => {\n        return (\n            getDomains().find((pluggableDomain) => {\n                return pluggableDomain.key === state.form.domain;\n            }) ?? ALL_CONTENT_DOMAIN\n        );\n    };\n\n    const getDate = (form: ISearchFormBase): string | undefined => {\n        let dateInserted: string | undefined;\n        if (form.startDate && form.endDate) {\n            if (form.startDate === form.endDate) {\n                // Simple equality.\n                dateInserted = form.startDate;\n            } else {\n                // Date range\n                dateInserted = `[${form.startDate},${form.endDate}]`;\n            }\n        } else if (form.startDate) {\n            // Only start date\n            dateInserted = `>=${form.startDate}`;\n        } else if (form.endDate) {\n            // Only end date.\n            dateInserted = `<=${form.endDate}`;\n        }\n        return dateInserted;\n    };\n\n    const makeFilterForm = (form: ISearchFormBase): Partial<ISearchForm> => {\n        const currentDomain = getCurrentDomain();\n        const filterForm: Partial<ISearchForm> = {};\n        const allowedFields = [...ALL_CONTENT_DOMAIN.getAllowedFields(), ...currentDomain.getAllowedFields()];\n        for (const [key, value] of Object.entries(form)) {\n            if (allowedFields.includes(key)) {\n                filterForm[key] = value;\n            }\n        }\n        return filterForm;\n    };\n\n    const searchScope = useSearchScope();\n    const buildQuery = (form: ISearchForm): ISearchRequestQuery => {\n        const filterForm = makeFilterForm(form);\n        const currentDomain = getCurrentDomain();\n\n        const allowedSorts = currentDomain.getSortValues().map((val) => val.value);\n        const sort = allowedSorts.includes(form.sort) ? form.sort : undefined;\n\n        const commonQueryEntries: ISearchRequestQuery = {\n            page: form.page,\n            limit: SEARCH_LIMIT_DEFAULT,\n            dateInserted: getDate(form),\n            locale: getCurrentLocale(),\n            collapse: true,\n            ...currentDomain.transformFormToQuery(filterForm),\n            sort,\n        };\n        if (searchScope.value?.value) {\n            commonQueryEntries.scope = searchScope.value.value;\n        }\n\n        let finalQuery: ISearchRequestQuery;\n\n        if (currentDomain.key === MEMBERS_DOMAIN_NAME) {\n            finalQuery = {\n                ...commonQueryEntries,\n                scope: \"site\", // Force site domain for members.\n                recordTypes: [MEMBERS_RECORD_TYPE],\n                expand: [],\n            };\n        } else if (currentDomain.key === PLACES_DOMAIN_NAME) {\n            // No recordTypes, only types (from form)\n            finalQuery = {\n                ...commonQueryEntries,\n                expand: [\"breadcrumbs\", \"image\", \"excerpt\", \"-body\"],\n            };\n        } else if (currentDomain.hasSpecificRecord?.(form)) {\n            finalQuery = {\n                ...commonQueryEntries,\n                expand: [\"insertUser\", \"breadcrumbs\", \"image\", \"excerpt\", \"-body\"],\n            };\n        } else {\n            finalQuery = {\n                domain: form.domain,\n                ...commonQueryEntries,\n                insertUserIDs:\n                    form.authors && form.authors.length\n                        ? form.authors.map((author) => author.value as number)\n                        : undefined,\n                recordTypes: currentDomain.getRecordTypes(),\n                expand: [\"insertUser\", \"breadcrumbs\", \"image\", \"excerpt\", \"-body\"],\n            };\n        }\n\n        // Filter out empty fields.\n        Object.entries(finalQuery).forEach(([field, value]) => {\n            if (value === \"\") {\n                delete finalQuery[field];\n            }\n        });\n\n        return finalQuery;\n    };\n\n    const search = async () => {\n        const { form } = state;\n\n        dispatch(SearchActions.performSearchACs.started(form));\n\n        try {\n            const query = buildQuery(form);\n            const response = await apiv2.get(\"/search\", {\n                params: query,\n            });\n\n            dispatch(\n                SearchActions.performSearchACs.done({\n                    params: form,\n                    result: {\n                        results: response.data.map((item) => {\n                            item.body = item.excerpt ?? item.body;\n                            return item;\n                        }),\n                        pagination: SimplePagerModel.parseHeaders(response.headers),\n                    },\n                }),\n            );\n        } catch (error) {\n            dispatch(SearchActions.performSearchACs.failed({ params: form, error }));\n        }\n    };\n\n    const searchInDomain = async (domain: string) => {\n        const { form } = state;\n        const formWithDomain = { ...form, domain };\n\n        dispatch(SearchActions.performDomainSearchACs.started(formWithDomain));\n\n        const subTypes = SearchService.getSubTypes()\n            .filter((subType) => subType.domain === domain)\n            .map((subType) => subType.type);\n\n        try {\n            const query = buildQuery(formWithDomain);\n            const response = await apiv2.get(\"/search\", {\n                params: { ...query, limit: DOMAIN_SEARCH_LIMIT_DEFAULT, types: subTypes, recordTypes: [] },\n            });\n            dispatch(\n                SearchActions.performDomainSearchACs.done({\n                    params: formWithDomain,\n                    result: {\n                        results: response.data.map((item) => {\n                            item.body = item.excerpt ?? item.body;\n                            return item;\n                        }),\n                        pagination: SimplePagerModel.parseHeaders(response.headers),\n                    },\n                }),\n            );\n        } catch (error) {\n            dispatch(SearchActions.performDomainSearchACs.failed({ params: formWithDomain, error }));\n        }\n    };\n\n    const updateForm = useCallback((update: Partial<ISearchForm>) => {\n        dispatch(SearchActions.updateSearchFormAC(update));\n    }, []);\n\n    const resetForm = useCallback(() => {\n        dispatch(SearchActions.resetFormAC());\n    }, []);\n\n    const getDefaultFormValues = () => {\n        const domainDefaults = getDomains().map((domain) => domain.getDefaultFormValues());\n        const merged = merge({}, DEFAULT_CORE_SEARCH_FORM, ...domainDefaults);\n        return merged;\n    };\n\n    return (\n        <SearchContext.Provider\n            value={{\n                getFilterComponentsForDomain,\n                updateForm,\n                results: state.results,\n                domainSearchResults: state.domainSearchResults,\n                form: state.form,\n                search,\n                searchInDomain,\n                getDomains,\n                getCurrentDomain,\n                getDefaultFormValues,\n                resetForm,\n            }}\n        >\n            {props.children}\n        </SearchContext.Provider>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport qs from \"qs\";\n\n// The name of the custom event that we fire when an update happens.\nconst EVENT_NAME = \"X-Apply-Entry-Link-Parameters\";\n\ninterface IEntryLinkContext {\n    [key: string]: any;\n}\n\nconst context = React.createContext<IEntryLinkContext>({});\n\n/**\n * Context provider for applying arbitrary query parameters for entry urls.\n */\nexport const EntryLinkContextProvider = (props: { children: React.ReactNode }) => {\n    const [linkParams, setLinkParams] = useState({});\n\n    useEffect(() => {\n        // Listen for the event that occurs when contents are updated.\n        const handler = (e: CustomEvent) => {\n            setLinkParams(e.detail);\n        };\n\n        document.addEventListener(EVENT_NAME, handler);\n\n        return () => {\n            document.removeEventListener(EVENT_NAME, handler);\n        };\n    }, []);\n\n    return <context.Provider {...props} value={linkParams} />;\n};\n\n/**\n * Get the context value.\n */\nexport function useEntryLinkContext() {\n    return useContext(context);\n}\n\n/**\n * Update the current query parameters contexts.\n *\n * @param newParameters\n */\nexport function applyEntryLinkParameters(newParameters: IEntryLinkContext) {\n    document.dispatchEvent(new CustomEvent(EVENT_NAME, { detail: newParameters }));\n}\n\n/**\n * Get the current signin link.\n */\nexport function useSignInLink(): string {\n    const contextQuery = useEntryLinkContext();\n\n    const query = {\n        ...contextQuery,\n        target: window.location.href,\n    };\n\n    return `/entry/signin?${qs.stringify(query)}`;\n}\n\n/**\n * Get the current register link.\n */\nexport function useRegisterLink(): string {\n    const contextQuery = useEntryLinkContext();\n\n    const query = {\n        ...contextQuery,\n        target: window.location.href,\n    };\n\n    return `/entry/register?${qs.stringify(query)}`;\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nimport { DeviceProvider } from \"@library/layout/DeviceContext\";\nimport { FontSizeCalculatorProvider } from \"@library/layout/pageHeadingContext\";\nimport { ScrollOffsetProvider } from \"@library/layout/ScrollOffsetContext\";\nimport getStore from \"@library/redux/getStore\";\nimport { ICoreStoreState } from \"@library/redux/reducerRegistry\";\nimport { ThemeProvider } from \"@library/theming/ThemeProvider\";\nimport { getMeta } from \"@library/utility/appUtils\";\nimport React, { ComponentType, useMemo } from \"react\";\nimport { LiveAnnouncer } from \"react-aria-live\";\nimport { Provider } from \"react-redux\";\nimport { inheritHeightClass } from \"@library/styles/styleHelpers\";\nimport classNames from \"classnames\";\nimport { style } from \"@library/styles/styleShim\";\nimport { percent } from \"csx\";\nimport { LocaleProvider, ContentTranslationProvider } from \"@vanilla/i18n\";\nimport { SearchContextProvider } from \"@library/contexts/SearchContext\";\nimport { TitleBarDeviceProvider } from \"@library/layout/TitleBarContext\";\nimport { ErrorPage } from \"@library/errorPages/ErrorComponent\";\nimport { BannerContextProviderNoHistory } from \"@library/banner/BannerContext\";\nimport { SearchFormContextProvider } from \"@library/search/SearchFormContextProvider\";\nimport { EntryLinkContextProvider } from \"@library/contexts/EntryLinkContext\";\n\ninterface IProps {\n    children: React.ReactNode;\n    variablesOnly?: boolean;\n    noTheme?: boolean;\n    noWrap?: boolean;\n    errorComponent?: React.ReactNode;\n}\n\ntype Composable = ComponentType | [ComponentType, { [key: string]: any }];\n\nlet ExtraContextProviders: Composable[] = [];\n\nexport function registerContextProvider(provider: Composable) {\n    ExtraContextProviders.unshift(provider);\n}\n\nfunction composeProviders(providers: Composable[], children) {\n    return providers.reverse().reduce((acc, cur) => {\n        const [Provider, props] = Array.isArray(cur) ? [cur[0], cur[1]] : [cur, {}];\n        return <Provider {...props}>{acc}</Provider>;\n    }, children);\n}\n\n/**\n * Core provider set for running most Vanilla components.\n */\nexport function AppContext(props: IProps) {\n    const store = useMemo(() => getStore<ICoreStoreState>(), []);\n\n    const rootStyle = style({\n        label: \"appContext\",\n        width: percent(100),\n    });\n\n    const content = composeProviders(\n        [\n            [Provider, { store }],\n            LocaleProvider,\n            SearchContextProvider,\n            ContentTranslationProvider,\n            LiveAnnouncer,\n            [ScrollOffsetProvider, { scrollWatchingEnabled: false }],\n            [\n                ThemeProvider,\n                {\n                    disabled: props.noTheme,\n                    errorComponent: <ErrorPage />,\n                    themeKey: getMeta(\"ui.themeKey\", \"keystone\"),\n                    variablesOnly: props.variablesOnly,\n                },\n            ],\n            FontSizeCalculatorProvider,\n            ...ExtraContextProviders,\n            SearchFormContextProvider,\n            TitleBarDeviceProvider,\n            BannerContextProviderNoHistory,\n            EntryLinkContextProvider,\n            DeviceProvider,\n        ],\n        props.children,\n    );\n\n    if (props.noWrap) {\n        return content;\n    } else {\n        return <div className={classNames(\"js-appContext\", rootStyle, inheritHeightClass())}>{content}</div>;\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useFormGroup } from \"@dashboard/forms/DashboardFormGroupContext\";\nimport classNames from \"classnames\";\nimport { DashboardLabelType } from \"@dashboard/forms/DashboardFormLabel\";\nimport { t } from \"@vanilla/i18n\";\nimport { uploadFile } from \"@library/apiv2\";\nimport { IFieldError } from \"@library/@types/api/core\";\nimport ErrorMessages from \"@library/forms/ErrorMessages\";\nimport ButtonLoader from \"@vanilla/library/src/scripts/loaders/ButtonLoader\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\n\ninterface IProps {\n    value: string | null; // The image url\n    onChange: (newUrl: string) => void;\n    onImagePreview?: (tempImageUrl: string) => void;\n    className?: string;\n    placeholder?: string;\n    imageUploader?: typeof uploadFile;\n    disabled?: boolean;\n    errors?: IFieldError[];\n}\n\nexport function DashboardImageUpload(props: IProps) {\n    const { inputID, labelType } = useFormGroup();\n    const imageUploader = props.imageUploader || uploadFile;\n    const [isLoading, setIsLoading] = useState(false);\n    const [name, setName] = useState<string | null>(null);\n    const [uploadError, setUploadError] = useState<Error | null>(null);\n\n    // Used for stashing the URL we just uploaded so we don't wipe out our name in the next step.\n    const valueRef = useRef<string | null>(null);\n\n    useEffect(() => {\n        if (valueRef.current !== props.value) {\n            setName(null);\n        }\n    }, [props.value]);\n\n    const classes = classNames(\"form-control\", props.className);\n    const rootClass = labelType === DashboardLabelType.WIDE ? \"input-wrap-right\" : \"input-wrap\";\n\n    const fallbackName = props.value?.substring(props.value?.lastIndexOf(\"/\") + 1);\n\n    return (\n        <div className={rootClass}>\n            <label className=\"file-upload\">\n                <input\n                    key={`${isLoading}`}\n                    type=\"file\"\n                    id={inputID}\n                    className={classes}\n                    disabled={props.disabled}\n                    onChange={async (event) => {\n                        const file = event.target.files && event.target.files[0];\n                        if (!file) {\n                            return;\n                        }\n\n                        setIsLoading(true);\n                        setName(file.name);\n                        const tempUrl = URL.createObjectURL(file);\n                        props.onImagePreview && props.onImagePreview(tempUrl);\n\n                        // Upload the image.\n                        try {\n                            setUploadError(null);\n                            const uploaded = await imageUploader(file);\n                            valueRef.current = uploaded.url;\n                            props.onChange(uploaded.url);\n                            setIsLoading(false);\n                        } catch (e) {\n                            setUploadError(e);\n                            setIsLoading(false);\n                        }\n                    }}\n                />\n                <span className=\"file-upload-choose\">{name || fallbackName || props.placeholder || t(\"Choose\")}</span>\n                <span className=\"file-upload-browse\">\n                    {isLoading ? <ButtonLoader buttonType={ButtonTypes.DASHBOARD_PRIMARY} /> : t(\"Browse\")}\n                </span>\n            </label>\n            {props.errors && <ErrorMessages errors={props.errors} />}\n            {uploadError && (\n                <ErrorMessages errors={[{ message: uploadError.message, code: \"UploadError\", field: \"\" }]} />\n            )}\n        </div>\n    );\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { percent } from \"csx\";\n\nexport const smartAlignClasses = useThemeCache(() => {\n    const style = styleFactory(\"smartAlign\");\n\n    const root = style({\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: percent(100),\n    });\n\n    const inner = style(\"inner\", {\n        textAlign: \"left\",\n    });\n\n    return {\n        root,\n        inner,\n    };\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport classNames from \"classnames\";\nimport { smartAlignClasses } from \"@library/layout/smartAlignStyles\";\n\ninterface IProps {\n    className?: string;\n    children: React.ReactNode;\n    outerTag?: keyof JSX.IntrinsicElements;\n    innerTag?: keyof JSX.IntrinsicElements;\n}\n\nexport default class SmartAlign extends React.Component<IProps> {\n    public render() {\n        const Outer = this.props.outerTag || \"div\";\n        const Inner = this.props.outerTag || \"div\";\n        const classes = smartAlignClasses();\n        return (\n            <Outer className={classNames(\"smartAlign-outer\", this.props.className, classes.root)}>\n                <Inner className={classNames(\"smartAlign-inner\", classes.inner)}>{this.props.children}</Inner>\n            </Outer>\n        );\n    }\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport Button from \"@library/forms/Button\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport Frame from \"@library/layout/frame/Frame\";\nimport FrameBody from \"@library/layout/frame/FrameBody\";\nimport FrameFooter from \"@library/layout/frame/FrameFooter\";\nimport FrameHeader from \"@library/layout/frame/FrameHeader\";\nimport SmartAlign from \"@library/layout/SmartAlign\";\nimport ButtonLoader from \"@library/loaders/ButtonLoader\";\nimport Modal, { MODAL_CONTAINER_ID } from \"@library/modal/Modal\";\nimport ModalSizes from \"@library/modal/ModalSizes\";\nimport { t } from \"@library/utility/appUtils\";\nimport { getRequiredID, uniqueIDFromPrefix } from \"@library/utility/idUtils\";\nimport classNames from \"classnames\";\nimport React from \"react\";\nimport { frameBodyClasses } from \"@library/layout/frame/frameBodyStyles\";\nimport { frameFooterClasses } from \"@library/layout/frame/frameFooterStyles\";\n\ninterface IProps {\n    title: React.ReactNode; // required for accessibility\n    srOnlyTitle?: boolean;\n    className?: string;\n    onCancel?: (e: Event) => void;\n    onConfirm: (e: Event) => void;\n    confirmTitle?: string;\n    children: React.ReactNode;\n    isConfirmLoading?: boolean;\n    elementToFocusOnExit?: HTMLElement;\n    size?: ModalSizes;\n    isVisible: boolean;\n}\n\n/**\n * Basic confirm dialogue.\n */\nexport default class ModalConfirm extends React.Component<IProps> {\n    private cancelRef = React.createRef<HTMLButtonElement>();\n    private id = uniqueIDFromPrefix(\"confirmModal\");\n\n    public render() {\n        const { onConfirm, srOnlyTitle, isConfirmLoading, title, children, size } = this.props;\n        const onCancel = this.handleCancel;\n        const classesFrameBody = frameBodyClasses();\n        const classFrameFooter = frameFooterClasses();\n        return (\n            <Modal\n                isVisible={this.props.isVisible}\n                size={size ? size : ModalSizes.SMALL}\n                elementToFocus={this.cancelRef.current as HTMLElement}\n                exitHandler={onCancel}\n                titleID={this.titleID}\n                elementToFocusOnExit={this.props.elementToFocusOnExit}\n            >\n                <Frame\n                    header={\n                        <FrameHeader\n                            titleID={this.titleID}\n                            closeFrame={onCancel}\n                            srOnlyTitle={srOnlyTitle!}\n                            title={title}\n                        />\n                    }\n                    body={\n                        <FrameBody>\n                            <SmartAlign className={classNames(\"frameBody-contents\", classesFrameBody.contents)}>\n                                {children}\n                            </SmartAlign>\n                        </FrameBody>\n                    }\n                    footer={\n                        <FrameFooter justifyRight={true}>\n                            <Button\n                                className={classFrameFooter.actionButton}\n                                baseClass={ButtonTypes.TEXT}\n                                buttonRef={this.cancelRef}\n                                onClick={onCancel}\n                            >\n                                {t(\"Cancel\")}\n                            </Button>\n                            <Button\n                                className={classFrameFooter.actionButton}\n                                onClick={onConfirm}\n                                baseClass={ButtonTypes.TEXT_PRIMARY}\n                                disabled={isConfirmLoading}\n                            >\n                                {isConfirmLoading ? <ButtonLoader /> : this.props.confirmTitle || t(\"OK\")}\n                            </Button>\n                        </FrameFooter>\n                    }\n                />\n            </Modal>\n        );\n    }\n\n    private handleCancel = (e) => {\n        this.props.onCancel && this.props.onCancel(e);\n    };\n\n    public get titleID() {\n        return this.id + \"-title\";\n    }\n\n    public componentDidMount() {\n        this.forceUpdate();\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nimport { ILoadable, LoadStatus } from \"@library/@types/api/core\";\nimport { produce } from \"immer\";\nimport { reducerWithInitialState } from \"typescript-fsa-reducers\";\nimport ThemeActions from \"@library/theming/ThemeActions\";\nimport { useSelector } from \"react-redux\";\nimport { ICoreStoreState } from \"@library/redux/reducerRegistry\";\nimport { ThemeType, ITheme } from \"@library/theming/themeReducer\";\nimport { RecordID } from \"@vanilla/utils\";\n\nexport interface IThemesState {\n    themes: ILoadable<{\n        currentTheme: ITheme;\n        templates: ITheme[];\n        themes: ITheme[];\n    }>;\n    applyStatus: ILoadable<{ themeID: RecordID }>;\n    previewStatus: ILoadable<{ themeID: RecordID }>;\n    deleteThemeByID: {\n        [themeID: number]: ILoadable<{}>;\n    };\n}\n\nexport interface IThemesStoreState extends ICoreStoreState {\n    themeSettings: IThemesState;\n}\n\nconst DEFAULT_THEMES_STATE: IThemesState = {\n    themes: {\n        status: LoadStatus.PENDING,\n    },\n    applyStatus: {\n        status: LoadStatus.PENDING,\n    },\n    previewStatus: {\n        status: LoadStatus.PENDING,\n    },\n    deleteThemeByID: {},\n};\n\nexport const themeSettingsReducer = produce(\n    reducerWithInitialState<IThemesState>(DEFAULT_THEMES_STATE)\n        .case(ThemeActions.getAllThemes_ACS.started, (nextState, payload) => {\n            nextState.themes.status = LoadStatus.LOADING;\n            return nextState;\n        })\n        .case(ThemeActions.getAllThemes_ACS.done, (nextState, payload) => {\n            let currentTheme;\n            let templates: ITheme[] = [];\n            let themes: ITheme[] = [];\n\n            for (const theme of payload.result) {\n                if (theme.current) {\n                    currentTheme = theme;\n                }\n                if (theme.type === ThemeType.FS) {\n                    templates.push(theme);\n                } else {\n                    themes.push(theme);\n                }\n            }\n\n            nextState.themes.status = LoadStatus.SUCCESS;\n            nextState.themes.data = {\n                currentTheme,\n                templates,\n                themes,\n            };\n            return nextState;\n        })\n        .case(ThemeActions.getAllThemes_ACS.failed, (nextState, payload) => {\n            nextState.themes.status = LoadStatus.ERROR;\n            nextState.themes.error = payload.error;\n            return nextState;\n        })\n        .case(ThemeActions.putCurrentThemeACs.started, (nextState, payload) => {\n            nextState.applyStatus.status = LoadStatus.LOADING;\n            nextState.applyStatus.data = {\n                themeID: payload.themeID,\n            };\n            return nextState;\n        })\n        .case(ThemeActions.putCurrentThemeACs.done, (nextState, payload) => {\n            nextState.applyStatus.status = LoadStatus.SUCCESS;\n            nextState.applyStatus.error = undefined;\n\n            if (nextState.themes.data) {\n                nextState.themes.data.currentTheme = payload.result;\n\n                nextState.themes.data.themes = nextState.themes.data.themes.map((theme) => {\n                    return {\n                        ...theme,\n                        current: theme.themeID === payload.result.themeID,\n                    };\n                });\n\n                nextState.themes.data.templates = nextState.themes.data.templates.map((templates) => {\n                    return {\n                        ...templates,\n                        current: templates.themeID === payload.result.themeID,\n                    };\n                });\n            }\n\n            return nextState;\n        })\n        .case(ThemeActions.putCurrentThemeACs.failed, (nextState, payload) => {\n            nextState.applyStatus.status = LoadStatus.ERROR;\n            nextState.applyStatus.error = payload.error;\n            return nextState;\n        })\n        .case(ThemeActions.putPreviewThemeACs.started, (nextState, payload) => {\n            nextState.previewStatus.status = LoadStatus.LOADING;\n            nextState.previewStatus.data = {\n                themeID: payload.themeID,\n            };\n            return nextState;\n        })\n        .case(ThemeActions.putPreviewThemeACs.done, (nextState, payload) => {\n            nextState.previewStatus.status = LoadStatus.SUCCESS;\n            nextState.previewStatus.error = undefined;\n\n            return nextState;\n        })\n        .case(ThemeActions.putPreviewThemeACs.failed, (nextState, payload) => {\n            nextState.applyStatus.status = LoadStatus.ERROR;\n            nextState.applyStatus.error = payload.error;\n            return nextState;\n        })\n        .case(ThemeActions.deleteThemeACs.started, (nextState, payload) => {\n            nextState.deleteThemeByID[payload.themeID] = {\n                status: LoadStatus.LOADING,\n            };\n            return nextState;\n        })\n        .case(ThemeActions.deleteThemeACs.done, (nextState, payload) => {\n            nextState.deleteThemeByID[payload.params.themeID] = {\n                status: LoadStatus.SUCCESS,\n            };\n            if (nextState.themes.data) {\n                nextState.themes.data.themes = nextState.themes.data?.themes.filter((existingTemplate) => {\n                    if (existingTemplate.themeID === payload.params.themeID) {\n                        return false;\n                    } else {\n                        return true;\n                    }\n                });\n            }\n            return nextState;\n        })\n        .case(ThemeActions.deleteThemeACs.failed, (nextState, payload) => {\n            nextState.deleteThemeByID[payload.params.themeID] = {\n                status: LoadStatus.ERROR,\n                error: payload.error,\n            };\n            return nextState;\n        }),\n);\n\nexport function useThemeSettingsState() {\n    return useSelector((state: IThemesStoreState) => {\n        return state.themeSettings;\n    });\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { LoadStatus, ILoadable } from \"@library/@types/api/core\";\nimport { produce } from \"immer\";\nimport CategorySuggestionActions from \"@vanilla/addon-vanilla/categories/CategorySuggestionActions\";\nimport { reducerWithInitialState } from \"typescript-fsa-reducers\";\nimport clone from \"lodash/clone\";\nimport { ICategory } from \"@vanilla/addon-vanilla/@types/api/categories\";\n\nexport interface ICategoriesState {\n    suggestions: ILoadable<ICategory[]>;\n}\n\nconst INITIAL_STATE: ICategoriesState = {\n    suggestions: {\n        status: LoadStatus.PENDING,\n    },\n};\n\nexport const categoriesReducer = produce(\n    reducerWithInitialState(clone(INITIAL_STATE))\n        .case(CategorySuggestionActions.loadCategories.started, (nextState, payload) => {\n            nextState.suggestions.status = LoadStatus.LOADING;\n            return nextState;\n        })\n        .case(CategorySuggestionActions.loadCategories.done, (nextState, payload) => {\n            nextState.suggestions.status = LoadStatus.SUCCESS;\n            nextState.suggestions.data = payload.result;\n            return nextState;\n        })\n        .case(CategorySuggestionActions.loadCategories.failed, (nextState, payload) => {\n            nextState.suggestions.status = LoadStatus.ERROR;\n            nextState.suggestions.error = payload.error;\n            return nextState;\n        }),\n);\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { categoriesReducer } from \"@vanilla/addon-vanilla/categories/categoriesReducer\";\nimport { combineReducers } from \"redux\";\nimport { IForumState } from \"./state\";\n\nexport const forumReducer = combineReducers<IForumState>({\n    categories: categoriesReducer,\n});\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport Button from \"@library/forms/Button\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport { LeftChevronCompactIcon } from \"@library/icons/common\";\nimport { useBackRouting } from \"@library/routing/links/BackRoutingProvider\";\nimport backLinkClasses from \"@library/routing/links/backLinkStyles\";\nimport SmartLink from \"@library/routing/links/SmartLink\";\nimport { t } from \"@library/utility/appUtils\";\nimport classNames from \"classnames\";\nimport React from \"react\";\nimport { useHistory } from \"react-router\";\n\ninterface IProps {\n    ///\n    /// Routing options.\n    ///\n\n    /** The URL to navigate to if we can't do a dynamic browser back navigation. */\n    fallbackUrl?: string;\n\n    /** An action to if the component is clicked */\n    onClick?: (e: React.MouseEvent) => void;\n\n    ///\n    /// Display options\n    ///\n    /** Title contents for the backlink */\n    title?: React.ReactNode;\n\n    /** CSS class to apply to the container */\n    className?: string;\n\n    /** CSS class to apply to the contents. */\n    linkClassName?: string;\n\n    /** Whether or not to display the label visibly. */\n    visibleLabel?: boolean;\n\n    /** Optional extra class for chevron **/\n    chevronClass?: string;\n\n    /** Check history and hide if there's no where to go **/\n    hideIfNoHistory?: boolean;\n}\n\n/**\n * A link button for navigating backwards. Uses a back arrow icon.\n *\n * Render priority:\n * - Render a button w/ the provided click handler.\n * - Render a button that navigates back using (dynamic routing, uses real browser history back & preserves scroll).\n * - Render the a link to one of the following if we can't navigate back.\n *   - The `fallbackUrl` prop.\n *   - The site homepage.\n */\nexport default function BackLink(props: IProps) {\n    const history = useHistory();\n    const { canGoBack, backFallbackUrl, navigateBack } = useBackRouting();\n\n    const classes = backLinkClasses();\n    const className = classNames(classes.link, { hasVisibleLabel: !!props.visibleLabel }, props.linkClassName);\n    const title = props.title || t(\"Back\");\n\n    if (!canGoBack && props.hideIfNoHistory && !props.fallbackUrl) {\n        return null;\n    }\n\n    let content = (\n        <>\n            <LeftChevronCompactIcon className={classNames(classes.icon, props.chevronClass)} />\n            {props.visibleLabel && <span className={classes.label}>{title}</span>}\n        </>\n    );\n\n    if (props.onClick) {\n        content = (\n            <Button\n                baseClass={ButtonTypes.RESET}\n                className={className}\n                aria-label={title as string}\n                title={title as string}\n                onClick={props.onClick}\n            >\n                {content}\n            </Button>\n        );\n    } else if (canGoBack) {\n        // We can go back.\n        content = (\n            <Button\n                baseClass={ButtonTypes.RESET}\n                className={className}\n                aria-label={title as string}\n                title={title as string}\n                onClick={(event: React.MouseEvent) => {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    history.goBack();\n                }}\n            >\n                {content}\n            </Button>\n        );\n    } else {\n        content = (\n            <SmartLink\n                to={props.fallbackUrl ?? backFallbackUrl} // Only here for showing the URL on hover.\n                className={className}\n                aria-label={title as string}\n                title={title as string}\n                onClick={(event: React.MouseEvent) => {\n                    // We don't use a real link navigation.\n                    event.preventDefault();\n                    event.stopPropagation();\n                    navigateBack(props.fallbackUrl);\n                }}\n            >\n                {content}\n            </SmartLink>\n        );\n    }\n\n    return <div className={classNames(\"backLink\", classes.root, props.className)}>{content}</div>;\n}\n\nBackLink.defaultProps = {\n    visibleLabel: false,\n};\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nimport React from \"react\";\nimport { LeftChevronCompactIcon } from \"@library/icons/common\";\nimport { RouteComponentProps, useHistory } from \"react-router\";\nimport Button from \"@library/forms/Button\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport { t } from \"@library/utility/appUtils\";\nimport BackLink from \"@library/routing/links/BackLink\";\n\ninterface IProps {\n    showBackLink?: boolean;\n    title: string;\n    actionButtons?: React.ReactNode;\n    /** @deprecated use useFallbackBackUrl(\"/action\"); instead */\n    onBackClick?: () => void;\n}\n\nexport function DashboardHeaderBlock(props: IProps) {\n    const history = useHistory();\n    return (\n        <header className=\"header-block\">\n            <div className=\"title-block\">\n                {props.showBackLink && history && <BackLink aria-label={t(\"Return\")} onClick={props.onBackClick} />}\n                <h1>{props.title}</h1>\n            </div>\n            {props.actionButtons}\n        </header>\n    );\n}\n","import actionCreatorFactory from \"typescript-fsa\";\nimport ReduxActions, { bindThunkAction } from \"@library/redux/ReduxActions\";\nimport {\n    IRoleRequest,\n    IRoleRequestMeta,\n    RoleRequestStatus,\n    RoleRequestType,\n} from \"@dashboard/roleRequests/state/roleRequestTypes\";\nimport { IApiError } from \"@library/@types/api/core\";\nimport { useDispatch } from \"react-redux\";\nimport apiv2 from \"@library/apiv2\";\nimport { useMemo } from \"react\";\n\nconst actionCreator = actionCreatorFactory(\"@@roleRequests\");\n\nexport interface IListRoleRequestsParams {\n    type: RoleRequestType;\n    status: RoleRequestStatus;\n    roleID?: number;\n    page?: number;\n    limit?: number;\n    offset?: number;\n    reloading?: boolean;\n    sort?: string;\n}\n\nexport interface IListRoleRequestMetasParams {\n    type: RoleRequestType;\n}\n\nexport interface IPatchRoleRequestParams {\n    roleRequestID: number;\n    status: RoleRequestStatus;\n}\n\nexport class RoleRequestActions extends ReduxActions {\n    public static readonly listRoleRequestsAC = actionCreator.async<IListRoleRequestsParams, IRoleRequest[], IApiError>(\n        \"LIST\",\n    );\n    public static patchRoleRequestAC = actionCreator.async<IPatchRoleRequestParams, IRoleRequest, IApiError>(\"PATCH\");\n    public static listRoleRequestMetasAC = actionCreator.async<{}, IRoleRequestMeta[], IApiError>(\"LIST_METAS\");\n\n    public listRoleRequests = (params: IListRoleRequestsParams) => {\n        const thunk = bindThunkAction(RoleRequestActions.listRoleRequestsAC, async () => {\n            const response = await this.api.get(\"/role-requests\", { params: { ...params, expand: \"all\" } });\n            return response.data;\n        })(params);\n        return this.dispatch(thunk);\n    };\n\n    public patchRoleRequest = (params: IPatchRoleRequestParams): Promise<IRoleRequest> => {\n        const thunk = bindThunkAction(RoleRequestActions.patchRoleRequestAC, async () => {\n            const response = await this.api.patch(`/role-requests/applications/${params.roleRequestID}`, params, {\n                params: { expand: \"all\" },\n            });\n            return response.data;\n        })(params);\n        return this.dispatch(thunk);\n    };\n\n    public listRoleRequestMetas = (params: IListRoleRequestMetasParams) => {\n        const thunk = bindThunkAction(RoleRequestActions.listRoleRequestMetasAC, async () => {\n            const response = await this.api.get(\"/role-requests/metas\", { params: { ...params, expand: \"all\" } });\n            return response.data;\n        })(params);\n        return this.dispatch(thunk);\n    };\n}\n\nexport function useRoleRequestActions() {\n    const dispatch = useDispatch();\n    return useMemo(() => new RoleRequestActions(dispatch, apiv2), [dispatch]);\n}\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license GPLv2-only\n */\n\nimport { Format, ILoadable, LoadStatus } from \"@vanilla/library/src/scripts/@types/api/core\";\nimport { IUserFragment } from \"@library/@types/api/users\";\nimport { IRoleFragment } from \"@dashboard/roles/roleTypes\";\n\n/**\n * A role request role.\n */\nexport interface IRoleRequest {\n    roleRequestID: number;\n    type: RoleRequestType;\n    roleID: number;\n    role: IRoleFragment;\n    userID: number;\n    user: IUserFragment;\n    status: RoleRequestStatus;\n    dateOfStatus?: string;\n    statusUserID?: number;\n    dateExpires: string | null;\n    attributes: BasicAttributes;\n    dateInserted: string;\n}\n\nexport type BasicType = string | number | boolean | null;\nexport type BasicAttributes = { string: BasicType };\n\n/**\n * A role request meta row.\n */\nexport interface IRoleRequestMeta {\n    roleID: number;\n    role: IRoleFragment;\n    type: RoleRequestType;\n    name: string;\n    body: string;\n    format: Format;\n    attributesSchema: AnyObject;\n}\n\n/**\n * The type of role request.\n */\nexport enum RoleRequestType {\n    APPLICATION = \"application\",\n    INVITATION = \"invitation\",\n}\n\n/**\n * The status of a role request.\n */\nexport enum RoleRequestStatus {\n    PENDING = \"pending\",\n    APPROVED = \"approved\",\n    DENIED = \"denied\",\n}\n\nexport interface IRoleRequestStore {\n    roleRequests: IRoleRequestState;\n}\n\nexport interface ILoadableWithCount<T> extends ILoadable<T> {\n    count?: number;\n}\n\nexport interface IRoleRequestState {\n    roleRequests: ILoadableWithCount<IRoleRequest[]>;\n    roleRequestMetasByID: ILoadable<{\n        [id: number]: IRoleRequestMeta;\n    }>;\n    roleRequestPatchingByID: Record<number, ILoadable<null>>;\n}\n\nexport const INITIAL_ROLE_REQUEST_STATE: IRoleRequestState = {\n    roleRequests: {\n        status: LoadStatus.PENDING,\n    },\n    roleRequestMetasByID: {\n        status: LoadStatus.PENDING,\n    },\n    roleRequestPatchingByID: {},\n};\n","import { ILoadable, LoadStatus } from \"@library/@types/api/core\";\nimport {\n    ILoadableWithCount,\n    IRoleRequest,\n    IRoleRequestMeta,\n    IRoleRequestStore,\n} from \"@dashboard/roleRequests/state/roleRequestTypes\";\nimport { useSelector } from \"react-redux\";\nimport {\n    IListRoleRequestMetasParams,\n    IListRoleRequestsParams,\n    useRoleRequestActions,\n} from \"@dashboard/roleRequests/state/roleRequestActions\";\nimport { useEffect } from \"react\";\nimport { useLastValue } from \"@vanilla/react-utils/src\";\n\nexport function useRoleRequestsList(\n    params: IListRoleRequestsParams,\n    reloadOn: number = 0,\n): ILoadableWithCount<IRoleRequest[]> {\n    const roleRequests = useSelector((state: IRoleRequestStore) => state.roleRequests.roleRequests);\n    const { listRoleRequests } = useRoleRequestActions();\n\n    const lastParams = useLastValue(params);\n\n    useEffect(() => {\n        if (\n            roleRequests.status === LoadStatus.PENDING ||\n            lastParams?.roleID !== params.roleID ||\n            lastParams?.status !== params.status ||\n            lastParams?.offset !== params.offset\n        ) {\n            listRoleRequests(params);\n        } else if (\n            roleRequests.status === LoadStatus.SUCCESS &&\n            roleRequests.data &&\n            roleRequests.data.length <= reloadOn &&\n            roleRequests.count &&\n            params.limit &&\n            roleRequests.count >= params.limit\n        ) {\n            listRoleRequests({ ...params, reloading: true });\n        }\n    }, [listRoleRequests, roleRequests, params.roleID, params.status, params.offset]);\n\n    return roleRequests;\n}\n\nexport function useRoleRequestsState() {\n    return useSelector((state: IRoleRequestStore) => state.roleRequests);\n}\n\nexport function useRoleRequestMetasList(\n    params: IListRoleRequestMetasParams,\n): ILoadable<Record<number, IRoleRequestMeta>> {\n    const metas = useSelector((state: IRoleRequestStore) => state.roleRequests.roleRequestMetasByID);\n    const { listRoleRequestMetas } = useRoleRequestActions();\n\n    useEffect(() => {\n        if (metas.status === LoadStatus.PENDING) {\n            listRoleRequestMetas(params);\n        }\n    }, [listRoleRequestMetas, metas, params.type]);\n\n    return metas;\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\n\nexport enum TableColumnSize {\n    XS = \"column-xs\",\n    SM = \"column-sm\",\n    MD = \"column-md\",\n    LG = \"column-lg\",\n    XL = \"column-xl\",\n}\n\ninterface IProps {\n    size?: TableColumnSize;\n    children: React.ReactNode;\n    noCollapse?: boolean;\n}\n\nexport function DashboardTableHeadItem(props: IProps) {\n    const size = props.size || TableColumnSize.SM;\n    return (\n        <th className={size} data-tj-ignore={props.noCollapse ? true : undefined}>\n            {props.children}\n        </th>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { DashboardTableHeadItem } from \"@dashboard/tables/DashboardTableHeadItem\";\n\ninterface IProps {\n    head: React.ReactNode;\n    body: React.ReactNode;\n    verticalAlign?: boolean;\n}\n\nexport function DashboardTable(props: IProps) {\n    return (\n        <div className=\"table-wrap\">\n            <table className={\"table-data\" + (props.verticalAlign ? \" table-data-content\" : \"\")}>\n                <thead>{props.head}</thead>\n                <tbody>{props.body}</tbody>\n            </table>\n        </div>\n    );\n}\n\nDashboardTable.HeadItem = DashboardTableHeadItem;\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\n\ninterface IProps {\n    children: React.ReactNode;\n}\n\nexport function DashboardTableOptions(props: IProps) {\n    return (\n        <div className=\"options\">\n            <div className=\"btn-group\">{props.children}</div>\n        </div>\n    );\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport * as React from \"react\";\nimport classNames from \"classnames\";\nimport { flyoutPosition } from \"@rich-editor/flyouts/pieces/flyoutPosition\";\nimport { dropDownClasses } from \"@library/flyouts/dropDownStyles\";\nimport { TabHandler } from \"@vanilla/dom-utils\";\n\nexport interface IProps {\n    id: string;\n    className?: string;\n    children: React.ReactNode;\n    isVisible?: boolean;\n    renderAbove: boolean;\n    renderLeft: boolean;\n    renderCenter: boolean;\n    legacyMode?: boolean;\n    openAsModal?: boolean;\n    selfPadded?: boolean;\n    size: DropDownContentSize;\n    horizontalOffset?: boolean;\n    contentRef?: React.RefObject<HTMLDivElement>;\n}\n\nexport enum DropDownContentSize {\n    SMALL = \"small\",\n    MEDIUM = \"medium\",\n}\n\n/**\n * The contents of the flyouts (not the wrapper and not the button to toggle it).\n * Note that it renders an empty, hidden div when closed so that the aria-labelledby points to an element in the DOM.\n */\nexport default class DropDownContents extends React.Component<IProps> {\n    public render() {\n        const classes = dropDownClasses();\n        const asDropDownClasses = !this.props.openAsModal\n            ? classNames(\"dropDown-contents\", classes.contents, {\n                  isMedium: this.props.size === DropDownContentSize.MEDIUM,\n              })\n            : undefined;\n        const asModalClasses = this.props.openAsModal ? classNames(\"dropDown-asModal\", classes.asModal) : undefined;\n        if (this.props.openAsModal) {\n            return this.props.children;\n        }\n\n        return (\n            <div\n                ref={this.props.contentRef}\n                id={this.props.id}\n                className={classNames(asDropDownClasses, asModalClasses, this.props.className, {\n                    [classes.verticalPadding]: !this.props.selfPadded,\n                    [classes.contentOffsetCenter]: this.props.renderCenter,\n                    [classes.contentOffsetLeft]: this.props.horizontalOffset && this.props.renderLeft,\n                    [classes.contentOffsetRight]: this.props.horizontalOffset && !this.props.renderLeft,\n                })}\n                style={flyoutPosition(\n                    this.props.renderAbove,\n                    this.props.renderLeft,\n                    !!this.props.legacyMode,\n                    this.props.renderCenter,\n                )}\n                onClick={this.doNothing}\n                tabIndex={-1}\n                onMouseDown={this.forceTryFocus}\n            >\n                {this.props.children}\n            </div>\n        );\n    }\n\n    /**\n     * Our focus watcher has an exclusion for moving away focus when focus is moved to the body.\n     * This is standard behaviour on mousedown, if a non-focusable element is clicked.\n     *\n     * Unfortunately if this is rendered inside of a `content-editable`,\n     * the content editable will be focused instead of the body. This simple handler ensures that focus goes to the body\n     * if a non-focusable element is clicked inside a dropdown inside a content-editable.\n     */\n    private forceTryFocus = (e: React.MouseEvent) => {\n        if (e.target instanceof HTMLElement) {\n            if (!TabHandler.isTabbable(e.target)) {\n                // this.doNothing(e);\n                // this.selfRef.current && this.selfRef.current.focus();\n            }\n        }\n    };\n\n    private doNothing = (e: React.MouseEvent) => {\n        e.stopPropagation();\n        e.nativeEvent.stopPropagation();\n        e.nativeEvent.stopImmediatePropagation();\n    };\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\n/*\n * Utility function to get positioning of flyout based on props.\n * @param renderAbove - Render flyout above button\n * @param renderLeft - Render flyout towards left\n * @ignore ignore - Do nothing - for legacy\n */\nexport function flyoutPosition(\n    renderAbove: boolean,\n    renderLeft: boolean,\n    ignore: boolean = false,\n    centered = false,\n): any {\n    if (!ignore) {\n        const top = !renderAbove ? \"100%\" : undefined;\n        const bottom = renderAbove ? \"100%\" : undefined;\n        const left = !renderLeft && !centered ? \"0\" : centered ? \"50%\" : undefined;\n        const right = renderLeft && !centered ? \"0\" : undefined;\n        return { top, right, bottom, left };\n    } else {\n        return undefined;\n    }\n}\n","/**\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { dropDownClasses } from \"@library/flyouts/dropDownStyles\";\nimport Button from \"@library/forms/Button\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport Modal from \"@library/modal/Modal\";\nimport ModalSizes from \"@library/modal/ModalSizes\";\nimport { t } from \"@library/utility/appUtils\";\nimport classNames from \"classnames\";\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { useFocusWatcher, useEscapeListener } from \"@vanilla/react-utils\";\nimport ScreenReaderContent from \"@library/layout/ScreenReaderContent\";\n\nexport interface IFlyoutToggleChildParameters {\n    id: string;\n    handleID: string;\n    isVisible: boolean;\n    closeMenuHandler(event?: React.SyntheticEvent<any>);\n    renderAbove?: boolean;\n    renderLeft?: boolean;\n}\n\ninterface IProps {\n    id: string;\n    name?: string;\n    contentID: string;\n    className?: string;\n    buttonContents: React.ReactNode;\n    disabled?: boolean;\n    children: (props: IFlyoutToggleChildParameters) => JSX.Element;\n    onClose?: () => void;\n    buttonBaseClass: ButtonTypes;\n    buttonClassName?: string;\n    isVisible?: boolean;\n    onVisibilityChange?: (isVisible: boolean) => void;\n    renderAbove?: boolean;\n    renderLeft?: boolean;\n    toggleButtonClassName?: string;\n    buttonRef?: React.RefObject<HTMLButtonElement>;\n    openAsModal: boolean;\n    initialFocusElement?: HTMLElement | null;\n    tag?: string;\n}\n\nexport default function FlyoutToggle(props: IProps) {\n    const { initialFocusElement, onVisibilityChange, onClose, id, contentID } = props;\n\n    // Focus management & visibility\n    const ownButtonRef = useRef<HTMLButtonElement>(null);\n    const buttonRef = props.buttonRef || ownButtonRef;\n\n    const controllerRef = useRef<HTMLDivElement>(null);\n    const [ownIsVisible, ownSetVisibility] = useState(false);\n    const isVisible = props.isVisible !== undefined ? props.isVisible : ownIsVisible;\n    const setVisibility = useCallback(\n        (visibility: boolean) => {\n            ownSetVisibility(visibility);\n            onVisibilityChange && onVisibilityChange(visibility);\n\n            // Kludge for interaction with old flyout system.\n            if (visibility && window.closeAllFlyouts) {\n                window.closeAllFlyouts();\n            }\n        },\n        [ownSetVisibility, onVisibilityChange],\n    );\n\n    useEffect(() => {\n        if (isVisible && initialFocusElement) {\n            // Focus the inital focusable element when we gain visibility.\n            if (initialFocusElement) {\n                initialFocusElement.focus();\n            }\n        }\n    }, [isVisible, initialFocusElement]);\n\n    /**\n     * Toggle Menu menu\n     */\n    const buttonClickHandler = useCallback(\n        (e) => {\n            e.stopPropagation();\n            setVisibility(!isVisible);\n            e.toElement.focus();\n        },\n        [isVisible, setVisibility],\n    );\n\n    useEffect(() => {\n        const buttonElement = buttonRef.current;\n        if (!buttonElement) {\n            return;\n        }\n        buttonElement.addEventListener(\"click\", buttonClickHandler);\n        return () => {\n            buttonElement.removeEventListener(\"click\", buttonClickHandler);\n        };\n    }, [buttonRef, buttonClickHandler]);\n\n    const closeMenuHandler = useCallback(\n        (event) => {\n            event.stopPropagation();\n            event.preventDefault();\n\n            onClose && onClose();\n\n            const { activeElement } = document;\n            const parentElement = controllerRef.current;\n\n            setVisibility(false);\n\n            if (parentElement && parentElement.contains(activeElement)) {\n                if (buttonRef.current) {\n                    buttonRef.current.focus();\n                    buttonRef.current.classList.add(\"focus-visible\");\n                }\n            }\n        },\n        [onClose, controllerRef, buttonRef, setVisibility],\n    );\n\n    const onKeyPress = (event: React.KeyboardEvent<any>) => {\n        switch (event.key) {\n            case \"Escape\":\n                closeMenuHandler(event);\n        }\n    };\n\n    /**\n     * Stop click propagation outside the flyout\n     */\n    const handleBlockEventPropagation = useCallback((e: React.SyntheticEvent) => {\n        e.stopPropagation();\n    }, []);\n\n    const handleFocusChange = (hasFocus: boolean) => {\n        if (!hasFocus) {\n            setVisibility(false);\n        }\n    };\n\n    // Focus handling\n    useFocusWatcher(controllerRef, handleFocusChange, props.openAsModal);\n    useEscapeListener({\n        root: controllerRef.current,\n        returnElement: buttonRef.current,\n        callback: closeMenuHandler,\n    });\n\n    const classes = dropDownClasses();\n    const buttonClasses = classNames(props.buttonClassName, props.toggleButtonClassName, {\n        isOpen: isVisible,\n    });\n\n    const childrenData: IFlyoutToggleChildParameters = {\n        id: contentID,\n        handleID: id,\n        isVisible: !!isVisible,\n        closeMenuHandler,\n        renderAbove: props.renderAbove,\n        renderLeft: props.renderLeft,\n    };\n\n    const classesDropDown = !props.openAsModal ? classNames(\"flyouts\", classes.root) : null;\n    const Tag = (props.tag ?? `div`) as \"div\";\n\n    const isContentVisible = !props.disabled && isVisible;\n    return (\n        <Tag\n            className={classNames(classesDropDown, props.className, {\n                asModal: props.openAsModal,\n            })}\n            ref={controllerRef}\n            onClick={handleBlockEventPropagation}\n        >\n            <Button\n                id={id}\n                className={buttonClasses}\n                title={props.name}\n                aria-label={\"name\" in props ? props.name : undefined}\n                aria-controls={contentID}\n                aria-expanded={isVisible}\n                aria-haspopup=\"true\"\n                disabled={props.disabled}\n                baseClass={props.buttonBaseClass}\n                buttonRef={buttonRef}\n            >\n                {props.name && <ScreenReaderContent>{props.name}</ScreenReaderContent>}\n                {props.buttonContents}\n            </Button>\n\n            <React.Fragment>\n                {props.openAsModal ? (\n                    <Modal\n                        id={contentID}\n                        label={t(\"title\")}\n                        size={ModalSizes.SMALL}\n                        exitHandler={closeMenuHandler}\n                        elementToFocusOnExit={buttonRef.current!}\n                        isVisible={isContentVisible}\n                        onKeyPress={onKeyPress}\n                    >\n                        {props.children(childrenData)}\n                    </Modal>\n                ) : (\n                    isContentVisible && props.children(childrenData)\n                )}\n            </React.Fragment>\n        </Tag>\n    );\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useRef, useState } from \"react\";\nimport DropDownContents, { DropDownContentSize } from \"@library/flyouts/DropDownContents\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport { useUniqueID } from \"@library/utility/idUtils\";\nimport { dropDownClasses } from \"@library/flyouts/dropDownStyles\";\nimport FlyoutToggle from \"@library/flyouts/FlyoutToggle\";\nimport classNames from \"classnames\";\nimport { Devices, useDevice } from \"@library/layout/DeviceContext\";\nimport { DropDownMenuIcon } from \"@library/icons/common\";\nimport FrameHeader from \"@library/layout/frame/FrameHeader\";\nimport { FrameHeaderMinimal } from \"@library/layout/frame/FrameHeaderMinimal\";\nimport { useMeasure } from \"@vanilla/react-utils\";\n\nimport ConditionalWrap from \"@library/layout/ConditionalWrap\";\n\nexport enum DropDownOpenDirection {\n    ABOVE_LEFT = \"aboveLeft\",\n    ABOVE_RIGHT = \"aboveRight\",\n    ABOVE_CENTER = \"aboveCenter\",\n    BELOW_LEFT = \"belowLeft\",\n    BELOW_RIGHT = \"belowRight\",\n    BELOW_CENTER = \"belowCenter\",\n    AUTO = \"auto\",\n    HIDDEN = \"hidden\",\n}\n\n// We can add more as we need, but for now, only this one is supported\nexport enum DropDownPreferredOpenDirections {\n    ABOVE_CENTER = \"aboveCenter\",\n}\n\ninterface IOpenDirectionProps {\n    openDirection?: DropDownOpenDirection;\n    preferredDirection?: DropDownPreferredOpenDirections;\n    renderAbove?: boolean; // @deprecated\n    renderLeft?: boolean; // @deprecated\n}\n\nexport interface IDropDownProps extends IOpenDirectionProps {\n    name?: string;\n    children: React.ReactNode;\n    className?: string;\n    describedBy?: string;\n    contentsClassName?: string;\n    buttonContents?: React.ReactNode;\n    buttonClassName?: string;\n    buttonBaseClass?: ButtonTypes;\n    disabled?: boolean;\n    toggleButtonClassName?: string;\n    initialFocusElement?: HTMLElement | null;\n    buttonRef?: React.RefObject<HTMLButtonElement>;\n    contentRef?: React.RefObject<HTMLDivElement>;\n    isVisible?: boolean;\n    onVisibilityChange?: (isVisible: boolean) => void;\n    openAsModal?: boolean;\n    title?: string;\n    mobileTitle?: string;\n    flyoutType: FlyoutType;\n    selfPadded?: boolean;\n    isSmall?: boolean;\n    handleID?: string;\n    contentID?: string;\n    horizontalOffset?: boolean;\n    tag?: string;\n    accessibleLabel?: string;\n}\n\nexport enum FlyoutType {\n    LIST = \"list\",\n    FRAME = \"frame\",\n}\n\nexport interface IState {\n    selectedText: string;\n}\n\n/**\n * Creates a drop down menu\n */\nexport default function DropDown(props: IDropDownProps) {\n    const device = useDevice();\n    const { title, preferredDirection } = props;\n    const mobileTitle = props.mobileTitle ?? title;\n    const classes = dropDownClasses();\n    const ContentTag = props.flyoutType === FlyoutType.FRAME ? \"div\" : \"ul\";\n    const openAsModal = props.openAsModal || device === Devices.MOBILE || device === Devices.XS;\n    const buttonRef = useRef<HTMLButtonElement>(null);\n    const contentRef = useRef<HTMLDivElement>(null);\n    const ownButtonRef = props.buttonRef ?? buttonRef;\n    const ownContentRef = props.contentRef ?? contentRef;\n    const ID = useUniqueID(\"flyout\");\n\n    const [ownIsVisible, setOwnIsVisible] = useState(false);\n    const isVisible = props.isVisible ?? (preferredDirection ? ownIsVisible : undefined);\n    const onVisibilityChange = props.onVisibilityChange ?? (preferredDirection ? setOwnIsVisible : undefined);\n\n    const buttonRect = useMeasure(ownButtonRef); // Dimensions of button\n    const contentRect = useMeasure(ownContentRef); // Dimensions of content\n\n    const openDirection = resolveOpenDirection({\n        props,\n        buttonRect,\n        contentRect,\n        dropDownID: ID,\n    });\n\n    const positionHidden = openDirection === DropDownOpenDirection.HIDDEN;\n\n    const handleID = props.handleID ?? ID + \"-handle\";\n    const contentID = props.contentID ?? ID + \"-contents\";\n\n    return (\n        <FlyoutToggle\n            id={handleID}\n            className={classNames(props.className)}\n            buttonBaseClass={props.buttonBaseClass || ButtonTypes.ICON}\n            name={props.name!}\n            buttonContents={props.buttonContents || <DropDownMenuIcon />}\n            buttonClassName={props.buttonClassName}\n            disabled={props.disabled}\n            buttonRef={ownButtonRef}\n            toggleButtonClassName={props.toggleButtonClassName}\n            isVisible={isVisible}\n            onVisibilityChange={onVisibilityChange}\n            openAsModal={openAsModal}\n            initialFocusElement={props.initialFocusElement}\n            tag={props.tag}\n            contentID={contentID}\n        >\n            {(params) => {\n                return (\n                    <ConditionalWrap\n                        condition={(!isVisible || positionHidden) && !openAsModal && !!preferredDirection}\n                        className={classes.positioning}\n                    >\n                        <DropDownContents\n                            {...params}\n                            contentRef={ownContentRef}\n                            id={contentID}\n                            className={classNames(props.contentsClassName)}\n                            renderCenter={[\n                                DropDownOpenDirection.ABOVE_CENTER,\n                                DropDownOpenDirection.BELOW_CENTER,\n                            ].includes(openDirection)}\n                            renderLeft={[DropDownOpenDirection.ABOVE_LEFT, DropDownOpenDirection.BELOW_LEFT].includes(\n                                openDirection,\n                            )}\n                            renderAbove={[\n                                DropDownOpenDirection.ABOVE_RIGHT,\n                                DropDownOpenDirection.ABOVE_LEFT,\n                                DropDownOpenDirection.ABOVE_CENTER,\n                            ].includes(openDirection)}\n                            openAsModal={openAsModal}\n                            selfPadded={\n                                props.selfPadded !== undefined\n                                    ? props.selfPadded\n                                    : props.flyoutType === FlyoutType.FRAME\n                            }\n                            size={\n                                props.flyoutType === FlyoutType.FRAME && !props.isSmall\n                                    ? DropDownContentSize.MEDIUM\n                                    : DropDownContentSize.SMALL\n                            }\n                            horizontalOffset={props.horizontalOffset}\n                        >\n                            {!openAsModal && title && (\n                                <FrameHeader title={title} closeFrame={params.closeMenuHandler} />\n                            )}\n                            {openAsModal && mobileTitle && (\n                                <FrameHeaderMinimal onClose={params.closeMenuHandler}>\n                                    {mobileTitle ?? title}\n                                </FrameHeaderMinimal>\n                            )}\n                            {openAsModal && props.flyoutType === FlyoutType.FRAME ? (\n                                props.children\n                            ) : (\n                                <ContentTag className={classNames(\"dropDownItems\", classes.items)}>\n                                    {props.children}\n                                </ContentTag>\n                            )}\n                        </DropDownContents>\n                    </ConditionalWrap>\n                );\n            }}\n        </FlyoutToggle>\n    );\n}\n\ninterface IResolveDirectionProps {\n    props: IOpenDirectionProps;\n    buttonRect: DOMRect;\n    contentRect: DOMRect;\n    setFlyoutHasPlacement?: (positioned: boolean) => void;\n    dropDownID: string;\n}\n\nconst resolveOpenDirection = (data: IResolveDirectionProps): DropDownOpenDirection => {\n    const { props, buttonRect, contentRect } = data;\n    let { renderAbove, renderLeft, preferredDirection, openDirection } = props;\n\n    if (preferredDirection && (contentRect.height === 0 || contentRect.width === 0)) {\n        return DropDownOpenDirection.HIDDEN;\n    }\n\n    // @deprecated, do not use these props anymore\n    if ((openDirection && renderAbove) || (openDirection && renderLeft)) {\n        throw new Error(\"`renderAbove` & `renderLeft` may not be used with `openDirection` in <DropDown />\");\n    }\n\n    // check for preferred positioning. We currently only support 1, but more can be added\n    if (preferredDirection && buttonRect.width !== 0 && contentRect.width !== 0) {\n        switch (preferredDirection) {\n            case DropDownPreferredOpenDirections.ABOVE_CENTER:\n                const topClearance = buttonRect.top;\n                const leftClearance = buttonRect.left;\n                const rightClearance = window.innerWidth - buttonRect.right;\n\n                const contentHalfWidth = contentRect.width / 2;\n                const contentHeight = contentRect.height;\n\n                renderAbove = topClearance >= contentHeight;\n\n                const renderCentered = contentHalfWidth <= leftClearance && contentHalfWidth <= rightClearance;\n\n                if (renderCentered) {\n                    if (renderAbove) {\n                        return DropDownOpenDirection.ABOVE_CENTER;\n                    } else {\n                        return DropDownOpenDirection.BELOW_CENTER;\n                    }\n                } // Else, we've just determined one direction. The left or right position is calculated below\n                break;\n        }\n    }\n\n    // Early bailout if we aren't auto.\n    if (props.openDirection === DropDownOpenDirection.AUTO || !renderAbove || !renderLeft) {\n        if (!renderAbove) {\n            const documentHeight = document.body.clientHeight;\n            const centerY = (buttonRect.top + buttonRect.bottom) / 2; // center Y position of button\n            renderAbove = centerY > documentHeight / 2;\n        }\n        if (!renderLeft) {\n            const documentWidth = document.body.clientWidth;\n            const centerX = (buttonRect.left + buttonRect.right) / 2; // center X position of button\n            renderLeft = centerX > documentWidth / 2;\n        }\n    } else if (props.openDirection) {\n        return props.openDirection;\n    }\n\n    if (renderAbove && renderLeft) {\n        return DropDownOpenDirection.ABOVE_LEFT;\n    } else if (renderAbove && !renderLeft) {\n        return DropDownOpenDirection.ABOVE_RIGHT;\n    } else if (!renderAbove && renderLeft) {\n        return DropDownOpenDirection.BELOW_LEFT;\n    } else if (!renderAbove && !renderLeft) {\n        return DropDownOpenDirection.BELOW_RIGHT;\n    }\n\n    // DEFAULT\n    return DropDownOpenDirection.BELOW_RIGHT;\n};\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nimport Button from \"@library/forms/Button\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport { CloseTinyIcon } from \"@library/icons/common\";\nimport { frameHeaderClasses } from \"@library/layout/frame/frameHeaderStyles\";\nimport classNames from \"classnames\";\nimport React from \"react\";\nimport ScreenReaderContent from \"@library/layout/ScreenReaderContent\";\nimport { t } from \"@vanilla/i18n/src\";\n\ninterface IProps {\n    children?: React.ReactNode;\n    onClose?: () => void;\n}\n\nexport function FrameHeaderMinimal(props: IProps) {\n    const classes = frameHeaderClasses();\n    return (\n        <header className={classNames(classes.root, classes.rootMinimal)}>\n            <h2 className={classNames(classes.centred, classes.headingMinimal)}>{props.children}</h2>\n            {props.onClose && (\n                <Button baseClass={ButtonTypes.ICON_COMPACT} onClick={props.onClose} className={classes.closeMinimal}>\n                    <ScreenReaderContent>{t(\"Close\")}</ScreenReaderContent>\n                    <CloseTinyIcon aria-hidden=\"true\" />\n                </Button>\n            )}\n        </header>\n    );\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport * as React from \"react\";\nimport classNames from \"classnames\";\nimport { dropDownClasses } from \"@library/flyouts/dropDownStyles\";\n\nexport interface IProps {\n    children: React.ReactNode;\n    className?: string;\n}\n\n/**\n * Generic wrap for items in DropDownMenu\n */\nexport default class DropDownItem extends React.Component<IProps> {\n    public render() {\n        const classes = dropDownClasses();\n        return <li className={classNames(this.props.className, classes.item)}>{this.props.children}</li>;\n    }\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport Button from \"@library/forms/Button\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport { dropDownClasses } from \"@library/flyouts/dropDownStyles\";\nimport classNames from \"classnames\";\nimport DropDownItem from \"@library/flyouts/items/DropDownItem\";\n\ninterface IProps {\n    name?: string;\n    className?: string;\n    buttonClassName?: string;\n    children?: React.ReactNode;\n    disabled?: boolean;\n    onClick: any;\n    current?: boolean;\n    lang?: string;\n    isActive?: boolean;\n    buttonRef?: React.RefObject<HTMLButtonElement>;\n    role?: string;\n}\n\n/**\n * Implements button type of item for DropDownMenu\n */\nexport default function DropDownItemButton(props: IProps) {\n    const { children, name, disabled = false } = props;\n    const buttonContent = children ? children : name;\n    const classes = dropDownClasses();\n    const defaultButtonClass = dropDownClasses().action;\n    const buttonClassName = classNames(\"dropDownItem-button\", props.buttonClassName ?? defaultButtonClass);\n    return (\n        <DropDownItem className={classNames(props.className)}>\n            <Button\n                buttonRef={props.buttonRef}\n                title={props.name}\n                onClick={props.onClick}\n                className={classNames(buttonClassName, classes.action, props.isActive && classes.actionActive)}\n                baseClass={ButtonTypes.CUSTOM}\n                disabled={disabled}\n                aria-current={props.current ? \"true\" : \"false\"}\n                lang={props.lang}\n                role={props.role}\n            >\n                {buttonContent}\n            </Button>\n        </DropDownItem>\n    );\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { dropDownClasses } from \"@library/flyouts/dropDownStyles\";\nimport DropDownItem from \"@library/flyouts/items/DropDownItem\";\nimport ModalLink from \"@library/modal/ModalLink\";\nimport SmartLink from \"@library/routing/links/SmartLink\";\nimport classNames from \"classnames\";\nimport { LocationDescriptor } from \"history\";\nimport React from \"react\";\nimport { CheckIcon, DropDownMenuIcon, CheckCompactIcon } from \"@library/icons/common\";\n\nexport interface IDropDownItemLink {\n    to: LocationDescriptor;\n    name?: string;\n    children?: React.ReactNode;\n    className?: string;\n    lang?: string;\n    isChecked?: boolean;\n    isActive?: boolean;\n}\n\n/**\n * Implements link type of item for DropDownMenu\n */\nexport default class DropDownItemLink extends React.Component<IDropDownItemLink> {\n    public render() {\n        const { children, name, className, to } = this.props;\n        const linkContents = children ? children : name;\n        const classes = dropDownClasses();\n        return (\n            <DropDownItem className={classNames(className, classes.item)}>\n                <SmartLink\n                    to={to}\n                    title={name}\n                    lang={this.props.lang}\n                    className={classNames(classes.action, this.props.isActive && classes.actionActive)}\n                >\n                    {linkContents}\n                    {this.props.isChecked && <CheckCompactIcon className={classes.check} aria-hidden={true} />}\n                </SmartLink>\n            </DropDownItem>\n        );\n    }\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { percent, px } from \"csx\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\n\nexport const selectBoxClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const style = styleFactory(\"selectBox\");\n\n    const toggle = style(\"toggle\", {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        textAlign: \"left\",\n        maxWidth: percent(100),\n        border: 0,\n        ...{\n            \"&.minimalStyles\": {\n                justifyContent: \"center\",\n                ...{\n                    \".selectBox-buttonIcon\": {\n                        marginRight: 0,\n                    },\n                },\n            },\n        },\n    });\n\n    const buttonItem = style(\"buttonItem\", {\n        display: \"flex\",\n        overflow: \"hidden\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        textAlign: \"left\",\n        maxWidth: percent(100),\n        lineHeight: globalVars.lineHeights.condensed,\n        paddingLeft: px(13.5),\n        ...{\n            \"&[disabled]\": {\n                opacity: 1,\n            },\n        },\n    });\n\n    const buttonIcon = style(\"buttonIcon\", {\n        marginRight: \"auto\",\n    });\n\n    const outdated = style(\"outdated\", {\n        marginLeft: \"auto\",\n        lineHeight: \"inherit\",\n        whiteSpace: \"nowrap\",\n    });\n\n    const dropDownContents = style(\"dropDownContents\", {\n        paddingTop: px(6),\n        paddingBottom: px(6),\n    });\n\n    const checkContainer = style(\"checkContainer\", {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        color: globalVars.mainColors.primary.toString(),\n        width: percent(100),\n        height: px(18),\n        flexBasis: px(18),\n        marginLeft: \"auto\",\n    });\n\n    const spacer = style(\"spacer\", {\n        display: \"block\",\n        width: px(18),\n        height: px(18),\n    });\n\n    const itemLabel = style(\"itemLabel\", {\n        display: \"block\",\n        flexGrow: 1,\n    });\n\n    const offsetPadding = style(\"offsetPadding\", {\n        paddingTop: styleUnit(0),\n        paddingBottom: styleUnit(0),\n    });\n\n    return {\n        toggle,\n        buttonItem,\n        buttonIcon,\n        outdated,\n        dropDownContents,\n        checkContainer,\n        spacer,\n        itemLabel,\n        offsetPadding,\n    };\n});\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport DropDown, { FlyoutType } from \"@library/flyouts/DropDown\";\nimport { dropDownClasses } from \"@library/flyouts/dropDownStyles\";\nimport DropDownItemButton from \"@library/flyouts/items/DropDownItemButton\";\nimport DropDownItemLink from \"@library/flyouts/items/DropDownItemLink\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport { selectBoxClasses } from \"@library/forms/select/selectBoxStyles\";\nimport { useUniqueID } from \"@library/utility/idUtils\";\nimport classNames from \"classnames\";\nimport React, { useState, useRef } from \"react\";\nimport ConditionalWrap from \"@library/layout/ConditionalWrap\";\nimport { NBSP, DownTriangleIcon, CheckCompactIcon } from \"@library/icons/common\";\n\nexport interface ISelectBoxItem {\n    value: string;\n    name?: string;\n    content?: React.ReactNode;\n    className?: string;\n    icon?: React.ReactNode;\n    url?: string;\n}\n\nexport interface ISelectBoxProps {\n    className?: string;\n    options: ISelectBoxItem[];\n    value?: ISelectBoxItem;\n    onChange?: (value: ISelectBoxItem) => void;\n    buttonClassName?: string;\n    buttonBaseClass?: ButtonTypes;\n    widthOfParent?: boolean;\n    openAsModal?: boolean;\n    renderLeft?: boolean;\n    offsetPadding?: boolean;\n    verticalPadding?: boolean;\n    describedBy: string;\n    labelWrap?: string; // conditional wrap around text to separate it from the icon.\n    horizontalOffset?: boolean;\n    afterButton?: React.ReactNode;\n    overwriteButtonContents?: React.ReactNode;\n}\n\n/**\n * Generates Select Box component (similar to a select)\n */\nexport default function SelectBox(props: ISelectBoxProps) {\n    const id = useUniqueID(\"selectBox\");\n    const firstValue = props.options.length > 0 ? props.options[0] : null;\n    const buttonRef = useRef<HTMLButtonElement | null>(null);\n    const [ownValue, setOwnValue] = useState(firstValue);\n    const {\n        renderLeft = true,\n        verticalPadding = true,\n        horizontalOffset = true,\n        afterButton,\n        overwriteButtonContents,\n    } = props;\n    const selectedOption = props.value || ownValue;\n    const [isVisible, setIsVisible] = useState(false);\n    const ignoreRef = useRef<boolean>(false);\n    const onChange = (value: ISelectBoxItem) => {\n        const funct = props.onChange || setOwnValue;\n        ignoreRef.current = true;\n        setIsVisible(false);\n        funct(value);\n        setTimeout(() => {\n            ignoreRef.current = false;\n        }, 2);\n    };\n\n    const classes = selectBoxClasses();\n    const classesDropDown = dropDownClasses();\n    return (\n        <div aria-describedby={props.describedBy} className={classNames(\"selectBox\", props.className)}>\n            <DropDown\n                isVisible={isVisible}\n                onVisibilityChange={(val) => {\n                    if (ignoreRef.current !== true) {\n                        if (!ignoreRef.current) {\n                            setIsVisible(val);\n                        }\n                    }\n                }}\n                key={selectedOption ? selectedOption.value : undefined}\n                buttonRef={buttonRef}\n                contentID={id + \"-content\"}\n                handleID={id + \"-handle\"}\n                className={classNames(\n                    \"selectBox-dropDown\",\n                    {\n                        \"dropDownItem-verticalPadding\": verticalPadding,\n                        [classesDropDown.verticalPadding]: verticalPadding,\n                    },\n                    { [classes.offsetPadding]: props.offsetPadding },\n                )}\n                buttonContents={\n                    <>\n                        <SelectBoxButton\n                            activeItem={selectedOption}\n                            labelWrap={props.labelWrap}\n                            overwriteButtonContents={overwriteButtonContents}\n                        />\n                        {afterButton}\n                    </>\n                }\n                buttonClassName={classNames(props.buttonClassName, classes.toggle)}\n                contentsClassName={classNames({ isParentWidth: props.widthOfParent })}\n                buttonBaseClass={props.buttonBaseClass}\n                openAsModal={props.openAsModal}\n                flyoutType={FlyoutType.LIST}\n                renderLeft={renderLeft}\n                horizontalOffset={horizontalOffset}\n            >\n                {props.options.map((option, i) => {\n                    const isSelected = selectedOption && option.value === selectedOption.value;\n                    return <SelectBoxItem key={i} item={option} isSelected={!!isSelected} onClick={onChange} />;\n                })}\n            </DropDown>\n        </div>\n    );\n}\n\nSelectBox.defaultProps = {\n    selectedIndex: 0,\n    buttonBaseClass: ButtonTypes.TEXT,\n};\n\nfunction SelectBoxButton(props: {\n    activeItem: ISelectBoxItem | null;\n    labelWrap?: string;\n    overwriteButtonContents?: React.ReactNode;\n}) {\n    const { activeItem, overwriteButtonContents } = props;\n    const classes = selectBoxClasses();\n\n    return activeItem && (activeItem.name || activeItem.content) ? (\n        <React.Fragment>\n            <ConditionalWrap tag={\"span\"} condition={!!props.labelWrap} className={props.labelWrap}>\n                {overwriteButtonContents ?? (activeItem.content || activeItem.name)}\n            </ConditionalWrap>\n            {NBSP}\n            <DownTriangleIcon className={classNames(\"selectBox-buttonIcon\", classes.buttonIcon)} />\n        </React.Fragment>\n    ) : null;\n}\n\nfunction SelectBoxItem(props: { item: ISelectBoxItem; isSelected: boolean; onClick: (item: ISelectBoxItem) => void }) {\n    const { item, isSelected, onClick } = props;\n    if (\"url\" in item) {\n        return (\n            <DropDownItemLink className={classNames({ isSelected: isSelected })} name={item.name} to={item.url || \"\"}>\n                <SelectBoxContents item={item} isSelected={isSelected} />\n            </DropDownItemLink>\n        );\n    } else {\n        const classes = selectBoxClasses();\n        const classesDropDown = dropDownClasses();\n        return (\n            <DropDownItemButton\n                className={classNames({ isSelected: isSelected })}\n                onClick={() => onClick(item)}\n                aria-current={isSelected}\n                buttonClassName={classNames(classesDropDown.action, classes.buttonItem)}\n            >\n                <SelectBoxContents item={item} isSelected={isSelected} />\n            </DropDownItemButton>\n        );\n    }\n}\n\nfunction SelectBoxContents(props: { item: ISelectBoxItem; isSelected: boolean }) {\n    const { item, isSelected } = props;\n    const classes = selectBoxClasses();\n\n    return (\n        <>\n            <span className={classNames(\"selectBox-itemLabel\", classes.itemLabel)}>{item.content || item.name}</span>\n            <span className={classNames(\"sc-only\", classes.checkContainer)}>\n                {isSelected && <CheckCompactIcon className={\"selectBox-isSelectedIcon\"} />}\n                {!isSelected && (\n                    <span className={classNames(\"selectBox-spacer\", classes.spacer)} aria-hidden={true}>\n                        {` `}\n                    </span>\n                )}\n                {item.icon}\n            </span>\n        </>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { Mixins } from \"@library/styles/Mixins\";\n\nexport const searchMiscellaneousComponentsVariables = useThemeCache(() => {\n    const makeThemeVars = variableFactory(\"searchComponents\");\n    const spacing = makeThemeVars(\"spacing\", {\n        margin: 12,\n    });\n    return {\n        spacing,\n    };\n});\n\nexport const searchMiscellaneousComponentsClasses = useThemeCache(() => {\n    const style = styleFactory(\"searchMiscellaneousComponents\");\n    const globalVars = globalVariables();\n    const vars = searchMiscellaneousComponentsVariables();\n\n    const root = style(\"root\", {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        marginBottom: styleUnit(vars.spacing.margin),\n    });\n\n    const sort = style(\"sort\", {\n        display: \"flex\",\n        ...Mixins.margin({\n            all: 0,\n            right: globalVars.gutter.size,\n        }),\n        flexGrow: 1,\n    });\n\n    const sortLabel = style(\"sortLabel\", {\n        alignSelf: \"center\",\n        marginRight: styleUnit(6),\n        ...Mixins.font({\n            color: globalVars.meta.text.color,\n            weight: globalVars.fonts.weights.normal,\n        }),\n    });\n\n    return {\n        root,\n        sort,\n        sortLabel,\n    };\n});\n","import SelectBox, { ISelectBoxItem } from \"@library/forms/select/SelectBox\";\nimport * as React from \"react\";\nimport { searchMiscellaneousComponentsClasses } from \"@library/search/searchMiscellaneousComponents.styles\";\nimport { useUniqueID } from \"@library/utility/idUtils\";\nimport { ILinkPages } from \"@library/navigation/SimplePagerModel\";\n\nexport interface IProps {\n    id: string;\n    label: string;\n    options?: ISelectBoxItem[];\n    value?: string;\n    onChange?: (newValue: string) => void;\n    pages?: ILinkPages;\n    alignRight?: boolean;\n}\n\nexport default function FilterDropDown(props: IProps) {\n    const classes = searchMiscellaneousComponentsClasses();\n    const id = useUniqueID(props.id);\n\n    const valueOption =\n        props.options?.find((option) => {\n            return option.value === props.value;\n        }) ?? undefined;\n\n    return (\n        <label className={classes.sort}>\n            <span id={id} className={classes.sortLabel}>{`${props.label}: `}</span>\n            <SelectBox\n                options={props.options ?? []}\n                value={valueOption}\n                onChange={(option) => {\n                    props.onChange?.(option.value);\n                }}\n                describedBy={id}\n                widthOfParent={false}\n                renderLeft={false}\n                className={classes.sort}\n            />\n        </label>\n    );\n}\n","import React, { useEffect, useState } from \"react\";\n\nexport function DashboardToolbar({ children, ...otherProps }) {\n    return (\n        <div className=\"toolbar flex-wrap js-toolbar-sticky\" {...otherProps}>\n            {children}\n        </div>\n    );\n}\n\nexport function DashboardToolbarButtons({ children, ...otherProps }) {\n    return (\n        <div className=\"toolbar-buttons\" {...otherProps}>\n            {children}\n        </div>\n    );\n}\n\nexport function DashboardPagerArea({ children, ...otherProps }) {\n    return (\n        <div className=\"pager-wrap\" {...otherProps}>\n            {children}\n        </div>\n    );\n}\n\ninterface DashboardSearchProps {\n    className?: string;\n    auto?: boolean;\n    onSearch(search: string): void;\n}\n\nexport function DashboardSearch(props: DashboardSearchProps) {\n    const { className, onSearch, auto, ...otherProps } = props;\n    const [search, setSearch] = useState<string | undefined>(undefined);\n\n    useEffect(() => {\n        if (auto && search !== undefined) {\n            const timeout = setTimeout(() => {\n                onSearch(search || \"\");\n            }, 500);\n            return () => clearTimeout(timeout);\n        }\n    }, [auto, search, onSearch]);\n\n    return (\n        <form className={className} onSubmit={() => onSearch(search || \"\")}>\n            <div className=\"search-wrap\">\n                <div className=\"search-icon-wrap search-icon-search-wrap\">\n                    <svg className=\"icon icon-svg icon-svg-search\" viewBox=\"0 0 17 17\">\n                        <use xlinkHref=\"#search\" />\n                    </svg>\n                </div>\n                <input className=\"form-control\" onChange={(e) => setSearch(e.target.value || \"\")} {...otherProps} />\n                <button type=\"submit\" className=\"search-submit\">\n                    Search\n                </button>\n                <div\n                    className=\"search-icon-wrap search-icon-clear-wrap\"\n                    onClick={() => {\n                        setSearch(\"\");\n                        onSearch(\"\");\n                    }}\n                >\n                    <svg className=\"icon icon-svg icon-svg-close\" viewBox=\"0 0 17 17\">\n                        <use xlinkHref=\"#close\" />\n                    </svg>\n                </div>\n            </div>\n        </form>\n    );\n}\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport qs from \"qs\";\nimport { withRouter, RouteComponentProps } from \"react-router\";\nimport isEqual from \"lodash/isEqual\";\nimport throttle from \"lodash/throttle\";\n\ninterface IStringMap {\n    [key: string]: any;\n}\n\ninterface IProps extends RouteComponentProps<any> {\n    value: IStringMap;\n    defaults?: IStringMap;\n    syncOnFirstMount?: boolean;\n}\n\n/**\n * Component for automatically peristing it's props into the window's querystring.\n */\nclass QueryString extends React.Component<IProps> {\n    public render(): React.ReactNode {\n        return null;\n    }\n\n    public componentDidMount() {\n        if (this.props.syncOnFirstMount) {\n            this.updateQueryString();\n        }\n    }\n\n    public componentDidUpdate(prevProps: IProps) {\n        if (\n            !isEqual(\n                this.getFilteredValue(prevProps.value, prevProps.defaults || {}),\n                this.getFilteredValue(this.props.value, this.props.defaults || {}),\n            )\n        ) {\n            this.updateQueryString();\n        }\n    }\n\n    /**\n     * Get a version of the query string object with only keys that have values.\n     */\n    private getFilteredValue(inputValue: IStringMap, defaults: IStringMap): IStringMap | null {\n        let filteredValue: IStringMap | null = null;\n\n        for (const [key, value] of Object.entries(inputValue)) {\n            if (value === null || value === undefined || value === \"\") {\n                continue;\n            }\n\n            if (key !== \"scope\" && defaults[key] === value) {\n                continue;\n            }\n\n            if (filteredValue === null) {\n                filteredValue = {};\n            }\n\n            filteredValue[key] = value;\n        }\n\n        return filteredValue;\n    }\n\n    /**\n     * Update the query string of the window.\n     *\n     * This is throttle and put in request animation frame so that it does not take priority over the UI.\n     */\n    private updateQueryString = throttle(() => {\n        const query = qs.stringify(this.getFilteredValue(this.props.value, this.props.defaults || {}));\n        this.props.history.replace({\n            ...this.props.location,\n            search: query,\n        });\n    }, 100);\n}\n\nexport default withRouter(QueryString);\n","import React from \"react\";\nimport { sprintf } from \"sprintf-js\";\nimport { t } from \"@vanilla/i18n/src\";\nimport classNames from \"classnames\";\nimport { LeftChevronIcon, RightChevronIcon } from \"@library/icons/common\";\n\ninterface IProps {\n    page: number;\n    pageCount?: number;\n    hasNext?: boolean;\n    onClick?: (page: number) => void;\n    disabled?: boolean;\n}\n\nexport function DashboardPager(props: IProps) {\n    const { page } = props;\n    const pageLabel = sprintf(props.pageCount ? t(\"Page %s of %s\") : t(\"Page %s\"), page, props.pageCount);\n    const hasNext = props.hasNext || (props.pageCount && page < props.pageCount);\n\n    const handleClick = (e, page: number) => {\n        e.preventDefault();\n        if (props.onClick) {\n            props.onClick(page);\n        }\n    };\n\n    return (\n        <div className=\"pager pager-react\">\n            <div className=\"pager-count\">{pageLabel}</div>\n            <nav className=\"btn-group\">\n                <a\n                    href=\"#\"\n                    className={classNames(\"pager-previous btn btn-icon-border\", {\n                        disabled: page === 1 || props.disabled,\n                    })}\n                    role=\"button\"\n                    onClick={(e) => handleClick(e, page - 1)}\n                >\n                    <LeftChevronIcon />\n                </a>\n                <a\n                    href=\"#\"\n                    className={classNames(\"pager-next btn btn-icon-border\", { disabled: !hasNext || props.disabled })}\n                    role=\"button\"\n                    onClick={(e) => handleClick(e, page + 1)}\n                >\n                    <RightChevronIcon />\n                </a>\n            </nav>\n        </div>\n    );\n}\n","import { ILoadable, LoadStatus } from \"@library/@types/api/core\";\nimport React, { ReactNode } from \"react\";\nimport { CoreErrorMessages, IAPIErrorFragment } from \"@library/errorPages/CoreErrorMessages\";\nimport Loader from \"@library/loaders/Loader\";\n\nexport function PageLoadStatus({\n    loadable,\n    children,\n}: {\n    loadable: ILoadable<any, IAPIErrorFragment>;\n    children: ReactNode;\n}) {\n    if (loadable.status === LoadStatus.ERROR) {\n        return <CoreErrorMessages apiError={loadable.error} />;\n    } else if (loadable.status === LoadStatus.SUCCESS && loadable.data !== undefined) {\n        return <>{children}</>;\n    } else {\n        return <Loader />;\n    }\n}\n","import { RouteComponentProps } from \"react-router-dom\";\nimport React, { useState } from \"react\";\nimport { t } from \"@vanilla/i18n\";\nimport { DashboardHeaderBlock } from \"@dashboard/components/DashboardHeaderBlock\";\nimport {\n    useRoleRequestMetasList,\n    useRoleRequestsList,\n    useRoleRequestsState,\n} from \"@dashboard/roleRequests/state/roleRequestHooks\";\nimport {\n    BasicAttributes,\n    BasicType,\n    ILoadableWithCount,\n    IRoleRequest,\n    IRoleRequestMeta,\n    RoleRequestStatus,\n    RoleRequestType,\n} from \"@dashboard/roleRequests/state/roleRequestTypes\";\nimport { DashboardTable } from \"@dashboard/tables/DashboardTable\";\nimport { TableColumnSize } from \"@dashboard/tables/DashboardTableHeadItem\";\nimport { DashboardTableOptions } from \"@dashboard/tables/DashboardTableOptions\";\nimport Button from \"@library/forms/Button\";\nimport { ApproveIcon, ErrorIcon, PendingIcon } from \"@library/icons/common\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport DateTime from \"@library/content/DateTime\";\nimport FilterDropDown from \"@library/dataLists/FilterDropDown\";\nimport { forceInt, labelize } from \"@vanilla/utils\";\nimport { DashboardPagerArea, DashboardToolbar, DashboardToolbarButtons } from \"@dashboard/components/DashboardToolbar\";\nimport QueryString from \"@library/routing/QueryString\";\nimport { LoadStatus } from \"@library/@types/api/core\";\nimport { useRoleRequestActions } from \"@dashboard/roleRequests/state/roleRequestActions\";\nimport { DashboardPager } from \"@dashboard/components/DashboardPager\";\nimport { PageLoadStatus } from \"@library/loaders/PageLoadStatus\";\n\ninterface IProps extends RouteComponentProps {}\n\nexport default function RoleApplicationsPage(props: IProps) {\n    return (\n        <>\n            <DashboardHeaderBlock title={t(\"Role Applicants\")} />\n            <RoleApplicationsBody {...props} />\n        </>\n    );\n}\n\ntype StatusButtonOnClick = (roleRequestID: number, status: RoleRequestStatus) => void;\n\n// The number of items to display in the queue.\nconst PAGE_DISPLAY_LIMIT = 10;\n// The number of items to request each limit.\nconst PAGE_LIMIT = 30;\n// The number of items left in the queue to trigger a reload.\nconst PAGE_RELOAD_LIMIT = 15;\n\nconst DEFAULT_PARAMS = {\n    type: RoleRequestType.APPLICATION,\n    roleID: undefined,\n    status: RoleRequestStatus.PENDING,\n    page: 1,\n    limit: PAGE_LIMIT,\n};\n\nfunction RoleApplicationsBody(props: IProps) {\n    const query = new URLSearchParams(props.location.search);\n    const [roleID, setRoleIDFilter] = useState(query.get(\"roleID\") ?? \"\");\n    const [status, setStatusFilter] = useState(query.get(\"status\") ?? RoleRequestStatus.PENDING);\n    const [page, setPage] = useState(forceInt(query.get(\"page\"), 1));\n\n    const params = {\n        type: DEFAULT_PARAMS.type,\n        roleID: roleID === \"\" ? DEFAULT_PARAMS.roleID : forceInt(roleID, 0),\n        status: status as RoleRequestStatus,\n        offset: (page - 1) * PAGE_DISPLAY_LIMIT,\n        limit: PAGE_LIMIT,\n    };\n    const sort = params.status === RoleRequestStatus.PENDING ? \"dateInserted\" : \"-dateOfStatus\";\n    const roleRequests = useRoleRequestsList({ ...params, sort }, PAGE_RELOAD_LIMIT);\n    const metas = useRoleRequestMetasList({ type: RoleRequestType.APPLICATION });\n\n    if (!metas.data) {\n        return <PageLoadStatus loadable={metas}>...</PageLoadStatus>;\n    }\n\n    const metaOptions = Object.values<IRoleRequestMeta>(metas.data).map((meta) => ({\n        value: meta.roleID.toString(),\n        name: meta.role.name,\n    }));\n    metaOptions.unshift({ value: \"\", name: t(\"All\") });\n\n    const statusOptions = [\n        { value: RoleRequestStatus.PENDING, name: t(\"Pending\") },\n        { value: RoleRequestStatus.APPROVED, name: t(\"Approved\") },\n        { value: RoleRequestStatus.DENIED, name: t(\"Denied\") },\n    ];\n\n    return (\n        <>\n            <QueryString value={{ ...params, offset: undefined, page }} defaults={DEFAULT_PARAMS} />\n            <DashboardToolbar>\n                <DashboardToolbarButtons>\n                    <FilterDropDown\n                        id=\"statusFilter\"\n                        label={t(\"Role Request Status\", \"Status\")}\n                        options={statusOptions}\n                        onChange={(s) => {\n                            setStatusFilter(s);\n                            setPage(1);\n                        }}\n                        value={status}\n                    />\n                    <FilterDropDown\n                        id=\"roleFilter\"\n                        label={t(\"Role\")}\n                        options={metaOptions}\n                        onChange={(id) => {\n                            setRoleIDFilter(id);\n                            setPage(1);\n                        }}\n                        value={roleID}\n                    />\n                </DashboardToolbarButtons>\n                {roleRequests && (\n                    <DashboardPagerArea>\n                        <DashboardPager\n                            page={page}\n                            hasNext={hasNextPage(roleRequests)}\n                            onClick={(newPage) => setPage(newPage)}\n                            disabled={!roleRequests.data}\n                        />\n                    </DashboardPagerArea>\n                )}\n            </DashboardToolbar>\n            <PageLoadStatus loadable={roleRequests}>\n                <RoleRequestTable roleRequests={roleRequests.data!} metas={metas.data} />\n            </PageLoadStatus>\n        </>\n    );\n}\n\nfunction hasNextPage(data: ILoadableWithCount<any>): boolean {\n    if (!data.count || !data.data) {\n        return false;\n    } else if (data.count! <= PAGE_LIMIT && data.data.length <= PAGE_DISPLAY_LIMIT) {\n        return false;\n    }\n    return true;\n}\n\nexport function RoleRequestTable({\n    roleRequests,\n    metas,\n}: {\n    roleRequests: IRoleRequest[];\n    metas: Record<number, IRoleRequestMeta>;\n}) {\n    const { HeadItem } = DashboardTable;\n\n    return (\n        <DashboardTable\n            verticalAlign={true}\n            head={\n                <tr>\n                    <HeadItem>{t(\"User\")}</HeadItem>\n                    <HeadItem>{t(\"Role\")}</HeadItem>\n                    <HeadItem size={TableColumnSize.XS}>{t(\"Date\")}</HeadItem>\n                    <HeadItem>{t(\"Attributes\")}</HeadItem>\n                    <HeadItem size={TableColumnSize.XS}>{t(\"Actions\")}</HeadItem>\n                </tr>\n            }\n            body={roleRequests.slice(0, PAGE_DISPLAY_LIMIT).map((request: IRoleRequest) => (\n                <tr key={request.userID}>\n                    <td>\n                        <a href={request.user?.url}>{request.user?.name}</a>\n                    </td>\n                    <td>{request.role?.name || t(\"Unknown\")}</td>\n                    <td>\n                        <DateTime timestamp={request.dateInserted} />\n                    </td>\n                    <td>\n                        <BasicSchemaAttributes attributes={request.attributes} meta={metas[request.roleID] ?? null} />\n                    </td>\n                    <td>\n                        <DashboardTableOptions>\n                            <RoleRequestButtons roleRequest={request} />\n                        </DashboardTableOptions>\n                    </td>\n                </tr>\n            ))}\n        />\n    );\n}\n\nfunction RoleRequestButtons({ roleRequest, onClick }: { roleRequest: IRoleRequest; onClick?: StatusButtonOnClick }) {\n    const { patchRoleRequest } = useRoleRequestActions();\n    // Look up a patching status.\n    const patching = useRoleRequestsState().roleRequestPatchingByID[roleRequest.roleRequestID];\n    const disabled = patching && patching.status === LoadStatus.LOADING;\n\n    if (roleRequest.status === RoleRequestStatus.APPROVED) {\n        return null;\n    }\n\n    const handleClick = (status: RoleRequestStatus) => {\n        patchRoleRequest({ roleRequestID: roleRequest.roleRequestID, status });\n        if (onClick) {\n            onClick(roleRequest.roleRequestID, status);\n        }\n    };\n\n    return (\n        <>\n            <Button\n                className=\"btn-icon\"\n                baseClass={ButtonTypes.ICON}\n                title={t(\"Approve\")}\n                disabled={disabled}\n                onClick={() => handleClick(RoleRequestStatus.APPROVED)}\n            >\n                <ApproveIcon />\n            </Button>\n            {roleRequest.status === RoleRequestStatus.PENDING && (\n                <Button\n                    className=\"btn-icon\"\n                    baseClass={ButtonTypes.ICON_COMPACT}\n                    title={t(\"Deny\")}\n                    disabled={disabled}\n                    onClick={() => handleClick(RoleRequestStatus.DENIED)}\n                >\n                    <ErrorIcon />\n                </Button>\n            )}\n            {roleRequest.status === RoleRequestStatus.DENIED && (\n                <Button\n                    className=\"btn-icon\"\n                    baseClass={ButtonTypes.ICON_COMPACT}\n                    title={t(\"Mark Pending\")}\n                    disabled={disabled}\n                    onClick={() => handleClick(RoleRequestStatus.PENDING)}\n                >\n                    <PendingIcon />\n                </Button>\n            )}\n        </>\n    );\n}\n\nfunction BasicSchemaAttributes({ attributes, meta }: { attributes: BasicAttributes; meta: IRoleRequestMeta }) {\n    return (\n        <dl>\n            {Object.entries(attributes).map(([key, value]) => {\n                const metaProperty = meta.attributesSchema?.properties[key];\n                let label = key;\n                if (metaProperty) {\n                    label = metaProperty[\"x-label\"] ?? label;\n                }\n                label = labelize(label);\n\n                return (\n                    <React.Fragment key={key}>\n                        <dt>{label}</dt>\n                        <dd>\n                            <BasicSchemaValue value={value} />\n                        </dd>\n                    </React.Fragment>\n                );\n            })}\n        </dl>\n    );\n}\n\nfunction BasicSchemaValue({ value }: { value: BasicType }) {\n    let str;\n    switch (typeof value) {\n        case \"boolean\":\n            str = value ? t(\"yes\") : t(\"no\");\n            break;\n        case \"object\":\n            str = value === null ? \"null\" : \"object\";\n            break;\n        default:\n            str = value.toString();\n    }\n    return <>{str}</>;\n}\n","import produce from \"immer\";\nimport { reducerWithInitialState } from \"typescript-fsa-reducers\";\nimport { INITIAL_ROLE_REQUEST_STATE, IRoleRequestState } from \"@dashboard/roleRequests/state/roleRequestTypes\";\nimport { RoleRequestActions } from \"@dashboard/roleRequests/state/roleRequestActions\";\nimport { LoadStatus } from \"@library/@types/api/core\";\nimport keyBy from \"lodash/keyBy\";\nimport { concatNewRows } from \"@vanilla/utils/src/apiUtils\";\n\nexport const RoleRequestReducer = produce(\n    reducerWithInitialState<IRoleRequestState>(INITIAL_ROLE_REQUEST_STATE)\n        // LIST\n        .case(RoleRequestActions.listRoleRequestsAC.started, (state, action) => {\n            if (action.reloading) {\n                // If we are reloading data on top of the current data then don't clear it out.\n                state.roleRequests.status = LoadStatus.LOADING;\n            } else {\n                state.roleRequests = {\n                    status: LoadStatus.LOADING,\n                };\n            }\n            return state;\n        })\n        .case(RoleRequestActions.listRoleRequestsAC.failed, (state, action) => {\n            state.roleRequests = {\n                status: LoadStatus.ERROR,\n                error: action.error,\n            };\n            return state;\n        })\n        .case(RoleRequestActions.listRoleRequestsAC.done, (state, payload) => {\n            if (state.roleRequests.data) {\n                concatNewRows(state.roleRequests.data, payload.result, (o) => o.roleRequestID);\n                state.roleRequests.status = LoadStatus.SUCCESS;\n                state.roleRequests.count = payload.result.length;\n            } else {\n                state.roleRequests = {\n                    status: LoadStatus.SUCCESS,\n                    data: payload.result,\n                    count: payload.result.length,\n                };\n            }\n            return state;\n        })\n        // PATCH\n        .case(RoleRequestActions.patchRoleRequestAC.started, (state, action) => {\n            state.roleRequestPatchingByID[action.roleRequestID] = {\n                status: LoadStatus.LOADING,\n            };\n            return state;\n        })\n        .case(RoleRequestActions.patchRoleRequestAC.failed, (state, action) => {\n            state.roleRequestPatchingByID[action.params.roleRequestID] = {\n                status: LoadStatus.ERROR,\n                error: action.error,\n            };\n            return state;\n        })\n        .case(RoleRequestActions.patchRoleRequestAC.done, (state, payload) => {\n            if (state.roleRequests.data) {\n                let i = state.roleRequests.data.findIndex(\n                    (rr) => rr.roleRequestID === payload.result.roleRequestID && rr.status !== payload.result.status,\n                );\n                state.roleRequests.data.splice(i, 1);\n            }\n            delete state.roleRequestPatchingByID[payload.params.roleRequestID];\n\n            return state;\n        })\n        // LIST_METAS\n        .case(RoleRequestActions.listRoleRequestMetasAC.started, (state, action) => {\n            state.roleRequestMetasByID = {\n                status: LoadStatus.LOADING,\n            };\n            return state;\n        })\n        .case(RoleRequestActions.listRoleRequestMetasAC.failed, (state, action) => {\n            state.roleRequestMetasByID = {\n                status: LoadStatus.ERROR,\n                error: action.error,\n            };\n            return state;\n        })\n        .case(RoleRequestActions.listRoleRequestMetasAC.done, (state, payload) => {\n            state.roleRequestMetasByID = {\n                status: LoadStatus.SUCCESS,\n                data: keyBy(payload.result, (o) => o.roleID),\n            };\n            return state;\n        }),\n);\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nexport enum TabsTypes {\n    STANDARD = \"tab-standard\",\n    BROWSE = \"tab-browse\",\n}\n","/**\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nexport function concatNewRows<T, K>(currentRows: T[], newRows: T[], pluck: (o: T) => K) {\n    const keys = new Map<K, T>();\n    currentRows.forEach((o) => {\n        keys.set(pluck(o), o);\n    });\n    newRows.forEach((r) => {\n        if (!keys.has(pluck(r))) {\n            currentRows.push(r);\n        }\n    });\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { styleFactory, variableFactory } from \"@library/styles/styleUtils\";\nimport { useThemeCache } from \"@library/styles/themeCache\";\nimport { negative, sticky, extendItemContainer, flexHelper, singleBorder } from \"@library/styles/styleHelpers\";\nimport { styleUnit } from \"@library/styles/styleUnit\";\nimport { userSelect } from \"@library/styles/styleHelpers\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\nimport { titleBarVariables } from \"@library/headers/TitleBar.variables\";\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { percent, viewHeight, calc, quote, color } from \"csx\";\nimport { TabsTypes } from \"@library/sectioning/TabsTypes\";\nimport { CSSObject } from \"@emotion/css\";\nimport { buttonResetMixin } from \"@library/forms/buttonMixins\";\nimport { ColorsUtils } from \"@library/styles/ColorsUtils\";\nimport { Mixins } from \"@library/styles/Mixins\";\n\ninterface IListOptions {\n    includeBorder?: boolean;\n    isLegacy?: boolean;\n}\n\nexport const tabsVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const titlebarVars = titleBarVariables();\n    const makeVars = variableFactory(\"onlineTabs\");\n\n    const colors = makeVars(\"colors\", {\n        bg: globalVars.mixBgAndFg(0.05),\n        fg: globalVars.mainColors.fg,\n        state: {\n            border: {\n                color: globalVars.mixPrimaryAndBg(0.5),\n            },\n            fg: globalVars.mainColors.primary,\n        },\n        selected: {\n            bg: globalVars.mainColors.primary.desaturate(0.3).fade(0.05),\n            fg: globalVars.mainColors.fg,\n        },\n    });\n\n    const border = makeVars(\"border\", {\n        width: globalVars.border.width,\n        color: globalVars.border.color,\n        radius: globalVars.border.radius,\n        style: globalVars.border.style,\n        active: {\n            color: globalVars.mixPrimaryAndBg(0.5),\n        },\n    });\n\n    const navHeight = makeVars(\"navHeight\", {\n        height: titlebarVars.sizing.height + 2 * globalVars.border.width,\n    });\n\n    const activeIndicator = makeVars(\"activeIndicator\", {\n        height: 3,\n        color: globalVars.mainColors.primary,\n    });\n\n    return {\n        colors,\n        border,\n        navHeight,\n        activeIndicator,\n    };\n});\n\nexport const tabStandardClasses = useThemeCache(() => {\n    const vars = tabsVariables();\n    const style = styleFactory(TabsTypes.STANDARD);\n    const mediaQueries = layoutVariables().mediaQueries();\n    const formElementVariables = formElementsVariables();\n    const globalVars = globalVariables();\n    const titleBarVars = titleBarVariables();\n\n    const root = useThemeCache(() =>\n        style(\n            {\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"stretch\",\n                height: calc(`100% - ${styleUnit(vars.navHeight.height)}`),\n            },\n            mediaQueries.oneColumnDown({\n                height: calc(`100% - ${styleUnit(titleBarVars.sizing.mobile.height)}`),\n            }),\n        ),\n    );\n\n    const tabsHandles = style(\"tabsHandles\", {\n        display: \"flex\",\n        position: \"relative\",\n        flexWrap: \"nowrap\",\n        alignItems: \"center\",\n        justifyContent: \"stretch\",\n        width: \"100%\",\n    });\n\n    const tabList = useThemeCache((options?: IListOptions) =>\n        style(\"tabList\", {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"stretch\",\n            background: ColorsUtils.colorOut(vars.colors.bg),\n            ...sticky(),\n            top: 0,\n            zIndex: 1,\n            // Offset for the outer borders.\n            ...{\n                \"button:first-child\": {\n                    borderLeft: 0,\n                },\n                \"button:last-child\": {\n                    borderRight: 0,\n                },\n            },\n            ...(options?.isLegacy\n                ? {\n                      width: `calc(100% + 36px)`,\n                      marginLeft: \"-18px\",\n                  }\n                : undefined),\n        }),\n    );\n\n    const tab = useThemeCache((largeTabs?: boolean, legacyButton?: boolean) =>\n        style(\n            \"tab\",\n            {\n                ...userSelect(),\n                position: \"relative\",\n                flex: 1,\n                fontWeight: globalVars.fonts.weights.semiBold,\n                textAlign: \"center\",\n                border: singleBorder({ color: color(\"#bfcbd8\") }),\n                borderTop: legacyButton ? \"none\" : undefined,\n                padding: \"2px 0\",\n                color: ColorsUtils.colorOut(vars.colors.fg),\n                backgroundColor: ColorsUtils.colorOut(vars.colors.bg),\n                minHeight: styleUnit(28),\n                fontSize: styleUnit(13),\n                transition: \"color 0.3s ease\",\n                ...flexHelper().middle(),\n                ...{\n                    \"& > *\": {\n                        ...Mixins.padding({ horizontal: globalVars.gutter.half }),\n                    },\n                    \"& + &\": {\n                        marginLeft: styleUnit(negative(vars.border.width)),\n                    },\n                    \"&[data-selected]\": {\n                        background: ColorsUtils.colorOut(globalVars.elementaryColors.white),\n                    },\n                    \"&:hover, &:focus, &:active\": {\n                        border: singleBorder({ color: color(\"#bfcbd8\") }),\n                        borderTop: legacyButton ? \"none\" : undefined,\n                        color: ColorsUtils.colorOut(globalVars.mainColors.primary),\n                        zIndex: 1,\n                    },\n                    \"&&:not(.focus-visible)\": {\n                        outline: 0,\n                    },\n                    \"&[disabled]\": {\n                        pointerEvents: \"initial\",\n                        color: ColorsUtils.colorOut(vars.colors.fg),\n                        backgroundColor: ColorsUtils.colorOut(vars.colors.bg),\n                    },\n                },\n            },\n\n            mediaQueries.oneColumnDown({\n                ...{\n                    label: {\n                        minHeight: styleUnit(formElementVariables.sizing.height),\n                        lineHeight: styleUnit(formElementVariables.sizing.height),\n                    },\n                },\n            }),\n        ),\n    );\n\n    const tabPanels = style(\"tabPanels\", {\n        flexGrow: 1,\n        height: percent(100),\n        flexDirection: \"column\",\n        position: \"relative\",\n    });\n\n    const panel = useThemeCache(() =>\n        style(\"panel\", {\n            flexGrow: 1,\n            height: percent(100),\n            flexDirection: \"column\",\n        }),\n    );\n\n    const isActive = style(\"isActive\", {\n        backgroundColor: ColorsUtils.colorOut(\n            ColorsUtils.modifyColorBasedOnLightness({\n                color: vars.colors.bg,\n                weight: 0.65,\n                inverse: true,\n                flipWeightForDark: true,\n            }),\n        ),\n    });\n\n    const extraButtons = style(\"extraButtons\", {});\n\n    return {\n        root,\n        tabsHandles,\n        tabList,\n        tab,\n        tabPanels,\n        panel,\n        isActive,\n        extraButtons,\n    };\n});\n\nexport const tabBrowseClasses = useThemeCache(() => {\n    const vars = tabsVariables();\n    const globalVars = globalVariables();\n    const style = styleFactory(TabsTypes.BROWSE);\n    const mediaQueries = layoutVariables().mediaQueries();\n\n    const horizontalPadding = 12;\n    const verticalPadding = globalVars.gutter.size / 2;\n    const activeStyles: CSSObject = {\n        \"::before\": {\n            content: quote(\"\"),\n            display: \"block\",\n            position: \"absolute\",\n            bottom: 0,\n            ...Mixins.margin({\n                vertical: 0,\n                horizontal: \"auto\",\n            }),\n            height: vars.activeIndicator.height,\n            backgroundColor: ColorsUtils.colorOut(vars.activeIndicator.color),\n            width: calc(`${percent(100)} - ${horizontalPadding * 2}px`),\n        },\n    };\n\n    const root = useThemeCache((extend?: boolean) =>\n        style({\n            ...(extend ? extendItemContainer(horizontalPadding) : {}),\n        }),\n    );\n    const tabPanels = style(\"tabPanels\", {});\n\n    const tabList = useThemeCache((options?: IListOptions) =>\n        style(\"tabList\", {\n            display: \"flex\",\n            flexWrap: \"wrap\",\n            borderBottom: options?.includeBorder\n                ? singleBorder({ color: globalVars.separator.color, width: globalVars.separator.size })\n                : undefined,\n        }),\n    );\n\n    const tab = useThemeCache((largeTabs?: boolean, legacyButton?: boolean) =>\n        style(\"tab\", {\n            ...buttonResetMixin(),\n            textTransform: largeTabs ? \"inherit\" : \"uppercase\",\n            fontSize: largeTabs ? globalVars.fonts.size.large : globalVars.fonts.size.small,\n            fontWeight: globalVars.fonts.weights.bold,\n            position: \"relative\",\n            ...Mixins.padding({\n                vertical: verticalPadding,\n                horizontal: horizontalPadding,\n            }),\n            ...Mixins.margin({\n                right: horizontalPadding,\n                bottom: \"-1px\",\n            }),\n            ...{\n                \"&:active\": activeStyles,\n            },\n        }),\n    );\n\n    const panel = useThemeCache((options?: { includeVerticalPadding?: boolean }) =>\n        style(\"panel\", {\n            ...Mixins.padding({\n                vertical: options?.includeVerticalPadding ? \"24px\" : 0,\n                horizontal: horizontalPadding,\n            }),\n        }),\n    );\n\n    const extraButtons = style(\n        \"extraButtons\",\n        {\n            ...Mixins.padding({ horizontal: horizontalPadding / 2, vertical: verticalPadding }),\n            flex: 1,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"flex-end\",\n        },\n        mediaQueries.oneColumnDown({\n            borderTop: singleBorder(),\n            width: \"100%\",\n            flex: \"1 0 auto\",\n            justifyContent: \"flex-start\",\n            ...Mixins.padding({\n                top: globalVars.gutter.size * 2, // For extra spacing from the mockup.\n                horizontal: horizontalPadding, // For proper alignment.\n            }),\n        }),\n    );\n\n    const isActive = style(\"isActive\", activeStyles);\n\n    return {\n        root,\n        tab,\n        tabPanels,\n        tabList,\n        panel,\n        isActive,\n        extraButtons,\n    };\n});\n","import React, { ReactElement, useState } from \"react\";\nimport { Tabs as ReachTabs, TabList, Tab, TabPanels, TabPanel } from \"@reach/tabs\";\nimport { tabStandardClasses, tabBrowseClasses } from \"@library/sectioning/tabStyles\";\nimport classNames from \"classnames\";\nimport { ToolTip, ToolTipIcon } from \"@library/toolTip/ToolTip\";\nimport { WarningIcon } from \"@library/icons/common\";\nimport { iconClasses } from \"@library/icons/iconStyles\";\nimport { TabsTypes } from \"@library/sectioning/TabsTypes\";\nimport { DomNodeAttacher } from \"@vanilla/react-utils\";\n\nexport interface ITabData {\n    label: string;\n    contents?: React.ReactNode;\n    contentNodes?: Node[];\n    error?: React.ReactNode;\n    warning?: React.ReactNode;\n    disabled?: boolean;\n    [extra: string]: any;\n}\ninterface IProps {\n    data: ITabData[];\n    tabType?: TabsTypes;\n    largeTabs?: boolean;\n    extendContainer?: boolean;\n    legacyButtons?: boolean;\n    onChange?: (newTab: ITabData) => void;\n    extraButtons?: React.ReactNode;\n    defaultTabIndex?: number;\n    includeBorder?: boolean;\n    includeVerticalPadding?: boolean;\n}\n\nexport function Tabs(props: IProps) {\n    const { data, tabType, defaultTabIndex, includeBorder = true, includeVerticalPadding = true } = props;\n    const [activeTab, setActiveTab] = useState(defaultTabIndex ?? 0);\n    const classes = tabType && tabType === TabsTypes.BROWSE ? tabBrowseClasses() : tabStandardClasses();\n\n    return (\n        <ReachTabs\n            index={activeTab}\n            className={classes.root(props.extendContainer)}\n            onChange={(index) => {\n                setActiveTab(index);\n                props.onChange?.(props.data[index]);\n            }}\n        >\n            <TabList className={classes.tabList({ includeBorder, isLegacy: props.legacyButtons })}>\n                {data.map((tab, index) => {\n                    const isActive = activeTab === index;\n                    return (\n                        <Tab\n                            key={index}\n                            className={classNames(classes.tab(props.largeTabs, props.legacyButtons), {\n                                [classes.isActive]: isActive,\n                            })}\n                            disabled={tab.disabled}\n                        >\n                            <div>{tab.label}</div>\n                            {(tab.error || tab.warning) && (\n                                <ToolTip label={tab.error || tab.warning}>\n                                    <ToolTipIcon>\n                                        <WarningIcon\n                                            className={\n                                                tab.error ? iconClasses().errorFgColor : iconClasses().warningFgColor\n                                            }\n                                        />\n                                    </ToolTipIcon>\n                                </ToolTip>\n                            )}\n                        </Tab>\n                    );\n                })}\n                {props.extraButtons && <div className={classes.extraButtons}>{props.extraButtons}</div>}\n            </TabList>\n            <TabPanels className={classes.tabPanels}>\n                {data.map((tab, index) => {\n                    return (\n                        <TabPanel className={classes.panel({ includeVerticalPadding })} key={index}>\n                            {tab.contents && tab.contents}\n                            {tab.contentNodes && <DomNodeAttacher nodes={tab.contentNodes} />}\n                        </TabPanel>\n                    );\n                })}\n            </TabPanels>\n        </ReachTabs>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useLayoutEffect, useState } from \"react\";\nimport { initAllUserContent } from \"@library/content\";\nimport { onContent, onReady } from \"@library/utility/appUtils\";\nimport { Router } from \"@library/Router\";\nimport { AppContext } from \"@library/AppContext\";\nimport { addComponent, disableComponentTheming } from \"@library/utility/componentRegistry\";\nimport { DashboardImageUploadGroup } from \"@dashboard/forms/DashboardImageUploadGroup\";\nimport { applySharedPortalContext, mountReact } from \"@vanilla/react-utils/src\";\nimport { ErrorPage } from \"@library/errorPages/ErrorComponent\";\nimport \"@library/theming/reset\";\nimport { SCROLL_OFFSET_DEFAULTS, ScrollOffsetContext } from \"@vanilla/library/src/scripts/layout/ScrollOffsetContext\";\nimport { registerReducer } from \"@vanilla/library/src/scripts/redux/reducerRegistry\";\nimport { roleReducer } from \"@dashboard/roles/roleReducer\";\nimport { themeSettingsReducer } from \"@library/theming/themeSettingsReducer\";\nimport { bodyCSS } from \"@vanilla/library/src/scripts/layout/bodyStyles\";\nimport { applyCompatibilityIcons } from \"@dashboard/compatibilityStyles/compatibilityIcons\";\nimport { forumReducer } from \"@vanilla/addon-vanilla/redux/reducer\";\nimport { Route } from \"react-router-dom\";\nimport RoleApplicationsPage from \"@dashboard/roleRequests/pages/RoleApplicationsPage\";\nimport { RoleRequestReducer } from \"@dashboard/roleRequests/state/roleRequestReducer\";\nimport { mountDashboardTabs } from \"@dashboard/forms/mountDashboardTabs\";\nimport { mountDashboardCodeEditors } from \"@dashboard/forms/DashboardCodeEditor\";\nimport { TextEditorContextProvider } from \"@vanilla/library/src/scripts/textEditor/TextEditor\";\nimport { WidgetFormGenerator } from \"@dashboard/widgets/WidgetFormGenerator\";\n\naddComponent(\"imageUploadGroup\", DashboardImageUploadGroup, { overwrite: true });\n\ndisableComponentTheming();\nonContent(() => initAllUserContent());\nregisterReducer(\"roles\", roleReducer);\nregisterReducer(\"themeSettings\", themeSettingsReducer);\nregisterReducer(\"forum\", forumReducer);\nregisterReducer(\"roleRequests\", RoleRequestReducer);\n\napplySharedPortalContext((props) => {\n    const [navHeight, setNavHeight] = useState(0);\n\n    useLayoutEffect(() => {\n        bodyCSS();\n        const navbar = document.querySelector(\".js-navbar\");\n        if (navbar) {\n            setNavHeight(navbar.getBoundingClientRect().height);\n        }\n    }, [setNavHeight]);\n    return (\n        <AppContext variablesOnly errorComponent={ErrorPage}>\n            <ScrollOffsetContext.Provider value={{ ...SCROLL_OFFSET_DEFAULTS, scrollOffset: navHeight }}>\n                <TextEditorContextProvider>{props.children}</TextEditorContextProvider>\n            </ScrollOffsetContext.Provider>\n        </AppContext>\n    );\n});\n\nRouter.addRoutes([\n    <Route exact path=\"/manage/requests/role-applications\" component={RoleApplicationsPage} key=\"roleApplications\" />,\n]);\n\n// Routing\naddComponent(\"App\", () => {\n    return <Router disableDynamicRouting />;\n});\n\nconst render = () => {\n    const app = document.querySelector(\"#app\") as HTMLElement;\n\n    if (app) {\n        mountReact(<Router disableDynamicRouting />, app);\n    } else {\n        applyCompatibilityIcons();\n    }\n};\nonReady(render);\n\nonContent(mountDashboardTabs);\nonContent(mountDashboardCodeEditors);\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useState } from \"react\";\nimport { uploadFile } from \"@library/apiv2\";\nimport { DashboardFormGroup } from \"@dashboard/forms/DashboardFormGroup\";\nimport { DashboardImageUpload } from \"@dashboard/forms/DashboardImageUpload\";\nimport Button from \"@library/forms/Button\";\nimport { ButtonTypes } from \"@library/forms/buttonTypes\";\nimport { t } from \"@vanilla/i18n\";\nimport { IFieldError } from \"@library/@types/api/core\";\nimport ModalConfirm from \"@library/modal/ModalConfirm\";\n\ninterface IProps {\n    // Controlled props.\n    value?: string | null; // The image url\n    onChange?: (newUrl: string | null) => void;\n\n    // Legacy input Props\n    fieldName?: string;\n    initialValue?: string;\n\n    // Common props.\n    label: string;\n    description?: React.ReactNode;\n    imageUploader?: typeof uploadFile;\n    disabled?: boolean;\n    errors?: IFieldError[];\n}\n\nexport function DashboardImageUploadGroup(props: IProps) {\n    const [previewUrl, setPreviewUrl] = useState<string | null>(null);\n    const [ownValue, ownOnChange] = useState<string | null>(props.initialValue || null);\n    const [wantsDelete, setWantsDelete] = useState(false);\n\n    const value = props.value ?? ownValue;\n    const onChange = props.onChange ?? ownOnChange;\n\n    const [originalValue] = useState(value);\n\n    const imagePreviewSrc = previewUrl || value;\n    const isStillOriginalValue = originalValue === value;\n    const undoTitle = isStillOriginalValue ? t(\"Delete\") : t(\"Undo\");\n\n    return (\n        <>\n            <DashboardFormGroup\n                label={props.label}\n                description={props.description}\n                afterDescription={\n                    imagePreviewSrc && (\n                        <>\n                            <div>{<img src={imagePreviewSrc} />}</div>\n                            <div>\n                                <Button\n                                    baseClass={ButtonTypes.TEXT_PRIMARY}\n                                    onClick={() => {\n                                        setPreviewUrl(null);\n                                        if (isStillOriginalValue) {\n                                            setWantsDelete(true);\n                                        } else {\n                                            onChange(originalValue);\n                                        }\n                                    }}\n                                    disabled={props.disabled}\n                                >\n                                    {undoTitle}\n                                </Button>\n                            </div>\n                        </>\n                    )\n                }\n            >\n                {props.fieldName && <input type=\"hidden\" value={value || \"\"} name={props.fieldName} />}\n                <DashboardImageUpload\n                    value={value}\n                    onChange={onChange}\n                    onImagePreview={setPreviewUrl}\n                    imageUploader={props.imageUploader}\n                    disabled={props.disabled}\n                    errors={props.errors}\n                />\n            </DashboardFormGroup>\n            <ModalConfirm\n                isVisible={wantsDelete}\n                title={t(\"Confirm Deletion\")}\n                onConfirm={() => {\n                    onChange(\"\");\n                    setWantsDelete(false);\n                }}\n                onCancel={() => {\n                    setWantsDelete(false);\n                }}\n            >\n                {t(\"Are you sure you want to delete this image? You won't be able to recover it.\")}\n            </ModalConfirm>\n        </>\n    );\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { DropDownMenuIcon, DocumentationIcon, BookmarkIcon } from \"@vanilla/library/src/scripts/icons/common\";\nimport { cssRule } from \"@library/styles/styleShim\";\nimport { important } from \"csx\";\nimport { iconClasses } from \"@library/icons/iconStyles\";\n\nexport function applyCompatibilityIcons(scope: HTMLElement | Document | undefined = document) {\n    if (scope === undefined) {\n        return;\n    }\n    // Cog Wheels\n    cssRule(\".Arrow.SpFlyoutHandle::before\", { display: important(\"none\") });\n\n    const cogWheels = scope.querySelectorAll(\".Arrow.SpFlyoutHandle:not(.compatIcons)\");\n    cogWheels.forEach((wheel) => {\n        wheel.classList.add(\"compatIcons\");\n        ReactDOM.render(<DropDownMenuIcon />, wheel);\n    });\n\n    const docLinks = scope.querySelectorAll(\"a.documentationLink\");\n    docLinks.forEach((doc) => {\n        doc.classList.add(\"compatIcons\");\n        ReactDOM.render(<DocumentationIcon />, doc);\n    });\n\n    // Bookmarks\n    cssRule(\".Content a.Bookmark::before\", {\n        display: important(\"none\"),\n    });\n\n    const bookmarks = scope.querySelectorAll(\".Bookmark:not(.compatIcons)\");\n    const bookmarkLinkClass = iconClasses().bookmark();\n    bookmarks.forEach((bookmark) => {\n        bookmark.classList.add(bookmarkLinkClass);\n        bookmark.classList.add(\"compatIcons\");\n        ReactDOM.render(<BookmarkIcon />, bookmark);\n    });\n}\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2020 Vanilla Forums Inc.\n * @license gpl-2.0-only\n */\n\nimport { ITabData, Tabs } from \"@vanilla/library/src/scripts/sectioning/Tabs\";\nimport { mountReact } from \"@vanilla/react-utils\";\nimport React from \"react\";\n\nexport function mountDashboardTabs() {\n    const toMount = document.querySelectorAll(\"[data-tabsReact]\");\n    toMount.forEach((tabRoot) => {\n        if (!(tabRoot instanceof HTMLElement)) {\n            return;\n        }\n        tabRoot.removeAttribute(\"data-tabsReact\");\n        const buttons = tabRoot.querySelectorAll(\"[data-tabButton]\");\n        const panels = tabRoot.querySelectorAll(\"[data-tabPanel]\");\n        const tabs: ITabData[] = [];\n\n        panels.forEach((panel, i) => {\n            const button = buttons[i];\n            const tab: ITabData = {\n                contentNodes: Array.from(panel.childNodes),\n                label: button.textContent ?? \"Untitled\",\n            };\n            tabs.push(tab);\n        });\n\n        mountReact(<Tabs data={tabs} legacyButtons />, tabRoot as HTMLElement, undefined, {\n            overwrite: true,\n        });\n    });\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { useFormGroup } from \"@dashboard/forms/DashboardFormGroupContext\";\nimport { IFieldError } from \"@library/@types/api/core\";\nimport ErrorMessages from \"@library/forms/ErrorMessages\";\n\ninterface IProps {\n    label: string;\n    description?: React.ReactNode;\n    afterDescription?: React.ReactNode;\n    labelType?: DashboardLabelType;\n}\n\nexport enum DashboardLabelType {\n    STANDARD = \"standard\",\n    WIDE = \"wide\",\n}\n\nexport const DashboardFormLabel: React.FC<IProps> = (props: IProps) => {\n    const { inputID, labelID } = useFormGroup();\n\n    const labelType = props.labelType !== undefined ? props.labelType : DashboardLabelType.STANDARD;\n    const rootClass = labelType === DashboardLabelType.WIDE ? \"label-wrap-wide\" : \"label-wrap\";\n\n    return (\n        <div className={rootClass} id={labelID}>\n            {props.label && <label htmlFor={inputID}>{props.label}</label>}\n            {props.description && <div className=\"info\">{props.description}</div>}\n            {props.afterDescription}\n        </div>\n    );\n};\n","/**\n * Set wepback's public path.\n * Otherwise the lookups of dynamically imported webpack files can fail on sites that have a different webroot\n * Eg. installed in a subfolder / using Reverse Proxy.\n *\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { assetUrl, getMeta } from \"@library/utility/appUtils\";\n\n/**\n * This needs to be a free variable.\n *\n * Webpack does some magic to make this work.\n * It you try and set a local or global version of it, it WILL NOT work.\n *\n * @see https://stackoverflow.com/questions/12934929/what-are-free-variables\n * @see https://webpack.js.org/configuration/output/#output-publicpath\n * @see https://github.com/webpack/webpack/issues/2776#issuecomment-233208623\n */\n// @ts-ignore: Cannot find variable warning. See comment aboe.\n__webpack_public_path__ = assetUrl(\"/dist/\" + __BUILD__SECTION__ + \"/\");\n"],"sourceRoot":""}